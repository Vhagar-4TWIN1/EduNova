import{u as k,r as f,j as t,b as e,L as D,m as g,e as F,a as b}from"./index-B07QrE09.js";import{S as W}from"./Earth-DUAbXRr1.js";import{S as q,s as w}from"./SectionWrapper-CzrOPtQw.js";const j=()=>{const x=k(),[r,v]=f.useState({email:"",providedCode:"",newPassword:"",confirmPassword:""}),[y,p]=f.useState(null),[a,h]=f.useState(1),i=o=>{v({...r,[o.target.name]:o.target.value}),p(null)},S=async o=>{var n,s;o.preventDefault();try{await b.patch("https://edunova-back-rqxc.onrender.com/api/auth/send-forgot-password-code",{email:r.email}),alert("ðŸ“¨ A verification code has been sent to your email."),h(2)}catch(u){p(((s=(n=u.response)==null?void 0:n.data)==null?void 0:s.message)||"Failed to send code.")}},C=async o=>{o.preventDefault(),h(3)},P=async o=>{var n,s;o.preventDefault();try{await b.patch("https://edunova-back-rqxc.onrender.com/api/auth/verify-forgot-password-code",r),alert("âœ… Your password has been successfully changed."),x("/")}catch(u){p(((s=(n=u.response)==null?void 0:n.data)==null?void 0:s.message)||"Password reset failed.")}};return t("div",{style:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:[e("div",{style:{padding:"20px"},children:e(D,{})}),t("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center",padding:"40px 20px",flexWrap:"wrap",gap:"20px"},children:[t(g.div,{variants:w("left","tween",.7,1),style:{flex:1,minWidth:"300px",maxWidth:"600px",backgroundColor:"#ffffff",padding:"40px",borderRadius:"20px",boxShadow:"0 6px 20px rgba(0,0,0,0.1)",boxSizing:"border-box"},children:[t("h2",{style:{fontSize:"32px",fontWeight:"bold",marginBottom:"24px",color:"#333"},children:[a===1&&"Forgot your password?",a===2&&"Check your inbox",a===3&&"Create a new password"]}),y&&e("p",{style:{color:"#ff4d4f",marginBottom:"20px"},children:y}),a===1&&t("form",{onSubmit:S,style:m,children:[t("label",{style:d,children:["Email Address",e("input",{type:"email",name:"email",value:r.email,onChange:i,required:!0,style:l})]}),e("button",{type:"submit",style:c,children:"Send Verification Code"})]}),a===2&&t("form",{onSubmit:C,style:m,children:[t("label",{style:d,children:["Enter the code from your email",e("input",{type:"text",name:"providedCode",value:r.providedCode,onChange:i,required:!0,style:l})]}),e("button",{type:"submit",style:c,children:"Continue"})]}),a===3&&t("form",{onSubmit:P,style:m,children:[t("label",{style:d,children:["New Password",e("input",{type:"password",name:"newPassword",value:r.newPassword,onChange:i,required:!0,style:l})]}),t("label",{style:d,children:["Confirm Password",e("input",{type:"password",name:"confirmPassword",value:r.confirmPassword,onChange:i,required:!0,style:l})]}),e("button",{type:"submit",style:c,children:"Reset Password"})]}),e("button",{onClick:()=>x("/"),style:{...c,marginTop:"20px",backgroundColor:"#888"},children:"â¬… Back to Login"})]}),e(g.div,{variants:w("right","tween",.2,1),style:{flex:1,maxWidth:"700px",minHeight:"400px",display:"flex",justifyContent:"center",alignItems:"center"},children:e(W,{})})]}),e("div",{style:{padding:"20px",width:"100%"},children:e(F,{})})]})},m={display:"flex",flexDirection:"column",gap:"24px"},d={fontSize:"18px",color:"#333",display:"flex",flexDirection:"column",gap:"8px"},l={backgroundColor:"#f1f1f1",padding:"16px",borderRadius:"12px",border:"1px solid #ccc",fontSize:"16px",outline:"none"},c={backgroundColor:"#ff6b6b",color:"#fff",padding:"16px",border:"none",borderRadius:"12px",cursor:"pointer",fontSize:"18px",fontWeight:"bold",transition:"background 0.3s"},B=q(j,"ForgotPassword");export{B as default};
