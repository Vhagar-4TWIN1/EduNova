const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/login-E2r_LJN3.js","assets/vendor-gGFwV6Yc.js","assets/SectionWrapper-DSH-moLP.js","assets/Earth-Dlw-aQut.js","assets/registration-DeTL6WVh.js","assets/home-Cdaxm1sC.js","assets/plus-B9eU7OXI.js","assets/home-Z9k4cCVm.css","assets/ForgotPassword-BqZSshVO.js","assets/listModules-CMskDlGw.js","assets/userconnectedupdate-Bouma_Cb.js","assets/face-api.esm-CCJNANXa.js","assets/Snackbar-DdkyTXPx.js","assets/useThemeProps-C1R061y2.js","assets/getThemeProps-DCO5hL5C.js","assets/ClickAwayListener-Fhc0bISo.js","assets/Grid-BM4MDois.js","assets/MenuItem-Cq1GJlgR.js","assets/listItemTextClasses-DelaPf-g.js","assets/Alert-BWUQE-b0.js","assets/Close-B0rgw4hC.js","assets/DialogTitle-BJaqIZR1.js","assets/Button-q5rqdzgK.js","assets/Courses-B5_Sp0XZ.js","assets/usersBack-WT_SYicS.js","assets/Contact-lqrTP6lm.js","assets/messga-C-ZzI0fq.js","assets/index-BcAbt9hz.js","assets/button-Cy5Kz0fz.js","assets/generateCategoricalChart-B3CLpV3k.js","assets/_baseAssignValue-6fn3uWxu.js","assets/utcTime-E6OBNq1n.js","assets/stack-iCCafO-2.js","assets/array-2GBN5xbU.js","assets/line-C3H7Dj0M.js","assets/area-Dv4ZxFMe.js","assets/BarChart-DaEpmwhE.js","assets/index-QyzUgkRo.js","assets/Delete-D7ym7DY0.js","assets/Tooltip-B-g2_8m6.js","assets/FormControlLabel-B67jigjT.js","assets/Stack-BLMnx7VC.js","assets/LastPage-D1pOawH5.js","assets/TableCell-CgCyTPXP.js","assets/jsx-runtime_commonjs-proxy-B8aGQats.js","assets/Edit-CRyCmMnR.js","assets/header-Cs2ESUnw.js","assets/index-BY7nVXYT.js","assets/Search-BFnawTPT.js","assets/Card-BV5SPX1h.js","assets/CardContent-B6nDGSXF.js","assets/predict-De0WGVsb.js","assets/index-KPv3jwJl.js","assets/useMediaQuery-DHa5hEt9.js","assets/ListItemIcon-CIENBamt.js","assets/badges-DlXQIRr4.js","assets/badges-BPY-mxeg.css","assets/AboutUS-CI9zSt8w.js","assets/AboutUS-BqTOw2_m.css","assets/VideoRoom-BwwukROu.js","assets/AddSupplementaryLesson-BCwiWRgH.js","assets/UpdateQuestion-DcBKtVyf.js","assets/Stop-CxP14ki6.js","assets/Delete-C9pbEacl.js","assets/new-CPz674lG.js","assets/Add-KogoaadC.js","assets/index-BKY-iSq1.js","assets/mockData-DYW9TWkq.js","assets/nivo-scales.es-pOPGDYUz.js","assets/index-C5qPwWNm.js","assets/index.esm-Cq4uaLNx.js","assets/index-CWc2SJnM.js","assets/index-BR1_WZFf.js","assets/index-Clmk2dgZ.js","assets/index-CeiryiGx.js","assets/Sidebar-xRcucC67.js","assets/Sidebar-CLXUa-hr.css","assets/index-p-PhwEhz.js","assets/performance-DGYdkwsY.js","assets/PieChart-D-zdAzEW.js","assets/quizResult-hu02Hrj_.js","assets/BadgeDetail-BqWZc_Uu.js","assets/LessonsDashboard-CSv0CQFa.js","assets/CreateLesson-BjskhHDf.js","assets/CardHeader-CJlU9foh.js","assets/SelectGoogleLessons-DCT_qSH8.js","assets/CalendarPage-szyZLGH8.js","assets/useTranslation-szhw81N1.js","assets/CalendarPage-BOjho94i.css","assets/Topbar-CXLREcxc.js","assets/AddLesson-DbrnUXFY.js","assets/LessonDetails-wNBlViY3.js","assets/badgeForm-dCrJEuKg.js","assets/badgeForm-DQ5eHcpk.css","assets/CoursesDetails-BMx5BsQM.js","assets/ClassicWordGame-Bpci5EWr.js","assets/ClassicWordGame-CjRYbmqI.css","assets/quiz-Dk-yUxVK.js","assets/browser-ponyfill-D-AoUxwx.js"])))=>i.map(i=>d[i]);
var CT=t=>{throw TypeError(t)};var Tx=(t,e,n)=>e.has(t)||CT("Cannot "+n);var Ae=(t,e,n)=>(Tx(t,e,"read from private field"),n?n.call(t):e.get(t)),ln=(t,e,n)=>e.has(t)?CT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ft=(t,e,n,r)=>(Tx(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),ca=(t,e,n)=>(Tx(t,e,"access private method"),n);var Jv=(t,e,n,r)=>({set _(a){Ft(t,e,a,n)},get _(){return Ae(t,e,r)}});import{r as kF,a as NF,g as $o,R as aw,b as O,c as Eu,d as gt,e as e0,f as OF,u as ls,h as OS,O as DF,N as MF,i as DS,L as Rx,B as PF,j as ET,k as lt}from"./vendor-gGFwV6Yc.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();var Ax={exports:{}},Sp={},kx={exports:{}},Nx={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TT;function IF(){return TT||(TT=1,function(t){function e(F,U){var W=F.length;F.push(U);e:for(;0<W;){var Q=W-1>>>1,q=F[Q];if(0<a(q,U))F[Q]=U,F[W]=q,W=Q;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var U=F[0],W=F.pop();if(W!==U){F[0]=W;e:for(var Q=0,q=F.length,le=q>>>1;Q<le;){var J=2*(Q+1)-1,oe=F[J],re=J+1,we=F[re];if(0>a(oe,W))re<q&&0>a(we,oe)?(F[Q]=we,F[re]=W,Q=re):(F[Q]=oe,F[J]=W,Q=J);else if(re<q&&0>a(we,W))F[Q]=we,F[re]=W,Q=re;else break e}}return U}function a(F,U){var W=F.sortIndex-U.sortIndex;return W!==0?W:F.id-U.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,s=i.now();t.unstable_now=function(){return i.now()-s}}var u=[],c=[],f=1,h=null,m=3,g=!1,y=!1,b=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function T(F){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=F)r(c),U.sortIndex=U.expirationTime,e(u,U);else break;U=n(c)}}function A(F){if(b=!1,T(F),!y)if(n(u)!==null)y=!0,D||(D=!0,z());else{var U=n(c);U!==null&&B(A,U.startTime-F)}}var D=!1,N=-1,M=5,P=-1;function I(){return x?!0:!(t.unstable_now()-P<M)}function $(){if(x=!1,D){var F=t.unstable_now();P=F;var U=!0;try{e:{y=!1,b&&(b=!1,R(N),N=-1),g=!0;var W=m;try{t:{for(T(F),h=n(u);h!==null&&!(h.expirationTime>F&&I());){var Q=h.callback;if(typeof Q=="function"){h.callback=null,m=h.priorityLevel;var q=Q(h.expirationTime<=F);if(F=t.unstable_now(),typeof q=="function"){h.callback=q,T(F),U=!0;break t}h===n(u)&&r(u),T(F)}else r(u);h=n(u)}if(h!==null)U=!0;else{var le=n(c);le!==null&&B(A,le.startTime-F),U=!1}}break e}finally{h=null,m=W,g=!1}U=void 0}}finally{U?z():D=!1}}}var z;if(typeof _=="function")z=function(){_($)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,V=G.port2;G.port1.onmessage=$,z=function(){V.postMessage(null)}}else z=function(){S($,0)};function B(F,U){N=S(function(){F(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(F){switch(m){case 1:case 2:case 3:var U=3;break;default:U=m}var W=m;m=U;try{return F()}finally{m=W}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(F,U){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var W=m;m=F;try{return U()}finally{m=W}},t.unstable_scheduleCallback=function(F,U,W){var Q=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Q+W:Q):W=Q,F){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=W+q,F={id:f++,callback:U,priorityLevel:F,startTime:W,expirationTime:q,sortIndex:-1},W>Q?(F.sortIndex=W,e(c,F),n(u)===null&&F===n(c)&&(b?(R(N),N=-1):b=!0,B(A,W-Q))):(F.sortIndex=q,e(u,F),y||g||(y=!0,D||(D=!0,z()))),F},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(F){var U=m;return function(){var W=m;m=U;try{return F.apply(this,arguments)}finally{m=W}}}}(Nx)),Nx}var RT;function LF(){return RT||(RT=1,kx.exports=IF()),kx.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AT;function FF(){if(AT)return Sp;AT=1;var t=LF(),e=kF(),n=NF();function r(l){var d="https://react.dev/errors/"+l;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function o(l){var d=l,p=l;if(l.alternate)for(;d.return;)d=d.return;else{l=d;do d=l,(d.flags&4098)!==0&&(p=d.return),l=d.return;while(l)}return d.tag===3?p:null}function i(l){if(l.tag===13){var d=l.memoizedState;if(d===null&&(l=l.alternate,l!==null&&(d=l.memoizedState)),d!==null)return d.dehydrated}return null}function s(l){if(o(l)!==l)throw Error(r(188))}function u(l){var d=l.alternate;if(!d){if(d=o(l),d===null)throw Error(r(188));return d!==l?null:l}for(var p=l,v=d;;){var w=p.return;if(w===null)break;var k=w.alternate;if(k===null){if(v=w.return,v!==null){p=v;continue}break}if(w.child===k.child){for(k=w.child;k;){if(k===p)return s(w),l;if(k===v)return s(w),d;k=k.sibling}throw Error(r(188))}if(p.return!==v.return)p=w,v=k;else{for(var j=!1,Y=w.child;Y;){if(Y===p){j=!0,p=w,v=k;break}if(Y===v){j=!0,v=w,p=k;break}Y=Y.sibling}if(!j){for(Y=k.child;Y;){if(Y===p){j=!0,p=k,v=w;break}if(Y===v){j=!0,v=k,p=w;break}Y=Y.sibling}if(!j)throw Error(r(189))}}if(p.alternate!==v)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?l:d}function c(l){var d=l.tag;if(d===5||d===26||d===27||d===6)return l;for(l=l.child;l!==null;){if(d=c(l),d!==null)return d;l=l.sibling}return null}var f=Object.assign,h=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),_=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function z(l){return l===null||typeof l!="object"?null:(l=$&&l[$]||l["@@iterator"],typeof l=="function"?l:null)}var G=Symbol.for("react.client.reference");function V(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===G?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case y:return"Fragment";case x:return"Profiler";case b:return"StrictMode";case A:return"Suspense";case D:return"SuspenseList";case P:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case g:return"Portal";case _:return(l.displayName||"Context")+".Provider";case R:return(l._context.displayName||"Context")+".Consumer";case T:var d=l.render;return l=l.displayName,l||(l=d.displayName||d.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case N:return d=l.displayName||null,d!==null?d:V(l.type)||"Memo";case M:d=l._payload,l=l._init;try{return V(l(d))}catch{}}return null}var B=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},Q=[],q=-1;function le(l){return{current:l}}function J(l){0>q||(l.current=Q[q],Q[q]=null,q--)}function oe(l,d){q++,Q[q]=l.current,l.current=d}var re=le(null),we=le(null),be=le(null),Oe=le(null);function pe(l,d){switch(oe(be,d),oe(we,l),oe(re,null),d.nodeType){case 9:case 11:l=(l=d.documentElement)&&(l=l.namespaceURI)?Z4(l):0;break;default:if(l=d.tagName,d=d.namespaceURI)d=Z4(d),l=J4(d,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}J(re),oe(re,l)}function De(){J(re),J(we),J(be)}function Ve(l){l.memoizedState!==null&&oe(Oe,l);var d=re.current,p=J4(d,l.type);d!==p&&(oe(we,l),oe(re,p))}function Pe(l){we.current===l&&(J(re),J(we)),Oe.current===l&&(J(Oe),vp._currentValue=W)}var ze=Object.prototype.hasOwnProperty,Ce=t.unstable_scheduleCallback,Ie=t.unstable_cancelCallback,Ue=t.unstable_shouldYield,st=t.unstable_requestPaint,mt=t.unstable_now,Jt=t.unstable_getCurrentPriorityLevel,Ht=t.unstable_ImmediatePriority,Ut=t.unstable_UserBlockingPriority,yt=t.unstable_NormalPriority,Vt=t.unstable_LowPriority,qt=t.unstable_IdlePriority,fe=t.log,$e=t.unstable_setDisableYieldValue,je=null,Ge=null;function Fe(l){if(typeof fe=="function"&&$e(l),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(je,l)}catch{}}var Le=Math.clz32?Math.clz32:Qn,Gt=Math.log,an=Math.LN2;function Qn(l){return l>>>=0,l===0?32:31-(Gt(l)/an|0)|0}var Qe=256,Lt=4194304;function cn(l){var d=l&42;if(d!==0)return d;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function Za(l,d,p){var v=l.pendingLanes;if(v===0)return 0;var w=0,k=l.suspendedLanes,j=l.pingedLanes;l=l.warmLanes;var Y=v&134217727;return Y!==0?(v=Y&~k,v!==0?w=cn(v):(j&=Y,j!==0?w=cn(j):p||(p=Y&~l,p!==0&&(w=cn(p))))):(Y=v&~k,Y!==0?w=cn(Y):j!==0?w=cn(j):p||(p=v&~l,p!==0&&(w=cn(p)))),w===0?0:d!==0&&d!==w&&(d&k)===0&&(k=w&-w,p=d&-d,k>=p||k===32&&(p&4194048)!==0)?d:w}function pi(l,d){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&d)===0}function n1(l,d){switch(l){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mg(){var l=Qe;return Qe<<=1,(Qe&4194048)===0&&(Qe=256),l}function gg(){var l=Lt;return Lt<<=1,(Lt&62914560)===0&&(Lt=4194304),l}function Gc(l){for(var d=[],p=0;31>p;p++)d.push(l);return d}function mi(l,d){l.pendingLanes|=d,d!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function vg(l,d,p,v,w,k){var j=l.pendingLanes;l.pendingLanes=p,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=p,l.entangledLanes&=p,l.errorRecoveryDisabledLanes&=p,l.shellSuspendCounter=0;var Y=l.entanglements,te=l.expirationTimes,me=l.hiddenUpdates;for(p=j&~p;0<p;){var Te=31-Le(p),Ne=1<<Te;Y[Te]=0,te[Te]=-1;var ge=me[Te];if(ge!==null)for(me[Te]=null,Te=0;Te<ge.length;Te++){var ve=ge[Te];ve!==null&&(ve.lane&=-536870913)}p&=~Ne}v!==0&&ah(l,v,0),k!==0&&w===0&&l.tag!==0&&(l.suspendedLanes|=k&~(j&~d))}function ah(l,d,p){l.pendingLanes|=d,l.suspendedLanes&=~d;var v=31-Le(d);l.entangledLanes|=d,l.entanglements[v]=l.entanglements[v]|1073741824|p&4194090}function yg(l,d){var p=l.entangledLanes|=d;for(l=l.entanglements;p;){var v=31-Le(p),w=1<<v;w&d|l[v]&d&&(l[v]|=d),p&=~w}}function oh(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function ih(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function bg(){var l=U.p;return l!==0?l:(l=window.event,l===void 0?32:yT(l.type))}function cl(l,d){var p=U.p;try{return U.p=l,d()}finally{U.p=p}}var Ma=Math.random().toString(36).slice(2),Or="__reactFiber$"+Ma,ra="__reactProps$"+Ma,dl="__reactContainer$"+Ma,sh="__reactEvents$"+Ma,r1="__reactListeners$"+Ma,lh="__reactHandles$"+Ma,ms="__reactResources$"+Ma,gi="__reactMarker$"+Ma;function uh(l){delete l[Or],delete l[ra],delete l[sh],delete l[r1],delete l[lh]}function vi(l){var d=l[Or];if(d)return d;for(var p=l.parentNode;p;){if(d=p[dl]||p[Or]){if(p=d.alternate,d.child!==null||p!==null&&p.child!==null)for(l=rT(l);l!==null;){if(p=l[Or])return p;l=rT(l)}return d}l=p,p=l.parentNode}return null}function fl(l){if(l=l[Or]||l[dl]){var d=l.tag;if(d===5||d===6||d===13||d===26||d===27||d===3)return l}return null}function Ou(l){var d=l.tag;if(d===5||d===26||d===27||d===6)return l.stateNode;throw Error(r(33))}function Ja(l){var d=l[ms];return d||(d=l[ms]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function en(l){l[gi]=!0}var aa=new Set,oa={};function Un(l,d){jo(l,d),jo(l+"Capture",d)}function jo(l,d){for(oa[l]=d,l=0;l<d.length;l++)aa.add(d[l])}var hl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yi={},gs={};function xg(l){return ze.call(gs,l)?!0:ze.call(yi,l)?!1:hl.test(l)?gs[l]=!0:(yi[l]=!0,!1)}function pl(l,d,p){if(xg(d))if(p===null)l.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":l.removeAttribute(d);return;case"boolean":var v=d.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){l.removeAttribute(d);return}}l.setAttribute(d,""+p)}}function Wo(l,d,p){if(p===null)l.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(d);return}l.setAttribute(d,""+p)}}function yo(l,d,p,v){if(v===null)l.removeAttribute(p);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(p);return}l.setAttributeNS(d,p,""+v)}}var Du,Kc;function vs(l){if(Du===void 0)try{throw Error()}catch(p){var d=p.stack.trim().match(/\n( *(at )?)/);Du=d&&d[1]||"",Kc=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Du+l+Kc}var Yc=!1;function Xc(l,d){if(!l||Yc)return"";Yc=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(d){var Ne=function(){throw Error()};if(Object.defineProperty(Ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ne,[])}catch(ve){var ge=ve}Reflect.construct(l,[],Ne)}else{try{Ne.call()}catch(ve){ge=ve}l.call(Ne.prototype)}}else{try{throw Error()}catch(ve){ge=ve}(Ne=l())&&typeof Ne.catch=="function"&&Ne.catch(function(){})}}catch(ve){if(ve&&ge&&typeof ve.stack=="string")return[ve.stack,ge.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var k=v.DetermineComponentFrameRoot(),j=k[0],Y=k[1];if(j&&Y){var te=j.split(`
`),me=Y.split(`
`);for(w=v=0;v<te.length&&!te[v].includes("DetermineComponentFrameRoot");)v++;for(;w<me.length&&!me[w].includes("DetermineComponentFrameRoot");)w++;if(v===te.length||w===me.length)for(v=te.length-1,w=me.length-1;1<=v&&0<=w&&te[v]!==me[w];)w--;for(;1<=v&&0<=w;v--,w--)if(te[v]!==me[w]){if(v!==1||w!==1)do if(v--,w--,0>w||te[v]!==me[w]){var Te=`
`+te[v].replace(" at new "," at ");return l.displayName&&Te.includes("<anonymous>")&&(Te=Te.replace("<anonymous>",l.displayName)),Te}while(1<=v&&0<=w);break}}}finally{Yc=!1,Error.prepareStackTrace=p}return(p=l?l.displayName||l.name:"")?vs(p):""}function wg(l){switch(l.tag){case 26:case 27:case 5:return vs(l.type);case 16:return vs("Lazy");case 13:return vs("Suspense");case 19:return vs("SuspenseList");case 0:case 15:return Xc(l.type,!1);case 11:return Xc(l.type.render,!1);case 1:return Xc(l.type,!0);case 31:return vs("Activity");default:return""}}function ch(l){try{var d="";do d+=wg(l),l=l.return;while(l);return d}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function wa(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function dh(l){var d=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function Sg(l){var d=dh(l)?"checked":"value",p=Object.getOwnPropertyDescriptor(l.constructor.prototype,d),v=""+l[d];if(!l.hasOwnProperty(d)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var w=p.get,k=p.set;return Object.defineProperty(l,d,{configurable:!0,get:function(){return w.call(this)},set:function(j){v=""+j,k.call(this,j)}}),Object.defineProperty(l,d,{enumerable:p.enumerable}),{getValue:function(){return v},setValue:function(j){v=""+j},stopTracking:function(){l._valueTracker=null,delete l[d]}}}}function Mu(l){l._valueTracker||(l._valueTracker=Sg(l))}function fh(l){if(!l)return!1;var d=l._valueTracker;if(!d)return!0;var p=d.getValue(),v="";return l&&(v=dh(l)?l.checked?"true":"false":l.value),l=v,l!==p?(d.setValue(l),!0):!1}function Sa(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var _a=/[\n"\\]/g;function fr(l){return l.replace(_a,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function ia(l,d,p,v,w,k,j,Y){l.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?l.type=j:l.removeAttribute("type"),d!=null?j==="number"?(d===0&&l.value===""||l.value!=d)&&(l.value=""+wa(d)):l.value!==""+wa(d)&&(l.value=""+wa(d)):j!=="submit"&&j!=="reset"||l.removeAttribute("value"),d!=null?Pu(l,j,wa(d)):p!=null?Pu(l,j,wa(p)):v!=null&&l.removeAttribute("value"),w==null&&k!=null&&(l.defaultChecked=!!k),w!=null&&(l.checked=w&&typeof w!="function"&&typeof w!="symbol"),Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?l.name=""+wa(Y):l.removeAttribute("name")}function Qc(l,d,p,v,w,k,j,Y){if(k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(l.type=k),d!=null||p!=null){if(!(k!=="submit"&&k!=="reset"||d!=null))return;p=p!=null?""+wa(p):"",d=d!=null?""+wa(d):p,Y||d===l.value||(l.value=d),l.defaultValue=d}v=v??w,v=typeof v!="function"&&typeof v!="symbol"&&!!v,l.checked=Y?l.checked:!!v,l.defaultChecked=!!v,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(l.name=j)}function Pu(l,d,p){d==="number"&&Sa(l.ownerDocument)===l||l.defaultValue===""+p||(l.defaultValue=""+p)}function zr(l,d,p,v){if(l=l.options,d){d={};for(var w=0;w<p.length;w++)d["$"+p[w]]=!0;for(p=0;p<l.length;p++)w=d.hasOwnProperty("$"+l[p].value),l[p].selected!==w&&(l[p].selected=w),w&&v&&(l[p].defaultSelected=!0)}else{for(p=""+wa(p),d=null,w=0;w<l.length;w++){if(l[w].value===p){l[w].selected=!0,v&&(l[w].defaultSelected=!0);return}d!==null||l[w].disabled||(d=l[w])}d!==null&&(d.selected=!0)}}function bi(l,d,p){if(d!=null&&(d=""+wa(d),d!==l.value&&(l.value=d),p==null)){l.defaultValue!==d&&(l.defaultValue=d);return}l.defaultValue=p!=null?""+wa(p):""}function Iu(l,d,p,v){if(d==null){if(v!=null){if(p!=null)throw Error(r(92));if(B(v)){if(1<v.length)throw Error(r(93));v=v[0]}p=v}p==null&&(p=""),d=p}p=wa(d),l.defaultValue=p,v=l.textContent,v===p&&v!==""&&v!==null&&(l.value=v)}function eo(l,d){if(d){var p=l.firstChild;if(p&&p===l.lastChild&&p.nodeType===3){p.nodeValue=d;return}}l.textContent=d}var hh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ph(l,d,p){var v=d.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?v?l.setProperty(d,""):d==="float"?l.cssFloat="":l[d]="":v?l.setProperty(d,p):typeof p!="number"||p===0||hh.has(d)?d==="float"?l.cssFloat=p:l[d]=(""+p).trim():l[d]=p+"px"}function ys(l,d,p){if(d!=null&&typeof d!="object")throw Error(r(62));if(l=l.style,p!=null){for(var v in p)!p.hasOwnProperty(v)||d!=null&&d.hasOwnProperty(v)||(v.indexOf("--")===0?l.setProperty(v,""):v==="float"?l.cssFloat="":l[v]="");for(var w in d)v=d[w],d.hasOwnProperty(w)&&p[w]!==v&&ph(l,w,v)}else for(var k in d)d.hasOwnProperty(k)&&ph(l,k,d[k])}function Lu(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _g=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ho=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zc(l){return Ho.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}var bo=null;function ml(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var bs=null,xo=null;function Jc(l){var d=fl(l);if(d&&(l=d.stateNode)){var p=l[ra]||null;e:switch(l=d.stateNode,d.type){case"input":if(ia(l,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),d=p.name,p.type==="radio"&&d!=null){for(p=l;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+fr(""+d)+'"][type="radio"]'),d=0;d<p.length;d++){var v=p[d];if(v!==l&&v.form===l.form){var w=v[ra]||null;if(!w)throw Error(r(90));ia(v,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(d=0;d<p.length;d++)v=p[d],v.form===l.form&&fh(v)}break e;case"textarea":bi(l,p.value,p.defaultValue);break e;case"select":d=p.value,d!=null&&zr(l,!!p.multiple,d,!1)}}}var xs=!1;function mh(l,d,p){if(xs)return l(d,p);xs=!0;try{var v=l(d);return v}finally{if(xs=!1,(bs!==null||xo!==null)&&(Dv(),bs&&(d=bs,l=xo,xo=bs=null,Jc(d),l)))for(d=0;d<l.length;d++)Jc(l[d])}}function gl(l,d){var p=l.stateNode;if(p===null)return null;var v=p[ra]||null;if(v===null)return null;p=v[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(l=l.type,v=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!v;break e;default:l=!1}if(l)return null;if(p&&typeof p!="function")throw Error(r(231,d,typeof p));return p}var wo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xi=!1;if(wo)try{var Fu={};Object.defineProperty(Fu,"passive",{get:function(){xi=!0}}),window.addEventListener("test",Fu,Fu),window.removeEventListener("test",Fu,Fu)}catch{xi=!1}var qo=null,Bu=null,ws=null;function ed(){if(ws)return ws;var l,d=Bu,p=d.length,v,w="value"in qo?qo.value:qo.textContent,k=w.length;for(l=0;l<p&&d[l]===w[l];l++);var j=p-l;for(v=1;v<=j&&d[p-v]===w[k-v];v++);return ws=w.slice(l,1<v?1-v:void 0)}function td(l){var d=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&d===13&&(l=13)):l=d,l===10&&(l=13),32<=l||l===13?l:0}function Ss(){return!0}function Cg(){return!1}function $r(l){function d(p,v,w,k,j){this._reactName=p,this._targetInst=w,this.type=v,this.nativeEvent=k,this.target=j,this.currentTarget=null;for(var Y in l)l.hasOwnProperty(Y)&&(p=l[Y],this[Y]=p?p(k):k[Y]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Ss:Cg,this.isPropagationStopped=Cg,this}return f(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Ss)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Ss)},persist:function(){},isPersistent:Ss}),d}var Go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vl=$r(Go),_s=f({},Go,{view:0,detail:0}),Eg=$r(_s),Cs,zu,yl,$u=f({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vh,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==yl&&(yl&&l.type==="mousemove"?(Cs=l.screenX-yl.screenX,zu=l.screenY-yl.screenY):zu=Cs=0,yl=l),Cs)},movementY:function(l){return"movementY"in l?l.movementY:zu}}),Es=$r($u),a1=f({},$u,{dataTransfer:0}),Tg=$r(a1),Rg=f({},_s,{relatedTarget:0}),nd=$r(Rg),Ag=f({},Go,{animationName:0,elapsedTime:0,pseudoElement:0}),kg=$r(Ag),gh=f({},Go,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),Ng=$r(gh),o1=f({},Go,{data:0}),Og=$r(o1),Dg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function i1(l){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(l):(l=rd[l])?!!d[l]:!1}function vh(){return i1}var yh=f({},_s,{key:function(l){if(l.key){var d=Dg[l.key]||l.key;if(d!=="Unidentified")return d}return l.type==="keypress"?(l=td(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Mg[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vh,charCode:function(l){return l.type==="keypress"?td(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?td(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Pg=$r(yh),Ig=f({},$u,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wi=$r(Ig),bh=f({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vh}),s1=$r(bh),Lg=f({},Go,{propertyName:0,elapsedTime:0,pseudoElement:0}),l1=$r(Lg),u1=f({},$u,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),c1=$r(u1),d1=f({},Go,{newState:0,oldState:0}),Fg=$r(d1),Bg=[9,13,27,32],xh=wo&&"CompositionEvent"in window,So=null;wo&&"documentMode"in document&&(So=document.documentMode);var Ts=wo&&"TextEvent"in window&&!So,zg=wo&&(!xh||So&&8<So&&11>=So),Uu=" ",$g=!1;function Ug(l,d){switch(l){case"keyup":return Bg.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vg(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var bl=!1;function f1(l,d){switch(l){case"compositionend":return Vg(d);case"keypress":return d.which!==32?null:($g=!0,Uu);case"textInput":return l=d.data,l===Uu&&$g?null:l;default:return null}}function h1(l,d){if(bl)return l==="compositionend"||!xh&&Ug(l,d)?(l=ed(),ws=Bu=qo=null,bl=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return zg&&d.locale!=="ko"?null:d.data;default:return null}}var p1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jg(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d==="input"?!!p1[l.type]:d==="textarea"}function Pa(l,d,p,v){bs?xo?xo.push(v):xo=[v]:bs=v,d=Bv(d,"onChange"),0<d.length&&(p=new vl("onChange","change",null,p,v),l.push({event:p,listeners:d}))}var xl=null,wl=null;function Wg(l){G4(l,0)}function ad(l){var d=Ou(l);if(fh(d))return l}function Hg(l,d){if(l==="change")return d}var wh=!1;if(wo){var Sl;if(wo){var Sh="oninput"in document;if(!Sh){var qg=document.createElement("div");qg.setAttribute("oninput","return;"),Sh=typeof qg.oninput=="function"}Sl=Sh}else Sl=!1;wh=Sl&&(!document.documentMode||9<document.documentMode)}function _h(){xl&&(xl.detachEvent("onpropertychange",Gg),wl=xl=null)}function Gg(l){if(l.propertyName==="value"&&ad(wl)){var d=[];Pa(d,wl,l,ml(l)),mh(Wg,d)}}function m1(l,d,p){l==="focusin"?(_h(),xl=d,wl=p,xl.attachEvent("onpropertychange",Gg)):l==="focusout"&&_h()}function Kg(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return ad(wl)}function Yg(l,d){if(l==="click")return ad(d)}function Xg(l,d){if(l==="input"||l==="change")return ad(d)}function od(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var sa=typeof Object.is=="function"?Object.is:od;function Rs(l,d){if(sa(l,d))return!0;if(typeof l!="object"||l===null||typeof d!="object"||d===null)return!1;var p=Object.keys(l),v=Object.keys(d);if(p.length!==v.length)return!1;for(v=0;v<p.length;v++){var w=p[v];if(!ze.call(d,w)||!sa(l[w],d[w]))return!1}return!0}function Ca(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function Qg(l,d){var p=Ca(l);l=0;for(var v;p;){if(p.nodeType===3){if(v=l+p.textContent.length,l<=d&&v>=d)return{node:p,offset:d-l};l=v}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=Ca(p)}}function Zg(l,d){return l&&d?l===d?!0:l&&l.nodeType===3?!1:d&&d.nodeType===3?Zg(l,d.parentNode):"contains"in l?l.contains(d):l.compareDocumentPosition?!!(l.compareDocumentPosition(d)&16):!1:!1}function Ch(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var d=Sa(l.document);d instanceof l.HTMLIFrameElement;){try{var p=typeof d.contentWindow.location.href=="string"}catch{p=!1}if(p)l=d.contentWindow;else break;d=Sa(l.document)}return d}function id(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d&&(d==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||d==="textarea"||l.contentEditable==="true")}var g1=wo&&"documentMode"in document&&11>=document.documentMode,_l=null,Eh=null,Vu=null,Th=!1;function Jg(l,d,p){var v=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Th||_l==null||_l!==Sa(v)||(v=_l,"selectionStart"in v&&id(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Vu&&Rs(Vu,v)||(Vu=v,v=Bv(Eh,"onSelect"),0<v.length&&(d=new vl("onSelect","select",null,d,p),l.push({event:d,listeners:v}),d.target=_l)))}function Si(l,d){var p={};return p[l.toLowerCase()]=d.toLowerCase(),p["Webkit"+l]="webkit"+d,p["Moz"+l]="moz"+d,p}var As={animationend:Si("Animation","AnimationEnd"),animationiteration:Si("Animation","AnimationIteration"),animationstart:Si("Animation","AnimationStart"),transitionrun:Si("Transition","TransitionRun"),transitionstart:Si("Transition","TransitionStart"),transitioncancel:Si("Transition","TransitionCancel"),transitionend:Si("Transition","TransitionEnd")},ju={},ev={};wo&&(ev=document.createElement("div").style,"AnimationEvent"in window||(delete As.animationend.animation,delete As.animationiteration.animation,delete As.animationstart.animation),"TransitionEvent"in window||delete As.transitionend.transition);function ks(l){if(ju[l])return ju[l];if(!As[l])return l;var d=As[l],p;for(p in d)if(d.hasOwnProperty(p)&&p in ev)return ju[l]=d[p];return l}var _i=ks("animationend"),_o=ks("animationiteration"),Rh=ks("animationstart"),v1=ks("transitionrun"),tv=ks("transitionstart"),nv=ks("transitioncancel"),Ah=ks("transitionend"),kh=new Map,Nh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nh.push("scrollEnd");function to(l,d){kh.set(l,d),Un(d,[l])}var rv=new WeakMap;function Ea(l,d){if(typeof l=="object"&&l!==null){var p=rv.get(l);return p!==void 0?p:(d={value:l,source:d,stack:ch(d)},rv.set(l,d),d)}return{value:l,source:d,stack:ch(d)}}var Ta=[],Cl=0,Oh=0;function sd(){for(var l=Cl,d=Oh=Cl=0;d<l;){var p=Ta[d];Ta[d++]=null;var v=Ta[d];Ta[d++]=null;var w=Ta[d];Ta[d++]=null;var k=Ta[d];if(Ta[d++]=null,v!==null&&w!==null){var j=v.pending;j===null?w.next=w:(w.next=j.next,j.next=w),v.pending=w}k!==0&&Mh(p,w,k)}}function ld(l,d,p,v){Ta[Cl++]=l,Ta[Cl++]=d,Ta[Cl++]=p,Ta[Cl++]=v,Oh|=v,l.lanes|=v,l=l.alternate,l!==null&&(l.lanes|=v)}function Dh(l,d,p,v){return ld(l,d,p,v),ud(l)}function la(l,d){return ld(l,null,null,d),ud(l)}function Mh(l,d,p){l.lanes|=p;var v=l.alternate;v!==null&&(v.lanes|=p);for(var w=!1,k=l.return;k!==null;)k.childLanes|=p,v=k.alternate,v!==null&&(v.childLanes|=p),k.tag===22&&(l=k.stateNode,l===null||l._visibility&1||(w=!0)),l=k,k=k.return;return l.tag===3?(k=l.stateNode,w&&d!==null&&(w=31-Le(p),l=k.hiddenUpdates,v=l[w],v===null?l[w]=[d]:v.push(d),d.lane=p|536870912),k):null}function ud(l){if(50<up)throw up=0,X1=null,Error(r(185));for(var d=l.return;d!==null;)l=d,d=l.return;return l.tag===3?l.stateNode:null}var El={};function y1(l,d,p,v){this.tag=l,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ra(l,d,p,v){return new y1(l,d,p,v)}function Ph(l){return l=l.prototype,!(!l||!l.isReactComponent)}function Ko(l,d){var p=l.alternate;return p===null?(p=Ra(l.tag,d,l.key,l.mode),p.elementType=l.elementType,p.type=l.type,p.stateNode=l.stateNode,p.alternate=l,l.alternate=p):(p.pendingProps=d,p.type=l.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=l.flags&65011712,p.childLanes=l.childLanes,p.lanes=l.lanes,p.child=l.child,p.memoizedProps=l.memoizedProps,p.memoizedState=l.memoizedState,p.updateQueue=l.updateQueue,d=l.dependencies,p.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},p.sibling=l.sibling,p.index=l.index,p.ref=l.ref,p.refCleanup=l.refCleanup,p}function av(l,d){l.flags&=65011714;var p=l.alternate;return p===null?(l.childLanes=0,l.lanes=d,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=p.childLanes,l.lanes=p.lanes,l.child=p.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=p.memoizedProps,l.memoizedState=p.memoizedState,l.updateQueue=p.updateQueue,l.type=p.type,d=p.dependencies,l.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),l}function cd(l,d,p,v,w,k){var j=0;if(v=l,typeof l=="function")Ph(l)&&(j=1);else if(typeof l=="string")j=gF(l,p,re.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case P:return l=Ra(31,p,d,w),l.elementType=P,l.lanes=k,l;case y:return Yo(p.children,w,k,d);case b:j=8,w|=24;break;case x:return l=Ra(12,p,d,w|2),l.elementType=x,l.lanes=k,l;case A:return l=Ra(13,p,d,w),l.elementType=A,l.lanes=k,l;case D:return l=Ra(19,p,d,w),l.elementType=D,l.lanes=k,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case S:case _:j=10;break e;case R:j=9;break e;case T:j=11;break e;case N:j=14;break e;case M:j=16,v=null;break e}j=29,p=Error(r(130,l===null?"null":typeof l,"")),v=null}return d=Ra(j,p,d,w),d.elementType=l,d.type=v,d.lanes=k,d}function Yo(l,d,p,v){return l=Ra(7,l,v,d),l.lanes=p,l}function Tl(l,d,p){return l=Ra(6,l,null,d),l.lanes=p,l}function Ih(l,d,p){return d=Ra(4,l.children!==null?l.children:[],l.key,d),d.lanes=p,d.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},d}var Ns=[],Os=0,Ci=null,Rl=0,Ia=[],La=0,Ds=null,Ur=1,Xo="";function Ms(l,d){Ns[Os++]=Rl,Ns[Os++]=Ci,Ci=l,Rl=d}function ov(l,d,p){Ia[La++]=Ur,Ia[La++]=Xo,Ia[La++]=Ds,Ds=l;var v=Ur;l=Xo;var w=32-Le(v)-1;v&=~(1<<w),p+=1;var k=32-Le(d)+w;if(30<k){var j=w-w%5;k=(v&(1<<j)-1).toString(32),v>>=j,w-=j,Ur=1<<32-Le(d)+w|p<<w|v,Xo=k+l}else Ur=1<<k|p<<w|v,Xo=l}function Lh(l){l.return!==null&&(Ms(l,1),ov(l,1,0))}function Al(l){for(;l===Ci;)Ci=Ns[--Os],Ns[Os]=null,Rl=Ns[--Os],Ns[Os]=null;for(;l===Ds;)Ds=Ia[--La],Ia[La]=null,Xo=Ia[--La],Ia[La]=null,Ur=Ia[--La],Ia[La]=null}var xr=null,Ln=null,tn=!1,Ps=null,Vr=!1,Wu=Error(r(519));function Ei(l){var d=Error(r(418,""));throw qu(Ea(d,l)),Wu}function iv(l){var d=l.stateNode,p=l.type,v=l.memoizedProps;switch(d[Or]=l,d[ra]=v,p){case"dialog":Yt("cancel",d),Yt("close",d);break;case"iframe":case"object":case"embed":Yt("load",d);break;case"video":case"audio":for(p=0;p<dp.length;p++)Yt(dp[p],d);break;case"source":Yt("error",d);break;case"img":case"image":case"link":Yt("error",d),Yt("load",d);break;case"details":Yt("toggle",d);break;case"input":Yt("invalid",d),Qc(d,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0),Mu(d);break;case"select":Yt("invalid",d);break;case"textarea":Yt("invalid",d),Iu(d,v.value,v.defaultValue,v.children),Mu(d)}p=v.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||d.textContent===""+p||v.suppressHydrationWarning===!0||Q4(d.textContent,p)?(v.popover!=null&&(Yt("beforetoggle",d),Yt("toggle",d)),v.onScroll!=null&&Yt("scroll",d),v.onScrollEnd!=null&&Yt("scrollend",d),v.onClick!=null&&(d.onclick=zv),d=!0):d=!1,d||Ei(l)}function sv(l){for(xr=l.return;xr;)switch(xr.tag){case 5:case 13:Vr=!1;return;case 27:case 3:Vr=!0;return;default:xr=xr.return}}function Hu(l){if(l!==xr)return!1;if(!tn)return sv(l),tn=!0,!1;var d=l.tag,p;if((p=d!==3&&d!==27)&&((p=d===5)&&(p=l.type,p=!(p!=="form"&&p!=="button")||fx(l.type,l.memoizedProps)),p=!p),p&&Ln&&Ei(l),sv(l),d===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,d=0;l;){if(l.nodeType===8)if(p=l.data,p==="/$"){if(d===0){Ln=ri(l.nextSibling);break e}d--}else p!=="$"&&p!=="$!"&&p!=="$?"||d++;l=l.nextSibling}Ln=null}}else d===27?(d=Ln,Wl(l.type)?(l=gx,gx=null,Ln=l):Ln=d):Ln=xr?ri(l.stateNode.nextSibling):null;return!0}function Qo(){Ln=xr=null,tn=!1}function Ti(){var l=Ps;return l!==null&&(za===null?za=l:za.push.apply(za,l),Ps=null),l}function qu(l){Ps===null?Ps=[l]:Ps.push(l)}var Fh=le(null),Is=null,Zo=null;function Ri(l,d,p){oe(Fh,d._currentValue),d._currentValue=p}function Jo(l){l._currentValue=Fh.current,J(Fh)}function Bh(l,d,p){for(;l!==null;){var v=l.alternate;if((l.childLanes&d)!==d?(l.childLanes|=d,v!==null&&(v.childLanes|=d)):v!==null&&(v.childLanes&d)!==d&&(v.childLanes|=d),l===p)break;l=l.return}}function zh(l,d,p,v){var w=l.child;for(w!==null&&(w.return=l);w!==null;){var k=w.dependencies;if(k!==null){var j=w.child;k=k.firstContext;e:for(;k!==null;){var Y=k;k=w;for(var te=0;te<d.length;te++)if(Y.context===d[te]){k.lanes|=p,Y=k.alternate,Y!==null&&(Y.lanes|=p),Bh(k.return,p,l),v||(j=null);break e}k=Y.next}}else if(w.tag===18){if(j=w.return,j===null)throw Error(r(341));j.lanes|=p,k=j.alternate,k!==null&&(k.lanes|=p),Bh(j,p,l),j=null}else j=w.child;if(j!==null)j.return=w;else for(j=w;j!==null;){if(j===l){j=null;break}if(w=j.sibling,w!==null){w.return=j.return,j=w;break}j=j.return}w=j}}function kl(l,d,p,v){l=null;for(var w=d,k=!1;w!==null;){if(!k){if((w.flags&524288)!==0)k=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var j=w.alternate;if(j===null)throw Error(r(387));if(j=j.memoizedProps,j!==null){var Y=w.type;sa(w.pendingProps.value,j.value)||(l!==null?l.push(Y):l=[Y])}}else if(w===Oe.current){if(j=w.alternate,j===null)throw Error(r(387));j.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(l!==null?l.push(vp):l=[vp])}w=w.return}l!==null&&zh(d,l,p,v),d.flags|=262144}function dd(l){for(l=l.firstContext;l!==null;){if(!sa(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Ai(l){Is=l,Zo=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function hr(l){return ki(Is,l)}function Gu(l,d){return Is===null&&Ai(l),ki(l,d)}function ki(l,d){var p=d._currentValue;if(d={context:d,memoizedValue:p,next:null},Zo===null){if(l===null)throw Error(r(308));Zo=d,l.dependencies={lanes:0,firstContext:d},l.flags|=524288}else Zo=Zo.next=d;return p}var lv=typeof AbortController<"u"?AbortController:function(){var l=[],d=this.signal={aborted:!1,addEventListener:function(p,v){l.push(v)}};this.abort=function(){d.aborted=!0,l.forEach(function(p){return p()})}},$h=t.unstable_scheduleCallback,uv=t.unstable_NormalPriority,Vn={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fd(){return{controller:new lv,data:new Map,refCount:0}}function Ls(l){l.refCount--,l.refCount===0&&$h(uv,function(){l.controller.abort()})}var Ku=null,ei=0,Aa=0,Nl=null;function b1(l,d){if(Ku===null){var p=Ku=[];ei=0,Aa=rx(),Nl={status:"pending",value:void 0,then:function(v){p.push(v)}}}return ei++,d.then(cv,cv),d}function cv(){if(--ei===0&&Ku!==null){Nl!==null&&(Nl.status="fulfilled");var l=Ku;Ku=null,Aa=0,Nl=null;for(var d=0;d<l.length;d++)(0,l[d])()}}function x1(l,d){var p=[],v={status:"pending",value:null,reason:null,then:function(w){p.push(w)}};return l.then(function(){v.status="fulfilled",v.value=d;for(var w=0;w<p.length;w++)(0,p[w])(d)},function(w){for(v.status="rejected",v.reason=w,w=0;w<p.length;w++)(0,p[w])(void 0)}),v}var dv=F.S;F.S=function(l,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&b1(l,d),dv!==null&&dv(l,d)};var Fs=le(null);function Uh(){var l=Fs.current;return l!==null?l:Mn.pooledCache}function hd(l,d){d===null?oe(Fs,Fs.current):oe(Fs,d.pool)}function Vh(){var l=Uh();return l===null?null:{parent:Vn._currentValue,pool:l}}var Ni=Error(r(460)),Yu=Error(r(474)),pd=Error(r(542)),jh={then:function(){}};function Ol(l){return l=l.status,l==="fulfilled"||l==="rejected"}function H(){}function C(l,d,p){switch(p=l[p],p===void 0?l.push(d):p!==d&&(d.then(H,H),d=p),d.status){case"fulfilled":return d.value;case"rejected":throw l=d.reason,ue(l),l;default:if(typeof d.status=="string")d.then(H,H);else{if(l=Mn,l!==null&&100<l.shellSuspendCounter)throw Error(r(482));l=d,l.status="pending",l.then(function(v){if(d.status==="pending"){var w=d;w.status="fulfilled",w.value=v}},function(v){if(d.status==="pending"){var w=d;w.status="rejected",w.reason=v}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw l=d.reason,ue(l),l}throw L=d,Ni}}var L=null;function X(){if(L===null)throw Error(r(459));var l=L;return L=null,l}function ue(l){if(l===Ni||l===pd)throw Error(r(483))}var ce=!1;function Se(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ke(l,d){l=l.updateQueue,d.updateQueue===l&&(d.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function Be(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function qe(l,d,p){var v=l.updateQueue;if(v===null)return null;if(v=v.shared,(bn&2)!==0){var w=v.pending;return w===null?d.next=d:(d.next=w.next,w.next=d),v.pending=d,d=ud(l),Mh(l,null,p),d}return ld(l,v,d,p),ud(l)}function Ke(l,d,p){if(d=d.updateQueue,d!==null&&(d=d.shared,(p&4194048)!==0)){var v=d.lanes;v&=l.pendingLanes,p|=v,d.lanes=p,yg(l,p)}}function We(l,d){var p=l.updateQueue,v=l.alternate;if(v!==null&&(v=v.updateQueue,p===v)){var w=null,k=null;if(p=p.firstBaseUpdate,p!==null){do{var j={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};k===null?w=k=j:k=k.next=j,p=p.next}while(p!==null);k===null?w=k=d:k=k.next=d}else w=k=d;p={baseState:v.baseState,firstBaseUpdate:w,lastBaseUpdate:k,shared:v.shared,callbacks:v.callbacks},l.updateQueue=p;return}l=p.lastBaseUpdate,l===null?p.firstBaseUpdate=d:l.next=d,p.lastBaseUpdate=d}var Nt=!1;function ft(){if(Nt){var l=Nl;if(l!==null)throw l}}function bt(l,d,p,v){Nt=!1;var w=l.updateQueue;ce=!1;var k=w.firstBaseUpdate,j=w.lastBaseUpdate,Y=w.shared.pending;if(Y!==null){w.shared.pending=null;var te=Y,me=te.next;te.next=null,j===null?k=me:j.next=me,j=te;var Te=l.alternate;Te!==null&&(Te=Te.updateQueue,Y=Te.lastBaseUpdate,Y!==j&&(Y===null?Te.firstBaseUpdate=me:Y.next=me,Te.lastBaseUpdate=te))}if(k!==null){var Ne=w.baseState;j=0,Te=me=te=null,Y=k;do{var ge=Y.lane&-536870913,ve=ge!==Y.lane;if(ve?(nn&ge)===ge:(v&ge)===ge){ge!==0&&ge===Aa&&(Nt=!0),Te!==null&&(Te=Te.next={lane:0,tag:Y.tag,payload:Y.payload,callback:null,next:null});e:{var _t=l,vt=Y;ge=d;var _n=p;switch(vt.tag){case 1:if(_t=vt.payload,typeof _t=="function"){Ne=_t.call(_n,Ne,ge);break e}Ne=_t;break e;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=vt.payload,ge=typeof _t=="function"?_t.call(_n,Ne,ge):_t,ge==null)break e;Ne=f({},Ne,ge);break e;case 2:ce=!0}}ge=Y.callback,ge!==null&&(l.flags|=64,ve&&(l.flags|=8192),ve=w.callbacks,ve===null?w.callbacks=[ge]:ve.push(ge))}else ve={lane:ge,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},Te===null?(me=Te=ve,te=Ne):Te=Te.next=ve,j|=ge;if(Y=Y.next,Y===null){if(Y=w.shared.pending,Y===null)break;ve=Y,Y=ve.next,ve.next=null,w.lastBaseUpdate=ve,w.shared.pending=null}}while(!0);Te===null&&(te=Ne),w.baseState=te,w.firstBaseUpdate=me,w.lastBaseUpdate=Te,k===null&&(w.shared.lanes=0),$l|=j,l.lanes=j,l.memoizedState=Ne}}function St(l,d){if(typeof l!="function")throw Error(r(191,l));l.call(d)}function Tt(l,d){var p=l.callbacks;if(p!==null)for(l.callbacks=null,l=0;l<p.length;l++)St(p[l],d)}var Qt=le(null),dn=le(0);function zt(l,d){l=js,oe(dn,l),oe(Qt,d),js=l|d.baseLanes}function Zt(){oe(dn,js),oe(Qt,Qt.current)}function Dt(){js=dn.current,J(Qt),J(dn)}var Mt=0,Ye=null,ut=null,xt=null,Dn=!1,pr=!1,wr=!1,mr=0,Dr=0,Sr=null,Fn=0;function on(){throw Error(r(321))}function Fa(l,d){if(d===null)return!1;for(var p=0;p<d.length&&p<l.length;p++)if(!sa(l[p],d[p]))return!1;return!0}function Oi(l,d,p,v,w,k){return Mt=k,Ye=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,F.H=l===null||l.memoizedState===null?OE:DE,wr=!1,k=p(v,w),wr=!1,pr&&(k=mn(d,p,v,w)),sr(l),k}function sr(l){F.H=bv;var d=ut!==null&&ut.next!==null;if(Mt=0,xt=ut=Ye=null,Dn=!1,Dr=0,Sr=null,d)throw Error(r(300));l===null||Mr||(l=l.dependencies,l!==null&&dd(l)&&(Mr=!0))}function mn(l,d,p,v){Ye=l;var w=0;do{if(pr&&(Sr=null),Dr=0,pr=!1,25<=w)throw Error(r(301));if(w+=1,xt=ut=null,l.updateQueue!=null){var k=l.updateQueue;k.lastEffect=null,k.events=null,k.stores=null,k.memoCache!=null&&(k.memoCache.index=0)}F.H=RL,k=d(p,v)}while(pr);return k}function jr(){var l=F.H,d=l.useState()[0];return d=typeof d.then=="function"?Xu(d):d,l=l.useState()[0],(ut!==null?ut.memoizedState:null)!==l&&(Ye.flags|=1024),d}function ua(){var l=mr!==0;return mr=0,l}function Co(l,d,p){d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~p}function Dl(l){if(Dn){for(l=l.memoizedState;l!==null;){var d=l.queue;d!==null&&(d.pending=null),l=l.next}Dn=!1}Mt=0,xt=ut=Ye=null,pr=!1,Dr=mr=0,Sr=null}function Wr(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Ye.memoizedState=xt=l:xt=xt.next=l,xt}function jn(){if(ut===null){var l=Ye.alternate;l=l!==null?l.memoizedState:null}else l=ut.next;var d=xt===null?Ye.memoizedState:xt.next;if(d!==null)xt=d,ut=l;else{if(l===null)throw Ye.alternate===null?Error(r(467)):Error(r(310));ut=l,l={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},xt===null?Ye.memoizedState=xt=l:xt=xt.next=l}return xt}function Ml(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xu(l){var d=Dr;return Dr+=1,Sr===null&&(Sr=[]),l=C(Sr,l,d),d=Ye,(xt===null?d.memoizedState:xt.next)===null&&(d=d.alternate,F.H=d===null||d.memoizedState===null?OE:DE),l}function md(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Xu(l);if(l.$$typeof===_)return hr(l)}throw Error(r(438,String(l)))}function Qu(l){var d=null,p=Ye.updateQueue;if(p!==null&&(d=p.memoCache),d==null){var v=Ye.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(d={data:v.data.map(function(w){return w.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),p===null&&(p=Ml(),Ye.updateQueue=p),p.memoCache=d,p=d.data[d.index],p===void 0)for(p=d.data[d.index]=Array(l),v=0;v<l;v++)p[v]=I;return d.index++,p}function ti(l,d){return typeof d=="function"?d(l):d}function Zu(l){var d=jn();return Wh(d,ut,l)}function Wh(l,d,p){var v=l.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=p;var w=l.baseQueue,k=v.pending;if(k!==null){if(w!==null){var j=w.next;w.next=k.next,k.next=j}d.baseQueue=w=k,v.pending=null}if(k=l.baseState,w===null)l.memoizedState=k;else{d=w.next;var Y=j=null,te=null,me=d,Te=!1;do{var Ne=me.lane&-536870913;if(Ne!==me.lane?(nn&Ne)===Ne:(Mt&Ne)===Ne){var ge=me.revertLane;if(ge===0)te!==null&&(te=te.next={lane:0,revertLane:0,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null}),Ne===Aa&&(Te=!0);else if((Mt&ge)===ge){me=me.next,ge===Aa&&(Te=!0);continue}else Ne={lane:0,revertLane:me.revertLane,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},te===null?(Y=te=Ne,j=k):te=te.next=Ne,Ye.lanes|=ge,$l|=ge;Ne=me.action,wr&&p(k,Ne),k=me.hasEagerState?me.eagerState:p(k,Ne)}else ge={lane:Ne,revertLane:me.revertLane,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},te===null?(Y=te=ge,j=k):te=te.next=ge,Ye.lanes|=Ne,$l|=Ne;me=me.next}while(me!==null&&me!==d);if(te===null?j=k:te.next=Y,!sa(k,l.memoizedState)&&(Mr=!0,Te&&(p=Nl,p!==null)))throw p;l.memoizedState=k,l.baseState=j,l.baseQueue=te,v.lastRenderedState=k}return w===null&&(v.lanes=0),[l.memoizedState,v.dispatch]}function gd(l){var d=jn(),p=d.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=l;var v=p.dispatch,w=p.pending,k=d.memoizedState;if(w!==null){p.pending=null;var j=w=w.next;do k=l(k,j.action),j=j.next;while(j!==w);sa(k,d.memoizedState)||(Mr=!0),d.memoizedState=k,d.baseQueue===null&&(d.baseState=k),p.lastRenderedState=k}return[k,v]}function Hh(l,d,p){var v=Ye,w=jn(),k=tn;if(k){if(p===void 0)throw Error(r(407));p=p()}else p=d();var j=!sa((ut||w).memoizedState,p);j&&(w.memoizedState=p,Mr=!0),w=w.queue;var Y=Di.bind(null,v,w,l);if(Zh(2048,8,Y,[l]),w.getSnapshot!==d||j||xt!==null&&xt.memoizedState.tag&1){if(v.flags|=2048,xd(9,gv(),hv.bind(null,v,w,p,d),null),Mn===null)throw Error(r(349));k||(Mt&124)!==0||fv(v,d,p)}return p}function fv(l,d,p){l.flags|=16384,l={getSnapshot:d,value:p},d=Ye.updateQueue,d===null?(d=Ml(),Ye.updateQueue=d,d.stores=[l]):(p=d.stores,p===null?d.stores=[l]:p.push(l))}function hv(l,d,p,v){d.value=p,d.getSnapshot=v,Ju(d)&&qh(l)}function Di(l,d,p){return p(function(){Ju(d)&&qh(l)})}function Ju(l){var d=l.getSnapshot;l=l.value;try{var p=d();return!sa(l,p)}catch{return!0}}function qh(l){var d=la(l,2);d!==null&&io(d,l,2)}function vd(l){var d=Wr();if(typeof l=="function"){var p=l;if(l=p(),wr){Fe(!0);try{p()}finally{Fe(!1)}}}return d.memoizedState=d.baseState=l,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:l},d}function yd(l,d,p,v){return l.baseState=p,Wh(l,ut,typeof v=="function"?v:ti)}function pv(l,d,p,v,w){if(yv(l))throw Error(r(485));if(l=d.action,l!==null){var k={payload:w,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){k.listeners.push(j)}};F.T!==null?p(!0):k.isTransition=!1,v(k),p=d.pending,p===null?(k.next=d.pending=k,Gh(d,k)):(k.next=p.next,d.pending=p.next=k)}}function Gh(l,d){var p=d.action,v=d.payload,w=l.state;if(d.isTransition){var k=F.T,j={};F.T=j;try{var Y=p(w,v),te=F.S;te!==null&&te(j,Y),Kh(l,d,Y)}catch(me){Xh(l,d,me)}finally{F.T=k}}else try{k=p(w,v),Kh(l,d,k)}catch(me){Xh(l,d,me)}}function Kh(l,d,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(v){Yh(l,d,v)},function(v){return Xh(l,d,v)}):Yh(l,d,p)}function Yh(l,d,p){d.status="fulfilled",d.value=p,mv(d),l.state=p,d=l.pending,d!==null&&(p=d.next,p===d?l.pending=null:(p=p.next,d.next=p,Gh(l,p)))}function Xh(l,d,p){var v=l.pending;if(l.pending=null,v!==null){v=v.next;do d.status="rejected",d.reason=p,mv(d),d=d.next;while(d!==v)}l.action=null}function mv(l){l=l.listeners;for(var d=0;d<l.length;d++)(0,l[d])()}function bd(l,d){return d}function Qh(l,d){if(tn){var p=Mn.formState;if(p!==null){e:{var v=Ye;if(tn){if(Ln){t:{for(var w=Ln,k=Vr;w.nodeType!==8;){if(!k){w=null;break t}if(w=ri(w.nextSibling),w===null){w=null;break t}}k=w.data,w=k==="F!"||k==="F"?w:null}if(w){Ln=ri(w.nextSibling),v=w.data==="F!";break e}}Ei(v)}v=!1}v&&(d=p[0])}}return p=Wr(),p.memoizedState=p.baseState=d,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bd,lastRenderedState:d},p.queue=v,p=AE.bind(null,Ye,v),v.dispatch=p,v=vd(!1),k=E1.bind(null,Ye,!1,v.queue),v=Wr(),w={state:d,dispatch:null,action:l,pending:null},v.queue=w,p=pv.bind(null,Ye,w,k,p),w.dispatch=p,v.memoizedState=l,[d,p,!1]}function cE(l){var d=jn();return dE(d,ut,l)}function dE(l,d,p){if(d=Wh(l,d,bd)[0],l=Zu(ti)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var v=Xu(d)}catch(j){throw j===Ni?pd:j}else v=d;d=jn();var w=d.queue,k=w.dispatch;return p!==d.memoizedState&&(Ye.flags|=2048,xd(9,gv(),_L.bind(null,w,p),null)),[v,k,l]}function _L(l,d){l.action=d}function fE(l){var d=jn(),p=ut;if(p!==null)return dE(d,p,l);jn(),d=d.memoizedState,p=jn();var v=p.queue.dispatch;return p.memoizedState=l,[d,v,!1]}function xd(l,d,p,v){return l={tag:l,create:p,deps:v,inst:d,next:null},d=Ye.updateQueue,d===null&&(d=Ml(),Ye.updateQueue=d),p=d.lastEffect,p===null?d.lastEffect=l.next=l:(v=p.next,p.next=l,l.next=v,d.lastEffect=l),l}function gv(){return{destroy:void 0,resource:void 0}}function hE(){return jn().memoizedState}function vv(l,d,p,v){var w=Wr();v=v===void 0?null:v,Ye.flags|=l,w.memoizedState=xd(1|d,gv(),p,v)}function Zh(l,d,p,v){var w=jn();v=v===void 0?null:v;var k=w.memoizedState.inst;ut!==null&&v!==null&&Fa(v,ut.memoizedState.deps)?w.memoizedState=xd(d,k,p,v):(Ye.flags|=l,w.memoizedState=xd(1|d,k,p,v))}function pE(l,d){vv(8390656,8,l,d)}function mE(l,d){Zh(2048,8,l,d)}function gE(l,d){return Zh(4,2,l,d)}function vE(l,d){return Zh(4,4,l,d)}function yE(l,d){if(typeof d=="function"){l=l();var p=d(l);return function(){typeof p=="function"?p():d(null)}}if(d!=null)return l=l(),d.current=l,function(){d.current=null}}function bE(l,d,p){p=p!=null?p.concat([l]):null,Zh(4,4,yE.bind(null,d,l),p)}function w1(){}function xE(l,d){var p=jn();d=d===void 0?null:d;var v=p.memoizedState;return d!==null&&Fa(d,v[1])?v[0]:(p.memoizedState=[l,d],l)}function wE(l,d){var p=jn();d=d===void 0?null:d;var v=p.memoizedState;if(d!==null&&Fa(d,v[1]))return v[0];if(v=l(),wr){Fe(!0);try{l()}finally{Fe(!1)}}return p.memoizedState=[v,d],v}function S1(l,d,p){return p===void 0||(Mt&1073741824)!==0?l.memoizedState=d:(l.memoizedState=p,l=C4(),Ye.lanes|=l,$l|=l,p)}function SE(l,d,p,v){return sa(p,d)?p:Qt.current!==null?(l=S1(l,p,v),sa(l,d)||(Mr=!0),l):(Mt&42)===0?(Mr=!0,l.memoizedState=p):(l=C4(),Ye.lanes|=l,$l|=l,d)}function _E(l,d,p,v,w){var k=U.p;U.p=k!==0&&8>k?k:8;var j=F.T,Y={};F.T=Y,E1(l,!1,d,p);try{var te=w(),me=F.S;if(me!==null&&me(Y,te),te!==null&&typeof te=="object"&&typeof te.then=="function"){var Te=x1(te,v);Jh(l,d,Te,oo(l))}else Jh(l,d,v,oo(l))}catch(Ne){Jh(l,d,{then:function(){},status:"rejected",reason:Ne},oo())}finally{U.p=k,F.T=j}}function CL(){}function _1(l,d,p,v){if(l.tag!==5)throw Error(r(476));var w=CE(l).queue;_E(l,w,d,W,p===null?CL:function(){return EE(l),p(v)})}function CE(l){var d=l.memoizedState;if(d!==null)return d;d={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:W},next:null};var p={};return d.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:p},next:null},l.memoizedState=d,l=l.alternate,l!==null&&(l.memoizedState=d),d}function EE(l){var d=CE(l).next.queue;Jh(l,d,{},oo())}function C1(){return hr(vp)}function TE(){return jn().memoizedState}function RE(){return jn().memoizedState}function EL(l){for(var d=l.return;d!==null;){switch(d.tag){case 24:case 3:var p=oo();l=Be(p);var v=qe(d,l,p);v!==null&&(io(v,d,p),Ke(v,d,p)),d={cache:fd()},l.payload=d;return}d=d.return}}function TL(l,d,p){var v=oo();p={lane:v,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},yv(l)?kE(d,p):(p=Dh(l,d,p,v),p!==null&&(io(p,l,v),NE(p,d,v)))}function AE(l,d,p){var v=oo();Jh(l,d,p,v)}function Jh(l,d,p,v){var w={lane:v,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if(yv(l))kE(d,w);else{var k=l.alternate;if(l.lanes===0&&(k===null||k.lanes===0)&&(k=d.lastRenderedReducer,k!==null))try{var j=d.lastRenderedState,Y=k(j,p);if(w.hasEagerState=!0,w.eagerState=Y,sa(Y,j))return ld(l,d,w,0),Mn===null&&sd(),!1}catch{}finally{}if(p=Dh(l,d,w,v),p!==null)return io(p,l,v),NE(p,d,v),!0}return!1}function E1(l,d,p,v){if(v={lane:2,revertLane:rx(),action:v,hasEagerState:!1,eagerState:null,next:null},yv(l)){if(d)throw Error(r(479))}else d=Dh(l,p,v,2),d!==null&&io(d,l,2)}function yv(l){var d=l.alternate;return l===Ye||d!==null&&d===Ye}function kE(l,d){pr=Dn=!0;var p=l.pending;p===null?d.next=d:(d.next=p.next,p.next=d),l.pending=d}function NE(l,d,p){if((p&4194048)!==0){var v=d.lanes;v&=l.pendingLanes,p|=v,d.lanes=p,yg(l,p)}}var bv={readContext:hr,use:md,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useLayoutEffect:on,useInsertionEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useSyncExternalStore:on,useId:on,useHostTransitionStatus:on,useFormState:on,useActionState:on,useOptimistic:on,useMemoCache:on,useCacheRefresh:on},OE={readContext:hr,use:md,useCallback:function(l,d){return Wr().memoizedState=[l,d===void 0?null:d],l},useContext:hr,useEffect:pE,useImperativeHandle:function(l,d,p){p=p!=null?p.concat([l]):null,vv(4194308,4,yE.bind(null,d,l),p)},useLayoutEffect:function(l,d){return vv(4194308,4,l,d)},useInsertionEffect:function(l,d){vv(4,2,l,d)},useMemo:function(l,d){var p=Wr();d=d===void 0?null:d;var v=l();if(wr){Fe(!0);try{l()}finally{Fe(!1)}}return p.memoizedState=[v,d],v},useReducer:function(l,d,p){var v=Wr();if(p!==void 0){var w=p(d);if(wr){Fe(!0);try{p(d)}finally{Fe(!1)}}}else w=d;return v.memoizedState=v.baseState=w,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:w},v.queue=l,l=l.dispatch=TL.bind(null,Ye,l),[v.memoizedState,l]},useRef:function(l){var d=Wr();return l={current:l},d.memoizedState=l},useState:function(l){l=vd(l);var d=l.queue,p=AE.bind(null,Ye,d);return d.dispatch=p,[l.memoizedState,p]},useDebugValue:w1,useDeferredValue:function(l,d){var p=Wr();return S1(p,l,d)},useTransition:function(){var l=vd(!1);return l=_E.bind(null,Ye,l.queue,!0,!1),Wr().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,d,p){var v=Ye,w=Wr();if(tn){if(p===void 0)throw Error(r(407));p=p()}else{if(p=d(),Mn===null)throw Error(r(349));(nn&124)!==0||fv(v,d,p)}w.memoizedState=p;var k={value:p,getSnapshot:d};return w.queue=k,pE(Di.bind(null,v,k,l),[l]),v.flags|=2048,xd(9,gv(),hv.bind(null,v,k,p,d),null),p},useId:function(){var l=Wr(),d=Mn.identifierPrefix;if(tn){var p=Xo,v=Ur;p=(v&~(1<<32-Le(v)-1)).toString(32)+p,d="«"+d+"R"+p,p=mr++,0<p&&(d+="H"+p.toString(32)),d+="»"}else p=Fn++,d="«"+d+"r"+p.toString(32)+"»";return l.memoizedState=d},useHostTransitionStatus:C1,useFormState:Qh,useActionState:Qh,useOptimistic:function(l){var d=Wr();d.memoizedState=d.baseState=l;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=p,d=E1.bind(null,Ye,!0,p),p.dispatch=d,[l,d]},useMemoCache:Qu,useCacheRefresh:function(){return Wr().memoizedState=EL.bind(null,Ye)}},DE={readContext:hr,use:md,useCallback:xE,useContext:hr,useEffect:mE,useImperativeHandle:bE,useInsertionEffect:gE,useLayoutEffect:vE,useMemo:wE,useReducer:Zu,useRef:hE,useState:function(){return Zu(ti)},useDebugValue:w1,useDeferredValue:function(l,d){var p=jn();return SE(p,ut.memoizedState,l,d)},useTransition:function(){var l=Zu(ti)[0],d=jn().memoizedState;return[typeof l=="boolean"?l:Xu(l),d]},useSyncExternalStore:Hh,useId:TE,useHostTransitionStatus:C1,useFormState:cE,useActionState:cE,useOptimistic:function(l,d){var p=jn();return yd(p,ut,l,d)},useMemoCache:Qu,useCacheRefresh:RE},RL={readContext:hr,use:md,useCallback:xE,useContext:hr,useEffect:mE,useImperativeHandle:bE,useInsertionEffect:gE,useLayoutEffect:vE,useMemo:wE,useReducer:gd,useRef:hE,useState:function(){return gd(ti)},useDebugValue:w1,useDeferredValue:function(l,d){var p=jn();return ut===null?S1(p,l,d):SE(p,ut.memoizedState,l,d)},useTransition:function(){var l=gd(ti)[0],d=jn().memoizedState;return[typeof l=="boolean"?l:Xu(l),d]},useSyncExternalStore:Hh,useId:TE,useHostTransitionStatus:C1,useFormState:fE,useActionState:fE,useOptimistic:function(l,d){var p=jn();return ut!==null?yd(p,ut,l,d):(p.baseState=l,[l,p.queue.dispatch])},useMemoCache:Qu,useCacheRefresh:RE},wd=null,ep=0;function xv(l){var d=ep;return ep+=1,wd===null&&(wd=[]),C(wd,l,d)}function tp(l,d){d=d.props.ref,l.ref=d!==void 0?d:null}function wv(l,d){throw d.$$typeof===h?Error(r(525)):(l=Object.prototype.toString.call(d),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":l)))}function ME(l){var d=l._init;return d(l._payload)}function PE(l){function d(de,ie){if(l){var he=de.deletions;he===null?(de.deletions=[ie],de.flags|=16):he.push(ie)}}function p(de,ie){if(!l)return null;for(;ie!==null;)d(de,ie),ie=ie.sibling;return null}function v(de){for(var ie=new Map;de!==null;)de.key!==null?ie.set(de.key,de):ie.set(de.index,de),de=de.sibling;return ie}function w(de,ie){return de=Ko(de,ie),de.index=0,de.sibling=null,de}function k(de,ie,he){return de.index=he,l?(he=de.alternate,he!==null?(he=he.index,he<ie?(de.flags|=67108866,ie):he):(de.flags|=67108866,ie)):(de.flags|=1048576,ie)}function j(de){return l&&de.alternate===null&&(de.flags|=67108866),de}function Y(de,ie,he,Re){return ie===null||ie.tag!==6?(ie=Tl(he,de.mode,Re),ie.return=de,ie):(ie=w(ie,he),ie.return=de,ie)}function te(de,ie,he,Re){var Ze=he.type;return Ze===y?Te(de,ie,he.props.children,Re,he.key):ie!==null&&(ie.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===M&&ME(Ze)===ie.type)?(ie=w(ie,he.props),tp(ie,he),ie.return=de,ie):(ie=cd(he.type,he.key,he.props,null,de.mode,Re),tp(ie,he),ie.return=de,ie)}function me(de,ie,he,Re){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==he.containerInfo||ie.stateNode.implementation!==he.implementation?(ie=Ih(he,de.mode,Re),ie.return=de,ie):(ie=w(ie,he.children||[]),ie.return=de,ie)}function Te(de,ie,he,Re,Ze){return ie===null||ie.tag!==7?(ie=Yo(he,de.mode,Re,Ze),ie.return=de,ie):(ie=w(ie,he),ie.return=de,ie)}function Ne(de,ie,he){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return ie=Tl(""+ie,de.mode,he),ie.return=de,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case m:return he=cd(ie.type,ie.key,ie.props,null,de.mode,he),tp(he,ie),he.return=de,he;case g:return ie=Ih(ie,de.mode,he),ie.return=de,ie;case M:var Re=ie._init;return ie=Re(ie._payload),Ne(de,ie,he)}if(B(ie)||z(ie))return ie=Yo(ie,de.mode,he,null),ie.return=de,ie;if(typeof ie.then=="function")return Ne(de,xv(ie),he);if(ie.$$typeof===_)return Ne(de,Gu(de,ie),he);wv(de,ie)}return null}function ge(de,ie,he,Re){var Ze=ie!==null?ie.key:null;if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Ze!==null?null:Y(de,ie,""+he,Re);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case m:return he.key===Ze?te(de,ie,he,Re):null;case g:return he.key===Ze?me(de,ie,he,Re):null;case M:return Ze=he._init,he=Ze(he._payload),ge(de,ie,he,Re)}if(B(he)||z(he))return Ze!==null?null:Te(de,ie,he,Re,null);if(typeof he.then=="function")return ge(de,ie,xv(he),Re);if(he.$$typeof===_)return ge(de,ie,Gu(de,he),Re);wv(de,he)}return null}function ve(de,ie,he,Re,Ze){if(typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint")return de=de.get(he)||null,Y(ie,de,""+Re,Ze);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case m:return de=de.get(Re.key===null?he:Re.key)||null,te(ie,de,Re,Ze);case g:return de=de.get(Re.key===null?he:Re.key)||null,me(ie,de,Re,Ze);case M:var jt=Re._init;return Re=jt(Re._payload),ve(de,ie,he,Re,Ze)}if(B(Re)||z(Re))return de=de.get(he)||null,Te(ie,de,Re,Ze,null);if(typeof Re.then=="function")return ve(de,ie,he,xv(Re),Ze);if(Re.$$typeof===_)return ve(de,ie,he,Gu(ie,Re),Ze);wv(ie,Re)}return null}function _t(de,ie,he,Re){for(var Ze=null,jt=null,ct=ie,wt=ie=0,Ir=null;ct!==null&&wt<he.length;wt++){ct.index>wt?(Ir=ct,ct=null):Ir=ct.sibling;var sn=ge(de,ct,he[wt],Re);if(sn===null){ct===null&&(ct=Ir);break}l&&ct&&sn.alternate===null&&d(de,ct),ie=k(sn,ie,wt),jt===null?Ze=sn:jt.sibling=sn,jt=sn,ct=Ir}if(wt===he.length)return p(de,ct),tn&&Ms(de,wt),Ze;if(ct===null){for(;wt<he.length;wt++)ct=Ne(de,he[wt],Re),ct!==null&&(ie=k(ct,ie,wt),jt===null?Ze=ct:jt.sibling=ct,jt=ct);return tn&&Ms(de,wt),Ze}for(ct=v(ct);wt<he.length;wt++)Ir=ve(ct,de,wt,he[wt],Re),Ir!==null&&(l&&Ir.alternate!==null&&ct.delete(Ir.key===null?wt:Ir.key),ie=k(Ir,ie,wt),jt===null?Ze=Ir:jt.sibling=Ir,jt=Ir);return l&&ct.forEach(function(Yl){return d(de,Yl)}),tn&&Ms(de,wt),Ze}function vt(de,ie,he,Re){if(he==null)throw Error(r(151));for(var Ze=null,jt=null,ct=ie,wt=ie=0,Ir=null,sn=he.next();ct!==null&&!sn.done;wt++,sn=he.next()){ct.index>wt?(Ir=ct,ct=null):Ir=ct.sibling;var Yl=ge(de,ct,sn.value,Re);if(Yl===null){ct===null&&(ct=Ir);break}l&&ct&&Yl.alternate===null&&d(de,ct),ie=k(Yl,ie,wt),jt===null?Ze=Yl:jt.sibling=Yl,jt=Yl,ct=Ir}if(sn.done)return p(de,ct),tn&&Ms(de,wt),Ze;if(ct===null){for(;!sn.done;wt++,sn=he.next())sn=Ne(de,sn.value,Re),sn!==null&&(ie=k(sn,ie,wt),jt===null?Ze=sn:jt.sibling=sn,jt=sn);return tn&&Ms(de,wt),Ze}for(ct=v(ct);!sn.done;wt++,sn=he.next())sn=ve(ct,de,wt,sn.value,Re),sn!==null&&(l&&sn.alternate!==null&&ct.delete(sn.key===null?wt:sn.key),ie=k(sn,ie,wt),jt===null?Ze=sn:jt.sibling=sn,jt=sn);return l&&ct.forEach(function(AF){return d(de,AF)}),tn&&Ms(de,wt),Ze}function _n(de,ie,he,Re){if(typeof he=="object"&&he!==null&&he.type===y&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case m:e:{for(var Ze=he.key;ie!==null;){if(ie.key===Ze){if(Ze=he.type,Ze===y){if(ie.tag===7){p(de,ie.sibling),Re=w(ie,he.props.children),Re.return=de,de=Re;break e}}else if(ie.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===M&&ME(Ze)===ie.type){p(de,ie.sibling),Re=w(ie,he.props),tp(Re,he),Re.return=de,de=Re;break e}p(de,ie);break}else d(de,ie);ie=ie.sibling}he.type===y?(Re=Yo(he.props.children,de.mode,Re,he.key),Re.return=de,de=Re):(Re=cd(he.type,he.key,he.props,null,de.mode,Re),tp(Re,he),Re.return=de,de=Re)}return j(de);case g:e:{for(Ze=he.key;ie!==null;){if(ie.key===Ze)if(ie.tag===4&&ie.stateNode.containerInfo===he.containerInfo&&ie.stateNode.implementation===he.implementation){p(de,ie.sibling),Re=w(ie,he.children||[]),Re.return=de,de=Re;break e}else{p(de,ie);break}else d(de,ie);ie=ie.sibling}Re=Ih(he,de.mode,Re),Re.return=de,de=Re}return j(de);case M:return Ze=he._init,he=Ze(he._payload),_n(de,ie,he,Re)}if(B(he))return _t(de,ie,he,Re);if(z(he)){if(Ze=z(he),typeof Ze!="function")throw Error(r(150));return he=Ze.call(he),vt(de,ie,he,Re)}if(typeof he.then=="function")return _n(de,ie,xv(he),Re);if(he.$$typeof===_)return _n(de,ie,Gu(de,he),Re);wv(de,he)}return typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint"?(he=""+he,ie!==null&&ie.tag===6?(p(de,ie.sibling),Re=w(ie,he),Re.return=de,de=Re):(p(de,ie),Re=Tl(he,de.mode,Re),Re.return=de,de=Re),j(de)):p(de,ie)}return function(de,ie,he,Re){try{ep=0;var Ze=_n(de,ie,he,Re);return wd=null,Ze}catch(ct){if(ct===Ni||ct===pd)throw ct;var jt=Ra(29,ct,null,de.mode);return jt.lanes=Re,jt.return=de,jt}finally{}}}var Sd=PE(!0),IE=PE(!1),Eo=le(null),Mi=null;function Pl(l){var d=l.alternate;oe(_r,_r.current&1),oe(Eo,l),Mi===null&&(d===null||Qt.current!==null||d.memoizedState!==null)&&(Mi=l)}function LE(l){if(l.tag===22){if(oe(_r,_r.current),oe(Eo,l),Mi===null){var d=l.alternate;d!==null&&d.memoizedState!==null&&(Mi=l)}}else Il()}function Il(){oe(_r,_r.current),oe(Eo,Eo.current)}function Bs(l){J(Eo),Mi===l&&(Mi=null),J(_r)}var _r=le(0);function Sv(l){for(var d=l;d!==null;){if(d.tag===13){var p=d.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||mx(p)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}function T1(l,d,p,v){d=l.memoizedState,p=p(v,d),p=p==null?d:f({},d,p),l.memoizedState=p,l.lanes===0&&(l.updateQueue.baseState=p)}var R1={enqueueSetState:function(l,d,p){l=l._reactInternals;var v=oo(),w=Be(v);w.payload=d,p!=null&&(w.callback=p),d=qe(l,w,v),d!==null&&(io(d,l,v),Ke(d,l,v))},enqueueReplaceState:function(l,d,p){l=l._reactInternals;var v=oo(),w=Be(v);w.tag=1,w.payload=d,p!=null&&(w.callback=p),d=qe(l,w,v),d!==null&&(io(d,l,v),Ke(d,l,v))},enqueueForceUpdate:function(l,d){l=l._reactInternals;var p=oo(),v=Be(p);v.tag=2,d!=null&&(v.callback=d),d=qe(l,v,p),d!==null&&(io(d,l,p),Ke(d,l,p))}};function FE(l,d,p,v,w,k,j){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(v,k,j):d.prototype&&d.prototype.isPureReactComponent?!Rs(p,v)||!Rs(w,k):!0}function BE(l,d,p,v){l=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(p,v),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(p,v),d.state!==l&&R1.enqueueReplaceState(d,d.state,null)}function ec(l,d){var p=d;if("ref"in d){p={};for(var v in d)v!=="ref"&&(p[v]=d[v])}if(l=l.defaultProps){p===d&&(p=f({},p));for(var w in l)p[w]===void 0&&(p[w]=l[w])}return p}var _v=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)};function zE(l){_v(l)}function $E(l){console.error(l)}function UE(l){_v(l)}function Cv(l,d){try{var p=l.onUncaughtError;p(d.value,{componentStack:d.stack})}catch(v){setTimeout(function(){throw v})}}function VE(l,d,p){try{var v=l.onCaughtError;v(p.value,{componentStack:p.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function A1(l,d,p){return p=Be(p),p.tag=3,p.payload={element:null},p.callback=function(){Cv(l,d)},p}function jE(l){return l=Be(l),l.tag=3,l}function WE(l,d,p,v){var w=p.type.getDerivedStateFromError;if(typeof w=="function"){var k=v.value;l.payload=function(){return w(k)},l.callback=function(){VE(d,p,v)}}var j=p.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(l.callback=function(){VE(d,p,v),typeof w!="function"&&(Ul===null?Ul=new Set([this]):Ul.add(this));var Y=v.stack;this.componentDidCatch(v.value,{componentStack:Y!==null?Y:""})})}function AL(l,d,p,v,w){if(p.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(d=p.alternate,d!==null&&kl(d,p,w,!0),p=Eo.current,p!==null){switch(p.tag){case 13:return Mi===null?Z1():p.alternate===null&&Zn===0&&(Zn=3),p.flags&=-257,p.flags|=65536,p.lanes=w,v===jh?p.flags|=16384:(d=p.updateQueue,d===null?p.updateQueue=new Set([v]):d.add(v),ex(l,v,w)),!1;case 22:return p.flags|=65536,v===jh?p.flags|=16384:(d=p.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([v])},p.updateQueue=d):(p=d.retryQueue,p===null?d.retryQueue=new Set([v]):p.add(v)),ex(l,v,w)),!1}throw Error(r(435,p.tag))}return ex(l,v,w),Z1(),!1}if(tn)return d=Eo.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=w,v!==Wu&&(l=Error(r(422),{cause:v}),qu(Ea(l,p)))):(v!==Wu&&(d=Error(r(423),{cause:v}),qu(Ea(d,p))),l=l.current.alternate,l.flags|=65536,w&=-w,l.lanes|=w,v=Ea(v,p),w=A1(l.stateNode,v,w),We(l,w),Zn!==4&&(Zn=2)),!1;var k=Error(r(520),{cause:v});if(k=Ea(k,p),lp===null?lp=[k]:lp.push(k),Zn!==4&&(Zn=2),d===null)return!0;v=Ea(v,p),p=d;do{switch(p.tag){case 3:return p.flags|=65536,l=w&-w,p.lanes|=l,l=A1(p.stateNode,v,l),We(p,l),!1;case 1:if(d=p.type,k=p.stateNode,(p.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Ul===null||!Ul.has(k))))return p.flags|=65536,w&=-w,p.lanes|=w,w=jE(w),WE(w,l,p,v),We(p,w),!1}p=p.return}while(p!==null);return!1}var HE=Error(r(461)),Mr=!1;function Hr(l,d,p,v){d.child=l===null?IE(d,null,p,v):Sd(d,l.child,p,v)}function qE(l,d,p,v,w){p=p.render;var k=d.ref;if("ref"in v){var j={};for(var Y in v)Y!=="ref"&&(j[Y]=v[Y])}else j=v;return Ai(d),v=Oi(l,d,p,j,k,w),Y=ua(),l!==null&&!Mr?(Co(l,d,w),zs(l,d,w)):(tn&&Y&&Lh(d),d.flags|=1,Hr(l,d,v,w),d.child)}function GE(l,d,p,v,w){if(l===null){var k=p.type;return typeof k=="function"&&!Ph(k)&&k.defaultProps===void 0&&p.compare===null?(d.tag=15,d.type=k,KE(l,d,k,v,w)):(l=cd(p.type,null,v,d,d.mode,w),l.ref=d.ref,l.return=d,d.child=l)}if(k=l.child,!L1(l,w)){var j=k.memoizedProps;if(p=p.compare,p=p!==null?p:Rs,p(j,v)&&l.ref===d.ref)return zs(l,d,w)}return d.flags|=1,l=Ko(k,v),l.ref=d.ref,l.return=d,d.child=l}function KE(l,d,p,v,w){if(l!==null){var k=l.memoizedProps;if(Rs(k,v)&&l.ref===d.ref)if(Mr=!1,d.pendingProps=v=k,L1(l,w))(l.flags&131072)!==0&&(Mr=!0);else return d.lanes=l.lanes,zs(l,d,w)}return k1(l,d,p,v,w)}function YE(l,d,p){var v=d.pendingProps,w=v.children,k=l!==null?l.memoizedState:null;if(v.mode==="hidden"){if((d.flags&128)!==0){if(v=k!==null?k.baseLanes|p:p,l!==null){for(w=d.child=l.child,k=0;w!==null;)k=k|w.lanes|w.childLanes,w=w.sibling;d.childLanes=k&~v}else d.childLanes=0,d.child=null;return XE(l,d,v,p)}if((p&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},l!==null&&hd(d,k!==null?k.cachePool:null),k!==null?zt(d,k):Zt(),LE(d);else return d.lanes=d.childLanes=536870912,XE(l,d,k!==null?k.baseLanes|p:p,p)}else k!==null?(hd(d,k.cachePool),zt(d,k),Il(),d.memoizedState=null):(l!==null&&hd(d,null),Zt(),Il());return Hr(l,d,w,p),d.child}function XE(l,d,p,v){var w=Uh();return w=w===null?null:{parent:Vn._currentValue,pool:w},d.memoizedState={baseLanes:p,cachePool:w},l!==null&&hd(d,null),Zt(),LE(d),l!==null&&kl(l,d,v,!0),null}function Ev(l,d){var p=d.ref;if(p===null)l!==null&&l.ref!==null&&(d.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(l===null||l.ref!==p)&&(d.flags|=4194816)}}function k1(l,d,p,v,w){return Ai(d),p=Oi(l,d,p,v,void 0,w),v=ua(),l!==null&&!Mr?(Co(l,d,w),zs(l,d,w)):(tn&&v&&Lh(d),d.flags|=1,Hr(l,d,p,w),d.child)}function QE(l,d,p,v,w,k){return Ai(d),d.updateQueue=null,p=mn(d,v,p,w),sr(l),v=ua(),l!==null&&!Mr?(Co(l,d,k),zs(l,d,k)):(tn&&v&&Lh(d),d.flags|=1,Hr(l,d,p,k),d.child)}function ZE(l,d,p,v,w){if(Ai(d),d.stateNode===null){var k=El,j=p.contextType;typeof j=="object"&&j!==null&&(k=hr(j)),k=new p(v,k),d.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=R1,d.stateNode=k,k._reactInternals=d,k=d.stateNode,k.props=v,k.state=d.memoizedState,k.refs={},Se(d),j=p.contextType,k.context=typeof j=="object"&&j!==null?hr(j):El,k.state=d.memoizedState,j=p.getDerivedStateFromProps,typeof j=="function"&&(T1(d,p,j,v),k.state=d.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(j=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),j!==k.state&&R1.enqueueReplaceState(k,k.state,null),bt(d,v,k,w),ft(),k.state=d.memoizedState),typeof k.componentDidMount=="function"&&(d.flags|=4194308),v=!0}else if(l===null){k=d.stateNode;var Y=d.memoizedProps,te=ec(p,Y);k.props=te;var me=k.context,Te=p.contextType;j=El,typeof Te=="object"&&Te!==null&&(j=hr(Te));var Ne=p.getDerivedStateFromProps;Te=typeof Ne=="function"||typeof k.getSnapshotBeforeUpdate=="function",Y=d.pendingProps!==Y,Te||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(Y||me!==j)&&BE(d,k,v,j),ce=!1;var ge=d.memoizedState;k.state=ge,bt(d,v,k,w),ft(),me=d.memoizedState,Y||ge!==me||ce?(typeof Ne=="function"&&(T1(d,p,Ne,v),me=d.memoizedState),(te=ce||FE(d,p,te,v,ge,me,j))?(Te||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(d.flags|=4194308)):(typeof k.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=v,d.memoizedState=me),k.props=v,k.state=me,k.context=j,v=te):(typeof k.componentDidMount=="function"&&(d.flags|=4194308),v=!1)}else{k=d.stateNode,ke(l,d),j=d.memoizedProps,Te=ec(p,j),k.props=Te,Ne=d.pendingProps,ge=k.context,me=p.contextType,te=El,typeof me=="object"&&me!==null&&(te=hr(me)),Y=p.getDerivedStateFromProps,(me=typeof Y=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(j!==Ne||ge!==te)&&BE(d,k,v,te),ce=!1,ge=d.memoizedState,k.state=ge,bt(d,v,k,w),ft();var ve=d.memoizedState;j!==Ne||ge!==ve||ce||l!==null&&l.dependencies!==null&&dd(l.dependencies)?(typeof Y=="function"&&(T1(d,p,Y,v),ve=d.memoizedState),(Te=ce||FE(d,p,Te,v,ge,ve,te)||l!==null&&l.dependencies!==null&&dd(l.dependencies))?(me||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(v,ve,te),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(v,ve,te)),typeof k.componentDidUpdate=="function"&&(d.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof k.componentDidUpdate!="function"||j===l.memoizedProps&&ge===l.memoizedState||(d.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||j===l.memoizedProps&&ge===l.memoizedState||(d.flags|=1024),d.memoizedProps=v,d.memoizedState=ve),k.props=v,k.state=ve,k.context=te,v=Te):(typeof k.componentDidUpdate!="function"||j===l.memoizedProps&&ge===l.memoizedState||(d.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||j===l.memoizedProps&&ge===l.memoizedState||(d.flags|=1024),v=!1)}return k=v,Ev(l,d),v=(d.flags&128)!==0,k||v?(k=d.stateNode,p=v&&typeof p.getDerivedStateFromError!="function"?null:k.render(),d.flags|=1,l!==null&&v?(d.child=Sd(d,l.child,null,w),d.child=Sd(d,null,p,w)):Hr(l,d,p,w),d.memoizedState=k.state,l=d.child):l=zs(l,d,w),l}function JE(l,d,p,v){return Qo(),d.flags|=256,Hr(l,d,p,v),d.child}var N1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function O1(l){return{baseLanes:l,cachePool:Vh()}}function D1(l,d,p){return l=l!==null?l.childLanes&~p:0,d&&(l|=To),l}function e4(l,d,p){var v=d.pendingProps,w=!1,k=(d.flags&128)!==0,j;if((j=k)||(j=l!==null&&l.memoizedState===null?!1:(_r.current&2)!==0),j&&(w=!0,d.flags&=-129),j=(d.flags&32)!==0,d.flags&=-33,l===null){if(tn){if(w?Pl(d):Il(),tn){var Y=Ln,te;if(te=Y){e:{for(te=Y,Y=Vr;te.nodeType!==8;){if(!Y){Y=null;break e}if(te=ri(te.nextSibling),te===null){Y=null;break e}}Y=te}Y!==null?(d.memoizedState={dehydrated:Y,treeContext:Ds!==null?{id:Ur,overflow:Xo}:null,retryLane:536870912,hydrationErrors:null},te=Ra(18,null,null,0),te.stateNode=Y,te.return=d,d.child=te,xr=d,Ln=null,te=!0):te=!1}te||Ei(d)}if(Y=d.memoizedState,Y!==null&&(Y=Y.dehydrated,Y!==null))return mx(Y)?d.lanes=32:d.lanes=536870912,null;Bs(d)}return Y=v.children,v=v.fallback,w?(Il(),w=d.mode,Y=Tv({mode:"hidden",children:Y},w),v=Yo(v,w,p,null),Y.return=d,v.return=d,Y.sibling=v,d.child=Y,w=d.child,w.memoizedState=O1(p),w.childLanes=D1(l,j,p),d.memoizedState=N1,v):(Pl(d),M1(d,Y))}if(te=l.memoizedState,te!==null&&(Y=te.dehydrated,Y!==null)){if(k)d.flags&256?(Pl(d),d.flags&=-257,d=P1(l,d,p)):d.memoizedState!==null?(Il(),d.child=l.child,d.flags|=128,d=null):(Il(),w=v.fallback,Y=d.mode,v=Tv({mode:"visible",children:v.children},Y),w=Yo(w,Y,p,null),w.flags|=2,v.return=d,w.return=d,v.sibling=w,d.child=v,Sd(d,l.child,null,p),v=d.child,v.memoizedState=O1(p),v.childLanes=D1(l,j,p),d.memoizedState=N1,d=w);else if(Pl(d),mx(Y)){if(j=Y.nextSibling&&Y.nextSibling.dataset,j)var me=j.dgst;j=me,v=Error(r(419)),v.stack="",v.digest=j,qu({value:v,source:null,stack:null}),d=P1(l,d,p)}else if(Mr||kl(l,d,p,!1),j=(p&l.childLanes)!==0,Mr||j){if(j=Mn,j!==null&&(v=p&-p,v=(v&42)!==0?1:oh(v),v=(v&(j.suspendedLanes|p))!==0?0:v,v!==0&&v!==te.retryLane))throw te.retryLane=v,la(l,v),io(j,l,v),HE;Y.data==="$?"||Z1(),d=P1(l,d,p)}else Y.data==="$?"?(d.flags|=192,d.child=l.child,d=null):(l=te.treeContext,Ln=ri(Y.nextSibling),xr=d,tn=!0,Ps=null,Vr=!1,l!==null&&(Ia[La++]=Ur,Ia[La++]=Xo,Ia[La++]=Ds,Ur=l.id,Xo=l.overflow,Ds=d),d=M1(d,v.children),d.flags|=4096);return d}return w?(Il(),w=v.fallback,Y=d.mode,te=l.child,me=te.sibling,v=Ko(te,{mode:"hidden",children:v.children}),v.subtreeFlags=te.subtreeFlags&65011712,me!==null?w=Ko(me,w):(w=Yo(w,Y,p,null),w.flags|=2),w.return=d,v.return=d,v.sibling=w,d.child=v,v=w,w=d.child,Y=l.child.memoizedState,Y===null?Y=O1(p):(te=Y.cachePool,te!==null?(me=Vn._currentValue,te=te.parent!==me?{parent:me,pool:me}:te):te=Vh(),Y={baseLanes:Y.baseLanes|p,cachePool:te}),w.memoizedState=Y,w.childLanes=D1(l,j,p),d.memoizedState=N1,v):(Pl(d),p=l.child,l=p.sibling,p=Ko(p,{mode:"visible",children:v.children}),p.return=d,p.sibling=null,l!==null&&(j=d.deletions,j===null?(d.deletions=[l],d.flags|=16):j.push(l)),d.child=p,d.memoizedState=null,p)}function M1(l,d){return d=Tv({mode:"visible",children:d},l.mode),d.return=l,l.child=d}function Tv(l,d){return l=Ra(22,l,null,d),l.lanes=0,l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},l}function P1(l,d,p){return Sd(d,l.child,null,p),l=M1(d,d.pendingProps.children),l.flags|=2,d.memoizedState=null,l}function t4(l,d,p){l.lanes|=d;var v=l.alternate;v!==null&&(v.lanes|=d),Bh(l.return,d,p)}function I1(l,d,p,v,w){var k=l.memoizedState;k===null?l.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:v,tail:p,tailMode:w}:(k.isBackwards=d,k.rendering=null,k.renderingStartTime=0,k.last=v,k.tail=p,k.tailMode=w)}function n4(l,d,p){var v=d.pendingProps,w=v.revealOrder,k=v.tail;if(Hr(l,d,v.children,p),v=_r.current,(v&2)!==0)v=v&1|2,d.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=d.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&t4(l,p,d);else if(l.tag===19)t4(l,p,d);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===d)break e;for(;l.sibling===null;){if(l.return===null||l.return===d)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}v&=1}switch(oe(_r,v),w){case"forwards":for(p=d.child,w=null;p!==null;)l=p.alternate,l!==null&&Sv(l)===null&&(w=p),p=p.sibling;p=w,p===null?(w=d.child,d.child=null):(w=p.sibling,p.sibling=null),I1(d,!1,w,p,k);break;case"backwards":for(p=null,w=d.child,d.child=null;w!==null;){if(l=w.alternate,l!==null&&Sv(l)===null){d.child=w;break}l=w.sibling,w.sibling=p,p=w,w=l}I1(d,!0,p,null,k);break;case"together":I1(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function zs(l,d,p){if(l!==null&&(d.dependencies=l.dependencies),$l|=d.lanes,(p&d.childLanes)===0)if(l!==null){if(kl(l,d,p,!1),(p&d.childLanes)===0)return null}else return null;if(l!==null&&d.child!==l.child)throw Error(r(153));if(d.child!==null){for(l=d.child,p=Ko(l,l.pendingProps),d.child=p,p.return=d;l.sibling!==null;)l=l.sibling,p=p.sibling=Ko(l,l.pendingProps),p.return=d;p.sibling=null}return d.child}function L1(l,d){return(l.lanes&d)!==0?!0:(l=l.dependencies,!!(l!==null&&dd(l)))}function kL(l,d,p){switch(d.tag){case 3:pe(d,d.stateNode.containerInfo),Ri(d,Vn,l.memoizedState.cache),Qo();break;case 27:case 5:Ve(d);break;case 4:pe(d,d.stateNode.containerInfo);break;case 10:Ri(d,d.type,d.memoizedProps.value);break;case 13:var v=d.memoizedState;if(v!==null)return v.dehydrated!==null?(Pl(d),d.flags|=128,null):(p&d.child.childLanes)!==0?e4(l,d,p):(Pl(d),l=zs(l,d,p),l!==null?l.sibling:null);Pl(d);break;case 19:var w=(l.flags&128)!==0;if(v=(p&d.childLanes)!==0,v||(kl(l,d,p,!1),v=(p&d.childLanes)!==0),w){if(v)return n4(l,d,p);d.flags|=128}if(w=d.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),oe(_r,_r.current),v)break;return null;case 22:case 23:return d.lanes=0,YE(l,d,p);case 24:Ri(d,Vn,l.memoizedState.cache)}return zs(l,d,p)}function r4(l,d,p){if(l!==null)if(l.memoizedProps!==d.pendingProps)Mr=!0;else{if(!L1(l,p)&&(d.flags&128)===0)return Mr=!1,kL(l,d,p);Mr=(l.flags&131072)!==0}else Mr=!1,tn&&(d.flags&1048576)!==0&&ov(d,Rl,d.index);switch(d.lanes=0,d.tag){case 16:e:{l=d.pendingProps;var v=d.elementType,w=v._init;if(v=w(v._payload),d.type=v,typeof v=="function")Ph(v)?(l=ec(v,l),d.tag=1,d=ZE(null,d,v,l,p)):(d.tag=0,d=k1(null,d,v,l,p));else{if(v!=null){if(w=v.$$typeof,w===T){d.tag=11,d=qE(null,d,v,l,p);break e}else if(w===N){d.tag=14,d=GE(null,d,v,l,p);break e}}throw d=V(v)||v,Error(r(306,d,""))}}return d;case 0:return k1(l,d,d.type,d.pendingProps,p);case 1:return v=d.type,w=ec(v,d.pendingProps),ZE(l,d,v,w,p);case 3:e:{if(pe(d,d.stateNode.containerInfo),l===null)throw Error(r(387));v=d.pendingProps;var k=d.memoizedState;w=k.element,ke(l,d),bt(d,v,null,p);var j=d.memoizedState;if(v=j.cache,Ri(d,Vn,v),v!==k.cache&&zh(d,[Vn],p,!0),ft(),v=j.element,k.isDehydrated)if(k={element:v,isDehydrated:!1,cache:j.cache},d.updateQueue.baseState=k,d.memoizedState=k,d.flags&256){d=JE(l,d,v,p);break e}else if(v!==w){w=Ea(Error(r(424)),d),qu(w),d=JE(l,d,v,p);break e}else{switch(l=d.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(Ln=ri(l.firstChild),xr=d,tn=!0,Ps=null,Vr=!0,p=IE(d,null,v,p),d.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(Qo(),v===w){d=zs(l,d,p);break e}Hr(l,d,v,p)}d=d.child}return d;case 26:return Ev(l,d),l===null?(p=sT(d.type,null,d.pendingProps,null))?d.memoizedState=p:tn||(p=d.type,l=d.pendingProps,v=$v(be.current).createElement(p),v[Or]=d,v[ra]=l,Gr(v,p,l),en(v),d.stateNode=v):d.memoizedState=sT(d.type,l.memoizedProps,d.pendingProps,l.memoizedState),null;case 27:return Ve(d),l===null&&tn&&(v=d.stateNode=aT(d.type,d.pendingProps,be.current),xr=d,Vr=!0,w=Ln,Wl(d.type)?(gx=w,Ln=ri(v.firstChild)):Ln=w),Hr(l,d,d.pendingProps.children,p),Ev(l,d),l===null&&(d.flags|=4194304),d.child;case 5:return l===null&&tn&&((w=v=Ln)&&(v=rF(v,d.type,d.pendingProps,Vr),v!==null?(d.stateNode=v,xr=d,Ln=ri(v.firstChild),Vr=!1,w=!0):w=!1),w||Ei(d)),Ve(d),w=d.type,k=d.pendingProps,j=l!==null?l.memoizedProps:null,v=k.children,fx(w,k)?v=null:j!==null&&fx(w,j)&&(d.flags|=32),d.memoizedState!==null&&(w=Oi(l,d,jr,null,null,p),vp._currentValue=w),Ev(l,d),Hr(l,d,v,p),d.child;case 6:return l===null&&tn&&((l=p=Ln)&&(p=aF(p,d.pendingProps,Vr),p!==null?(d.stateNode=p,xr=d,Ln=null,l=!0):l=!1),l||Ei(d)),null;case 13:return e4(l,d,p);case 4:return pe(d,d.stateNode.containerInfo),v=d.pendingProps,l===null?d.child=Sd(d,null,v,p):Hr(l,d,v,p),d.child;case 11:return qE(l,d,d.type,d.pendingProps,p);case 7:return Hr(l,d,d.pendingProps,p),d.child;case 8:return Hr(l,d,d.pendingProps.children,p),d.child;case 12:return Hr(l,d,d.pendingProps.children,p),d.child;case 10:return v=d.pendingProps,Ri(d,d.type,v.value),Hr(l,d,v.children,p),d.child;case 9:return w=d.type._context,v=d.pendingProps.children,Ai(d),w=hr(w),v=v(w),d.flags|=1,Hr(l,d,v,p),d.child;case 14:return GE(l,d,d.type,d.pendingProps,p);case 15:return KE(l,d,d.type,d.pendingProps,p);case 19:return n4(l,d,p);case 31:return v=d.pendingProps,p=d.mode,v={mode:v.mode,children:v.children},l===null?(p=Tv(v,p),p.ref=d.ref,d.child=p,p.return=d,d=p):(p=Ko(l.child,v),p.ref=d.ref,d.child=p,p.return=d,d=p),d;case 22:return YE(l,d,p);case 24:return Ai(d),v=hr(Vn),l===null?(w=Uh(),w===null&&(w=Mn,k=fd(),w.pooledCache=k,k.refCount++,k!==null&&(w.pooledCacheLanes|=p),w=k),d.memoizedState={parent:v,cache:w},Se(d),Ri(d,Vn,w)):((l.lanes&p)!==0&&(ke(l,d),bt(d,null,null,p),ft()),w=l.memoizedState,k=d.memoizedState,w.parent!==v?(w={parent:v,cache:v},d.memoizedState=w,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=w),Ri(d,Vn,v)):(v=k.cache,Ri(d,Vn,v),v!==w.cache&&zh(d,[Vn],p,!0))),Hr(l,d,d.pendingProps.children,p),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}function $s(l){l.flags|=4}function a4(l,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!fT(d)){if(d=Eo.current,d!==null&&((nn&4194048)===nn?Mi!==null:(nn&62914560)!==nn&&(nn&536870912)===0||d!==Mi))throw L=jh,Yu;l.flags|=8192}}function Rv(l,d){d!==null&&(l.flags|=4),l.flags&16384&&(d=l.tag!==22?gg():536870912,l.lanes|=d,Td|=d)}function np(l,d){if(!tn)switch(l.tailMode){case"hidden":d=l.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?l.tail=null:p.sibling=null;break;case"collapsed":p=l.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?d||l.tail===null?l.tail=null:l.tail.sibling=null:v.sibling=null}}function Wn(l){var d=l.alternate!==null&&l.alternate.child===l.child,p=0,v=0;if(d)for(var w=l.child;w!==null;)p|=w.lanes|w.childLanes,v|=w.subtreeFlags&65011712,v|=w.flags&65011712,w.return=l,w=w.sibling;else for(w=l.child;w!==null;)p|=w.lanes|w.childLanes,v|=w.subtreeFlags,v|=w.flags,w.return=l,w=w.sibling;return l.subtreeFlags|=v,l.childLanes=p,d}function NL(l,d,p){var v=d.pendingProps;switch(Al(d),d.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wn(d),null;case 1:return Wn(d),null;case 3:return p=d.stateNode,v=null,l!==null&&(v=l.memoizedState.cache),d.memoizedState.cache!==v&&(d.flags|=2048),Jo(Vn),De(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(l===null||l.child===null)&&(Hu(d)?$s(d):l===null||l.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Ti())),Wn(d),null;case 26:return p=d.memoizedState,l===null?($s(d),p!==null?(Wn(d),a4(d,p)):(Wn(d),d.flags&=-16777217)):p?p!==l.memoizedState?($s(d),Wn(d),a4(d,p)):(Wn(d),d.flags&=-16777217):(l.memoizedProps!==v&&$s(d),Wn(d),d.flags&=-16777217),null;case 27:Pe(d),p=be.current;var w=d.type;if(l!==null&&d.stateNode!=null)l.memoizedProps!==v&&$s(d);else{if(!v){if(d.stateNode===null)throw Error(r(166));return Wn(d),null}l=re.current,Hu(d)?iv(d):(l=aT(w,v,p),d.stateNode=l,$s(d))}return Wn(d),null;case 5:if(Pe(d),p=d.type,l!==null&&d.stateNode!=null)l.memoizedProps!==v&&$s(d);else{if(!v){if(d.stateNode===null)throw Error(r(166));return Wn(d),null}if(l=re.current,Hu(d))iv(d);else{switch(w=$v(be.current),l){case 1:l=w.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:l=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":l=w.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":l=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":l=w.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof v.is=="string"?w.createElement("select",{is:v.is}):w.createElement("select"),v.multiple?l.multiple=!0:v.size&&(l.size=v.size);break;default:l=typeof v.is=="string"?w.createElement(p,{is:v.is}):w.createElement(p)}}l[Or]=d,l[ra]=v;e:for(w=d.child;w!==null;){if(w.tag===5||w.tag===6)l.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===d)break e;for(;w.sibling===null;){if(w.return===null||w.return===d)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}d.stateNode=l;e:switch(Gr(l,p,v),p){case"button":case"input":case"select":case"textarea":l=!!v.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&$s(d)}}return Wn(d),d.flags&=-16777217,null;case 6:if(l&&d.stateNode!=null)l.memoizedProps!==v&&$s(d);else{if(typeof v!="string"&&d.stateNode===null)throw Error(r(166));if(l=be.current,Hu(d)){if(l=d.stateNode,p=d.memoizedProps,v=null,w=xr,w!==null)switch(w.tag){case 27:case 5:v=w.memoizedProps}l[Or]=d,l=!!(l.nodeValue===p||v!==null&&v.suppressHydrationWarning===!0||Q4(l.nodeValue,p)),l||Ei(d)}else l=$v(l).createTextNode(v),l[Or]=d,d.stateNode=l}return Wn(d),null;case 13:if(v=d.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(w=Hu(d),v!==null&&v.dehydrated!==null){if(l===null){if(!w)throw Error(r(318));if(w=d.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[Or]=d}else Qo(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Wn(d),w=!1}else w=Ti(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=w),w=!0;if(!w)return d.flags&256?(Bs(d),d):(Bs(d),null)}if(Bs(d),(d.flags&128)!==0)return d.lanes=p,d;if(p=v!==null,l=l!==null&&l.memoizedState!==null,p){v=d.child,w=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(w=v.alternate.memoizedState.cachePool.pool);var k=null;v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(k=v.memoizedState.cachePool.pool),k!==w&&(v.flags|=2048)}return p!==l&&p&&(d.child.flags|=8192),Rv(d,d.updateQueue),Wn(d),null;case 4:return De(),l===null&&sx(d.stateNode.containerInfo),Wn(d),null;case 10:return Jo(d.type),Wn(d),null;case 19:if(J(_r),w=d.memoizedState,w===null)return Wn(d),null;if(v=(d.flags&128)!==0,k=w.rendering,k===null)if(v)np(w,!1);else{if(Zn!==0||l!==null&&(l.flags&128)!==0)for(l=d.child;l!==null;){if(k=Sv(l),k!==null){for(d.flags|=128,np(w,!1),l=k.updateQueue,d.updateQueue=l,Rv(d,l),d.subtreeFlags=0,l=p,p=d.child;p!==null;)av(p,l),p=p.sibling;return oe(_r,_r.current&1|2),d.child}l=l.sibling}w.tail!==null&&mt()>Nv&&(d.flags|=128,v=!0,np(w,!1),d.lanes=4194304)}else{if(!v)if(l=Sv(k),l!==null){if(d.flags|=128,v=!0,l=l.updateQueue,d.updateQueue=l,Rv(d,l),np(w,!0),w.tail===null&&w.tailMode==="hidden"&&!k.alternate&&!tn)return Wn(d),null}else 2*mt()-w.renderingStartTime>Nv&&p!==536870912&&(d.flags|=128,v=!0,np(w,!1),d.lanes=4194304);w.isBackwards?(k.sibling=d.child,d.child=k):(l=w.last,l!==null?l.sibling=k:d.child=k,w.last=k)}return w.tail!==null?(d=w.tail,w.rendering=d,w.tail=d.sibling,w.renderingStartTime=mt(),d.sibling=null,l=_r.current,oe(_r,v?l&1|2:l&1),d):(Wn(d),null);case 22:case 23:return Bs(d),Dt(),v=d.memoizedState!==null,l!==null?l.memoizedState!==null!==v&&(d.flags|=8192):v&&(d.flags|=8192),v?(p&536870912)!==0&&(d.flags&128)===0&&(Wn(d),d.subtreeFlags&6&&(d.flags|=8192)):Wn(d),p=d.updateQueue,p!==null&&Rv(d,p.retryQueue),p=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),v=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==p&&(d.flags|=2048),l!==null&&J(Fs),null;case 24:return p=null,l!==null&&(p=l.memoizedState.cache),d.memoizedState.cache!==p&&(d.flags|=2048),Jo(Vn),Wn(d),null;case 25:return null;case 30:return null}throw Error(r(156,d.tag))}function OL(l,d){switch(Al(d),d.tag){case 1:return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 3:return Jo(Vn),De(),l=d.flags,(l&65536)!==0&&(l&128)===0?(d.flags=l&-65537|128,d):null;case 26:case 27:case 5:return Pe(d),null;case 13:if(Bs(d),l=d.memoizedState,l!==null&&l.dehydrated!==null){if(d.alternate===null)throw Error(r(340));Qo()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 19:return J(_r),null;case 4:return De(),null;case 10:return Jo(d.type),null;case 22:case 23:return Bs(d),Dt(),l!==null&&J(Fs),l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 24:return Jo(Vn),null;case 25:return null;default:return null}}function o4(l,d){switch(Al(d),d.tag){case 3:Jo(Vn),De();break;case 26:case 27:case 5:Pe(d);break;case 4:De();break;case 13:Bs(d);break;case 19:J(_r);break;case 10:Jo(d.type);break;case 22:case 23:Bs(d),Dt(),l!==null&&J(Fs);break;case 24:Jo(Vn)}}function rp(l,d){try{var p=d.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var w=v.next;p=w;do{if((p.tag&l)===l){v=void 0;var k=p.create,j=p.inst;v=k(),j.destroy=v}p=p.next}while(p!==w)}}catch(Y){Rn(d,d.return,Y)}}function Ll(l,d,p){try{var v=d.updateQueue,w=v!==null?v.lastEffect:null;if(w!==null){var k=w.next;v=k;do{if((v.tag&l)===l){var j=v.inst,Y=j.destroy;if(Y!==void 0){j.destroy=void 0,w=d;var te=p,me=Y;try{me()}catch(Te){Rn(w,te,Te)}}}v=v.next}while(v!==k)}}catch(Te){Rn(d,d.return,Te)}}function i4(l){var d=l.updateQueue;if(d!==null){var p=l.stateNode;try{Tt(d,p)}catch(v){Rn(l,l.return,v)}}}function s4(l,d,p){p.props=ec(l.type,l.memoizedProps),p.state=l.memoizedState;try{p.componentWillUnmount()}catch(v){Rn(l,d,v)}}function ap(l,d){try{var p=l.ref;if(p!==null){switch(l.tag){case 26:case 27:case 5:var v=l.stateNode;break;case 30:v=l.stateNode;break;default:v=l.stateNode}typeof p=="function"?l.refCleanup=p(v):p.current=v}}catch(w){Rn(l,d,w)}}function Pi(l,d){var p=l.ref,v=l.refCleanup;if(p!==null)if(typeof v=="function")try{v()}catch(w){Rn(l,d,w)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(w){Rn(l,d,w)}else p.current=null}function l4(l){var d=l.type,p=l.memoizedProps,v=l.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":p.autoFocus&&v.focus();break e;case"img":p.src?v.src=p.src:p.srcSet&&(v.srcset=p.srcSet)}}catch(w){Rn(l,l.return,w)}}function F1(l,d,p){try{var v=l.stateNode;ZL(v,l.type,p,d),v[ra]=d}catch(w){Rn(l,l.return,w)}}function u4(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&Wl(l.type)||l.tag===4}function B1(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||u4(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&Wl(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function z1(l,d,p){var v=l.tag;if(v===5||v===6)l=l.stateNode,d?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(l,d):(d=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,d.appendChild(l),p=p._reactRootContainer,p!=null||d.onclick!==null||(d.onclick=zv));else if(v!==4&&(v===27&&Wl(l.type)&&(p=l.stateNode,d=null),l=l.child,l!==null))for(z1(l,d,p),l=l.sibling;l!==null;)z1(l,d,p),l=l.sibling}function Av(l,d,p){var v=l.tag;if(v===5||v===6)l=l.stateNode,d?p.insertBefore(l,d):p.appendChild(l);else if(v!==4&&(v===27&&Wl(l.type)&&(p=l.stateNode),l=l.child,l!==null))for(Av(l,d,p),l=l.sibling;l!==null;)Av(l,d,p),l=l.sibling}function c4(l){var d=l.stateNode,p=l.memoizedProps;try{for(var v=l.type,w=d.attributes;w.length;)d.removeAttributeNode(w[0]);Gr(d,v,p),d[Or]=l,d[ra]=p}catch(k){Rn(l,l.return,k)}}var Us=!1,lr=!1,$1=!1,d4=typeof WeakSet=="function"?WeakSet:Set,Pr=null;function DL(l,d){if(l=l.containerInfo,cx=qv,l=Ch(l),id(l)){if("selectionStart"in l)var p={start:l.selectionStart,end:l.selectionEnd};else e:{p=(p=l.ownerDocument)&&p.defaultView||window;var v=p.getSelection&&p.getSelection();if(v&&v.rangeCount!==0){p=v.anchorNode;var w=v.anchorOffset,k=v.focusNode;v=v.focusOffset;try{p.nodeType,k.nodeType}catch{p=null;break e}var j=0,Y=-1,te=-1,me=0,Te=0,Ne=l,ge=null;t:for(;;){for(var ve;Ne!==p||w!==0&&Ne.nodeType!==3||(Y=j+w),Ne!==k||v!==0&&Ne.nodeType!==3||(te=j+v),Ne.nodeType===3&&(j+=Ne.nodeValue.length),(ve=Ne.firstChild)!==null;)ge=Ne,Ne=ve;for(;;){if(Ne===l)break t;if(ge===p&&++me===w&&(Y=j),ge===k&&++Te===v&&(te=j),(ve=Ne.nextSibling)!==null)break;Ne=ge,ge=Ne.parentNode}Ne=ve}p=Y===-1||te===-1?null:{start:Y,end:te}}else p=null}p=p||{start:0,end:0}}else p=null;for(dx={focusedElem:l,selectionRange:p},qv=!1,Pr=d;Pr!==null;)if(d=Pr,l=d.child,(d.subtreeFlags&1024)!==0&&l!==null)l.return=d,Pr=l;else for(;Pr!==null;){switch(d=Pr,k=d.alternate,l=d.flags,d.tag){case 0:break;case 11:case 15:break;case 1:if((l&1024)!==0&&k!==null){l=void 0,p=d,w=k.memoizedProps,k=k.memoizedState,v=p.stateNode;try{var _t=ec(p.type,w,p.elementType===p.type);l=v.getSnapshotBeforeUpdate(_t,k),v.__reactInternalSnapshotBeforeUpdate=l}catch(vt){Rn(p,p.return,vt)}}break;case 3:if((l&1024)!==0){if(l=d.stateNode.containerInfo,p=l.nodeType,p===9)px(l);else if(p===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":px(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(r(163))}if(l=d.sibling,l!==null){l.return=d.return,Pr=l;break}Pr=d.return}}function f4(l,d,p){var v=p.flags;switch(p.tag){case 0:case 11:case 15:Fl(l,p),v&4&&rp(5,p);break;case 1:if(Fl(l,p),v&4)if(l=p.stateNode,d===null)try{l.componentDidMount()}catch(j){Rn(p,p.return,j)}else{var w=ec(p.type,d.memoizedProps);d=d.memoizedState;try{l.componentDidUpdate(w,d,l.__reactInternalSnapshotBeforeUpdate)}catch(j){Rn(p,p.return,j)}}v&64&&i4(p),v&512&&ap(p,p.return);break;case 3:if(Fl(l,p),v&64&&(l=p.updateQueue,l!==null)){if(d=null,p.child!==null)switch(p.child.tag){case 27:case 5:d=p.child.stateNode;break;case 1:d=p.child.stateNode}try{Tt(l,d)}catch(j){Rn(p,p.return,j)}}break;case 27:d===null&&v&4&&c4(p);case 26:case 5:Fl(l,p),d===null&&v&4&&l4(p),v&512&&ap(p,p.return);break;case 12:Fl(l,p);break;case 13:Fl(l,p),v&4&&m4(l,p),v&64&&(l=p.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(p=UL.bind(null,p),oF(l,p))));break;case 22:if(v=p.memoizedState!==null||Us,!v){d=d!==null&&d.memoizedState!==null||lr,w=Us;var k=lr;Us=v,(lr=d)&&!k?Bl(l,p,(p.subtreeFlags&8772)!==0):Fl(l,p),Us=w,lr=k}break;case 30:break;default:Fl(l,p)}}function h4(l){var d=l.alternate;d!==null&&(l.alternate=null,h4(d)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(d=l.stateNode,d!==null&&uh(d)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var Bn=null,Ba=!1;function Vs(l,d,p){for(p=p.child;p!==null;)p4(l,d,p),p=p.sibling}function p4(l,d,p){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(je,p)}catch{}switch(p.tag){case 26:lr||Pi(p,d),Vs(l,d,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:lr||Pi(p,d);var v=Bn,w=Ba;Wl(p.type)&&(Bn=p.stateNode,Ba=!1),Vs(l,d,p),hp(p.stateNode),Bn=v,Ba=w;break;case 5:lr||Pi(p,d);case 6:if(v=Bn,w=Ba,Bn=null,Vs(l,d,p),Bn=v,Ba=w,Bn!==null)if(Ba)try{(Bn.nodeType===9?Bn.body:Bn.nodeName==="HTML"?Bn.ownerDocument.body:Bn).removeChild(p.stateNode)}catch(k){Rn(p,d,k)}else try{Bn.removeChild(p.stateNode)}catch(k){Rn(p,d,k)}break;case 18:Bn!==null&&(Ba?(l=Bn,nT(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,p.stateNode),wp(l)):nT(Bn,p.stateNode));break;case 4:v=Bn,w=Ba,Bn=p.stateNode.containerInfo,Ba=!0,Vs(l,d,p),Bn=v,Ba=w;break;case 0:case 11:case 14:case 15:lr||Ll(2,p,d),lr||Ll(4,p,d),Vs(l,d,p);break;case 1:lr||(Pi(p,d),v=p.stateNode,typeof v.componentWillUnmount=="function"&&s4(p,d,v)),Vs(l,d,p);break;case 21:Vs(l,d,p);break;case 22:lr=(v=lr)||p.memoizedState!==null,Vs(l,d,p),lr=v;break;default:Vs(l,d,p)}}function m4(l,d){if(d.memoizedState===null&&(l=d.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{wp(l)}catch(p){Rn(d,d.return,p)}}function ML(l){switch(l.tag){case 13:case 19:var d=l.stateNode;return d===null&&(d=l.stateNode=new d4),d;case 22:return l=l.stateNode,d=l._retryCache,d===null&&(d=l._retryCache=new d4),d;default:throw Error(r(435,l.tag))}}function U1(l,d){var p=ML(l);d.forEach(function(v){var w=VL.bind(null,l,v);p.has(v)||(p.add(v),v.then(w,w))})}function no(l,d){var p=d.deletions;if(p!==null)for(var v=0;v<p.length;v++){var w=p[v],k=l,j=d,Y=j;e:for(;Y!==null;){switch(Y.tag){case 27:if(Wl(Y.type)){Bn=Y.stateNode,Ba=!1;break e}break;case 5:Bn=Y.stateNode,Ba=!1;break e;case 3:case 4:Bn=Y.stateNode.containerInfo,Ba=!0;break e}Y=Y.return}if(Bn===null)throw Error(r(160));p4(k,j,w),Bn=null,Ba=!1,k=w.alternate,k!==null&&(k.return=null),w.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)g4(d,l),d=d.sibling}var ni=null;function g4(l,d){var p=l.alternate,v=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:no(d,l),ro(l),v&4&&(Ll(3,l,l.return),rp(3,l),Ll(5,l,l.return));break;case 1:no(d,l),ro(l),v&512&&(lr||p===null||Pi(p,p.return)),v&64&&Us&&(l=l.updateQueue,l!==null&&(v=l.callbacks,v!==null&&(p=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=p===null?v:p.concat(v))));break;case 26:var w=ni;if(no(d,l),ro(l),v&512&&(lr||p===null||Pi(p,p.return)),v&4){var k=p!==null?p.memoizedState:null;if(v=l.memoizedState,p===null)if(v===null)if(l.stateNode===null){e:{v=l.type,p=l.memoizedProps,w=w.ownerDocument||w;t:switch(v){case"title":k=w.getElementsByTagName("title")[0],(!k||k[gi]||k[Or]||k.namespaceURI==="http://www.w3.org/2000/svg"||k.hasAttribute("itemprop"))&&(k=w.createElement(v),w.head.insertBefore(k,w.querySelector("head > title"))),Gr(k,v,p),k[Or]=l,en(k),v=k;break e;case"link":var j=cT("link","href",w).get(v+(p.href||""));if(j){for(var Y=0;Y<j.length;Y++)if(k=j[Y],k.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&k.getAttribute("rel")===(p.rel==null?null:p.rel)&&k.getAttribute("title")===(p.title==null?null:p.title)&&k.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){j.splice(Y,1);break t}}k=w.createElement(v),Gr(k,v,p),w.head.appendChild(k);break;case"meta":if(j=cT("meta","content",w).get(v+(p.content||""))){for(Y=0;Y<j.length;Y++)if(k=j[Y],k.getAttribute("content")===(p.content==null?null:""+p.content)&&k.getAttribute("name")===(p.name==null?null:p.name)&&k.getAttribute("property")===(p.property==null?null:p.property)&&k.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&k.getAttribute("charset")===(p.charSet==null?null:p.charSet)){j.splice(Y,1);break t}}k=w.createElement(v),Gr(k,v,p),w.head.appendChild(k);break;default:throw Error(r(468,v))}k[Or]=l,en(k),v=k}l.stateNode=v}else dT(w,l.type,l.stateNode);else l.stateNode=uT(w,v,l.memoizedProps);else k!==v?(k===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):k.count--,v===null?dT(w,l.type,l.stateNode):uT(w,v,l.memoizedProps)):v===null&&l.stateNode!==null&&F1(l,l.memoizedProps,p.memoizedProps)}break;case 27:no(d,l),ro(l),v&512&&(lr||p===null||Pi(p,p.return)),p!==null&&v&4&&F1(l,l.memoizedProps,p.memoizedProps);break;case 5:if(no(d,l),ro(l),v&512&&(lr||p===null||Pi(p,p.return)),l.flags&32){w=l.stateNode;try{eo(w,"")}catch(ve){Rn(l,l.return,ve)}}v&4&&l.stateNode!=null&&(w=l.memoizedProps,F1(l,w,p!==null?p.memoizedProps:w)),v&1024&&($1=!0);break;case 6:if(no(d,l),ro(l),v&4){if(l.stateNode===null)throw Error(r(162));v=l.memoizedProps,p=l.stateNode;try{p.nodeValue=v}catch(ve){Rn(l,l.return,ve)}}break;case 3:if(jv=null,w=ni,ni=Uv(d.containerInfo),no(d,l),ni=w,ro(l),v&4&&p!==null&&p.memoizedState.isDehydrated)try{wp(d.containerInfo)}catch(ve){Rn(l,l.return,ve)}$1&&($1=!1,v4(l));break;case 4:v=ni,ni=Uv(l.stateNode.containerInfo),no(d,l),ro(l),ni=v;break;case 12:no(d,l),ro(l);break;case 13:no(d,l),ro(l),l.child.flags&8192&&l.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(G1=mt()),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,U1(l,v)));break;case 22:w=l.memoizedState!==null;var te=p!==null&&p.memoizedState!==null,me=Us,Te=lr;if(Us=me||w,lr=Te||te,no(d,l),lr=Te,Us=me,ro(l),v&8192)e:for(d=l.stateNode,d._visibility=w?d._visibility&-2:d._visibility|1,w&&(p===null||te||Us||lr||tc(l)),p=null,d=l;;){if(d.tag===5||d.tag===26){if(p===null){te=p=d;try{if(k=te.stateNode,w)j=k.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{Y=te.stateNode;var Ne=te.memoizedProps.style,ge=Ne!=null&&Ne.hasOwnProperty("display")?Ne.display:null;Y.style.display=ge==null||typeof ge=="boolean"?"":(""+ge).trim()}}catch(ve){Rn(te,te.return,ve)}}}else if(d.tag===6){if(p===null){te=d;try{te.stateNode.nodeValue=w?"":te.memoizedProps}catch(ve){Rn(te,te.return,ve)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===l)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break e;for(;d.sibling===null;){if(d.return===null||d.return===l)break e;p===d&&(p=null),d=d.return}p===d&&(p=null),d.sibling.return=d.return,d=d.sibling}v&4&&(v=l.updateQueue,v!==null&&(p=v.retryQueue,p!==null&&(v.retryQueue=null,U1(l,p))));break;case 19:no(d,l),ro(l),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,U1(l,v)));break;case 30:break;case 21:break;default:no(d,l),ro(l)}}function ro(l){var d=l.flags;if(d&2){try{for(var p,v=l.return;v!==null;){if(u4(v)){p=v;break}v=v.return}if(p==null)throw Error(r(160));switch(p.tag){case 27:var w=p.stateNode,k=B1(l);Av(l,k,w);break;case 5:var j=p.stateNode;p.flags&32&&(eo(j,""),p.flags&=-33);var Y=B1(l);Av(l,Y,j);break;case 3:case 4:var te=p.stateNode.containerInfo,me=B1(l);z1(l,me,te);break;default:throw Error(r(161))}}catch(Te){Rn(l,l.return,Te)}l.flags&=-3}d&4096&&(l.flags&=-4097)}function v4(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var d=l;v4(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),l=l.sibling}}function Fl(l,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)f4(l,d.alternate,d),d=d.sibling}function tc(l){for(l=l.child;l!==null;){var d=l;switch(d.tag){case 0:case 11:case 14:case 15:Ll(4,d,d.return),tc(d);break;case 1:Pi(d,d.return);var p=d.stateNode;typeof p.componentWillUnmount=="function"&&s4(d,d.return,p),tc(d);break;case 27:hp(d.stateNode);case 26:case 5:Pi(d,d.return),tc(d);break;case 22:d.memoizedState===null&&tc(d);break;case 30:tc(d);break;default:tc(d)}l=l.sibling}}function Bl(l,d,p){for(p=p&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var v=d.alternate,w=l,k=d,j=k.flags;switch(k.tag){case 0:case 11:case 15:Bl(w,k,p),rp(4,k);break;case 1:if(Bl(w,k,p),v=k,w=v.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(me){Rn(v,v.return,me)}if(v=k,w=v.updateQueue,w!==null){var Y=v.stateNode;try{var te=w.shared.hiddenCallbacks;if(te!==null)for(w.shared.hiddenCallbacks=null,w=0;w<te.length;w++)St(te[w],Y)}catch(me){Rn(v,v.return,me)}}p&&j&64&&i4(k),ap(k,k.return);break;case 27:c4(k);case 26:case 5:Bl(w,k,p),p&&v===null&&j&4&&l4(k),ap(k,k.return);break;case 12:Bl(w,k,p);break;case 13:Bl(w,k,p),p&&j&4&&m4(w,k);break;case 22:k.memoizedState===null&&Bl(w,k,p),ap(k,k.return);break;case 30:break;default:Bl(w,k,p)}d=d.sibling}}function V1(l,d){var p=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),l=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(l=d.memoizedState.cachePool.pool),l!==p&&(l!=null&&l.refCount++,p!=null&&Ls(p))}function j1(l,d){l=null,d.alternate!==null&&(l=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==l&&(d.refCount++,l!=null&&Ls(l))}function Ii(l,d,p,v){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)y4(l,d,p,v),d=d.sibling}function y4(l,d,p,v){var w=d.flags;switch(d.tag){case 0:case 11:case 15:Ii(l,d,p,v),w&2048&&rp(9,d);break;case 1:Ii(l,d,p,v);break;case 3:Ii(l,d,p,v),w&2048&&(l=null,d.alternate!==null&&(l=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==l&&(d.refCount++,l!=null&&Ls(l)));break;case 12:if(w&2048){Ii(l,d,p,v),l=d.stateNode;try{var k=d.memoizedProps,j=k.id,Y=k.onPostCommit;typeof Y=="function"&&Y(j,d.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(te){Rn(d,d.return,te)}}else Ii(l,d,p,v);break;case 13:Ii(l,d,p,v);break;case 23:break;case 22:k=d.stateNode,j=d.alternate,d.memoizedState!==null?k._visibility&2?Ii(l,d,p,v):op(l,d):k._visibility&2?Ii(l,d,p,v):(k._visibility|=2,_d(l,d,p,v,(d.subtreeFlags&10256)!==0)),w&2048&&V1(j,d);break;case 24:Ii(l,d,p,v),w&2048&&j1(d.alternate,d);break;default:Ii(l,d,p,v)}}function _d(l,d,p,v,w){for(w=w&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var k=l,j=d,Y=p,te=v,me=j.flags;switch(j.tag){case 0:case 11:case 15:_d(k,j,Y,te,w),rp(8,j);break;case 23:break;case 22:var Te=j.stateNode;j.memoizedState!==null?Te._visibility&2?_d(k,j,Y,te,w):op(k,j):(Te._visibility|=2,_d(k,j,Y,te,w)),w&&me&2048&&V1(j.alternate,j);break;case 24:_d(k,j,Y,te,w),w&&me&2048&&j1(j.alternate,j);break;default:_d(k,j,Y,te,w)}d=d.sibling}}function op(l,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var p=l,v=d,w=v.flags;switch(v.tag){case 22:op(p,v),w&2048&&V1(v.alternate,v);break;case 24:op(p,v),w&2048&&j1(v.alternate,v);break;default:op(p,v)}d=d.sibling}}var ip=8192;function Cd(l){if(l.subtreeFlags&ip)for(l=l.child;l!==null;)b4(l),l=l.sibling}function b4(l){switch(l.tag){case 26:Cd(l),l.flags&ip&&l.memoizedState!==null&&yF(ni,l.memoizedState,l.memoizedProps);break;case 5:Cd(l);break;case 3:case 4:var d=ni;ni=Uv(l.stateNode.containerInfo),Cd(l),ni=d;break;case 22:l.memoizedState===null&&(d=l.alternate,d!==null&&d.memoizedState!==null?(d=ip,ip=16777216,Cd(l),ip=d):Cd(l));break;default:Cd(l)}}function x4(l){var d=l.alternate;if(d!==null&&(l=d.child,l!==null)){d.child=null;do d=l.sibling,l.sibling=null,l=d;while(l!==null)}}function sp(l){var d=l.deletions;if((l.flags&16)!==0){if(d!==null)for(var p=0;p<d.length;p++){var v=d[p];Pr=v,S4(v,l)}x4(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)w4(l),l=l.sibling}function w4(l){switch(l.tag){case 0:case 11:case 15:sp(l),l.flags&2048&&Ll(9,l,l.return);break;case 3:sp(l);break;case 12:sp(l);break;case 22:var d=l.stateNode;l.memoizedState!==null&&d._visibility&2&&(l.return===null||l.return.tag!==13)?(d._visibility&=-3,kv(l)):sp(l);break;default:sp(l)}}function kv(l){var d=l.deletions;if((l.flags&16)!==0){if(d!==null)for(var p=0;p<d.length;p++){var v=d[p];Pr=v,S4(v,l)}x4(l)}for(l=l.child;l!==null;){switch(d=l,d.tag){case 0:case 11:case 15:Ll(8,d,d.return),kv(d);break;case 22:p=d.stateNode,p._visibility&2&&(p._visibility&=-3,kv(d));break;default:kv(d)}l=l.sibling}}function S4(l,d){for(;Pr!==null;){var p=Pr;switch(p.tag){case 0:case 11:case 15:Ll(8,p,d);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var v=p.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:Ls(p.memoizedState.cache)}if(v=p.child,v!==null)v.return=p,Pr=v;else e:for(p=l;Pr!==null;){v=Pr;var w=v.sibling,k=v.return;if(h4(v),v===p){Pr=null;break e}if(w!==null){w.return=k,Pr=w;break e}Pr=k}}}var PL={getCacheForType:function(l){var d=hr(Vn),p=d.data.get(l);return p===void 0&&(p=l(),d.data.set(l,p)),p}},IL=typeof WeakMap=="function"?WeakMap:Map,bn=0,Mn=null,Kt=null,nn=0,xn=0,ao=null,zl=!1,Ed=!1,W1=!1,js=0,Zn=0,$l=0,nc=0,H1=0,To=0,Td=0,lp=null,za=null,q1=!1,G1=0,Nv=1/0,Ov=null,Ul=null,qr=0,Vl=null,Rd=null,Ad=0,K1=0,Y1=null,_4=null,up=0,X1=null;function oo(){if((bn&2)!==0&&nn!==0)return nn&-nn;if(F.T!==null){var l=Aa;return l!==0?l:rx()}return bg()}function C4(){To===0&&(To=(nn&536870912)===0||tn?mg():536870912);var l=Eo.current;return l!==null&&(l.flags|=32),To}function io(l,d,p){(l===Mn&&(xn===2||xn===9)||l.cancelPendingCommit!==null)&&(kd(l,0),jl(l,nn,To,!1)),mi(l,p),((bn&2)===0||l!==Mn)&&(l===Mn&&((bn&2)===0&&(nc|=p),Zn===4&&jl(l,nn,To,!1)),Li(l))}function E4(l,d,p){if((bn&6)!==0)throw Error(r(327));var v=!p&&(d&124)===0&&(d&l.expiredLanes)===0||pi(l,d),w=v?BL(l,d):J1(l,d,!0),k=v;do{if(w===0){Ed&&!v&&jl(l,d,0,!1);break}else{if(p=l.current.alternate,k&&!LL(p)){w=J1(l,d,!1),k=!1;continue}if(w===2){if(k=d,l.errorRecoveryDisabledLanes&k)var j=0;else j=l.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){d=j;e:{var Y=l;w=lp;var te=Y.current.memoizedState.isDehydrated;if(te&&(kd(Y,j).flags|=256),j=J1(Y,j,!1),j!==2){if(W1&&!te){Y.errorRecoveryDisabledLanes|=k,nc|=k,w=4;break e}k=za,za=w,k!==null&&(za===null?za=k:za.push.apply(za,k))}w=j}if(k=!1,w!==2)continue}}if(w===1){kd(l,0),jl(l,d,0,!0);break}e:{switch(v=l,k=w,k){case 0:case 1:throw Error(r(345));case 4:if((d&4194048)!==d)break;case 6:jl(v,d,To,!zl);break e;case 2:za=null;break;case 3:case 5:break;default:throw Error(r(329))}if((d&62914560)===d&&(w=G1+300-mt(),10<w)){if(jl(v,d,To,!zl),Za(v,0,!0)!==0)break e;v.timeoutHandle=eT(T4.bind(null,v,p,za,Ov,q1,d,To,nc,Td,zl,k,2,-0,0),w);break e}T4(v,p,za,Ov,q1,d,To,nc,Td,zl,k,0,-0,0)}}break}while(!0);Li(l)}function T4(l,d,p,v,w,k,j,Y,te,me,Te,Ne,ge,ve){if(l.timeoutHandle=-1,Ne=d.subtreeFlags,(Ne&8192||(Ne&16785408)===16785408)&&(gp={stylesheets:null,count:0,unsuspend:vF},b4(d),Ne=bF(),Ne!==null)){l.cancelPendingCommit=Ne(M4.bind(null,l,d,k,p,v,w,j,Y,te,Te,1,ge,ve)),jl(l,k,j,!me);return}M4(l,d,k,p,v,w,j,Y,te)}function LL(l){for(var d=l;;){var p=d.tag;if((p===0||p===11||p===15)&&d.flags&16384&&(p=d.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var v=0;v<p.length;v++){var w=p[v],k=w.getSnapshot;w=w.value;try{if(!sa(k(),w))return!1}catch{return!1}}if(p=d.child,d.subtreeFlags&16384&&p!==null)p.return=d,d=p;else{if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function jl(l,d,p,v){d&=~H1,d&=~nc,l.suspendedLanes|=d,l.pingedLanes&=~d,v&&(l.warmLanes|=d),v=l.expirationTimes;for(var w=d;0<w;){var k=31-Le(w),j=1<<k;v[k]=-1,w&=~j}p!==0&&ah(l,p,d)}function Dv(){return(bn&6)===0?(cp(0),!1):!0}function Q1(){if(Kt!==null){if(xn===0)var l=Kt.return;else l=Kt,Zo=Is=null,Dl(l),wd=null,ep=0,l=Kt;for(;l!==null;)o4(l.alternate,l),l=l.return;Kt=null}}function kd(l,d){var p=l.timeoutHandle;p!==-1&&(l.timeoutHandle=-1,eF(p)),p=l.cancelPendingCommit,p!==null&&(l.cancelPendingCommit=null,p()),Q1(),Mn=l,Kt=p=Ko(l.current,null),nn=d,xn=0,ao=null,zl=!1,Ed=pi(l,d),W1=!1,Td=To=H1=nc=$l=Zn=0,za=lp=null,q1=!1,(d&8)!==0&&(d|=d&32);var v=l.entangledLanes;if(v!==0)for(l=l.entanglements,v&=d;0<v;){var w=31-Le(v),k=1<<w;d|=l[w],v&=~k}return js=d,sd(),p}function R4(l,d){Ye=null,F.H=bv,d===Ni||d===pd?(d=X(),xn=3):d===Yu?(d=X(),xn=4):xn=d===HE?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,ao=d,Kt===null&&(Zn=1,Cv(l,Ea(d,l.current)))}function A4(){var l=F.H;return F.H=bv,l===null?bv:l}function k4(){var l=F.A;return F.A=PL,l}function Z1(){Zn=4,zl||(nn&4194048)!==nn&&Eo.current!==null||(Ed=!0),($l&134217727)===0&&(nc&134217727)===0||Mn===null||jl(Mn,nn,To,!1)}function J1(l,d,p){var v=bn;bn|=2;var w=A4(),k=k4();(Mn!==l||nn!==d)&&(Ov=null,kd(l,d)),d=!1;var j=Zn;e:do try{if(xn!==0&&Kt!==null){var Y=Kt,te=ao;switch(xn){case 8:Q1(),j=6;break e;case 3:case 2:case 9:case 6:Eo.current===null&&(d=!0);var me=xn;if(xn=0,ao=null,Nd(l,Y,te,me),p&&Ed){j=0;break e}break;default:me=xn,xn=0,ao=null,Nd(l,Y,te,me)}}FL(),j=Zn;break}catch(Te){R4(l,Te)}while(!0);return d&&l.shellSuspendCounter++,Zo=Is=null,bn=v,F.H=w,F.A=k,Kt===null&&(Mn=null,nn=0,sd()),j}function FL(){for(;Kt!==null;)N4(Kt)}function BL(l,d){var p=bn;bn|=2;var v=A4(),w=k4();Mn!==l||nn!==d?(Ov=null,Nv=mt()+500,kd(l,d)):Ed=pi(l,d);e:do try{if(xn!==0&&Kt!==null){d=Kt;var k=ao;t:switch(xn){case 1:xn=0,ao=null,Nd(l,d,k,1);break;case 2:case 9:if(Ol(k)){xn=0,ao=null,O4(d);break}d=function(){xn!==2&&xn!==9||Mn!==l||(xn=7),Li(l)},k.then(d,d);break e;case 3:xn=7;break e;case 4:xn=5;break e;case 7:Ol(k)?(xn=0,ao=null,O4(d)):(xn=0,ao=null,Nd(l,d,k,7));break;case 5:var j=null;switch(Kt.tag){case 26:j=Kt.memoizedState;case 5:case 27:var Y=Kt;if(!j||fT(j)){xn=0,ao=null;var te=Y.sibling;if(te!==null)Kt=te;else{var me=Y.return;me!==null?(Kt=me,Mv(me)):Kt=null}break t}}xn=0,ao=null,Nd(l,d,k,5);break;case 6:xn=0,ao=null,Nd(l,d,k,6);break;case 8:Q1(),Zn=6;break e;default:throw Error(r(462))}}zL();break}catch(Te){R4(l,Te)}while(!0);return Zo=Is=null,F.H=v,F.A=w,bn=p,Kt!==null?0:(Mn=null,nn=0,sd(),Zn)}function zL(){for(;Kt!==null&&!Ue();)N4(Kt)}function N4(l){var d=r4(l.alternate,l,js);l.memoizedProps=l.pendingProps,d===null?Mv(l):Kt=d}function O4(l){var d=l,p=d.alternate;switch(d.tag){case 15:case 0:d=QE(p,d,d.pendingProps,d.type,void 0,nn);break;case 11:d=QE(p,d,d.pendingProps,d.type.render,d.ref,nn);break;case 5:Dl(d);default:o4(p,d),d=Kt=av(d,js),d=r4(p,d,js)}l.memoizedProps=l.pendingProps,d===null?Mv(l):Kt=d}function Nd(l,d,p,v){Zo=Is=null,Dl(d),wd=null,ep=0;var w=d.return;try{if(AL(l,w,d,p,nn)){Zn=1,Cv(l,Ea(p,l.current)),Kt=null;return}}catch(k){if(w!==null)throw Kt=w,k;Zn=1,Cv(l,Ea(p,l.current)),Kt=null;return}d.flags&32768?(tn||v===1?l=!0:Ed||(nn&536870912)!==0?l=!1:(zl=l=!0,(v===2||v===9||v===3||v===6)&&(v=Eo.current,v!==null&&v.tag===13&&(v.flags|=16384))),D4(d,l)):Mv(d)}function Mv(l){var d=l;do{if((d.flags&32768)!==0){D4(d,zl);return}l=d.return;var p=NL(d.alternate,d,js);if(p!==null){Kt=p;return}if(d=d.sibling,d!==null){Kt=d;return}Kt=d=l}while(d!==null);Zn===0&&(Zn=5)}function D4(l,d){do{var p=OL(l.alternate,l);if(p!==null){p.flags&=32767,Kt=p;return}if(p=l.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!d&&(l=l.sibling,l!==null)){Kt=l;return}Kt=l=p}while(l!==null);Zn=6,Kt=null}function M4(l,d,p,v,w,k,j,Y,te){l.cancelPendingCommit=null;do Pv();while(qr!==0);if((bn&6)!==0)throw Error(r(327));if(d!==null){if(d===l.current)throw Error(r(177));if(k=d.lanes|d.childLanes,k|=Oh,vg(l,p,k,j,Y,te),l===Mn&&(Kt=Mn=null,nn=0),Rd=d,Vl=l,Ad=p,K1=k,Y1=w,_4=v,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,jL(yt,function(){return B4(),null})):(l.callbackNode=null,l.callbackPriority=0),v=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||v){v=F.T,F.T=null,w=U.p,U.p=2,j=bn,bn|=4;try{DL(l,d,p)}finally{bn=j,U.p=w,F.T=v}}qr=1,P4(),I4(),L4()}}function P4(){if(qr===1){qr=0;var l=Vl,d=Rd,p=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||p){p=F.T,F.T=null;var v=U.p;U.p=2;var w=bn;bn|=4;try{g4(d,l);var k=dx,j=Ch(l.containerInfo),Y=k.focusedElem,te=k.selectionRange;if(j!==Y&&Y&&Y.ownerDocument&&Zg(Y.ownerDocument.documentElement,Y)){if(te!==null&&id(Y)){var me=te.start,Te=te.end;if(Te===void 0&&(Te=me),"selectionStart"in Y)Y.selectionStart=me,Y.selectionEnd=Math.min(Te,Y.value.length);else{var Ne=Y.ownerDocument||document,ge=Ne&&Ne.defaultView||window;if(ge.getSelection){var ve=ge.getSelection(),_t=Y.textContent.length,vt=Math.min(te.start,_t),_n=te.end===void 0?vt:Math.min(te.end,_t);!ve.extend&&vt>_n&&(j=_n,_n=vt,vt=j);var de=Qg(Y,vt),ie=Qg(Y,_n);if(de&&ie&&(ve.rangeCount!==1||ve.anchorNode!==de.node||ve.anchorOffset!==de.offset||ve.focusNode!==ie.node||ve.focusOffset!==ie.offset)){var he=Ne.createRange();he.setStart(de.node,de.offset),ve.removeAllRanges(),vt>_n?(ve.addRange(he),ve.extend(ie.node,ie.offset)):(he.setEnd(ie.node,ie.offset),ve.addRange(he))}}}}for(Ne=[],ve=Y;ve=ve.parentNode;)ve.nodeType===1&&Ne.push({element:ve,left:ve.scrollLeft,top:ve.scrollTop});for(typeof Y.focus=="function"&&Y.focus(),Y=0;Y<Ne.length;Y++){var Re=Ne[Y];Re.element.scrollLeft=Re.left,Re.element.scrollTop=Re.top}}qv=!!cx,dx=cx=null}finally{bn=w,U.p=v,F.T=p}}l.current=d,qr=2}}function I4(){if(qr===2){qr=0;var l=Vl,d=Rd,p=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||p){p=F.T,F.T=null;var v=U.p;U.p=2;var w=bn;bn|=4;try{f4(l,d.alternate,d)}finally{bn=w,U.p=v,F.T=p}}qr=3}}function L4(){if(qr===4||qr===3){qr=0,st();var l=Vl,d=Rd,p=Ad,v=_4;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?qr=5:(qr=0,Rd=Vl=null,F4(l,l.pendingLanes));var w=l.pendingLanes;if(w===0&&(Ul=null),ih(p),d=d.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(je,d,void 0,(d.current.flags&128)===128)}catch{}if(v!==null){d=F.T,w=U.p,U.p=2,F.T=null;try{for(var k=l.onRecoverableError,j=0;j<v.length;j++){var Y=v[j];k(Y.value,{componentStack:Y.stack})}}finally{F.T=d,U.p=w}}(Ad&3)!==0&&Pv(),Li(l),w=l.pendingLanes,(p&4194090)!==0&&(w&42)!==0?l===X1?up++:(up=0,X1=l):up=0,cp(0)}}function F4(l,d){(l.pooledCacheLanes&=d)===0&&(d=l.pooledCache,d!=null&&(l.pooledCache=null,Ls(d)))}function Pv(l){return P4(),I4(),L4(),B4()}function B4(){if(qr!==5)return!1;var l=Vl,d=K1;K1=0;var p=ih(Ad),v=F.T,w=U.p;try{U.p=32>p?32:p,F.T=null,p=Y1,Y1=null;var k=Vl,j=Ad;if(qr=0,Rd=Vl=null,Ad=0,(bn&6)!==0)throw Error(r(331));var Y=bn;if(bn|=4,w4(k.current),y4(k,k.current,j,p),bn=Y,cp(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(je,k)}catch{}return!0}finally{U.p=w,F.T=v,F4(l,d)}}function z4(l,d,p){d=Ea(p,d),d=A1(l.stateNode,d,2),l=qe(l,d,2),l!==null&&(mi(l,2),Li(l))}function Rn(l,d,p){if(l.tag===3)z4(l,l,p);else for(;d!==null;){if(d.tag===3){z4(d,l,p);break}else if(d.tag===1){var v=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Ul===null||!Ul.has(v))){l=Ea(p,l),p=jE(2),v=qe(d,p,2),v!==null&&(WE(p,v,d,l),mi(v,2),Li(v));break}}d=d.return}}function ex(l,d,p){var v=l.pingCache;if(v===null){v=l.pingCache=new IL;var w=new Set;v.set(d,w)}else w=v.get(d),w===void 0&&(w=new Set,v.set(d,w));w.has(p)||(W1=!0,w.add(p),l=$L.bind(null,l,d,p),d.then(l,l))}function $L(l,d,p){var v=l.pingCache;v!==null&&v.delete(d),l.pingedLanes|=l.suspendedLanes&p,l.warmLanes&=~p,Mn===l&&(nn&p)===p&&(Zn===4||Zn===3&&(nn&62914560)===nn&&300>mt()-G1?(bn&2)===0&&kd(l,0):H1|=p,Td===nn&&(Td=0)),Li(l)}function $4(l,d){d===0&&(d=gg()),l=la(l,d),l!==null&&(mi(l,d),Li(l))}function UL(l){var d=l.memoizedState,p=0;d!==null&&(p=d.retryLane),$4(l,p)}function VL(l,d){var p=0;switch(l.tag){case 13:var v=l.stateNode,w=l.memoizedState;w!==null&&(p=w.retryLane);break;case 19:v=l.stateNode;break;case 22:v=l.stateNode._retryCache;break;default:throw Error(r(314))}v!==null&&v.delete(d),$4(l,p)}function jL(l,d){return Ce(l,d)}var Iv=null,Od=null,tx=!1,Lv=!1,nx=!1,rc=0;function Li(l){l!==Od&&l.next===null&&(Od===null?Iv=Od=l:Od=Od.next=l),Lv=!0,tx||(tx=!0,HL())}function cp(l,d){if(!nx&&Lv){nx=!0;do for(var p=!1,v=Iv;v!==null;){if(l!==0){var w=v.pendingLanes;if(w===0)var k=0;else{var j=v.suspendedLanes,Y=v.pingedLanes;k=(1<<31-Le(42|l)+1)-1,k&=w&~(j&~Y),k=k&201326741?k&201326741|1:k?k|2:0}k!==0&&(p=!0,W4(v,k))}else k=nn,k=Za(v,v===Mn?k:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(k&3)===0||pi(v,k)||(p=!0,W4(v,k));v=v.next}while(p);nx=!1}}function WL(){U4()}function U4(){Lv=tx=!1;var l=0;rc!==0&&(JL()&&(l=rc),rc=0);for(var d=mt(),p=null,v=Iv;v!==null;){var w=v.next,k=V4(v,d);k===0?(v.next=null,p===null?Iv=w:p.next=w,w===null&&(Od=p)):(p=v,(l!==0||(k&3)!==0)&&(Lv=!0)),v=w}cp(l)}function V4(l,d){for(var p=l.suspendedLanes,v=l.pingedLanes,w=l.expirationTimes,k=l.pendingLanes&-62914561;0<k;){var j=31-Le(k),Y=1<<j,te=w[j];te===-1?((Y&p)===0||(Y&v)!==0)&&(w[j]=n1(Y,d)):te<=d&&(l.expiredLanes|=Y),k&=~Y}if(d=Mn,p=nn,p=Za(l,l===d?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),v=l.callbackNode,p===0||l===d&&(xn===2||xn===9)||l.cancelPendingCommit!==null)return v!==null&&v!==null&&Ie(v),l.callbackNode=null,l.callbackPriority=0;if((p&3)===0||pi(l,p)){if(d=p&-p,d===l.callbackPriority)return d;switch(v!==null&&Ie(v),ih(p)){case 2:case 8:p=Ut;break;case 32:p=yt;break;case 268435456:p=qt;break;default:p=yt}return v=j4.bind(null,l),p=Ce(p,v),l.callbackPriority=d,l.callbackNode=p,d}return v!==null&&v!==null&&Ie(v),l.callbackPriority=2,l.callbackNode=null,2}function j4(l,d){if(qr!==0&&qr!==5)return l.callbackNode=null,l.callbackPriority=0,null;var p=l.callbackNode;if(Pv()&&l.callbackNode!==p)return null;var v=nn;return v=Za(l,l===Mn?v:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),v===0?null:(E4(l,v,d),V4(l,mt()),l.callbackNode!=null&&l.callbackNode===p?j4.bind(null,l):null)}function W4(l,d){if(Pv())return null;E4(l,d,!0)}function HL(){tF(function(){(bn&6)!==0?Ce(Ht,WL):U4()})}function rx(){return rc===0&&(rc=mg()),rc}function H4(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:Zc(""+l)}function q4(l,d){var p=d.ownerDocument.createElement("input");return p.name=d.name,p.value=d.value,l.id&&p.setAttribute("form",l.id),d.parentNode.insertBefore(p,d),l=new FormData(l),p.parentNode.removeChild(p),l}function qL(l,d,p,v,w){if(d==="submit"&&p&&p.stateNode===w){var k=H4((w[ra]||null).action),j=v.submitter;j&&(d=(d=j[ra]||null)?H4(d.formAction):j.getAttribute("formAction"),d!==null&&(k=d,j=null));var Y=new vl("action","action",null,v,w);l.push({event:Y,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(rc!==0){var te=j?q4(w,j):new FormData(w);_1(p,{pending:!0,data:te,method:w.method,action:k},null,te)}}else typeof k=="function"&&(Y.preventDefault(),te=j?q4(w,j):new FormData(w),_1(p,{pending:!0,data:te,method:w.method,action:k},k,te))},currentTarget:w}]})}}for(var ax=0;ax<Nh.length;ax++){var ox=Nh[ax],GL=ox.toLowerCase(),KL=ox[0].toUpperCase()+ox.slice(1);to(GL,"on"+KL)}to(_i,"onAnimationEnd"),to(_o,"onAnimationIteration"),to(Rh,"onAnimationStart"),to("dblclick","onDoubleClick"),to("focusin","onFocus"),to("focusout","onBlur"),to(v1,"onTransitionRun"),to(tv,"onTransitionStart"),to(nv,"onTransitionCancel"),to(Ah,"onTransitionEnd"),jo("onMouseEnter",["mouseout","mouseover"]),jo("onMouseLeave",["mouseout","mouseover"]),jo("onPointerEnter",["pointerout","pointerover"]),jo("onPointerLeave",["pointerout","pointerover"]),Un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Un("onBeforeInput",["compositionend","keypress","textInput","paste"]),Un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YL=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dp));function G4(l,d){d=(d&4)!==0;for(var p=0;p<l.length;p++){var v=l[p],w=v.event;v=v.listeners;e:{var k=void 0;if(d)for(var j=v.length-1;0<=j;j--){var Y=v[j],te=Y.instance,me=Y.currentTarget;if(Y=Y.listener,te!==k&&w.isPropagationStopped())break e;k=Y,w.currentTarget=me;try{k(w)}catch(Te){_v(Te)}w.currentTarget=null,k=te}else for(j=0;j<v.length;j++){if(Y=v[j],te=Y.instance,me=Y.currentTarget,Y=Y.listener,te!==k&&w.isPropagationStopped())break e;k=Y,w.currentTarget=me;try{k(w)}catch(Te){_v(Te)}w.currentTarget=null,k=te}}}}function Yt(l,d){var p=d[sh];p===void 0&&(p=d[sh]=new Set);var v=l+"__bubble";p.has(v)||(K4(d,l,2,!1),p.add(v))}function ix(l,d,p){var v=0;d&&(v|=4),K4(p,l,v,d)}var Fv="_reactListening"+Math.random().toString(36).slice(2);function sx(l){if(!l[Fv]){l[Fv]=!0,aa.forEach(function(p){p!=="selectionchange"&&(YL.has(p)||ix(p,!1,l),ix(p,!0,l))});var d=l.nodeType===9?l:l.ownerDocument;d===null||d[Fv]||(d[Fv]=!0,ix("selectionchange",!1,d))}}function K4(l,d,p,v){switch(yT(d)){case 2:var w=SF;break;case 8:w=_F;break;default:w=wx}p=w.bind(null,d,p,l),w=void 0,!xi||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(w=!0),v?w!==void 0?l.addEventListener(d,p,{capture:!0,passive:w}):l.addEventListener(d,p,!0):w!==void 0?l.addEventListener(d,p,{passive:w}):l.addEventListener(d,p,!1)}function lx(l,d,p,v,w){var k=v;if((d&1)===0&&(d&2)===0&&v!==null)e:for(;;){if(v===null)return;var j=v.tag;if(j===3||j===4){var Y=v.stateNode.containerInfo;if(Y===w)break;if(j===4)for(j=v.return;j!==null;){var te=j.tag;if((te===3||te===4)&&j.stateNode.containerInfo===w)return;j=j.return}for(;Y!==null;){if(j=vi(Y),j===null)return;if(te=j.tag,te===5||te===6||te===26||te===27){v=k=j;continue e}Y=Y.parentNode}}v=v.return}mh(function(){var me=k,Te=ml(p),Ne=[];e:{var ge=kh.get(l);if(ge!==void 0){var ve=vl,_t=l;switch(l){case"keypress":if(td(p)===0)break e;case"keydown":case"keyup":ve=Pg;break;case"focusin":_t="focus",ve=nd;break;case"focusout":_t="blur",ve=nd;break;case"beforeblur":case"afterblur":ve=nd;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=Es;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=Tg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=s1;break;case _i:case _o:case Rh:ve=kg;break;case Ah:ve=l1;break;case"scroll":case"scrollend":ve=Eg;break;case"wheel":ve=c1;break;case"copy":case"cut":case"paste":ve=Ng;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=wi;break;case"toggle":case"beforetoggle":ve=Fg}var vt=(d&4)!==0,_n=!vt&&(l==="scroll"||l==="scrollend"),de=vt?ge!==null?ge+"Capture":null:ge;vt=[];for(var ie=me,he;ie!==null;){var Re=ie;if(he=Re.stateNode,Re=Re.tag,Re!==5&&Re!==26&&Re!==27||he===null||de===null||(Re=gl(ie,de),Re!=null&&vt.push(fp(ie,Re,he))),_n)break;ie=ie.return}0<vt.length&&(ge=new ve(ge,_t,null,p,Te),Ne.push({event:ge,listeners:vt}))}}if((d&7)===0){e:{if(ge=l==="mouseover"||l==="pointerover",ve=l==="mouseout"||l==="pointerout",ge&&p!==bo&&(_t=p.relatedTarget||p.fromElement)&&(vi(_t)||_t[dl]))break e;if((ve||ge)&&(ge=Te.window===Te?Te:(ge=Te.ownerDocument)?ge.defaultView||ge.parentWindow:window,ve?(_t=p.relatedTarget||p.toElement,ve=me,_t=_t?vi(_t):null,_t!==null&&(_n=o(_t),vt=_t.tag,_t!==_n||vt!==5&&vt!==27&&vt!==6)&&(_t=null)):(ve=null,_t=me),ve!==_t)){if(vt=Es,Re="onMouseLeave",de="onMouseEnter",ie="mouse",(l==="pointerout"||l==="pointerover")&&(vt=wi,Re="onPointerLeave",de="onPointerEnter",ie="pointer"),_n=ve==null?ge:Ou(ve),he=_t==null?ge:Ou(_t),ge=new vt(Re,ie+"leave",ve,p,Te),ge.target=_n,ge.relatedTarget=he,Re=null,vi(Te)===me&&(vt=new vt(de,ie+"enter",_t,p,Te),vt.target=he,vt.relatedTarget=_n,Re=vt),_n=Re,ve&&_t)t:{for(vt=ve,de=_t,ie=0,he=vt;he;he=Dd(he))ie++;for(he=0,Re=de;Re;Re=Dd(Re))he++;for(;0<ie-he;)vt=Dd(vt),ie--;for(;0<he-ie;)de=Dd(de),he--;for(;ie--;){if(vt===de||de!==null&&vt===de.alternate)break t;vt=Dd(vt),de=Dd(de)}vt=null}else vt=null;ve!==null&&Y4(Ne,ge,ve,vt,!1),_t!==null&&_n!==null&&Y4(Ne,_n,_t,vt,!0)}}e:{if(ge=me?Ou(me):window,ve=ge.nodeName&&ge.nodeName.toLowerCase(),ve==="select"||ve==="input"&&ge.type==="file")var Ze=Hg;else if(jg(ge))if(wh)Ze=Xg;else{Ze=Kg;var jt=m1}else ve=ge.nodeName,!ve||ve.toLowerCase()!=="input"||ge.type!=="checkbox"&&ge.type!=="radio"?me&&Lu(me.elementType)&&(Ze=Hg):Ze=Yg;if(Ze&&(Ze=Ze(l,me))){Pa(Ne,Ze,p,Te);break e}jt&&jt(l,ge,me),l==="focusout"&&me&&ge.type==="number"&&me.memoizedProps.value!=null&&Pu(ge,"number",ge.value)}switch(jt=me?Ou(me):window,l){case"focusin":(jg(jt)||jt.contentEditable==="true")&&(_l=jt,Eh=me,Vu=null);break;case"focusout":Vu=Eh=_l=null;break;case"mousedown":Th=!0;break;case"contextmenu":case"mouseup":case"dragend":Th=!1,Jg(Ne,p,Te);break;case"selectionchange":if(g1)break;case"keydown":case"keyup":Jg(Ne,p,Te)}var ct;if(xh)e:{switch(l){case"compositionstart":var wt="onCompositionStart";break e;case"compositionend":wt="onCompositionEnd";break e;case"compositionupdate":wt="onCompositionUpdate";break e}wt=void 0}else bl?Ug(l,p)&&(wt="onCompositionEnd"):l==="keydown"&&p.keyCode===229&&(wt="onCompositionStart");wt&&(zg&&p.locale!=="ko"&&(bl||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&bl&&(ct=ed()):(qo=Te,Bu="value"in qo?qo.value:qo.textContent,bl=!0)),jt=Bv(me,wt),0<jt.length&&(wt=new Og(wt,l,null,p,Te),Ne.push({event:wt,listeners:jt}),ct?wt.data=ct:(ct=Vg(p),ct!==null&&(wt.data=ct)))),(ct=Ts?f1(l,p):h1(l,p))&&(wt=Bv(me,"onBeforeInput"),0<wt.length&&(jt=new Og("onBeforeInput","beforeinput",null,p,Te),Ne.push({event:jt,listeners:wt}),jt.data=ct)),qL(Ne,l,me,p,Te)}G4(Ne,d)})}function fp(l,d,p){return{instance:l,listener:d,currentTarget:p}}function Bv(l,d){for(var p=d+"Capture",v=[];l!==null;){var w=l,k=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||k===null||(w=gl(l,p),w!=null&&v.unshift(fp(l,w,k)),w=gl(l,d),w!=null&&v.push(fp(l,w,k))),l.tag===3)return v;l=l.return}return[]}function Dd(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function Y4(l,d,p,v,w){for(var k=d._reactName,j=[];p!==null&&p!==v;){var Y=p,te=Y.alternate,me=Y.stateNode;if(Y=Y.tag,te!==null&&te===v)break;Y!==5&&Y!==26&&Y!==27||me===null||(te=me,w?(me=gl(p,k),me!=null&&j.unshift(fp(p,me,te))):w||(me=gl(p,k),me!=null&&j.push(fp(p,me,te)))),p=p.return}j.length!==0&&l.push({event:d,listeners:j})}var XL=/\r\n?/g,QL=/\u0000|\uFFFD/g;function X4(l){return(typeof l=="string"?l:""+l).replace(XL,`
`).replace(QL,"")}function Q4(l,d){return d=X4(d),X4(l)===d}function zv(){}function Sn(l,d,p,v,w,k){switch(p){case"children":typeof v=="string"?d==="body"||d==="textarea"&&v===""||eo(l,v):(typeof v=="number"||typeof v=="bigint")&&d!=="body"&&eo(l,""+v);break;case"className":Wo(l,"class",v);break;case"tabIndex":Wo(l,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":Wo(l,p,v);break;case"style":ys(l,v,k);break;case"data":if(d!=="object"){Wo(l,"data",v);break}case"src":case"href":if(v===""&&(d!=="a"||p!=="href")){l.removeAttribute(p);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){l.removeAttribute(p);break}v=Zc(""+v),l.setAttribute(p,v);break;case"action":case"formAction":if(typeof v=="function"){l.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof k=="function"&&(p==="formAction"?(d!=="input"&&Sn(l,d,"name",w.name,w,null),Sn(l,d,"formEncType",w.formEncType,w,null),Sn(l,d,"formMethod",w.formMethod,w,null),Sn(l,d,"formTarget",w.formTarget,w,null)):(Sn(l,d,"encType",w.encType,w,null),Sn(l,d,"method",w.method,w,null),Sn(l,d,"target",w.target,w,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){l.removeAttribute(p);break}v=Zc(""+v),l.setAttribute(p,v);break;case"onClick":v!=null&&(l.onclick=zv);break;case"onScroll":v!=null&&Yt("scroll",l);break;case"onScrollEnd":v!=null&&Yt("scrollend",l);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(p=v.__html,p!=null){if(w.children!=null)throw Error(r(60));l.innerHTML=p}}break;case"multiple":l.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":l.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){l.removeAttribute("xlink:href");break}p=Zc(""+v),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(p,""+v):l.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(p,""):l.removeAttribute(p);break;case"capture":case"download":v===!0?l.setAttribute(p,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(p,v):l.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?l.setAttribute(p,v):l.removeAttribute(p);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?l.removeAttribute(p):l.setAttribute(p,v);break;case"popover":Yt("beforetoggle",l),Yt("toggle",l),pl(l,"popover",v);break;case"xlinkActuate":yo(l,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":yo(l,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":yo(l,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":yo(l,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":yo(l,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":yo(l,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":yo(l,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":yo(l,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":yo(l,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":pl(l,"is",v);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=_g.get(p)||p,pl(l,p,v))}}function ux(l,d,p,v,w,k){switch(p){case"style":ys(l,v,k);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(p=v.__html,p!=null){if(w.children!=null)throw Error(r(60));l.innerHTML=p}}break;case"children":typeof v=="string"?eo(l,v):(typeof v=="number"||typeof v=="bigint")&&eo(l,""+v);break;case"onScroll":v!=null&&Yt("scroll",l);break;case"onScrollEnd":v!=null&&Yt("scrollend",l);break;case"onClick":v!=null&&(l.onclick=zv);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oa.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(w=p.endsWith("Capture"),d=p.slice(2,w?p.length-7:void 0),k=l[ra]||null,k=k!=null?k[p]:null,typeof k=="function"&&l.removeEventListener(d,k,w),typeof v=="function")){typeof k!="function"&&k!==null&&(p in l?l[p]=null:l.hasAttribute(p)&&l.removeAttribute(p)),l.addEventListener(d,v,w);break e}p in l?l[p]=v:v===!0?l.setAttribute(p,""):pl(l,p,v)}}}function Gr(l,d,p){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yt("error",l),Yt("load",l);var v=!1,w=!1,k;for(k in p)if(p.hasOwnProperty(k)){var j=p[k];if(j!=null)switch(k){case"src":v=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:Sn(l,d,k,j,p,null)}}w&&Sn(l,d,"srcSet",p.srcSet,p,null),v&&Sn(l,d,"src",p.src,p,null);return;case"input":Yt("invalid",l);var Y=k=j=w=null,te=null,me=null;for(v in p)if(p.hasOwnProperty(v)){var Te=p[v];if(Te!=null)switch(v){case"name":w=Te;break;case"type":j=Te;break;case"checked":te=Te;break;case"defaultChecked":me=Te;break;case"value":k=Te;break;case"defaultValue":Y=Te;break;case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(r(137,d));break;default:Sn(l,d,v,Te,p,null)}}Qc(l,k,Y,te,me,j,w,!1),Mu(l);return;case"select":Yt("invalid",l),v=j=k=null;for(w in p)if(p.hasOwnProperty(w)&&(Y=p[w],Y!=null))switch(w){case"value":k=Y;break;case"defaultValue":j=Y;break;case"multiple":v=Y;default:Sn(l,d,w,Y,p,null)}d=k,p=j,l.multiple=!!v,d!=null?zr(l,!!v,d,!1):p!=null&&zr(l,!!v,p,!0);return;case"textarea":Yt("invalid",l),k=w=v=null;for(j in p)if(p.hasOwnProperty(j)&&(Y=p[j],Y!=null))switch(j){case"value":v=Y;break;case"defaultValue":w=Y;break;case"children":k=Y;break;case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(91));break;default:Sn(l,d,j,Y,p,null)}Iu(l,v,w,k),Mu(l);return;case"option":for(te in p)if(p.hasOwnProperty(te)&&(v=p[te],v!=null))switch(te){case"selected":l.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:Sn(l,d,te,v,p,null)}return;case"dialog":Yt("beforetoggle",l),Yt("toggle",l),Yt("cancel",l),Yt("close",l);break;case"iframe":case"object":Yt("load",l);break;case"video":case"audio":for(v=0;v<dp.length;v++)Yt(dp[v],l);break;case"image":Yt("error",l),Yt("load",l);break;case"details":Yt("toggle",l);break;case"embed":case"source":case"link":Yt("error",l),Yt("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(me in p)if(p.hasOwnProperty(me)&&(v=p[me],v!=null))switch(me){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:Sn(l,d,me,v,p,null)}return;default:if(Lu(d)){for(Te in p)p.hasOwnProperty(Te)&&(v=p[Te],v!==void 0&&ux(l,d,Te,v,p,void 0));return}}for(Y in p)p.hasOwnProperty(Y)&&(v=p[Y],v!=null&&Sn(l,d,Y,v,p,null))}function ZL(l,d,p,v){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,k=null,j=null,Y=null,te=null,me=null,Te=null;for(ve in p){var Ne=p[ve];if(p.hasOwnProperty(ve)&&Ne!=null)switch(ve){case"checked":break;case"value":break;case"defaultValue":te=Ne;default:v.hasOwnProperty(ve)||Sn(l,d,ve,null,v,Ne)}}for(var ge in v){var ve=v[ge];if(Ne=p[ge],v.hasOwnProperty(ge)&&(ve!=null||Ne!=null))switch(ge){case"type":k=ve;break;case"name":w=ve;break;case"checked":me=ve;break;case"defaultChecked":Te=ve;break;case"value":j=ve;break;case"defaultValue":Y=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(r(137,d));break;default:ve!==Ne&&Sn(l,d,ge,ve,v,Ne)}}ia(l,j,Y,te,me,Te,k,w);return;case"select":ve=j=Y=ge=null;for(k in p)if(te=p[k],p.hasOwnProperty(k)&&te!=null)switch(k){case"value":break;case"multiple":ve=te;default:v.hasOwnProperty(k)||Sn(l,d,k,null,v,te)}for(w in v)if(k=v[w],te=p[w],v.hasOwnProperty(w)&&(k!=null||te!=null))switch(w){case"value":ge=k;break;case"defaultValue":Y=k;break;case"multiple":j=k;default:k!==te&&Sn(l,d,w,k,v,te)}d=Y,p=j,v=ve,ge!=null?zr(l,!!p,ge,!1):!!v!=!!p&&(d!=null?zr(l,!!p,d,!0):zr(l,!!p,p?[]:"",!1));return;case"textarea":ve=ge=null;for(Y in p)if(w=p[Y],p.hasOwnProperty(Y)&&w!=null&&!v.hasOwnProperty(Y))switch(Y){case"value":break;case"children":break;default:Sn(l,d,Y,null,v,w)}for(j in v)if(w=v[j],k=p[j],v.hasOwnProperty(j)&&(w!=null||k!=null))switch(j){case"value":ge=w;break;case"defaultValue":ve=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:w!==k&&Sn(l,d,j,w,v,k)}bi(l,ge,ve);return;case"option":for(var _t in p)if(ge=p[_t],p.hasOwnProperty(_t)&&ge!=null&&!v.hasOwnProperty(_t))switch(_t){case"selected":l.selected=!1;break;default:Sn(l,d,_t,null,v,ge)}for(te in v)if(ge=v[te],ve=p[te],v.hasOwnProperty(te)&&ge!==ve&&(ge!=null||ve!=null))switch(te){case"selected":l.selected=ge&&typeof ge!="function"&&typeof ge!="symbol";break;default:Sn(l,d,te,ge,v,ve)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in p)ge=p[vt],p.hasOwnProperty(vt)&&ge!=null&&!v.hasOwnProperty(vt)&&Sn(l,d,vt,null,v,ge);for(me in v)if(ge=v[me],ve=p[me],v.hasOwnProperty(me)&&ge!==ve&&(ge!=null||ve!=null))switch(me){case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(r(137,d));break;default:Sn(l,d,me,ge,v,ve)}return;default:if(Lu(d)){for(var _n in p)ge=p[_n],p.hasOwnProperty(_n)&&ge!==void 0&&!v.hasOwnProperty(_n)&&ux(l,d,_n,void 0,v,ge);for(Te in v)ge=v[Te],ve=p[Te],!v.hasOwnProperty(Te)||ge===ve||ge===void 0&&ve===void 0||ux(l,d,Te,ge,v,ve);return}}for(var de in p)ge=p[de],p.hasOwnProperty(de)&&ge!=null&&!v.hasOwnProperty(de)&&Sn(l,d,de,null,v,ge);for(Ne in v)ge=v[Ne],ve=p[Ne],!v.hasOwnProperty(Ne)||ge===ve||ge==null&&ve==null||Sn(l,d,Ne,ge,v,ve)}var cx=null,dx=null;function $v(l){return l.nodeType===9?l:l.ownerDocument}function Z4(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function J4(l,d){if(l===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&d==="foreignObject"?0:l}function fx(l,d){return l==="textarea"||l==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var hx=null;function JL(){var l=window.event;return l&&l.type==="popstate"?l===hx?!1:(hx=l,!0):(hx=null,!1)}var eT=typeof setTimeout=="function"?setTimeout:void 0,eF=typeof clearTimeout=="function"?clearTimeout:void 0,tT=typeof Promise=="function"?Promise:void 0,tF=typeof queueMicrotask=="function"?queueMicrotask:typeof tT<"u"?function(l){return tT.resolve(null).then(l).catch(nF)}:eT;function nF(l){setTimeout(function(){throw l})}function Wl(l){return l==="head"}function nT(l,d){var p=d,v=0,w=0;do{var k=p.nextSibling;if(l.removeChild(p),k&&k.nodeType===8)if(p=k.data,p==="/$"){if(0<v&&8>v){p=v;var j=l.ownerDocument;if(p&1&&hp(j.documentElement),p&2&&hp(j.body),p&4)for(p=j.head,hp(p),j=p.firstChild;j;){var Y=j.nextSibling,te=j.nodeName;j[gi]||te==="SCRIPT"||te==="STYLE"||te==="LINK"&&j.rel.toLowerCase()==="stylesheet"||p.removeChild(j),j=Y}}if(w===0){l.removeChild(k),wp(d);return}w--}else p==="$"||p==="$?"||p==="$!"?w++:v=p.charCodeAt(0)-48;else v=0;p=k}while(p);wp(d)}function px(l){var d=l.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var p=d;switch(d=d.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":px(p),uh(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}l.removeChild(p)}}function rF(l,d,p,v){for(;l.nodeType===1;){var w=p;if(l.nodeName.toLowerCase()!==d.toLowerCase()){if(!v&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(v){if(!l[gi])switch(d){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(k=l.getAttribute("rel"),k==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(k!==w.rel||l.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||l.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||l.getAttribute("title")!==(w.title==null?null:w.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(k=l.getAttribute("src"),(k!==(w.src==null?null:w.src)||l.getAttribute("type")!==(w.type==null?null:w.type)||l.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&k&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(d==="input"&&l.type==="hidden"){var k=w.name==null?null:""+w.name;if(w.type==="hidden"&&l.getAttribute("name")===k)return l}else return l;if(l=ri(l.nextSibling),l===null)break}return null}function aF(l,d,p){if(d==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!p||(l=ri(l.nextSibling),l===null))return null;return l}function mx(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState==="complete"}function oF(l,d){var p=l.ownerDocument;if(l.data!=="$?"||p.readyState==="complete")d();else{var v=function(){d(),p.removeEventListener("DOMContentLoaded",v)};p.addEventListener("DOMContentLoaded",v),l._reactRetry=v}}function ri(l){for(;l!=null;l=l.nextSibling){var d=l.nodeType;if(d===1||d===3)break;if(d===8){if(d=l.data,d==="$"||d==="$!"||d==="$?"||d==="F!"||d==="F")break;if(d==="/$")return null}}return l}var gx=null;function rT(l){l=l.previousSibling;for(var d=0;l;){if(l.nodeType===8){var p=l.data;if(p==="$"||p==="$!"||p==="$?"){if(d===0)return l;d--}else p==="/$"&&d++}l=l.previousSibling}return null}function aT(l,d,p){switch(d=$v(p),l){case"html":if(l=d.documentElement,!l)throw Error(r(452));return l;case"head":if(l=d.head,!l)throw Error(r(453));return l;case"body":if(l=d.body,!l)throw Error(r(454));return l;default:throw Error(r(451))}}function hp(l){for(var d=l.attributes;d.length;)l.removeAttributeNode(d[0]);uh(l)}var Ro=new Map,oT=new Set;function Uv(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var Ws=U.d;U.d={f:iF,r:sF,D:lF,C:uF,L:cF,m:dF,X:hF,S:fF,M:pF};function iF(){var l=Ws.f(),d=Dv();return l||d}function sF(l){var d=fl(l);d!==null&&d.tag===5&&d.type==="form"?EE(d):Ws.r(l)}var Md=typeof document>"u"?null:document;function iT(l,d,p){var v=Md;if(v&&typeof d=="string"&&d){var w=fr(d);w='link[rel="'+l+'"][href="'+w+'"]',typeof p=="string"&&(w+='[crossorigin="'+p+'"]'),oT.has(w)||(oT.add(w),l={rel:l,crossOrigin:p,href:d},v.querySelector(w)===null&&(d=v.createElement("link"),Gr(d,"link",l),en(d),v.head.appendChild(d)))}}function lF(l){Ws.D(l),iT("dns-prefetch",l,null)}function uF(l,d){Ws.C(l,d),iT("preconnect",l,d)}function cF(l,d,p){Ws.L(l,d,p);var v=Md;if(v&&l&&d){var w='link[rel="preload"][as="'+fr(d)+'"]';d==="image"&&p&&p.imageSrcSet?(w+='[imagesrcset="'+fr(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(w+='[imagesizes="'+fr(p.imageSizes)+'"]')):w+='[href="'+fr(l)+'"]';var k=w;switch(d){case"style":k=Pd(l);break;case"script":k=Id(l)}Ro.has(k)||(l=f({rel:"preload",href:d==="image"&&p&&p.imageSrcSet?void 0:l,as:d},p),Ro.set(k,l),v.querySelector(w)!==null||d==="style"&&v.querySelector(pp(k))||d==="script"&&v.querySelector(mp(k))||(d=v.createElement("link"),Gr(d,"link",l),en(d),v.head.appendChild(d)))}}function dF(l,d){Ws.m(l,d);var p=Md;if(p&&l){var v=d&&typeof d.as=="string"?d.as:"script",w='link[rel="modulepreload"][as="'+fr(v)+'"][href="'+fr(l)+'"]',k=w;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":k=Id(l)}if(!Ro.has(k)&&(l=f({rel:"modulepreload",href:l},d),Ro.set(k,l),p.querySelector(w)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(mp(k)))return}v=p.createElement("link"),Gr(v,"link",l),en(v),p.head.appendChild(v)}}}function fF(l,d,p){Ws.S(l,d,p);var v=Md;if(v&&l){var w=Ja(v).hoistableStyles,k=Pd(l);d=d||"default";var j=w.get(k);if(!j){var Y={loading:0,preload:null};if(j=v.querySelector(pp(k)))Y.loading=5;else{l=f({rel:"stylesheet",href:l,"data-precedence":d},p),(p=Ro.get(k))&&vx(l,p);var te=j=v.createElement("link");en(te),Gr(te,"link",l),te._p=new Promise(function(me,Te){te.onload=me,te.onerror=Te}),te.addEventListener("load",function(){Y.loading|=1}),te.addEventListener("error",function(){Y.loading|=2}),Y.loading|=4,Vv(j,d,v)}j={type:"stylesheet",instance:j,count:1,state:Y},w.set(k,j)}}}function hF(l,d){Ws.X(l,d);var p=Md;if(p&&l){var v=Ja(p).hoistableScripts,w=Id(l),k=v.get(w);k||(k=p.querySelector(mp(w)),k||(l=f({src:l,async:!0},d),(d=Ro.get(w))&&yx(l,d),k=p.createElement("script"),en(k),Gr(k,"link",l),p.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},v.set(w,k))}}function pF(l,d){Ws.M(l,d);var p=Md;if(p&&l){var v=Ja(p).hoistableScripts,w=Id(l),k=v.get(w);k||(k=p.querySelector(mp(w)),k||(l=f({src:l,async:!0,type:"module"},d),(d=Ro.get(w))&&yx(l,d),k=p.createElement("script"),en(k),Gr(k,"link",l),p.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},v.set(w,k))}}function sT(l,d,p,v){var w=(w=be.current)?Uv(w):null;if(!w)throw Error(r(446));switch(l){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(d=Pd(p.href),p=Ja(w).hoistableStyles,v=p.get(d),v||(v={type:"style",instance:null,count:0,state:null},p.set(d,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){l=Pd(p.href);var k=Ja(w).hoistableStyles,j=k.get(l);if(j||(w=w.ownerDocument||w,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},k.set(l,j),(k=w.querySelector(pp(l)))&&!k._p&&(j.instance=k,j.state.loading=5),Ro.has(l)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Ro.set(l,p),k||mF(w,l,p,j.state))),d&&v===null)throw Error(r(528,""));return j}if(d&&v!==null)throw Error(r(529,""));return null;case"script":return d=p.async,p=p.src,typeof p=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=Id(p),p=Ja(w).hoistableScripts,v=p.get(d),v||(v={type:"script",instance:null,count:0,state:null},p.set(d,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,l))}}function Pd(l){return'href="'+fr(l)+'"'}function pp(l){return'link[rel="stylesheet"]['+l+"]"}function lT(l){return f({},l,{"data-precedence":l.precedence,precedence:null})}function mF(l,d,p,v){l.querySelector('link[rel="preload"][as="style"]['+d+"]")?v.loading=1:(d=l.createElement("link"),v.preload=d,d.addEventListener("load",function(){return v.loading|=1}),d.addEventListener("error",function(){return v.loading|=2}),Gr(d,"link",p),en(d),l.head.appendChild(d))}function Id(l){return'[src="'+fr(l)+'"]'}function mp(l){return"script[async]"+l}function uT(l,d,p){if(d.count++,d.instance===null)switch(d.type){case"style":var v=l.querySelector('style[data-href~="'+fr(p.href)+'"]');if(v)return d.instance=v,en(v),v;var w=f({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return v=(l.ownerDocument||l).createElement("style"),en(v),Gr(v,"style",w),Vv(v,p.precedence,l),d.instance=v;case"stylesheet":w=Pd(p.href);var k=l.querySelector(pp(w));if(k)return d.state.loading|=4,d.instance=k,en(k),k;v=lT(p),(w=Ro.get(w))&&vx(v,w),k=(l.ownerDocument||l).createElement("link"),en(k);var j=k;return j._p=new Promise(function(Y,te){j.onload=Y,j.onerror=te}),Gr(k,"link",v),d.state.loading|=4,Vv(k,p.precedence,l),d.instance=k;case"script":return k=Id(p.src),(w=l.querySelector(mp(k)))?(d.instance=w,en(w),w):(v=p,(w=Ro.get(k))&&(v=f({},p),yx(v,w)),l=l.ownerDocument||l,w=l.createElement("script"),en(w),Gr(w,"link",v),l.head.appendChild(w),d.instance=w);case"void":return null;default:throw Error(r(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(v=d.instance,d.state.loading|=4,Vv(v,p.precedence,l));return d.instance}function Vv(l,d,p){for(var v=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=v.length?v[v.length-1]:null,k=w,j=0;j<v.length;j++){var Y=v[j];if(Y.dataset.precedence===d)k=Y;else if(k!==w)break}k?k.parentNode.insertBefore(l,k.nextSibling):(d=p.nodeType===9?p.head:p,d.insertBefore(l,d.firstChild))}function vx(l,d){l.crossOrigin==null&&(l.crossOrigin=d.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=d.referrerPolicy),l.title==null&&(l.title=d.title)}function yx(l,d){l.crossOrigin==null&&(l.crossOrigin=d.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=d.referrerPolicy),l.integrity==null&&(l.integrity=d.integrity)}var jv=null;function cT(l,d,p){if(jv===null){var v=new Map,w=jv=new Map;w.set(p,v)}else w=jv,v=w.get(p),v||(v=new Map,w.set(p,v));if(v.has(l))return v;for(v.set(l,null),p=p.getElementsByTagName(l),w=0;w<p.length;w++){var k=p[w];if(!(k[gi]||k[Or]||l==="link"&&k.getAttribute("rel")==="stylesheet")&&k.namespaceURI!=="http://www.w3.org/2000/svg"){var j=k.getAttribute(d)||"";j=l+j;var Y=v.get(j);Y?Y.push(k):v.set(j,[k])}}return v}function dT(l,d,p){l=l.ownerDocument||l,l.head.insertBefore(p,d==="title"?l.querySelector("head > title"):null)}function gF(l,d,p){if(p===1||d.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return l=d.disabled,typeof d.precedence=="string"&&l==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function fT(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}var gp=null;function vF(){}function yF(l,d,p){if(gp===null)throw Error(r(475));var v=gp;if(d.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var w=Pd(p.href),k=l.querySelector(pp(w));if(k){l=k._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(v.count++,v=Wv.bind(v),l.then(v,v)),d.state.loading|=4,d.instance=k,en(k);return}k=l.ownerDocument||l,p=lT(p),(w=Ro.get(w))&&vx(p,w),k=k.createElement("link"),en(k);var j=k;j._p=new Promise(function(Y,te){j.onload=Y,j.onerror=te}),Gr(k,"link",p),d.instance=k}v.stylesheets===null&&(v.stylesheets=new Map),v.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(v.count++,d=Wv.bind(v),l.addEventListener("load",d),l.addEventListener("error",d))}}function bF(){if(gp===null)throw Error(r(475));var l=gp;return l.stylesheets&&l.count===0&&bx(l,l.stylesheets),0<l.count?function(d){var p=setTimeout(function(){if(l.stylesheets&&bx(l,l.stylesheets),l.unsuspend){var v=l.unsuspend;l.unsuspend=null,v()}},6e4);return l.unsuspend=d,function(){l.unsuspend=null,clearTimeout(p)}}:null}function Wv(){if(this.count--,this.count===0){if(this.stylesheets)bx(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var Hv=null;function bx(l,d){l.stylesheets=null,l.unsuspend!==null&&(l.count++,Hv=new Map,d.forEach(xF,l),Hv=null,Wv.call(l))}function xF(l,d){if(!(d.state.loading&4)){var p=Hv.get(l);if(p)var v=p.get(null);else{p=new Map,Hv.set(l,p);for(var w=l.querySelectorAll("link[data-precedence],style[data-precedence]"),k=0;k<w.length;k++){var j=w[k];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(p.set(j.dataset.precedence,j),v=j)}v&&p.set(null,v)}w=d.instance,j=w.getAttribute("data-precedence"),k=p.get(j)||v,k===v&&p.set(null,w),p.set(j,w),this.count++,v=Wv.bind(this),w.addEventListener("load",v),w.addEventListener("error",v),k?k.parentNode.insertBefore(w,k.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(w,l.firstChild)),d.state.loading|=4}}var vp={$$typeof:_,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function wF(l,d,p,v,w,k,j,Y){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gc(0),this.hiddenUpdates=Gc(null),this.identifierPrefix=v,this.onUncaughtError=w,this.onCaughtError=k,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function hT(l,d,p,v,w,k,j,Y,te,me,Te,Ne){return l=new wF(l,d,p,j,Y,te,me,Ne),d=1,k===!0&&(d|=24),k=Ra(3,null,null,d),l.current=k,k.stateNode=l,d=fd(),d.refCount++,l.pooledCache=d,d.refCount++,k.memoizedState={element:v,isDehydrated:p,cache:d},Se(k),l}function pT(l){return l?(l=El,l):El}function mT(l,d,p,v,w,k){w=pT(w),v.context===null?v.context=w:v.pendingContext=w,v=Be(d),v.payload={element:p},k=k===void 0?null:k,k!==null&&(v.callback=k),p=qe(l,v,d),p!==null&&(io(p,l,d),Ke(p,l,d))}function gT(l,d){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var p=l.retryLane;l.retryLane=p!==0&&p<d?p:d}}function xx(l,d){gT(l,d),(l=l.alternate)&&gT(l,d)}function vT(l){if(l.tag===13){var d=la(l,67108864);d!==null&&io(d,l,67108864),xx(l,67108864)}}var qv=!0;function SF(l,d,p,v){var w=F.T;F.T=null;var k=U.p;try{U.p=2,wx(l,d,p,v)}finally{U.p=k,F.T=w}}function _F(l,d,p,v){var w=F.T;F.T=null;var k=U.p;try{U.p=8,wx(l,d,p,v)}finally{U.p=k,F.T=w}}function wx(l,d,p,v){if(qv){var w=Sx(v);if(w===null)lx(l,d,v,Gv,p),bT(l,v);else if(EF(w,l,d,p,v))v.stopPropagation();else if(bT(l,v),d&4&&-1<CF.indexOf(l)){for(;w!==null;){var k=fl(w);if(k!==null)switch(k.tag){case 3:if(k=k.stateNode,k.current.memoizedState.isDehydrated){var j=cn(k.pendingLanes);if(j!==0){var Y=k;for(Y.pendingLanes|=2,Y.entangledLanes|=2;j;){var te=1<<31-Le(j);Y.entanglements[1]|=te,j&=~te}Li(k),(bn&6)===0&&(Nv=mt()+500,cp(0))}}break;case 13:Y=la(k,2),Y!==null&&io(Y,k,2),Dv(),xx(k,2)}if(k=Sx(v),k===null&&lx(l,d,v,Gv,p),k===w)break;w=k}w!==null&&v.stopPropagation()}else lx(l,d,v,null,p)}}function Sx(l){return l=ml(l),_x(l)}var Gv=null;function _x(l){if(Gv=null,l=vi(l),l!==null){var d=o(l);if(d===null)l=null;else{var p=d.tag;if(p===13){if(l=i(d),l!==null)return l;l=null}else if(p===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;l=null}else d!==l&&(l=null)}}return Gv=l,null}function yT(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jt()){case Ht:return 2;case Ut:return 8;case yt:case Vt:return 32;case qt:return 268435456;default:return 32}default:return 32}}var Cx=!1,Hl=null,ql=null,Gl=null,yp=new Map,bp=new Map,Kl=[],CF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bT(l,d){switch(l){case"focusin":case"focusout":Hl=null;break;case"dragenter":case"dragleave":ql=null;break;case"mouseover":case"mouseout":Gl=null;break;case"pointerover":case"pointerout":yp.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":bp.delete(d.pointerId)}}function xp(l,d,p,v,w,k){return l===null||l.nativeEvent!==k?(l={blockedOn:d,domEventName:p,eventSystemFlags:v,nativeEvent:k,targetContainers:[w]},d!==null&&(d=fl(d),d!==null&&vT(d)),l):(l.eventSystemFlags|=v,d=l.targetContainers,w!==null&&d.indexOf(w)===-1&&d.push(w),l)}function EF(l,d,p,v,w){switch(d){case"focusin":return Hl=xp(Hl,l,d,p,v,w),!0;case"dragenter":return ql=xp(ql,l,d,p,v,w),!0;case"mouseover":return Gl=xp(Gl,l,d,p,v,w),!0;case"pointerover":var k=w.pointerId;return yp.set(k,xp(yp.get(k)||null,l,d,p,v,w)),!0;case"gotpointercapture":return k=w.pointerId,bp.set(k,xp(bp.get(k)||null,l,d,p,v,w)),!0}return!1}function xT(l){var d=vi(l.target);if(d!==null){var p=o(d);if(p!==null){if(d=p.tag,d===13){if(d=i(p),d!==null){l.blockedOn=d,cl(l.priority,function(){if(p.tag===13){var v=oo();v=oh(v);var w=la(p,v);w!==null&&io(w,p,v),xx(p,v)}});return}}else if(d===3&&p.stateNode.current.memoizedState.isDehydrated){l.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Kv(l){if(l.blockedOn!==null)return!1;for(var d=l.targetContainers;0<d.length;){var p=Sx(l.nativeEvent);if(p===null){p=l.nativeEvent;var v=new p.constructor(p.type,p);bo=v,p.target.dispatchEvent(v),bo=null}else return d=fl(p),d!==null&&vT(d),l.blockedOn=p,!1;d.shift()}return!0}function wT(l,d,p){Kv(l)&&p.delete(d)}function TF(){Cx=!1,Hl!==null&&Kv(Hl)&&(Hl=null),ql!==null&&Kv(ql)&&(ql=null),Gl!==null&&Kv(Gl)&&(Gl=null),yp.forEach(wT),bp.forEach(wT)}function Yv(l,d){l.blockedOn===d&&(l.blockedOn=null,Cx||(Cx=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,TF)))}var Xv=null;function ST(l){Xv!==l&&(Xv=l,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Xv===l&&(Xv=null);for(var d=0;d<l.length;d+=3){var p=l[d],v=l[d+1],w=l[d+2];if(typeof v!="function"){if(_x(v||p)===null)continue;break}var k=fl(p);k!==null&&(l.splice(d,3),d-=3,_1(k,{pending:!0,data:w,method:p.method,action:v},v,w))}}))}function wp(l){function d(te){return Yv(te,l)}Hl!==null&&Yv(Hl,l),ql!==null&&Yv(ql,l),Gl!==null&&Yv(Gl,l),yp.forEach(d),bp.forEach(d);for(var p=0;p<Kl.length;p++){var v=Kl[p];v.blockedOn===l&&(v.blockedOn=null)}for(;0<Kl.length&&(p=Kl[0],p.blockedOn===null);)xT(p),p.blockedOn===null&&Kl.shift();if(p=(l.ownerDocument||l).$$reactFormReplay,p!=null)for(v=0;v<p.length;v+=3){var w=p[v],k=p[v+1],j=w[ra]||null;if(typeof k=="function")j||ST(p);else if(j){var Y=null;if(k&&k.hasAttribute("formAction")){if(w=k,j=k[ra]||null)Y=j.formAction;else if(_x(w)!==null)continue}else Y=j.action;typeof Y=="function"?p[v+1]=Y:(p.splice(v,3),v-=3),ST(p)}}}function Ex(l){this._internalRoot=l}Qv.prototype.render=Ex.prototype.render=function(l){var d=this._internalRoot;if(d===null)throw Error(r(409));var p=d.current,v=oo();mT(p,v,l,d,null,null)},Qv.prototype.unmount=Ex.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var d=l.containerInfo;mT(l.current,2,null,l,null,null),Dv(),d[dl]=null}};function Qv(l){this._internalRoot=l}Qv.prototype.unstable_scheduleHydration=function(l){if(l){var d=bg();l={blockedOn:null,target:l,priority:d};for(var p=0;p<Kl.length&&d!==0&&d<Kl[p].priority;p++);Kl.splice(p,0,l),p===0&&xT(l)}};var _T=e.version;if(_T!=="19.1.0")throw Error(r(527,_T,"19.1.0"));U.findDOMNode=function(l){var d=l._reactInternals;if(d===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=u(d),l=l!==null?c(l):null,l=l===null?null:l.stateNode,l};var RF={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zv.isDisabled&&Zv.supportsFiber)try{je=Zv.inject(RF),Ge=Zv}catch{}}return Sp.createRoot=function(l,d){if(!a(l))throw Error(r(299));var p=!1,v="",w=zE,k=$E,j=UE,Y=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(v=d.identifierPrefix),d.onUncaughtError!==void 0&&(w=d.onUncaughtError),d.onCaughtError!==void 0&&(k=d.onCaughtError),d.onRecoverableError!==void 0&&(j=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(Y=d.unstable_transitionCallbacks)),d=hT(l,1,!1,null,null,p,v,w,k,j,Y,null),l[dl]=d.current,sx(l),new Ex(d)},Sp.hydrateRoot=function(l,d,p){if(!a(l))throw Error(r(299));var v=!1,w="",k=zE,j=$E,Y=UE,te=null,me=null;return p!=null&&(p.unstable_strictMode===!0&&(v=!0),p.identifierPrefix!==void 0&&(w=p.identifierPrefix),p.onUncaughtError!==void 0&&(k=p.onUncaughtError),p.onCaughtError!==void 0&&(j=p.onCaughtError),p.onRecoverableError!==void 0&&(Y=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(te=p.unstable_transitionCallbacks),p.formState!==void 0&&(me=p.formState)),d=hT(l,1,!0,d,p??null,v,w,k,j,Y,te,me),d.context=pT(null),p=d.current,v=oo(),v=oh(v),w=Be(v),w.callback=null,qe(p,w,v),p=v,d.current.lanes=p,mi(d,p),Li(d),l[dl]=d.current,sx(l),new Qv(d)},Sp.version="19.1.0",Sp}var kT;function BF(){if(kT)return Ax.exports;kT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ax.exports=FF(),Ax.exports}var zF=BF();const $F=$o(zF),UF="modulepreload",VF=function(t){return"/"+t},NT={},kt=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){let i=function(c){return Promise.all(c.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),u=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=i(n.map(c=>{if(c=VF(c),c in NT)return;NT[c]=!0;const f=c.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":UF,f||(m.as="script"),m.crossOrigin="",m.href=c,u&&m.setAttribute("nonce",u),document.head.appendChild(m),f)return new Promise((g,y)=>{m.addEventListener("load",g),m.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i}return a.then(i=>{for(const s of i||[])s.status==="rejected"&&o(s.reason);return e().catch(o)})},im={black:"#000",white:"#fff"},Ld={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Fd={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Bd={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},zd={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},$d={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},_p={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},jF={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Mc(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const WF=Object.freeze(Object.defineProperty({__proto__:null,default:Mc},Symbol.toStringTag,{value:"Module"})),kf="$$material";function ne(){return ne=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ne.apply(null,arguments)}function dt(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function HF(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function qF(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var GF=function(){function t(n){var r=this;this._insertTag=function(a){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(a,o),r.tags.push(a)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(qF(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var o=HF(a);try{o.insertRule(r,o.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var a;return(a=r.parentNode)==null?void 0:a.removeChild(r)}),this.tags=[],this.ctr=0},t}(),da="-ms-",oy="-moz-",fn="-webkit-",SO="comm",MS="rule",PS="decl",KF="@import",_O="@keyframes",YF="@layer",XF=Math.abs,eb=String.fromCharCode,QF=Object.assign;function ZF(t,e){return Qr(t,0)^45?(((e<<2^Qr(t,0))<<2^Qr(t,1))<<2^Qr(t,2))<<2^Qr(t,3):0}function CO(t){return t.trim()}function JF(t,e){return(t=e.exec(t))?t[0]:t}function hn(t,e,n){return t.replace(e,n)}function ow(t,e){return t.indexOf(e)}function Qr(t,e){return t.charCodeAt(e)|0}function sm(t,e,n){return t.slice(e,n)}function Wi(t){return t.length}function IS(t){return t.length}function t0(t,e){return e.push(t),t}function e8(t,e){return t.map(e).join("")}var tb=1,Nf=1,EO=0,Ya=0,vr=0,qf="";function nb(t,e,n,r,a,o,i){return{value:t,root:e,parent:n,type:r,props:a,children:o,line:tb,column:Nf,length:i,return:""}}function Cp(t,e){return QF(nb("",null,null,"",null,null,0),t,{length:-t.length},e)}function t8(){return vr}function n8(){return vr=Ya>0?Qr(qf,--Ya):0,Nf--,vr===10&&(Nf=1,tb--),vr}function po(){return vr=Ya<EO?Qr(qf,Ya++):0,Nf++,vr===10&&(Nf=1,tb++),vr}function Qi(){return Qr(qf,Ya)}function B0(){return Ya}function Bm(t,e){return sm(qf,t,e)}function lm(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function TO(t){return tb=Nf=1,EO=Wi(qf=t),Ya=0,[]}function RO(t){return qf="",t}function z0(t){return CO(Bm(Ya-1,iw(t===91?t+2:t===40?t+1:t)))}function r8(t){for(;(vr=Qi())&&vr<33;)po();return lm(t)>2||lm(vr)>3?"":" "}function a8(t,e){for(;--e&&po()&&!(vr<48||vr>102||vr>57&&vr<65||vr>70&&vr<97););return Bm(t,B0()+(e<6&&Qi()==32&&po()==32))}function iw(t){for(;po();)switch(vr){case t:return Ya;case 34:case 39:t!==34&&t!==39&&iw(vr);break;case 40:t===41&&iw(t);break;case 92:po();break}return Ya}function o8(t,e){for(;po()&&t+vr!==57;)if(t+vr===84&&Qi()===47)break;return"/*"+Bm(e,Ya-1)+"*"+eb(t===47?t:po())}function i8(t){for(;!lm(Qi());)po();return Bm(t,Ya)}function s8(t){return RO($0("",null,null,null,[""],t=TO(t),0,[0],t))}function $0(t,e,n,r,a,o,i,s,u){for(var c=0,f=0,h=i,m=0,g=0,y=0,b=1,x=1,S=1,R=0,_="",T=a,A=o,D=r,N=_;x;)switch(y=R,R=po()){case 40:if(y!=108&&Qr(N,h-1)==58){ow(N+=hn(z0(R),"&","&\f"),"&\f")!=-1&&(S=-1);break}case 34:case 39:case 91:N+=z0(R);break;case 9:case 10:case 13:case 32:N+=r8(y);break;case 92:N+=a8(B0()-1,7);continue;case 47:switch(Qi()){case 42:case 47:t0(l8(o8(po(),B0()),e,n),u);break;default:N+="/"}break;case 123*b:s[c++]=Wi(N)*S;case 125*b:case 59:case 0:switch(R){case 0:case 125:x=0;case 59+f:S==-1&&(N=hn(N,/\f/g,"")),g>0&&Wi(N)-h&&t0(g>32?DT(N+";",r,n,h-1):DT(hn(N," ","")+";",r,n,h-2),u);break;case 59:N+=";";default:if(t0(D=OT(N,e,n,c,f,a,s,_,T=[],A=[],h),o),R===123)if(f===0)$0(N,e,D,D,T,o,h,s,A);else switch(m===99&&Qr(N,3)===110?100:m){case 100:case 108:case 109:case 115:$0(t,D,D,r&&t0(OT(t,D,D,0,0,a,s,_,a,T=[],h),A),a,A,h,s,r?T:A);break;default:$0(N,D,D,D,[""],A,0,s,A)}}c=f=g=0,b=S=1,_=N="",h=i;break;case 58:h=1+Wi(N),g=y;default:if(b<1){if(R==123)--b;else if(R==125&&b++==0&&n8()==125)continue}switch(N+=eb(R),R*b){case 38:S=f>0?1:(N+="\f",-1);break;case 44:s[c++]=(Wi(N)-1)*S,S=1;break;case 64:Qi()===45&&(N+=z0(po())),m=Qi(),f=h=Wi(_=N+=i8(B0())),R++;break;case 45:y===45&&Wi(N)==2&&(b=0)}}return o}function OT(t,e,n,r,a,o,i,s,u,c,f){for(var h=a-1,m=a===0?o:[""],g=IS(m),y=0,b=0,x=0;y<r;++y)for(var S=0,R=sm(t,h+1,h=XF(b=i[y])),_=t;S<g;++S)(_=CO(b>0?m[S]+" "+R:hn(R,/&\f/g,m[S])))&&(u[x++]=_);return nb(t,e,n,a===0?MS:s,u,c,f)}function l8(t,e,n){return nb(t,e,n,SO,eb(t8()),sm(t,2,-2),0)}function DT(t,e,n,r){return nb(t,e,n,PS,sm(t,0,r),sm(t,r+1,-1),r)}function cf(t,e){for(var n="",r=IS(t),a=0;a<r;a++)n+=e(t[a],a,t,e)||"";return n}function u8(t,e,n,r){switch(t.type){case YF:if(t.children.length)break;case KF:case PS:return t.return=t.return||t.value;case SO:return"";case _O:return t.return=t.value+"{"+cf(t.children,r)+"}";case MS:t.value=t.props.join(",")}return Wi(n=cf(t.children,r))?t.return=t.value+"{"+n+"}":""}function c8(t){var e=IS(t);return function(n,r,a,o){for(var i="",s=0;s<e;s++)i+=t[s](n,r,a,o)||"";return i}}function d8(t){return function(e){e.root||(e=e.return)&&t(e)}}function AO(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var f8=function(e,n,r){for(var a=0,o=0;a=o,o=Qi(),a===38&&o===12&&(n[r]=1),!lm(o);)po();return Bm(e,Ya)},h8=function(e,n){var r=-1,a=44;do switch(lm(a)){case 0:a===38&&Qi()===12&&(n[r]=1),e[r]+=f8(Ya-1,n,r);break;case 2:e[r]+=z0(a);break;case 4:if(a===44){e[++r]=Qi()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=eb(a)}while(a=po());return e},p8=function(e,n){return RO(h8(TO(e),n))},MT=new WeakMap,m8=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,a=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!MT.get(r))&&!a){MT.set(e,!0);for(var o=[],i=p8(n,o),s=r.props,u=0,c=0;u<i.length;u++)for(var f=0;f<s.length;f++,c++)e.props[c]=o[u]?i[u].replace(/&\f/g,s[f]):s[f]+" "+i[u]}}},g8=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function kO(t,e){switch(ZF(t,e)){case 5103:return fn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return fn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return fn+t+oy+t+da+t+t;case 6828:case 4268:return fn+t+da+t+t;case 6165:return fn+t+da+"flex-"+t+t;case 5187:return fn+t+hn(t,/(\w+).+(:[^]+)/,fn+"box-$1$2"+da+"flex-$1$2")+t;case 5443:return fn+t+da+"flex-item-"+hn(t,/flex-|-self/,"")+t;case 4675:return fn+t+da+"flex-line-pack"+hn(t,/align-content|flex-|-self/,"")+t;case 5548:return fn+t+da+hn(t,"shrink","negative")+t;case 5292:return fn+t+da+hn(t,"basis","preferred-size")+t;case 6060:return fn+"box-"+hn(t,"-grow","")+fn+t+da+hn(t,"grow","positive")+t;case 4554:return fn+hn(t,/([^-])(transform)/g,"$1"+fn+"$2")+t;case 6187:return hn(hn(hn(t,/(zoom-|grab)/,fn+"$1"),/(image-set)/,fn+"$1"),t,"")+t;case 5495:case 3959:return hn(t,/(image-set\([^]*)/,fn+"$1$`$1");case 4968:return hn(hn(t,/(.+:)(flex-)?(.*)/,fn+"box-pack:$3"+da+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+fn+t+t;case 4095:case 3583:case 4068:case 2532:return hn(t,/(.+)-inline(.+)/,fn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Wi(t)-1-e>6)switch(Qr(t,e+1)){case 109:if(Qr(t,e+4)!==45)break;case 102:return hn(t,/(.+:)(.+)-([^]+)/,"$1"+fn+"$2-$3$1"+oy+(Qr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~ow(t,"stretch")?kO(hn(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Qr(t,e+1)!==115)break;case 6444:switch(Qr(t,Wi(t)-3-(~ow(t,"!important")&&10))){case 107:return hn(t,":",":"+fn)+t;case 101:return hn(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+fn+(Qr(t,14)===45?"inline-":"")+"box$3$1"+fn+"$2$3$1"+da+"$2box$3")+t}break;case 5936:switch(Qr(t,e+11)){case 114:return fn+t+da+hn(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return fn+t+da+hn(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return fn+t+da+hn(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return fn+t+da+t+t}return t}var v8=function(e,n,r,a){if(e.length>-1&&!e.return)switch(e.type){case PS:e.return=kO(e.value,e.length);break;case _O:return cf([Cp(e,{value:hn(e.value,"@","@"+fn)})],a);case MS:if(e.length)return e8(e.props,function(o){switch(JF(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return cf([Cp(e,{props:[hn(o,/:(read-\w+)/,":"+oy+"$1")]})],a);case"::placeholder":return cf([Cp(e,{props:[hn(o,/:(plac\w+)/,":"+fn+"input-$1")]}),Cp(e,{props:[hn(o,/:(plac\w+)/,":"+oy+"$1")]}),Cp(e,{props:[hn(o,/:(plac\w+)/,da+"input-$1")]})],a)}return""})}},y8=[v8],NO=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(b){var x=b.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(b),b.setAttribute("data-s",""))})}var a=e.stylisPlugins||y8,o={},i,s=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(b){for(var x=b.getAttribute("data-emotion").split(" "),S=1;S<x.length;S++)o[x[S]]=!0;s.push(b)});var u,c=[m8,g8];{var f,h=[u8,d8(function(b){f.insert(b)})],m=c8(c.concat(a,h)),g=function(x){return cf(s8(x),m)};u=function(x,S,R,_){f=R,g(x?x+"{"+S.styles+"}":S.styles),_&&(y.inserted[S.name]=!0)}}var y={key:n,sheet:new GF({key:n,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:u};return y.sheet.hydrate(s),y},Ox={exports:{}},gn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PT;function b8(){if(PT)return gn;PT=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,a=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,i=t?Symbol.for("react.provider"):60109,s=t?Symbol.for("react.context"):60110,u=t?Symbol.for("react.async_mode"):60111,c=t?Symbol.for("react.concurrent_mode"):60111,f=t?Symbol.for("react.forward_ref"):60112,h=t?Symbol.for("react.suspense"):60113,m=t?Symbol.for("react.suspense_list"):60120,g=t?Symbol.for("react.memo"):60115,y=t?Symbol.for("react.lazy"):60116,b=t?Symbol.for("react.block"):60121,x=t?Symbol.for("react.fundamental"):60117,S=t?Symbol.for("react.responder"):60118,R=t?Symbol.for("react.scope"):60119;function _(A){if(typeof A=="object"&&A!==null){var D=A.$$typeof;switch(D){case e:switch(A=A.type,A){case u:case c:case r:case o:case a:case h:return A;default:switch(A=A&&A.$$typeof,A){case s:case f:case y:case g:case i:return A;default:return D}}case n:return D}}}function T(A){return _(A)===c}return gn.AsyncMode=u,gn.ConcurrentMode=c,gn.ContextConsumer=s,gn.ContextProvider=i,gn.Element=e,gn.ForwardRef=f,gn.Fragment=r,gn.Lazy=y,gn.Memo=g,gn.Portal=n,gn.Profiler=o,gn.StrictMode=a,gn.Suspense=h,gn.isAsyncMode=function(A){return T(A)||_(A)===u},gn.isConcurrentMode=T,gn.isContextConsumer=function(A){return _(A)===s},gn.isContextProvider=function(A){return _(A)===i},gn.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===e},gn.isForwardRef=function(A){return _(A)===f},gn.isFragment=function(A){return _(A)===r},gn.isLazy=function(A){return _(A)===y},gn.isMemo=function(A){return _(A)===g},gn.isPortal=function(A){return _(A)===n},gn.isProfiler=function(A){return _(A)===o},gn.isStrictMode=function(A){return _(A)===a},gn.isSuspense=function(A){return _(A)===h},gn.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===r||A===c||A===o||A===a||A===h||A===m||typeof A=="object"&&A!==null&&(A.$$typeof===y||A.$$typeof===g||A.$$typeof===i||A.$$typeof===s||A.$$typeof===f||A.$$typeof===x||A.$$typeof===S||A.$$typeof===R||A.$$typeof===b)},gn.typeOf=_,gn}var IT;function x8(){return IT||(IT=1,Ox.exports=b8()),Ox.exports}var Dx,LT;function w8(){if(LT)return Dx;LT=1;var t=x8(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[t.ForwardRef]=r,o[t.Memo]=a;function i(y){return t.isMemo(y)?a:o[y.$$typeof]||e}var s=Object.defineProperty,u=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,m=Object.prototype;function g(y,b,x){if(typeof b!="string"){if(m){var S=h(b);S&&S!==m&&g(y,S,x)}var R=u(b);c&&(R=R.concat(c(b)));for(var _=i(y),T=i(b),A=0;A<R.length;++A){var D=R[A];if(!n[D]&&!(x&&x[D])&&!(T&&T[D])&&!(_&&_[D])){var N=f(b,D);try{s(y,D,N)}catch{}}}}return y}return Dx=g,Dx}var S8=w8();const Wfe=$o(S8);var _8=!0;function OO(t,e,n){var r="";return n.split(" ").forEach(function(a){t[a]!==void 0?e.push(t[a]+";"):a&&(r+=a+" ")}),r}var LS=function(e,n,r){var a=e.key+"-"+n.name;(r===!1||_8===!1)&&e.registered[a]===void 0&&(e.registered[a]=n.styles)},FS=function(e,n,r){LS(e,n,r);var a=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+a:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function C8(t){for(var e=0,n,r=0,a=t.length;a>=4;++r,a-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(a){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var E8={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},T8=/[A-Z]|^ms/g,R8=/_EMO_([^_]+?)_([^]*?)_EMO_/g,DO=function(e){return e.charCodeAt(1)===45},FT=function(e){return e!=null&&typeof e!="boolean"},Mx=AO(function(t){return DO(t)?t:t.replace(T8,"-$&").toLowerCase()}),BT=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(R8,function(r,a,o){return Hi={name:a,styles:o,next:Hi},a})}return E8[e]!==1&&!DO(e)&&typeof n=="number"&&n!==0?n+"px":n};function um(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var a=n;if(a.anim===1)return Hi={name:a.name,styles:a.styles,next:Hi},a.name;var o=n;if(o.styles!==void 0){var i=o.next;if(i!==void 0)for(;i!==void 0;)Hi={name:i.name,styles:i.styles,next:Hi},i=i.next;var s=o.styles+";";return s}return A8(t,e,n)}case"function":{if(t!==void 0){var u=Hi,c=n(t);return Hi=u,um(t,e,c)}break}}var f=n;if(e==null)return f;var h=e[f];return h!==void 0?h:f}function A8(t,e,n){var r="";if(Array.isArray(n))for(var a=0;a<n.length;a++)r+=um(t,e,n[a])+";";else for(var o in n){var i=n[o];if(typeof i!="object"){var s=i;e!=null&&e[s]!==void 0?r+=o+"{"+e[s]+"}":FT(s)&&(r+=Mx(o)+":"+BT(o,s)+";")}else if(Array.isArray(i)&&typeof i[0]=="string"&&(e==null||e[i[0]]===void 0))for(var u=0;u<i.length;u++)FT(i[u])&&(r+=Mx(o)+":"+BT(o,i[u])+";");else{var c=um(t,e,i);switch(o){case"animation":case"animationName":{r+=Mx(o)+":"+c+";";break}default:r+=o+"{"+c+"}"}}}return r}var zT=/label:\s*([^\s;{]+)\s*(;|$)/g,Hi;function rb(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,a="";Hi=void 0;var o=t[0];if(o==null||o.raw===void 0)r=!1,a+=um(n,e,o);else{var i=o;a+=i[0]}for(var s=1;s<t.length;s++)if(a+=um(n,e,t[s]),r){var u=o;a+=u[s]}zT.lastIndex=0;for(var c="",f;(f=zT.exec(a))!==null;)c+="-"+f[1];var h=C8(a)+c;return{name:h,styles:a,next:Hi}}var k8=function(e){return e()},MO=aw.useInsertionEffect?aw.useInsertionEffect:!1,PO=MO||k8,$T=MO||O.useLayoutEffect,IO=O.createContext(typeof HTMLElement<"u"?NO({key:"css"}):null),N8=IO.Provider,BS=function(e){return O.forwardRef(function(n,r){var a=O.useContext(IO);return e(n,a,r)})},Gf=O.createContext({}),zS={}.hasOwnProperty,sw="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",O8=function(e,n){var r={};for(var a in n)zS.call(n,a)&&(r[a]=n[a]);return r[sw]=e,r},D8=function(e){var n=e.cache,r=e.serialized,a=e.isStringTag;return LS(n,r,a),PO(function(){return FS(n,r,a)}),null},M8=BS(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var a=t[sw],o=[r],i="";typeof t.className=="string"?i=OO(e.registered,o,t.className):t.className!=null&&(i=t.className+" ");var s=rb(o,void 0,O.useContext(Gf));i+=e.key+"-"+s.name;var u={};for(var c in t)zS.call(t,c)&&c!=="css"&&c!==sw&&(u[c]=t[c]);return u.className=i,n&&(u.ref=n),O.createElement(O.Fragment,null,O.createElement(D8,{cache:e,serialized:s,isStringTag:typeof a=="string"}),O.createElement(a,u))}),P8=M8,UT=function(e,n){var r=arguments;if(n==null||!zS.call(n,"css"))return O.createElement.apply(void 0,r);var a=r.length,o=new Array(a);o[0]=P8,o[1]=O8(e,n);for(var i=2;i<a;i++)o[i]=r[i];return O.createElement.apply(null,o)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(UT||(UT={}));var I8=BS(function(t,e){var n=t.styles,r=rb([n],void 0,O.useContext(Gf)),a=O.useRef();return $T(function(){var o=e.key+"-global",i=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),s=!1,u=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return e.sheet.tags.length&&(i.before=e.sheet.tags[0]),u!==null&&(s=!0,u.setAttribute("data-emotion",o),i.hydrate([u])),a.current=[i,s],function(){i.flush()}},[e]),$T(function(){var o=a.current,i=o[0],s=o[1];if(s){o[1]=!1;return}if(r.next!==void 0&&FS(e,r.next,!0),i.tags.length){var u=i.tags[i.tags.length-1].nextElementSibling;i.before=u,i.flush()}e.insert("",r,i,!1)},[e,r.name]),null});function ab(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return rb(e)}function Kf(){var t=ab.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var L8=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,F8=AO(function(t){return L8.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),B8=F8,z8=function(e){return e!=="theme"},VT=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?B8:z8},jT=function(e,n,r){var a;if(n){var o=n.shouldForwardProp;a=e.__emotion_forwardProp&&o?function(i){return e.__emotion_forwardProp(i)&&o(i)}:o}return typeof a!="function"&&r&&(a=e.__emotion_forwardProp),a},$8=function(e){var n=e.cache,r=e.serialized,a=e.isStringTag;return LS(n,r,a),PO(function(){return FS(n,r,a)}),null},U8=function t(e,n){var r=e.__emotion_real===e,a=r&&e.__emotion_base||e,o,i;n!==void 0&&(o=n.label,i=n.target);var s=jT(e,n,r),u=s||VT(a),c=!u("as");return function(){var f=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&h.push("label:"+o+";"),f[0]==null||f[0].raw===void 0)h.push.apply(h,f);else{var m=f[0];h.push(m[0]);for(var g=f.length,y=1;y<g;y++)h.push(f[y],m[y])}var b=BS(function(x,S,R){var _=c&&x.as||a,T="",A=[],D=x;if(x.theme==null){D={};for(var N in x)D[N]=x[N];D.theme=O.useContext(Gf)}typeof x.className=="string"?T=OO(S.registered,A,x.className):x.className!=null&&(T=x.className+" ");var M=rb(h.concat(A),S.registered,D);T+=S.key+"-"+M.name,i!==void 0&&(T+=" "+i);var P=c&&s===void 0?VT(_):u,I={};for(var $ in x)c&&$==="as"||P($)&&(I[$]=x[$]);return I.className=T,R&&(I.ref=R),O.createElement(O.Fragment,null,O.createElement($8,{cache:S,serialized:M,isStringTag:typeof _=="string"}),O.createElement(_,I))});return b.displayName=o!==void 0?o:"Styled("+(typeof a=="string"?a:a.displayName||a.name||"Component")+")",b.defaultProps=e.defaultProps,b.__emotion_real=b,b.__emotion_base=a,b.__emotion_styles=h,b.__emotion_forwardProp=s,Object.defineProperty(b,"toString",{value:function(){return"."+i}}),b.withComponent=function(x,S){var R=t(x,ne({},n,S,{shouldForwardProp:jT(b,S,!0)}));return R.apply(void 0,h)},b}},V8=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],lw=U8.bind(null);V8.forEach(function(t){lw[t]=lw(t)});var Px={exports:{}},Ix,WT;function j8(){if(WT)return Ix;WT=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ix=t,Ix}var Lx,HT;function W8(){if(HT)return Lx;HT=1;var t=j8();function e(){}function n(){}return n.resetWarningCache=e,Lx=function(){function r(i,s,u,c,f,h){if(h!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function a(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},Lx}var qT;function H8(){return qT||(qT=1,Px.exports=W8()()),Px.exports}var q8=H8();const It=$o(q8);var Fx={exports:{}},Ep={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GT;function G8(){if(GT)return Ep;GT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,o){var i=null;if(o!==void 0&&(i=""+o),a.key!==void 0&&(i=""+a.key),"key"in a){o={};for(var s in a)s!=="key"&&(o[s]=a[s])}else o=a;return a=o.ref,{$$typeof:t,type:r,key:i,ref:a!==void 0?a:null,props:o}}return Ep.Fragment=e,Ep.jsx=n,Ep.jsxs=n,Ep}var KT;function K8(){return KT||(KT=1,Fx.exports=G8()),Fx.exports}var $S=K8();const E=$S.jsx,K=$S.jsxs,kn=$S.Fragment,Hfe=Object.freeze(Object.defineProperty({__proto__:null,Fragment:kn,jsx:E,jsxs:K},Symbol.toStringTag,{value:"Module"}));let uw;typeof document=="object"&&(uw=NO({key:"css",prepend:!0}));function Y8(t){const{injectFirst:e,children:n}=t;return e&&uw?E(N8,{value:uw,children:n}):n}function X8(t){return t==null||Object.keys(t).length===0}function LO(t){const{styles:e,defaultTheme:n={}}=t;return E(I8,{styles:typeof e=="function"?a=>e(X8(a)?n:a):e})}function FO(t,e){return lw(t,e)}const Q8=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},Z8=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:LO,StyledEngineProvider:Y8,ThemeContext:Gf,css:ab,default:FO,internal_processStyles:Q8,keyframes:Kf},Symbol.toStringTag,{value:"Module"}));function ou(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function BO(t){if(O.isValidElement(t)||!ou(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=BO(t[n])}),e}function ja(t,e,n={clone:!0}){const r=n.clone?ne({},t):t;return ou(t)&&ou(e)&&Object.keys(e).forEach(a=>{O.isValidElement(e[a])?r[a]=e[a]:ou(e[a])&&Object.prototype.hasOwnProperty.call(t,a)&&ou(t[a])?r[a]=ja(t[a],e[a],n):n.clone?r[a]=ou(e[a])?BO(e[a]):e[a]:r[a]=e[a]}),r}const J8=Object.freeze(Object.defineProperty({__proto__:null,default:ja,isPlainObject:ou},Symbol.toStringTag,{value:"Module"})),eB=["values","unit","step"],tB=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>ne({},n,{[r.key]:r.val}),{})};function zO(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,a=dt(t,eB),o=tB(e),i=Object.keys(o);function s(m){return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${n})`}function u(m){return`@media (max-width:${(typeof e[m]=="number"?e[m]:m)-r/100}${n})`}function c(m,g){const y=i.indexOf(g);return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${n}) and (max-width:${(y!==-1&&typeof e[i[y]]=="number"?e[i[y]]:g)-r/100}${n})`}function f(m){return i.indexOf(m)+1<i.length?c(m,i[i.indexOf(m)+1]):s(m)}function h(m){const g=i.indexOf(m);return g===0?s(i[1]):g===i.length-1?u(i[g]):c(m,i[i.indexOf(m)+1]).replace("@media","@media not all and")}return ne({keys:i,values:o,up:s,down:u,between:c,only:f,not:h,unit:n},a)}const nB={borderRadius:4};function jp(t,e){return e?ja(t,e,{clone:!1}):t}const US={xs:0,sm:600,md:900,lg:1200,xl:1536},YT={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${US[t]}px)`};function Qs(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const o=r.breakpoints||YT;return e.reduce((i,s,u)=>(i[o.up(o.keys[u])]=n(e[u]),i),{})}if(typeof e=="object"){const o=r.breakpoints||YT;return Object.keys(e).reduce((i,s)=>{if(Object.keys(o.values||US).indexOf(s)!==-1){const u=o.up(s);i[u]=n(e[s],s)}else{const u=s;i[u]=e[u]}return i},{})}return n(e)}function $O(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,a)=>{const o=t.up(a);return r[o]={},r},{}))||{}}function UO(t,e){return t.reduce((n,r)=>{const a=n[r];return(!a||Object.keys(a).length===0)&&delete n[r],n},e)}function qfe(t,...e){const n=$O(t),r=[n,...e].reduce((a,o)=>ja(a,o),{});return UO(Object.keys(n),r)}function rB(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((a,o)=>{o<t.length&&(n[a]=!0)}):r.forEach(a=>{t[a]!=null&&(n[a]=!0)}),n}function Gfe({values:t,breakpoints:e,base:n}){const r=n||rB(t,e),a=Object.keys(r);if(a.length===0)return t;let o;return a.reduce((i,s,u)=>(Array.isArray(t)?(i[s]=t[u]!=null?t[u]:t[o],o=u):typeof t=="object"?(i[s]=t[s]!=null?t[s]:t[o],o=s):i[s]=t,i),{})}function at(t){if(typeof t!="string")throw new Error(Mc(7));return t.charAt(0).toUpperCase()+t.slice(1)}const aB=Object.freeze(Object.defineProperty({__proto__:null,default:at},Symbol.toStringTag,{value:"Module"}));function ob(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((a,o)=>a&&a[o]?a[o]:null,t);if(r!=null)return r}return e.split(".").reduce((r,a)=>r&&r[a]!=null?r[a]:null,t)}function iy(t,e,n,r=n){let a;return typeof t=="function"?a=t(n):Array.isArray(t)?a=t[n]||r:a=ob(t,n)||r,e&&(a=e(a,r,t)),a}function dr(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:a}=t,o=i=>{if(i[e]==null)return null;const s=i[e],u=i.theme,c=ob(u,r)||{};return Qs(i,s,h=>{let m=iy(c,a,h);return h===m&&typeof h=="string"&&(m=iy(c,a,`${e}${h==="default"?"":at(h)}`,h)),n===!1?m:{[n]:m}})};return o.propTypes={},o.filterProps=[e],o}function oB(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const iB={m:"margin",p:"padding"},sB={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},XT={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},lB=oB(t=>{if(t.length>2)if(XT[t])t=XT[t];else return[t];const[e,n]=t.split(""),r=iB[e],a=sB[n]||"";return Array.isArray(a)?a.map(o=>r+o):[r+a]}),VS=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],jS=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...VS,...jS];function zm(t,e,n,r){var a;const o=(a=ob(t,e,!1))!=null?a:n;return typeof o=="number"?i=>typeof i=="string"?i:o*i:Array.isArray(o)?i=>typeof i=="string"?i:o[i]:typeof o=="function"?o:()=>{}}function VO(t){return zm(t,"spacing",8)}function $m(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function uB(t,e){return n=>t.reduce((r,a)=>(r[a]=$m(e,n),r),{})}function cB(t,e,n,r){if(e.indexOf(n)===-1)return null;const a=lB(n),o=uB(a,r),i=t[n];return Qs(t,i,o)}function jO(t,e){const n=VO(t.theme);return Object.keys(t).map(r=>cB(t,e,r,n)).reduce(jp,{})}function nr(t){return jO(t,VS)}nr.propTypes={};nr.filterProps=VS;function rr(t){return jO(t,jS)}rr.propTypes={};rr.filterProps=jS;function dB(t=8){if(t.mui)return t;const e=VO({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(o=>{const i=e(o);return typeof i=="number"?`${i}px`:i}).join(" ");return n.mui=!0,n}function ib(...t){const e=t.reduce((r,a)=>(a.filterProps.forEach(o=>{r[o]=a}),r),{}),n=r=>Object.keys(r).reduce((a,o)=>e[o]?jp(a,e[o](r)):a,{});return n.propTypes={},n.filterProps=t.reduce((r,a)=>r.concat(a.filterProps),[]),n}function Mo(t){return typeof t!="number"?t:`${t}px solid`}function Uo(t,e){return dr({prop:t,themeKey:"borders",transform:e})}const fB=Uo("border",Mo),hB=Uo("borderTop",Mo),pB=Uo("borderRight",Mo),mB=Uo("borderBottom",Mo),gB=Uo("borderLeft",Mo),vB=Uo("borderColor"),yB=Uo("borderTopColor"),bB=Uo("borderRightColor"),xB=Uo("borderBottomColor"),wB=Uo("borderLeftColor"),SB=Uo("outline",Mo),_B=Uo("outlineColor"),sb=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=zm(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:$m(e,r)});return Qs(t,t.borderRadius,n)}return null};sb.propTypes={};sb.filterProps=["borderRadius"];ib(fB,hB,pB,mB,gB,vB,yB,bB,xB,wB,sb,SB,_B);const lb=t=>{if(t.gap!==void 0&&t.gap!==null){const e=zm(t.theme,"spacing",8),n=r=>({gap:$m(e,r)});return Qs(t,t.gap,n)}return null};lb.propTypes={};lb.filterProps=["gap"];const ub=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=zm(t.theme,"spacing",8),n=r=>({columnGap:$m(e,r)});return Qs(t,t.columnGap,n)}return null};ub.propTypes={};ub.filterProps=["columnGap"];const cb=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=zm(t.theme,"spacing",8),n=r=>({rowGap:$m(e,r)});return Qs(t,t.rowGap,n)}return null};cb.propTypes={};cb.filterProps=["rowGap"];const CB=dr({prop:"gridColumn"}),EB=dr({prop:"gridRow"}),TB=dr({prop:"gridAutoFlow"}),RB=dr({prop:"gridAutoColumns"}),AB=dr({prop:"gridAutoRows"}),kB=dr({prop:"gridTemplateColumns"}),NB=dr({prop:"gridTemplateRows"}),OB=dr({prop:"gridTemplateAreas"}),DB=dr({prop:"gridArea"});ib(lb,ub,cb,CB,EB,TB,RB,AB,kB,NB,OB,DB);function df(t,e){return e==="grey"?e:t}const MB=dr({prop:"color",themeKey:"palette",transform:df}),PB=dr({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:df}),IB=dr({prop:"backgroundColor",themeKey:"palette",transform:df});ib(MB,PB,IB);function uo(t){return t<=1&&t!==0?`${t*100}%`:t}const LB=dr({prop:"width",transform:uo}),WS=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,a;const o=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||US[n];return o?((a=t.theme)==null||(a=a.breakpoints)==null?void 0:a.unit)!=="px"?{maxWidth:`${o}${t.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:uo(n)}};return Qs(t,t.maxWidth,e)}return null};WS.filterProps=["maxWidth"];const FB=dr({prop:"minWidth",transform:uo}),BB=dr({prop:"height",transform:uo}),zB=dr({prop:"maxHeight",transform:uo}),$B=dr({prop:"minHeight",transform:uo});dr({prop:"size",cssProperty:"width",transform:uo});dr({prop:"size",cssProperty:"height",transform:uo});const UB=dr({prop:"boxSizing"});ib(LB,WS,FB,BB,zB,$B,UB);const Um={border:{themeKey:"borders",transform:Mo},borderTop:{themeKey:"borders",transform:Mo},borderRight:{themeKey:"borders",transform:Mo},borderBottom:{themeKey:"borders",transform:Mo},borderLeft:{themeKey:"borders",transform:Mo},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Mo},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:sb},color:{themeKey:"palette",transform:df},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:df},backgroundColor:{themeKey:"palette",transform:df},p:{style:rr},pt:{style:rr},pr:{style:rr},pb:{style:rr},pl:{style:rr},px:{style:rr},py:{style:rr},padding:{style:rr},paddingTop:{style:rr},paddingRight:{style:rr},paddingBottom:{style:rr},paddingLeft:{style:rr},paddingX:{style:rr},paddingY:{style:rr},paddingInline:{style:rr},paddingInlineStart:{style:rr},paddingInlineEnd:{style:rr},paddingBlock:{style:rr},paddingBlockStart:{style:rr},paddingBlockEnd:{style:rr},m:{style:nr},mt:{style:nr},mr:{style:nr},mb:{style:nr},ml:{style:nr},mx:{style:nr},my:{style:nr},margin:{style:nr},marginTop:{style:nr},marginRight:{style:nr},marginBottom:{style:nr},marginLeft:{style:nr},marginX:{style:nr},marginY:{style:nr},marginInline:{style:nr},marginInlineStart:{style:nr},marginInlineEnd:{style:nr},marginBlock:{style:nr},marginBlockStart:{style:nr},marginBlockEnd:{style:nr},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:lb},rowGap:{style:cb},columnGap:{style:ub},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:uo},maxWidth:{style:WS},minWidth:{transform:uo},height:{transform:uo},maxHeight:{transform:uo},minHeight:{transform:uo},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function VB(...t){const e=t.reduce((r,a)=>r.concat(Object.keys(a)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function jB(t,e){return typeof t=="function"?t(e):t}function WO(){function t(n,r,a,o){const i={[n]:r,theme:a},s=o[n];if(!s)return{[n]:r};const{cssProperty:u=n,themeKey:c,transform:f,style:h}=s;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const m=ob(a,c)||{};return h?h(i):Qs(i,r,y=>{let b=iy(m,f,y);return y===b&&typeof y=="string"&&(b=iy(m,f,`${n}${y==="default"?"":at(y)}`,y)),u===!1?b:{[u]:b}})}function e(n){var r;const{sx:a,theme:o={}}=n||{};if(!a)return null;const i=(r=o.unstable_sxConfig)!=null?r:Um;function s(u){let c=u;if(typeof u=="function")c=u(o);else if(typeof u!="object")return u;if(!c)return null;const f=$O(o.breakpoints),h=Object.keys(f);let m=f;return Object.keys(c).forEach(g=>{const y=jB(c[g],o);if(y!=null)if(typeof y=="object")if(i[g])m=jp(m,t(g,y,o,i));else{const b=Qs({theme:o},y,x=>({[g]:x}));VB(b,y)?m[g]=e({sx:y,theme:o}):m=jp(m,b)}else m=jp(m,t(g,y,o,i))}),UO(h,m)}return Array.isArray(a)?a.map(s):s(a)}return e}const Vm=WO();Vm.filterProps=["sx"];function HO(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const WB=["breakpoints","palette","spacing","shape"];function HS(t={},...e){const{breakpoints:n={},palette:r={},spacing:a,shape:o={}}=t,i=dt(t,WB),s=zO(n),u=dB(a);let c=ja({breakpoints:s,direction:"ltr",components:{},palette:ne({mode:"light"},r),spacing:u,shape:ne({},nB,o)},i);return c.applyStyles=HO,c=e.reduce((f,h)=>ja(f,h),c),c.unstable_sxConfig=ne({},Um,i==null?void 0:i.unstable_sxConfig),c.unstable_sx=function(h){return Vm({sx:h,theme:this})},c}const HB=Object.freeze(Object.defineProperty({__proto__:null,default:HS,private_createBreakpoints:zO,unstable_applyStyles:HO},Symbol.toStringTag,{value:"Module"}));function qB(t){return Object.keys(t).length===0}function qO(t=null){const e=O.useContext(Gf);return!e||qB(e)?t:e}const GB=HS();function qS(t=GB){return qO(t)}function KB({styles:t,themeId:e,defaultTheme:n={}}){const r=qS(n),a=typeof t=="function"?t(e&&r[e]||r):t;return E(LO,{styles:a})}const YB=["sx"],XB=t=>{var e,n;const r={systemProps:{},otherProps:{}},a=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:Um;return Object.keys(t).forEach(o=>{a[o]?r.systemProps[o]=t[o]:r.otherProps[o]=t[o]}),r};function GS(t){const{sx:e}=t,n=dt(t,YB),{systemProps:r,otherProps:a}=XB(n);let o;return Array.isArray(e)?o=[r,...e]:typeof e=="function"?o=(...i)=>{const s=e(...i);return ou(s)?ne({},r,s):r}:o=ne({},r,e),ne({},a,{sx:o})}const QB=Object.freeze(Object.defineProperty({__proto__:null,default:Vm,extendSxProp:GS,unstable_createStyleFunctionSx:WO,unstable_defaultSxConfig:Um},Symbol.toStringTag,{value:"Module"})),QT=t=>t,ZB=()=>{let t=QT;return{configure(e){t=e},generate(e){return t(e)},reset(){t=QT}}},GO=ZB();function KO(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=KO(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ht(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=KO(t))&&(r&&(r+=" "),r+=e);return r}const JB=["className","component"];function e7(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:a}=t,o=FO("div",{shouldForwardProp:s=>s!=="theme"&&s!=="sx"&&s!=="as"})(Vm);return O.forwardRef(function(u,c){const f=qS(n),h=GS(u),{className:m,component:g="div"}=h,y=dt(h,JB);return E(o,ne({as:g,ref:c,className:ht(m,a?a(r):r),theme:e&&f[e]||f},y))})}const t7={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function En(t,e,n="Mui"){const r=t7[e];return r?`${n}-${r}`:`${GO.generate(t)}-${e}`}function yn(t,e,n="Mui"){const r={};return e.forEach(a=>{r[a]=En(t,a,n)}),r}var Bx={exports:{}},Cn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZT;function n7(){if(ZT)return Cn;ZT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),i=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.view_transition"),g=Symbol.for("react.client.reference");function y(b){if(typeof b=="object"&&b!==null){var x=b.$$typeof;switch(x){case t:switch(b=b.type,b){case n:case a:case r:case u:case c:case m:return b;default:switch(b=b&&b.$$typeof,b){case i:case s:case h:case f:return b;case o:return b;default:return x}}case e:return x}}}return Cn.ContextConsumer=o,Cn.ContextProvider=i,Cn.Element=t,Cn.ForwardRef=s,Cn.Fragment=n,Cn.Lazy=h,Cn.Memo=f,Cn.Portal=e,Cn.Profiler=a,Cn.StrictMode=r,Cn.Suspense=u,Cn.SuspenseList=c,Cn.isContextConsumer=function(b){return y(b)===o},Cn.isContextProvider=function(b){return y(b)===i},Cn.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},Cn.isForwardRef=function(b){return y(b)===s},Cn.isFragment=function(b){return y(b)===n},Cn.isLazy=function(b){return y(b)===h},Cn.isMemo=function(b){return y(b)===f},Cn.isPortal=function(b){return y(b)===e},Cn.isProfiler=function(b){return y(b)===a},Cn.isStrictMode=function(b){return y(b)===r},Cn.isSuspense=function(b){return y(b)===u},Cn.isSuspenseList=function(b){return y(b)===c},Cn.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===n||b===a||b===r||b===u||b===c||typeof b=="object"&&b!==null&&(b.$$typeof===h||b.$$typeof===f||b.$$typeof===i||b.$$typeof===o||b.$$typeof===s||b.$$typeof===g||b.getModuleId!==void 0)},Cn.typeOf=y,Cn}var JT;function r7(){return JT||(JT=1,Bx.exports=n7()),Bx.exports}var e3=r7();const a7=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function YO(t){const e=`${t}`.match(a7);return e&&e[1]||""}function XO(t,e=""){return t.displayName||t.name||YO(t)||e}function t3(t,e,n){const r=XO(e);return t.displayName||(r!==""?`${n}(${r})`:n)}function o7(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return XO(t,"Component");if(typeof t=="object")switch(t.$$typeof){case e3.ForwardRef:return t3(t,t.render,"ForwardRef");case e3.Memo:return t3(t,t.type,"memo");default:return}}}const i7=Object.freeze(Object.defineProperty({__proto__:null,default:o7,getFunctionName:YO},Symbol.toStringTag,{value:"Module"}));function cw(t,e){const n=ne({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=ne({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const a=t[r]||{},o=e[r];n[r]={},!o||!Object.keys(o)?n[r]=a:!a||!Object.keys(a)?n[r]=o:(n[r]=ne({},o),Object.keys(a).forEach(i=>{n[r][i]=cw(a[i],o[i])}))}else n[r]===void 0&&(n[r]=t[r])}),n}const yu=typeof window<"u"?O.useLayoutEffect:O.useEffect;function s7(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const l7=Object.freeze(Object.defineProperty({__proto__:null,default:s7},Symbol.toStringTag,{value:"Module"}));function n3(...t){return t.reduce((e,n)=>n==null?e:function(...a){e.apply(this,a),n.apply(this,a)},()=>{})}function QO(t,e=166){let n;function r(...a){const o=()=>{t.apply(this,a)};clearTimeout(n),n=setTimeout(o,e)}return r.clear=()=>{clearTimeout(n)},r}function U0(t,e){var n,r;return O.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function mo(t){return t&&t.ownerDocument||document}function Pc(t){return mo(t).defaultView||window}function dw(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let r3=0;function u7(t){const[e,n]=O.useState(t),r=t||e;return O.useEffect(()=>{e==null&&(r3+=1,n(`mui-${r3}`))},[e]),r}const a3=aw.useId;function ZO(t){if(a3!==void 0){const e=a3();return t??e}return u7(t)}function o3({controlled:t,default:e,name:n,state:r="value"}){const{current:a}=O.useRef(t!==void 0),[o,i]=O.useState(e),s=a?t:o,u=O.useCallback(c=>{a||i(c)},[]);return[s,u]}function mc(t){const e=O.useRef(t);return yu(()=>{e.current=t}),O.useRef((...n)=>(0,e.current)(...n)).current}function ea(...t){return O.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{dw(n,e)})},t)}const i3={};function c7(t,e){const n=O.useRef(i3);return n.current===i3&&(n.current=t(e)),n}const d7=[];function f7(t){O.useEffect(t,d7)}class db{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new db}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function JO(){const t=c7(db.create).current;return f7(t.disposeEffect),t}let fb=!0,fw=!1;const h7=new db,p7={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function m7(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&p7[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function g7(t){t.metaKey||t.altKey||t.ctrlKey||(fb=!0)}function zx(){fb=!1}function v7(){this.visibilityState==="hidden"&&fw&&(fb=!0)}function y7(t){t.addEventListener("keydown",g7,!0),t.addEventListener("mousedown",zx,!0),t.addEventListener("pointerdown",zx,!0),t.addEventListener("touchstart",zx,!0),t.addEventListener("visibilitychange",v7,!0)}function b7(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return fb||m7(e)}function x7(){const t=O.useCallback(a=>{a!=null&&y7(a.ownerDocument)},[]),e=O.useRef(!1);function n(){return e.current?(fw=!0,h7.start(100,()=>{fw=!1}),e.current=!1,!0):!1}function r(a){return b7(a)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function eD(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function Nn(t,e,n=void 0){const r={};return Object.keys(t).forEach(a=>{r[a]=t[a].reduce((o,i)=>{if(i){const s=e(i);s!==""&&o.push(s),n&&n[i]&&o.push(n[i])}return o},[]).join(" ")}),r}function Of(t){return typeof t=="string"}function tD(t,e,n){return t===void 0||Of(t)?e:ne({},e,{ownerState:ne({},e.ownerState,n)})}function nD(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function s3(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function rD(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:a,className:o}=t;if(!e){const g=ht(n==null?void 0:n.className,o,a==null?void 0:a.className,r==null?void 0:r.className),y=ne({},n==null?void 0:n.style,a==null?void 0:a.style,r==null?void 0:r.style),b=ne({},n,a,r);return g.length>0&&(b.className=g),Object.keys(y).length>0&&(b.style=y),{props:b,internalRef:void 0}}const i=nD(ne({},a,r)),s=s3(r),u=s3(a),c=e(i),f=ht(c==null?void 0:c.className,n==null?void 0:n.className,o,a==null?void 0:a.className,r==null?void 0:r.className),h=ne({},c==null?void 0:c.style,n==null?void 0:n.style,a==null?void 0:a.style,r==null?void 0:r.style),m=ne({},c,n,u,s);return f.length>0&&(m.className=f),Object.keys(h).length>0&&(m.style=h),{props:m,internalRef:c.ref}}function aD(t,e,n){return typeof t=="function"?t(e,n):t}const w7=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Df(t){var e;const{elementType:n,externalSlotProps:r,ownerState:a,skipResolvingSlotProps:o=!1}=t,i=dt(t,w7),s=o?{}:aD(r,a),{props:u,internalRef:c}=rD(ne({},i,{externalSlotProps:s})),f=ea(c,s==null?void 0:s.ref,(e=t.additionalProps)==null?void 0:e.ref);return tD(n,ne({},u,{ref:f}),a)}function jm(t){if(parseInt(O.version,10)>=19){var e;return(t==null||(e=t.props)==null?void 0:e.ref)||null}return(t==null?void 0:t.ref)||null}const oD=O.createContext(null);function iD(){return O.useContext(oD)}const S7=typeof Symbol=="function"&&Symbol.for,_7=S7?Symbol.for("mui.nested"):"__THEME_NESTED__";function C7(t,e){return typeof e=="function"?e(t):ne({},t,e)}function E7(t){const{children:e,theme:n}=t,r=iD(),a=O.useMemo(()=>{const o=r===null?n:C7(r,n);return o!=null&&(o[_7]=r!==null),o},[n,r]);return E(oD.Provider,{value:a,children:e})}const T7=["value"],sD=O.createContext();function R7(t){let{value:e}=t,n=dt(t,T7);return E(sD.Provider,ne({value:e??!0},n))}const A7=()=>{const t=O.useContext(sD);return t??!1},lD=O.createContext(void 0);function k7({value:t,children:e}){return E(lD.Provider,{value:t,children:e})}function N7(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const a=e.components[n];return a.defaultProps?cw(a.defaultProps,r):!a.styleOverrides&&!a.variants?cw(a,r):r}function O7({props:t,name:e}){const n=O.useContext(lD);return N7({props:t,name:e,theme:{components:n}})}const l3={};function u3(t,e,n,r=!1){return O.useMemo(()=>{const a=t&&e[t]||e;if(typeof n=="function"){const o=n(a),i=t?ne({},e,{[t]:o}):o;return r?()=>i:i}return t?ne({},e,{[t]:n}):ne({},e,n)},[t,e,n,r])}function D7(t){const{children:e,theme:n,themeId:r}=t,a=qO(l3),o=iD()||l3,i=u3(r,a,n),s=u3(r,o,n,!0),u=i.direction==="rtl";return E(E7,{theme:s,children:E(Gf.Provider,{value:i,children:E(R7,{value:u,children:E(k7,{value:i==null?void 0:i.components,children:e})})})})}function M7(t,e){return ne({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var Hn={},$x={exports:{}},c3;function uD(){return c3||(c3=1,function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}($x)),$x.exports}const P7=Eu(WF),I7=Eu(l7);var d3;function L7(){if(d3)return Hn;d3=1;var t=uD();Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.alpha=y,Hn.blend=D,Hn.colorChannel=void 0,Hn.darken=x,Hn.decomposeColor=i,Hn.emphasize=T,Hn.getContrastRatio=g,Hn.getLuminance=m,Hn.hexToRgb=a,Hn.hslToRgb=h,Hn.lighten=R,Hn.private_safeAlpha=b,Hn.private_safeColorChannel=void 0,Hn.private_safeDarken=S,Hn.private_safeEmphasize=A,Hn.private_safeLighten=_,Hn.recomposeColor=c,Hn.rgbToHex=f;var e=t(P7),n=t(I7);function r(N,M=0,P=1){return(0,n.default)(N,M,P)}function a(N){N=N.slice(1);const M=new RegExp(`.{1,${N.length>=6?2:1}}`,"g");let P=N.match(M);return P&&P[0].length===1&&(P=P.map(I=>I+I)),P?`rgb${P.length===4?"a":""}(${P.map((I,$)=>$<3?parseInt(I,16):Math.round(parseInt(I,16)/255*1e3)/1e3).join(", ")})`:""}function o(N){const M=N.toString(16);return M.length===1?`0${M}`:M}function i(N){if(N.type)return N;if(N.charAt(0)==="#")return i(a(N));const M=N.indexOf("("),P=N.substring(0,M);if(["rgb","rgba","hsl","hsla","color"].indexOf(P)===-1)throw new Error((0,e.default)(9,N));let I=N.substring(M+1,N.length-1),$;if(P==="color"){if(I=I.split(" "),$=I.shift(),I.length===4&&I[3].charAt(0)==="/"&&(I[3]=I[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf($)===-1)throw new Error((0,e.default)(10,$))}else I=I.split(",");return I=I.map(z=>parseFloat(z)),{type:P,values:I,colorSpace:$}}const s=N=>{const M=i(N);return M.values.slice(0,3).map((P,I)=>M.type.indexOf("hsl")!==-1&&I!==0?`${P}%`:P).join(" ")};Hn.colorChannel=s;const u=(N,M)=>{try{return s(N)}catch{return N}};Hn.private_safeColorChannel=u;function c(N){const{type:M,colorSpace:P}=N;let{values:I}=N;return M.indexOf("rgb")!==-1?I=I.map(($,z)=>z<3?parseInt($,10):$):M.indexOf("hsl")!==-1&&(I[1]=`${I[1]}%`,I[2]=`${I[2]}%`),M.indexOf("color")!==-1?I=`${P} ${I.join(" ")}`:I=`${I.join(", ")}`,`${M}(${I})`}function f(N){if(N.indexOf("#")===0)return N;const{values:M}=i(N);return`#${M.map((P,I)=>o(I===3?Math.round(255*P):P)).join("")}`}function h(N){N=i(N);const{values:M}=N,P=M[0],I=M[1]/100,$=M[2]/100,z=I*Math.min($,1-$),G=(F,U=(F+P/30)%12)=>$-z*Math.max(Math.min(U-3,9-U,1),-1);let V="rgb";const B=[Math.round(G(0)*255),Math.round(G(8)*255),Math.round(G(4)*255)];return N.type==="hsla"&&(V+="a",B.push(M[3])),c({type:V,values:B})}function m(N){N=i(N);let M=N.type==="hsl"||N.type==="hsla"?i(h(N)).values:N.values;return M=M.map(P=>(N.type!=="color"&&(P/=255),P<=.03928?P/12.92:((P+.055)/1.055)**2.4)),Number((.2126*M[0]+.7152*M[1]+.0722*M[2]).toFixed(3))}function g(N,M){const P=m(N),I=m(M);return(Math.max(P,I)+.05)/(Math.min(P,I)+.05)}function y(N,M){return N=i(N),M=r(M),(N.type==="rgb"||N.type==="hsl")&&(N.type+="a"),N.type==="color"?N.values[3]=`/${M}`:N.values[3]=M,c(N)}function b(N,M,P){try{return y(N,M)}catch{return N}}function x(N,M){if(N=i(N),M=r(M),N.type.indexOf("hsl")!==-1)N.values[2]*=1-M;else if(N.type.indexOf("rgb")!==-1||N.type.indexOf("color")!==-1)for(let P=0;P<3;P+=1)N.values[P]*=1-M;return c(N)}function S(N,M,P){try{return x(N,M)}catch{return N}}function R(N,M){if(N=i(N),M=r(M),N.type.indexOf("hsl")!==-1)N.values[2]+=(100-N.values[2])*M;else if(N.type.indexOf("rgb")!==-1)for(let P=0;P<3;P+=1)N.values[P]+=(255-N.values[P])*M;else if(N.type.indexOf("color")!==-1)for(let P=0;P<3;P+=1)N.values[P]+=(1-N.values[P])*M;return c(N)}function _(N,M,P){try{return R(N,M)}catch{return N}}function T(N,M=.15){return m(N)>.5?x(N,M):R(N,M)}function A(N,M,P){try{return T(N,M)}catch{return N}}function D(N,M,P,I=1){const $=(B,F)=>Math.round((B**(1/I)*(1-P)+F**(1/I)*P)**I),z=i(N),G=i(M),V=[$(z.values[0],G.values[0]),$(z.values[1],G.values[1]),$(z.values[2],G.values[2])];return c({type:"rgb",values:V})}return Hn}var or=L7();const F7=["mode","contrastThreshold","tonalOffset"],f3={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:im.white,default:im.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Ux={text:{primary:im.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:im.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function h3(t,e,n,r){const a=r.light||r,o=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=or.lighten(t.main,a):e==="dark"&&(t.dark=or.darken(t.main,o)))}function B7(t="light"){return t==="dark"?{main:Bd[200],light:Bd[50],dark:Bd[400]}:{main:Bd[700],light:Bd[400],dark:Bd[800]}}function z7(t="light"){return t==="dark"?{main:Fd[200],light:Fd[50],dark:Fd[400]}:{main:Fd[500],light:Fd[300],dark:Fd[700]}}function $7(t="light"){return t==="dark"?{main:Ld[500],light:Ld[300],dark:Ld[700]}:{main:Ld[700],light:Ld[400],dark:Ld[800]}}function U7(t="light"){return t==="dark"?{main:zd[400],light:zd[300],dark:zd[700]}:{main:zd[700],light:zd[500],dark:zd[900]}}function V7(t="light"){return t==="dark"?{main:$d[400],light:$d[300],dark:$d[700]}:{main:$d[800],light:$d[500],dark:$d[900]}}function j7(t="light"){return t==="dark"?{main:_p[400],light:_p[300],dark:_p[700]}:{main:"#ed6c02",light:_p[500],dark:_p[900]}}function W7(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,a=dt(t,F7),o=t.primary||B7(e),i=t.secondary||z7(e),s=t.error||$7(e),u=t.info||U7(e),c=t.success||V7(e),f=t.warning||j7(e);function h(b){return or.getContrastRatio(b,Ux.text.primary)>=n?Ux.text.primary:f3.text.primary}const m=({color:b,name:x,mainShade:S=500,lightShade:R=300,darkShade:_=700})=>{if(b=ne({},b),!b.main&&b[S]&&(b.main=b[S]),!b.hasOwnProperty("main"))throw new Error(Mc(11,x?` (${x})`:"",S));if(typeof b.main!="string")throw new Error(Mc(12,x?` (${x})`:"",JSON.stringify(b.main)));return h3(b,"light",R,r),h3(b,"dark",_,r),b.contrastText||(b.contrastText=h(b.main)),b},g={dark:Ux,light:f3};return ja(ne({common:ne({},im),mode:e,primary:m({color:o,name:"primary"}),secondary:m({color:i,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:s,name:"error"}),warning:m({color:f,name:"warning"}),info:m({color:u,name:"info"}),success:m({color:c,name:"success"}),grey:jF,contrastThreshold:n,getContrastText:h,augmentColor:m,tonalOffset:r},g[e]),a)}const H7=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function q7(t){return Math.round(t*1e5)/1e5}const p3={textTransform:"uppercase"},m3='"Roboto", "Helvetica", "Arial", sans-serif';function G7(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=m3,fontSize:a=14,fontWeightLight:o=300,fontWeightRegular:i=400,fontWeightMedium:s=500,fontWeightBold:u=700,htmlFontSize:c=16,allVariants:f,pxToRem:h}=n,m=dt(n,H7),g=a/14,y=h||(S=>`${S/c*g}rem`),b=(S,R,_,T,A)=>ne({fontFamily:r,fontWeight:S,fontSize:y(R),lineHeight:_},r===m3?{letterSpacing:`${q7(T/R)}em`}:{},A,f),x={h1:b(o,96,1.167,-1.5),h2:b(o,60,1.2,-.5),h3:b(i,48,1.167,0),h4:b(i,34,1.235,.25),h5:b(i,24,1.334,0),h6:b(s,20,1.6,.15),subtitle1:b(i,16,1.75,.15),subtitle2:b(s,14,1.57,.1),body1:b(i,16,1.5,.15),body2:b(i,14,1.43,.15),button:b(s,14,1.75,.4,p3),caption:b(i,12,1.66,.4),overline:b(i,12,2.66,1,p3),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ja(ne({htmlFontSize:c,pxToRem:y,fontFamily:r,fontSize:a,fontWeightLight:o,fontWeightRegular:i,fontWeightMedium:s,fontWeightBold:u},x),m,{clone:!1})}const K7=.2,Y7=.14,X7=.12;function zn(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${K7})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${Y7})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${X7})`].join(",")}const Q7=["none",zn(0,2,1,-1,0,1,1,0,0,1,3,0),zn(0,3,1,-2,0,2,2,0,0,1,5,0),zn(0,3,3,-2,0,3,4,0,0,1,8,0),zn(0,2,4,-1,0,4,5,0,0,1,10,0),zn(0,3,5,-1,0,5,8,0,0,1,14,0),zn(0,3,5,-1,0,6,10,0,0,1,18,0),zn(0,4,5,-2,0,7,10,1,0,2,16,1),zn(0,5,5,-3,0,8,10,1,0,3,14,2),zn(0,5,6,-3,0,9,12,1,0,3,16,2),zn(0,6,6,-3,0,10,14,1,0,4,18,3),zn(0,6,7,-4,0,11,15,1,0,4,20,3),zn(0,7,8,-4,0,12,17,2,0,5,22,4),zn(0,7,8,-4,0,13,19,2,0,5,24,4),zn(0,7,9,-4,0,14,21,2,0,5,26,4),zn(0,8,9,-5,0,15,22,2,0,6,28,5),zn(0,8,10,-5,0,16,24,2,0,6,30,5),zn(0,8,11,-5,0,17,26,2,0,6,32,5),zn(0,9,11,-5,0,18,28,2,0,7,34,6),zn(0,9,12,-6,0,19,29,2,0,7,36,6),zn(0,10,13,-6,0,20,31,3,0,8,38,7),zn(0,10,13,-6,0,21,33,3,0,8,40,7),zn(0,10,14,-6,0,22,35,3,0,8,42,7),zn(0,11,14,-7,0,23,36,3,0,9,44,8),zn(0,11,15,-7,0,24,38,3,0,9,46,8)],Z7=["duration","easing","delay"],J7={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},ez={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function g3(t){return`${Math.round(t)}ms`}function tz(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function nz(t){const e=ne({},J7,t.easing),n=ne({},ez,t.duration);return ne({getAutoHeightDuration:tz,create:(a=["all"],o={})=>{const{duration:i=n.standard,easing:s=e.easeInOut,delay:u=0}=o;return dt(o,Z7),(Array.isArray(a)?a:[a]).map(c=>`${c} ${typeof i=="string"?i:g3(i)} ${s} ${typeof u=="string"?u:g3(u)}`).join(",")}},t,{easing:e,duration:n})}const rz={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},az=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function KS(t={},...e){const{mixins:n={},palette:r={},transitions:a={},typography:o={}}=t,i=dt(t,az);if(t.vars&&t.generateCssVars===void 0)throw new Error(Mc(18));const s=W7(r),u=HS(t);let c=ja(u,{mixins:M7(u.breakpoints,n),palette:s,shadows:Q7.slice(),typography:G7(s,o),transitions:nz(a),zIndex:ne({},rz)});return c=ja(c,i),c=e.reduce((f,h)=>ja(f,h),c),c.unstable_sxConfig=ne({},Um,i==null?void 0:i.unstable_sxConfig),c.unstable_sx=function(h){return Vm({sx:h,theme:this})},c}const YS=KS();function cD(){const t=qS(YS);return t[kf]||t}var ac={},Vx={exports:{}},v3;function oz(){return v3||(v3=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var o in a)({}).hasOwnProperty.call(a,o)&&(n[o]=a[o])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Vx)),Vx.exports}var jx={exports:{}},y3;function iz(){return y3||(y3=1,function(t){function e(n,r){if(n==null)return{};var a={};for(var o in n)if({}.hasOwnProperty.call(n,o)){if(r.indexOf(o)!==-1)continue;a[o]=n[o]}return a}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(jx)),jx.exports}const sz=Eu(Z8),lz=Eu(J8),uz=Eu(aB),cz=Eu(i7),dz=Eu(HB),fz=Eu(QB);var b3;function hz(){if(b3)return ac;b3=1;var t=uD();Object.defineProperty(ac,"__esModule",{value:!0}),ac.default=T,ac.shouldForwardProp=y,ac.systemDefaultTheme=void 0;var e=t(oz()),n=t(iz()),r=h(sz),a=lz;t(uz),t(cz);var o=t(dz),i=t(fz);const s=["ownerState"],u=["variants"],c=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function f(A){if(typeof WeakMap!="function")return null;var D=new WeakMap,N=new WeakMap;return(f=function(M){return M?N:D})(A)}function h(A,D){if(A&&A.__esModule)return A;if(A===null||typeof A!="object"&&typeof A!="function")return{default:A};var N=f(D);if(N&&N.has(A))return N.get(A);var M={__proto__:null},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var I in A)if(I!=="default"&&Object.prototype.hasOwnProperty.call(A,I)){var $=P?Object.getOwnPropertyDescriptor(A,I):null;$&&($.get||$.set)?Object.defineProperty(M,I,$):M[I]=A[I]}return M.default=A,N&&N.set(A,M),M}function m(A){return Object.keys(A).length===0}function g(A){return typeof A=="string"&&A.charCodeAt(0)>96}function y(A){return A!=="ownerState"&&A!=="theme"&&A!=="sx"&&A!=="as"}const b=ac.systemDefaultTheme=(0,o.default)(),x=A=>A&&A.charAt(0).toLowerCase()+A.slice(1);function S({defaultTheme:A,theme:D,themeId:N}){return m(D)?A:D[N]||D}function R(A){return A?(D,N)=>N[A]:null}function _(A,D){let{ownerState:N}=D,M=(0,n.default)(D,s);const P=typeof A=="function"?A((0,e.default)({ownerState:N},M)):A;if(Array.isArray(P))return P.flatMap(I=>_(I,(0,e.default)({ownerState:N},M)));if(P&&typeof P=="object"&&Array.isArray(P.variants)){const{variants:I=[]}=P;let z=(0,n.default)(P,u);return I.forEach(G=>{let V=!0;typeof G.props=="function"?V=G.props((0,e.default)({ownerState:N},M,N)):Object.keys(G.props).forEach(B=>{(N==null?void 0:N[B])!==G.props[B]&&M[B]!==G.props[B]&&(V=!1)}),V&&(Array.isArray(z)||(z=[z]),z.push(typeof G.style=="function"?G.style((0,e.default)({ownerState:N},M,N)):G.style))}),z}return P}function T(A={}){const{themeId:D,defaultTheme:N=b,rootShouldForwardProp:M=y,slotShouldForwardProp:P=y}=A,I=$=>(0,i.default)((0,e.default)({},$,{theme:S((0,e.default)({},$,{defaultTheme:N,themeId:D}))}));return I.__mui_systemSx=!0,($,z={})=>{(0,r.internal_processStyles)($,be=>be.filter(Oe=>!(Oe!=null&&Oe.__mui_systemSx)));const{name:G,slot:V,skipVariantsResolver:B,skipSx:F,overridesResolver:U=R(x(V))}=z,W=(0,n.default)(z,c),Q=B!==void 0?B:V&&V!=="Root"&&V!=="root"||!1,q=F||!1;let le,J=y;V==="Root"||V==="root"?J=M:V?J=P:g($)&&(J=void 0);const oe=(0,r.default)($,(0,e.default)({shouldForwardProp:J,label:le},W)),re=be=>typeof be=="function"&&be.__emotion_real!==be||(0,a.isPlainObject)(be)?Oe=>_(be,(0,e.default)({},Oe,{theme:S({theme:Oe.theme,defaultTheme:N,themeId:D})})):be,we=(be,...Oe)=>{let pe=re(be);const De=Oe?Oe.map(re):[];G&&U&&De.push(ze=>{const Ce=S((0,e.default)({},ze,{defaultTheme:N,themeId:D}));if(!Ce.components||!Ce.components[G]||!Ce.components[G].styleOverrides)return null;const Ie=Ce.components[G].styleOverrides,Ue={};return Object.entries(Ie).forEach(([st,mt])=>{Ue[st]=_(mt,(0,e.default)({},ze,{theme:Ce}))}),U(ze,Ue)}),G&&!Q&&De.push(ze=>{var Ce;const Ie=S((0,e.default)({},ze,{defaultTheme:N,themeId:D})),Ue=Ie==null||(Ce=Ie.components)==null||(Ce=Ce[G])==null?void 0:Ce.variants;return _({variants:Ue},(0,e.default)({},ze,{theme:Ie}))}),q||De.push(I);const Ve=De.length-Oe.length;if(Array.isArray(be)&&Ve>0){const ze=new Array(Ve).fill("");pe=[...be,...ze],pe.raw=[...be.raw,...ze]}const Pe=oe(pe,...De);return $.muiName&&(Pe.muiName=$.muiName),Pe};return oe.withConfig&&(we.withConfig=oe.withConfig),we}}return ac}var pz=hz();const mz=$o(pz);function dD(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const us=t=>dD(t)&&t!=="classes",pt=mz({themeId:kf,defaultTheme:YS,rootShouldForwardProp:us}),gz=["theme"];function vz(t){let{theme:e}=t,n=dt(t,gz);const r=e[kf];let a=r||e;return typeof e!="function"&&(r&&!r.vars?a=ne({},r,{vars:null}):e&&!e.vars&&(a=ne({},e,{vars:null}))),E(D7,ne({},n,{themeId:r?kf:void 0,theme:a}))}const x3=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)};function Tn(t){return O7(t)}function yz(t){return En("MuiSvgIcon",t)}yn("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const bz=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],xz=t=>{const{color:e,fontSize:n,classes:r}=t,a={root:["root",e!=="inherit"&&`color${at(e)}`,`fontSize${at(n)}`]};return Nn(a,yz,r)},wz=pt("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${at(n.color)}`],e[`fontSize${at(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,a,o,i,s,u,c,f,h,m,g,y;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(a=t.transitions)==null||(a=a.duration)==null?void 0:a.shorter}),fontSize:{inherit:"inherit",small:((o=t.typography)==null||(i=o.pxToRem)==null?void 0:i.call(o,20))||"1.25rem",medium:((s=t.typography)==null||(u=s.pxToRem)==null?void 0:u.call(s,24))||"1.5rem",large:((c=t.typography)==null||(f=c.pxToRem)==null?void 0:f.call(c,35))||"2.1875rem"}[e.fontSize],color:(h=(m=(t.vars||t).palette)==null||(m=m[e.color])==null?void 0:m.main)!=null?h:{action:(g=(t.vars||t).palette)==null||(g=g.action)==null?void 0:g.active,disabled:(y=(t.vars||t).palette)==null||(y=y.action)==null?void 0:y.disabled,inherit:void 0}[e.color]}}),hw=O.forwardRef(function(e,n){const r=Tn({props:e,name:"MuiSvgIcon"}),{children:a,className:o,color:i="inherit",component:s="svg",fontSize:u="medium",htmlColor:c,inheritViewBox:f=!1,titleAccess:h,viewBox:m="0 0 24 24"}=r,g=dt(r,bz),y=O.isValidElement(a)&&a.type==="svg",b=ne({},r,{color:i,component:s,fontSize:u,instanceFontSize:e.fontSize,inheritViewBox:f,viewBox:m,hasSvgAsChild:y}),x={};f||(x.viewBox=m);const S=xz(b);return K(wz,ne({as:s,className:ht(S.root,o),focusable:"false",color:c,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n},x,g,y&&a.props,{ownerState:b,children:[y?a.props.children:a,h?E("title",{children:h}):null]}))});hw.muiName="SvgIcon";function Uc(t,e){function n(r,a){return E(hw,ne({"data-testid":`${e}Icon`,ref:a},r,{children:t}))}return n.muiName=hw.muiName,O.memo(O.forwardRef(n))}function pw(t,e){return pw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},pw(t,e)}function fD(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,pw(t,e)}const w3={disabled:!1},sy=gt.createContext(null);var Sz=function(e){return e.scrollTop},Up="unmounted",lc="exited",uc="entering",Zd="entered",mw="exiting",cs=function(t){fD(e,t);function e(r,a){var o;o=t.call(this,r,a)||this;var i=a,s=i&&!i.isMounting?r.enter:r.appear,u;return o.appearStatus=null,r.in?s?(u=lc,o.appearStatus=uc):u=Zd:r.unmountOnExit||r.mountOnEnter?u=Up:u=lc,o.state={status:u},o.nextCallback=null,o}e.getDerivedStateFromProps=function(a,o){var i=a.in;return i&&o.status===Up?{status:lc}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(a){var o=null;if(a!==this.props){var i=this.state.status;this.props.in?i!==uc&&i!==Zd&&(o=uc):(i===uc||i===Zd)&&(o=mw)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var a=this.props.timeout,o,i,s;return o=i=s=a,a!=null&&typeof a!="number"&&(o=a.exit,i=a.enter,s=a.appear!==void 0?a.appear:i),{exit:o,enter:i,appear:s}},n.updateStatus=function(a,o){if(a===void 0&&(a=!1),o!==null)if(this.cancelNextCallback(),o===uc){if(this.props.unmountOnExit||this.props.mountOnEnter){var i=this.props.nodeRef?this.props.nodeRef.current:e0.findDOMNode(this);i&&Sz(i)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===lc&&this.setState({status:Up})},n.performEnter=function(a){var o=this,i=this.props.enter,s=this.context?this.context.isMounting:a,u=this.props.nodeRef?[s]:[e0.findDOMNode(this),s],c=u[0],f=u[1],h=this.getTimeouts(),m=s?h.appear:h.enter;if(!a&&!i||w3.disabled){this.safeSetState({status:Zd},function(){o.props.onEntered(c)});return}this.props.onEnter(c,f),this.safeSetState({status:uc},function(){o.props.onEntering(c,f),o.onTransitionEnd(m,function(){o.safeSetState({status:Zd},function(){o.props.onEntered(c,f)})})})},n.performExit=function(){var a=this,o=this.props.exit,i=this.getTimeouts(),s=this.props.nodeRef?void 0:e0.findDOMNode(this);if(!o||w3.disabled){this.safeSetState({status:lc},function(){a.props.onExited(s)});return}this.props.onExit(s),this.safeSetState({status:mw},function(){a.props.onExiting(s),a.onTransitionEnd(i.exit,function(){a.safeSetState({status:lc},function(){a.props.onExited(s)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(a,o){o=this.setNextCallback(o),this.setState(a,o)},n.setNextCallback=function(a){var o=this,i=!0;return this.nextCallback=function(s){i&&(i=!1,o.nextCallback=null,a(s))},this.nextCallback.cancel=function(){i=!1},this.nextCallback},n.onTransitionEnd=function(a,o){this.setNextCallback(o);var i=this.props.nodeRef?this.props.nodeRef.current:e0.findDOMNode(this),s=a==null&&!this.props.addEndListener;if(!i||s){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[i,this.nextCallback],c=u[0],f=u[1];this.props.addEndListener(c,f)}a!=null&&setTimeout(this.nextCallback,a)},n.render=function(){var a=this.state.status;if(a===Up)return null;var o=this.props,i=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var s=dt(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return gt.createElement(sy.Provider,{value:null},typeof i=="function"?i(a,s):gt.cloneElement(gt.Children.only(i),s))},e}(gt.Component);cs.contextType=sy;cs.propTypes={};function Ud(){}cs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ud,onEntering:Ud,onEntered:Ud,onExit:Ud,onExiting:Ud,onExited:Ud};cs.UNMOUNTED=Up;cs.EXITED=lc;cs.ENTERING=uc;cs.ENTERED=Zd;cs.EXITING=mw;function _z(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XS(t,e){var n=function(o){return e&&O.isValidElement(o)?e(o):o},r=Object.create(null);return t&&O.Children.map(t,function(a){return a}).forEach(function(a){r[a.key]=n(a)}),r}function Cz(t,e){t=t||{},e=e||{};function n(f){return f in e?e[f]:t[f]}var r=Object.create(null),a=[];for(var o in t)o in e?a.length&&(r[o]=a,a=[]):a.push(o);var i,s={};for(var u in e){if(r[u])for(i=0;i<r[u].length;i++){var c=r[u][i];s[r[u][i]]=n(c)}s[u]=n(u)}for(i=0;i<a.length;i++)s[a[i]]=n(a[i]);return s}function gc(t,e,n){return n[e]!=null?n[e]:t.props[e]}function Ez(t,e){return XS(t.children,function(n){return O.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:gc(n,"appear",t),enter:gc(n,"enter",t),exit:gc(n,"exit",t)})})}function Tz(t,e,n){var r=XS(t.children),a=Cz(e,r);return Object.keys(a).forEach(function(o){var i=a[o];if(O.isValidElement(i)){var s=o in e,u=o in r,c=e[o],f=O.isValidElement(c)&&!c.props.in;u&&(!s||f)?a[o]=O.cloneElement(i,{onExited:n.bind(null,i),in:!0,exit:gc(i,"exit",t),enter:gc(i,"enter",t)}):!u&&s&&!f?a[o]=O.cloneElement(i,{in:!1}):u&&s&&O.isValidElement(c)&&(a[o]=O.cloneElement(i,{onExited:n.bind(null,i),in:c.props.in,exit:gc(i,"exit",t),enter:gc(i,"enter",t)}))}}),a}var Rz=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},Az={component:"div",childFactory:function(e){return e}},QS=function(t){fD(e,t);function e(r,a){var o;o=t.call(this,r,a)||this;var i=o.handleExited.bind(_z(o));return o.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},o}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(a,o){var i=o.children,s=o.handleExited,u=o.firstRender;return{children:u?Ez(a,s):Tz(a,i,s),firstRender:!1}},n.handleExited=function(a,o){var i=XS(this.props.children);a.key in i||(a.props.onExited&&a.props.onExited(o),this.mounted&&this.setState(function(s){var u=ne({},s.children);return delete u[a.key],{children:u}}))},n.render=function(){var a=this.props,o=a.component,i=a.childFactory,s=dt(a,["component","childFactory"]),u=this.state.contextValue,c=Rz(this.state.children).map(i);return delete s.appear,delete s.enter,delete s.exit,o===null?gt.createElement(sy.Provider,{value:u},c):gt.createElement(sy.Provider,{value:u},gt.createElement(o,s,c))},e}(gt.Component);QS.propTypes={};QS.defaultProps=Az;const hD=t=>t.scrollTop;function ly(t,e){var n,r;const{timeout:a,easing:o,style:i={}}=t;return{duration:(n=i.transitionDuration)!=null?n:typeof a=="number"?a:a[e.mode]||0,easing:(r=i.transitionTimingFunction)!=null?r:typeof o=="object"?o[e.mode]:o,delay:i.transitionDelay}}function kz(t){return En("MuiPaper",t)}yn("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Nz=["className","component","elevation","square","variant"],Oz=t=>{const{square:e,elevation:n,variant:r,classes:a}=t,o={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return Nn(o,kz,a)},Dz=pt("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return ne({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&ne({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${or.alpha("#fff",x3(e.elevation))}, ${or.alpha("#fff",x3(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),Mz=O.forwardRef(function(e,n){const r=Tn({props:e,name:"MuiPaper"}),{className:a,component:o="div",elevation:i=1,square:s=!1,variant:u="elevation"}=r,c=dt(r,Nz),f=ne({},r,{component:o,elevation:i,square:s,variant:u}),h=Oz(f);return E(Dz,ne({as:o,ownerState:f,className:ht(h.root,a),ref:n},c))}),Pz=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],Iz=["component","slots","slotProps"],Lz=["component"];function Fz(t,e){const{className:n,elementType:r,ownerState:a,externalForwardedProps:o,getSlotOwnerState:i,internalForwardedProps:s}=e,u=dt(e,Pz),{component:c,slots:f={[t]:void 0},slotProps:h={[t]:void 0}}=o,m=dt(o,Iz),g=f[t]||r,y=aD(h[t],a),b=rD(ne({className:n},u,{externalForwardedProps:t==="root"?m:void 0,externalSlotProps:y})),{props:{component:x},internalRef:S}=b,R=dt(b.props,Lz),_=ea(S,y==null?void 0:y.ref,e.ref),T=i?i(R):{},A=ne({},a,T),D=t==="root"?x||c:x,N=tD(g,ne({},t==="root"&&!c&&!f[t]&&s,t!=="root"&&!f[t]&&s,R,D&&{as:D},{ref:_}),A);return Object.keys(T).forEach(M=>{delete N[M]}),[g,N]}function Bz(t){const{className:e,classes:n,pulsate:r=!1,rippleX:a,rippleY:o,rippleSize:i,in:s,onExited:u,timeout:c}=t,[f,h]=O.useState(!1),m=ht(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),g={width:i,height:i,top:-(i/2)+o,left:-(i/2)+a},y=ht(n.child,f&&n.childLeaving,r&&n.childPulsate);return!s&&!f&&h(!0),O.useEffect(()=>{if(!s&&u!=null){const b=setTimeout(u,c);return()=>{clearTimeout(b)}}},[u,s,c]),E("span",{className:m,style:g,children:E("span",{className:y})})}const Do=yn("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),zz=["center","classes","className"];let hb=t=>t,S3,_3,C3,E3;const gw=550,$z=80,Uz=Kf(S3||(S3=hb`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),Vz=Kf(_3||(_3=hb`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),jz=Kf(C3||(C3=hb`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Wz=pt("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Hz=pt(Bz,{name:"MuiTouchRipple",slot:"Ripple"})(E3||(E3=hb`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Do.rippleVisible,Uz,gw,({theme:t})=>t.transitions.easing.easeInOut,Do.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,Do.child,Do.childLeaving,Vz,gw,({theme:t})=>t.transitions.easing.easeInOut,Do.childPulsate,jz,({theme:t})=>t.transitions.easing.easeInOut),qz=O.forwardRef(function(e,n){const r=Tn({props:e,name:"MuiTouchRipple"}),{center:a=!1,classes:o={},className:i}=r,s=dt(r,zz),[u,c]=O.useState([]),f=O.useRef(0),h=O.useRef(null);O.useEffect(()=>{h.current&&(h.current(),h.current=null)},[u]);const m=O.useRef(!1),g=JO(),y=O.useRef(null),b=O.useRef(null),x=O.useCallback(T=>{const{pulsate:A,rippleX:D,rippleY:N,rippleSize:M,cb:P}=T;c(I=>[...I,E(Hz,{classes:{ripple:ht(o.ripple,Do.ripple),rippleVisible:ht(o.rippleVisible,Do.rippleVisible),ripplePulsate:ht(o.ripplePulsate,Do.ripplePulsate),child:ht(o.child,Do.child),childLeaving:ht(o.childLeaving,Do.childLeaving),childPulsate:ht(o.childPulsate,Do.childPulsate)},timeout:gw,pulsate:A,rippleX:D,rippleY:N,rippleSize:M},f.current)]),f.current+=1,h.current=P},[o]),S=O.useCallback((T={},A={},D=()=>{})=>{const{pulsate:N=!1,center:M=a||A.pulsate,fakeElement:P=!1}=A;if((T==null?void 0:T.type)==="mousedown"&&m.current){m.current=!1;return}(T==null?void 0:T.type)==="touchstart"&&(m.current=!0);const I=P?null:b.current,$=I?I.getBoundingClientRect():{width:0,height:0,left:0,top:0};let z,G,V;if(M||T===void 0||T.clientX===0&&T.clientY===0||!T.clientX&&!T.touches)z=Math.round($.width/2),G=Math.round($.height/2);else{const{clientX:B,clientY:F}=T.touches&&T.touches.length>0?T.touches[0]:T;z=Math.round(B-$.left),G=Math.round(F-$.top)}if(M)V=Math.sqrt((2*$.width**2+$.height**2)/3),V%2===0&&(V+=1);else{const B=Math.max(Math.abs((I?I.clientWidth:0)-z),z)*2+2,F=Math.max(Math.abs((I?I.clientHeight:0)-G),G)*2+2;V=Math.sqrt(B**2+F**2)}T!=null&&T.touches?y.current===null&&(y.current=()=>{x({pulsate:N,rippleX:z,rippleY:G,rippleSize:V,cb:D})},g.start($z,()=>{y.current&&(y.current(),y.current=null)})):x({pulsate:N,rippleX:z,rippleY:G,rippleSize:V,cb:D})},[a,x,g]),R=O.useCallback(()=>{S({},{pulsate:!0})},[S]),_=O.useCallback((T,A)=>{if(g.clear(),(T==null?void 0:T.type)==="touchend"&&y.current){y.current(),y.current=null,g.start(0,()=>{_(T,A)});return}y.current=null,c(D=>D.length>0?D.slice(1):D),h.current=A},[g]);return O.useImperativeHandle(n,()=>({pulsate:R,start:S,stop:_}),[R,S,_]),E(Wz,ne({className:ht(Do.root,o.root,i),ref:b},s,{children:E(QS,{component:null,exit:!0,children:u})}))});function Gz(t){return En("MuiButtonBase",t)}const Kz=yn("MuiButtonBase",["root","disabled","focusVisible"]),Yz=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Xz=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:a}=t,i=Nn({root:["root",e&&"disabled",n&&"focusVisible"]},Gz,a);return n&&r&&(i.root+=` ${r}`),i},Qz=pt("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Kz.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),uy=O.forwardRef(function(e,n){const r=Tn({props:e,name:"MuiButtonBase"}),{action:a,centerRipple:o=!1,children:i,className:s,component:u="button",disabled:c=!1,disableRipple:f=!1,disableTouchRipple:h=!1,focusRipple:m=!1,LinkComponent:g="a",onBlur:y,onClick:b,onContextMenu:x,onDragLeave:S,onFocus:R,onFocusVisible:_,onKeyDown:T,onKeyUp:A,onMouseDown:D,onMouseLeave:N,onMouseUp:M,onTouchEnd:P,onTouchMove:I,onTouchStart:$,tabIndex:z=0,TouchRippleProps:G,touchRippleRef:V,type:B}=r,F=dt(r,Yz),U=O.useRef(null),W=O.useRef(null),Q=ea(W,V),{isFocusVisibleRef:q,onFocus:le,onBlur:J,ref:oe}=x7(),[re,we]=O.useState(!1);c&&re&&we(!1),O.useImperativeHandle(a,()=>({focusVisible:()=>{we(!0),U.current.focus()}}),[]);const[be,Oe]=O.useState(!1);O.useEffect(()=>{Oe(!0)},[]);const pe=be&&!f&&!c;O.useEffect(()=>{re&&m&&!f&&be&&W.current.pulsate()},[f,m,re,be]);function De(Le,Gt,an=h){return mc(Qn=>(Gt&&Gt(Qn),!an&&W.current&&W.current[Le](Qn),!0))}const Ve=De("start",D),Pe=De("stop",x),ze=De("stop",S),Ce=De("stop",M),Ie=De("stop",Le=>{re&&Le.preventDefault(),N&&N(Le)}),Ue=De("start",$),st=De("stop",P),mt=De("stop",I),Jt=De("stop",Le=>{J(Le),q.current===!1&&we(!1),y&&y(Le)},!1),Ht=mc(Le=>{U.current||(U.current=Le.currentTarget),le(Le),q.current===!0&&(we(!0),_&&_(Le)),R&&R(Le)}),Ut=()=>{const Le=U.current;return u&&u!=="button"&&!(Le.tagName==="A"&&Le.href)},yt=O.useRef(!1),Vt=mc(Le=>{m&&!yt.current&&re&&W.current&&Le.key===" "&&(yt.current=!0,W.current.stop(Le,()=>{W.current.start(Le)})),Le.target===Le.currentTarget&&Ut()&&Le.key===" "&&Le.preventDefault(),T&&T(Le),Le.target===Le.currentTarget&&Ut()&&Le.key==="Enter"&&!c&&(Le.preventDefault(),b&&b(Le))}),qt=mc(Le=>{m&&Le.key===" "&&W.current&&re&&!Le.defaultPrevented&&(yt.current=!1,W.current.stop(Le,()=>{W.current.pulsate(Le)})),A&&A(Le),b&&Le.target===Le.currentTarget&&Ut()&&Le.key===" "&&!Le.defaultPrevented&&b(Le)});let fe=u;fe==="button"&&(F.href||F.to)&&(fe=g);const $e={};fe==="button"?($e.type=B===void 0?"button":B,$e.disabled=c):(!F.href&&!F.to&&($e.role="button"),c&&($e["aria-disabled"]=c));const je=ea(n,oe,U),Ge=ne({},r,{centerRipple:o,component:u,disabled:c,disableRipple:f,disableTouchRipple:h,focusRipple:m,tabIndex:z,focusVisible:re}),Fe=Xz(Ge);return K(Qz,ne({as:fe,className:ht(Fe.root,s),ownerState:Ge,onBlur:Jt,onClick:b,onContextMenu:Pe,onFocus:Ht,onKeyDown:Vt,onKeyUp:qt,onMouseDown:Ve,onMouseLeave:Ie,onMouseUp:Ce,onDragLeave:ze,onTouchEnd:st,onTouchMove:mt,onTouchStart:Ue,ref:je,tabIndex:c?-1:z,type:B},$e,F,{children:[i,pe?E(qz,ne({ref:Q,center:o},G)):null]}))});function Zz(t){return En("MuiIconButton",t)}const Jz=yn("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),e9=["edge","children","className","color","disabled","disableFocusRipple","size"],t9=t=>{const{classes:e,disabled:n,color:r,edge:a,size:o}=t,i={root:["root",n&&"disabled",r!=="default"&&`color${at(r)}`,a&&`edge${at(a)}`,`size${at(o)}`]};return Nn(i,Zz,e)},n9=pt(uy,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${at(n.color)}`],n.edge&&e[`edge${at(n.edge)}`],e[`size${at(n.size)}`]]}})(({theme:t,ownerState:e})=>ne({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:or.alpha(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const r=(n=(t.vars||t).palette)==null?void 0:n[e.color];return ne({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&ne({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":ne({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:or.alpha(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${Jz.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),r9=O.forwardRef(function(e,n){const r=Tn({props:e,name:"MuiIconButton"}),{edge:a=!1,children:o,className:i,color:s="default",disabled:u=!1,disableFocusRipple:c=!1,size:f="medium"}=r,h=dt(r,e9),m=ne({},r,{edge:a,color:s,disabled:u,disableFocusRipple:c,size:f}),g=t9(m);return E(n9,ne({className:ht(g.root,i),centerRipple:!0,focusRipple:!c,disabled:u,ref:n},h,{ownerState:m,children:o}))});function a9(t){return En("MuiTypography",t)}yn("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const o9=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],i9=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:a,variant:o,classes:i}=t,s={root:["root",o,t.align!=="inherit"&&`align${at(e)}`,n&&"gutterBottom",r&&"noWrap",a&&"paragraph"]};return Nn(s,a9,i)},s9=pt("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${at(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>ne({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),T3={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},l9={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},u9=t=>l9[t]||t,Wx=O.forwardRef(function(e,n){const r=Tn({props:e,name:"MuiTypography"}),a=u9(r.color),o=GS(ne({},r,{color:a})),{align:i="inherit",className:s,component:u,gutterBottom:c=!1,noWrap:f=!1,paragraph:h=!1,variant:m="body1",variantMapping:g=T3}=o,y=dt(o,o9),b=ne({},o,{align:i,color:a,className:s,component:u,gutterBottom:c,noWrap:f,paragraph:h,variant:m,variantMapping:g}),x=u||(h?"p":g[m]||T3[m])||"span",S=i9(b);return E(s9,ne({as:x,ref:n,ownerState:b,className:ht(S.root,s)},y))});var Wa="top",Bo="bottom",zo="right",Ha="left",ZS="auto",Wm=[Wa,Bo,zo,Ha],Mf="start",cm="end",c9="clippingParents",pD="viewport",Tp="popper",d9="reference",R3=Wm.reduce(function(t,e){return t.concat([e+"-"+Mf,e+"-"+cm])},[]),mD=[].concat(Wm,[ZS]).reduce(function(t,e){return t.concat([e,e+"-"+Mf,e+"-"+cm])},[]),f9="beforeRead",h9="read",p9="afterRead",m9="beforeMain",g9="main",v9="afterMain",y9="beforeWrite",b9="write",x9="afterWrite",w9=[f9,h9,p9,m9,g9,v9,y9,b9,x9];function bu(t){return t?(t.nodeName||"").toLowerCase():null}function vo(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Ic(t){var e=vo(t).Element;return t instanceof e||t instanceof Element}function Zi(t){var e=vo(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function JS(t){if(typeof ShadowRoot>"u")return!1;var e=vo(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Ji(t){return t.split("-")[0]}var Ac=Math.max,cy=Math.min,Pf=Math.round;function vw(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function gD(){return!/^((?!chrome|android).)*safari/i.test(vw())}function If(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),a=1,o=1;e&&Zi(t)&&(a=t.offsetWidth>0&&Pf(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Pf(r.height)/t.offsetHeight||1);var i=Ic(t)?vo(t):window,s=i.visualViewport,u=!gD()&&n,c=(r.left+(u&&s?s.offsetLeft:0))/a,f=(r.top+(u&&s?s.offsetTop:0))/o,h=r.width/a,m=r.height/o;return{width:h,height:m,top:f,right:c+h,bottom:f+m,left:c,x:c,y:f}}function e_(t){var e=If(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function vD(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&JS(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Zs(t){return vo(t).getComputedStyle(t)}function S9(t){return["table","td","th"].indexOf(bu(t))>=0}function Tu(t){return((Ic(t)?t.ownerDocument:t.document)||window.document).documentElement}function pb(t){return bu(t)==="html"?t:t.assignedSlot||t.parentNode||(JS(t)?t.host:null)||Tu(t)}function A3(t){return!Zi(t)||Zs(t).position==="fixed"?null:t.offsetParent}function _9(t){var e=/firefox/i.test(vw()),n=/Trident/i.test(vw());if(n&&Zi(t)){var r=Zs(t);if(r.position==="fixed")return null}var a=pb(t);for(JS(a)&&(a=a.host);Zi(a)&&["html","body"].indexOf(bu(a))<0;){var o=Zs(a);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return a;a=a.parentNode}return null}function Hm(t){for(var e=vo(t),n=A3(t);n&&S9(n)&&Zs(n).position==="static";)n=A3(n);return n&&(bu(n)==="html"||bu(n)==="body"&&Zs(n).position==="static")?e:n||_9(t)||e}function t_(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Wp(t,e,n){return Ac(t,cy(e,n))}function C9(t,e,n){var r=Wp(t,e,n);return r>n?n:r}function yD(){return{top:0,right:0,bottom:0,left:0}}function bD(t){return Object.assign({},yD(),t)}function xD(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var E9=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,bD(typeof e!="number"?e:xD(e,Wm))};function T9(t){var e,n=t.state,r=t.name,a=t.options,o=n.elements.arrow,i=n.modifiersData.popperOffsets,s=Ji(n.placement),u=t_(s),c=[Ha,zo].indexOf(s)>=0,f=c?"height":"width";if(!(!o||!i)){var h=E9(a.padding,n),m=e_(o),g=u==="y"?Wa:Ha,y=u==="y"?Bo:zo,b=n.rects.reference[f]+n.rects.reference[u]-i[u]-n.rects.popper[f],x=i[u]-n.rects.reference[u],S=Hm(o),R=S?u==="y"?S.clientHeight||0:S.clientWidth||0:0,_=b/2-x/2,T=h[g],A=R-m[f]-h[y],D=R/2-m[f]/2+_,N=Wp(T,D,A),M=u;n.modifiersData[r]=(e={},e[M]=N,e.centerOffset=N-D,e)}}function R9(t){var e=t.state,n=t.options,r=n.element,a=r===void 0?"[data-popper-arrow]":r;a!=null&&(typeof a=="string"&&(a=e.elements.popper.querySelector(a),!a)||vD(e.elements.popper,a)&&(e.elements.arrow=a))}const A9={name:"arrow",enabled:!0,phase:"main",fn:T9,effect:R9,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Lf(t){return t.split("-")[1]}var k9={top:"auto",right:"auto",bottom:"auto",left:"auto"};function N9(t,e){var n=t.x,r=t.y,a=e.devicePixelRatio||1;return{x:Pf(n*a)/a||0,y:Pf(r*a)/a||0}}function k3(t){var e,n=t.popper,r=t.popperRect,a=t.placement,o=t.variation,i=t.offsets,s=t.position,u=t.gpuAcceleration,c=t.adaptive,f=t.roundOffsets,h=t.isFixed,m=i.x,g=m===void 0?0:m,y=i.y,b=y===void 0?0:y,x=typeof f=="function"?f({x:g,y:b}):{x:g,y:b};g=x.x,b=x.y;var S=i.hasOwnProperty("x"),R=i.hasOwnProperty("y"),_=Ha,T=Wa,A=window;if(c){var D=Hm(n),N="clientHeight",M="clientWidth";if(D===vo(n)&&(D=Tu(n),Zs(D).position!=="static"&&s==="absolute"&&(N="scrollHeight",M="scrollWidth")),D=D,a===Wa||(a===Ha||a===zo)&&o===cm){T=Bo;var P=h&&D===A&&A.visualViewport?A.visualViewport.height:D[N];b-=P-r.height,b*=u?1:-1}if(a===Ha||(a===Wa||a===Bo)&&o===cm){_=zo;var I=h&&D===A&&A.visualViewport?A.visualViewport.width:D[M];g-=I-r.width,g*=u?1:-1}}var $=Object.assign({position:s},c&&k9),z=f===!0?N9({x:g,y:b},vo(n)):{x:g,y:b};if(g=z.x,b=z.y,u){var G;return Object.assign({},$,(G={},G[T]=R?"0":"",G[_]=S?"0":"",G.transform=(A.devicePixelRatio||1)<=1?"translate("+g+"px, "+b+"px)":"translate3d("+g+"px, "+b+"px, 0)",G))}return Object.assign({},$,(e={},e[T]=R?b+"px":"",e[_]=S?g+"px":"",e.transform="",e))}function O9(t){var e=t.state,n=t.options,r=n.gpuAcceleration,a=r===void 0?!0:r,o=n.adaptive,i=o===void 0?!0:o,s=n.roundOffsets,u=s===void 0?!0:s,c={placement:Ji(e.placement),variation:Lf(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:a,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,k3(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:i,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,k3(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const D9={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:O9,data:{}};var n0={passive:!0};function M9(t){var e=t.state,n=t.instance,r=t.options,a=r.scroll,o=a===void 0?!0:a,i=r.resize,s=i===void 0?!0:i,u=vo(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(f){f.addEventListener("scroll",n.update,n0)}),s&&u.addEventListener("resize",n.update,n0),function(){o&&c.forEach(function(f){f.removeEventListener("scroll",n.update,n0)}),s&&u.removeEventListener("resize",n.update,n0)}}const P9={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:M9,data:{}};var I9={left:"right",right:"left",bottom:"top",top:"bottom"};function V0(t){return t.replace(/left|right|bottom|top/g,function(e){return I9[e]})}var L9={start:"end",end:"start"};function N3(t){return t.replace(/start|end/g,function(e){return L9[e]})}function n_(t){var e=vo(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function r_(t){return If(Tu(t)).left+n_(t).scrollLeft}function F9(t,e){var n=vo(t),r=Tu(t),a=n.visualViewport,o=r.clientWidth,i=r.clientHeight,s=0,u=0;if(a){o=a.width,i=a.height;var c=gD();(c||!c&&e==="fixed")&&(s=a.offsetLeft,u=a.offsetTop)}return{width:o,height:i,x:s+r_(t),y:u}}function B9(t){var e,n=Tu(t),r=n_(t),a=(e=t.ownerDocument)==null?void 0:e.body,o=Ac(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),i=Ac(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),s=-r.scrollLeft+r_(t),u=-r.scrollTop;return Zs(a||n).direction==="rtl"&&(s+=Ac(n.clientWidth,a?a.clientWidth:0)-o),{width:o,height:i,x:s,y:u}}function a_(t){var e=Zs(t),n=e.overflow,r=e.overflowX,a=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+r)}function wD(t){return["html","body","#document"].indexOf(bu(t))>=0?t.ownerDocument.body:Zi(t)&&a_(t)?t:wD(pb(t))}function Hp(t,e){var n;e===void 0&&(e=[]);var r=wD(t),a=r===((n=t.ownerDocument)==null?void 0:n.body),o=vo(r),i=a?[o].concat(o.visualViewport||[],a_(r)?r:[]):r,s=e.concat(i);return a?s:s.concat(Hp(pb(i)))}function yw(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function z9(t,e){var n=If(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function O3(t,e,n){return e===pD?yw(F9(t,n)):Ic(e)?z9(e,n):yw(B9(Tu(t)))}function $9(t){var e=Hp(pb(t)),n=["absolute","fixed"].indexOf(Zs(t).position)>=0,r=n&&Zi(t)?Hm(t):t;return Ic(r)?e.filter(function(a){return Ic(a)&&vD(a,r)&&bu(a)!=="body"}):[]}function U9(t,e,n,r){var a=e==="clippingParents"?$9(t):[].concat(e),o=[].concat(a,[n]),i=o[0],s=o.reduce(function(u,c){var f=O3(t,c,r);return u.top=Ac(f.top,u.top),u.right=cy(f.right,u.right),u.bottom=cy(f.bottom,u.bottom),u.left=Ac(f.left,u.left),u},O3(t,i,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function SD(t){var e=t.reference,n=t.element,r=t.placement,a=r?Ji(r):null,o=r?Lf(r):null,i=e.x+e.width/2-n.width/2,s=e.y+e.height/2-n.height/2,u;switch(a){case Wa:u={x:i,y:e.y-n.height};break;case Bo:u={x:i,y:e.y+e.height};break;case zo:u={x:e.x+e.width,y:s};break;case Ha:u={x:e.x-n.width,y:s};break;default:u={x:e.x,y:e.y}}var c=a?t_(a):null;if(c!=null){var f=c==="y"?"height":"width";switch(o){case Mf:u[c]=u[c]-(e[f]/2-n[f]/2);break;case cm:u[c]=u[c]+(e[f]/2-n[f]/2);break}}return u}function dm(t,e){e===void 0&&(e={});var n=e,r=n.placement,a=r===void 0?t.placement:r,o=n.strategy,i=o===void 0?t.strategy:o,s=n.boundary,u=s===void 0?c9:s,c=n.rootBoundary,f=c===void 0?pD:c,h=n.elementContext,m=h===void 0?Tp:h,g=n.altBoundary,y=g===void 0?!1:g,b=n.padding,x=b===void 0?0:b,S=bD(typeof x!="number"?x:xD(x,Wm)),R=m===Tp?d9:Tp,_=t.rects.popper,T=t.elements[y?R:m],A=U9(Ic(T)?T:T.contextElement||Tu(t.elements.popper),u,f,i),D=If(t.elements.reference),N=SD({reference:D,element:_,placement:a}),M=yw(Object.assign({},_,N)),P=m===Tp?M:D,I={top:A.top-P.top+S.top,bottom:P.bottom-A.bottom+S.bottom,left:A.left-P.left+S.left,right:P.right-A.right+S.right},$=t.modifiersData.offset;if(m===Tp&&$){var z=$[a];Object.keys(I).forEach(function(G){var V=[zo,Bo].indexOf(G)>=0?1:-1,B=[Wa,Bo].indexOf(G)>=0?"y":"x";I[G]+=z[B]*V})}return I}function V9(t,e){e===void 0&&(e={});var n=e,r=n.placement,a=n.boundary,o=n.rootBoundary,i=n.padding,s=n.flipVariations,u=n.allowedAutoPlacements,c=u===void 0?mD:u,f=Lf(r),h=f?s?R3:R3.filter(function(y){return Lf(y)===f}):Wm,m=h.filter(function(y){return c.indexOf(y)>=0});m.length===0&&(m=h);var g=m.reduce(function(y,b){return y[b]=dm(t,{placement:b,boundary:a,rootBoundary:o,padding:i})[Ji(b)],y},{});return Object.keys(g).sort(function(y,b){return g[y]-g[b]})}function j9(t){if(Ji(t)===ZS)return[];var e=V0(t);return[N3(t),e,N3(e)]}function W9(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var a=n.mainAxis,o=a===void 0?!0:a,i=n.altAxis,s=i===void 0?!0:i,u=n.fallbackPlacements,c=n.padding,f=n.boundary,h=n.rootBoundary,m=n.altBoundary,g=n.flipVariations,y=g===void 0?!0:g,b=n.allowedAutoPlacements,x=e.options.placement,S=Ji(x),R=S===x,_=u||(R||!y?[V0(x)]:j9(x)),T=[x].concat(_).reduce(function(re,we){return re.concat(Ji(we)===ZS?V9(e,{placement:we,boundary:f,rootBoundary:h,padding:c,flipVariations:y,allowedAutoPlacements:b}):we)},[]),A=e.rects.reference,D=e.rects.popper,N=new Map,M=!0,P=T[0],I=0;I<T.length;I++){var $=T[I],z=Ji($),G=Lf($)===Mf,V=[Wa,Bo].indexOf(z)>=0,B=V?"width":"height",F=dm(e,{placement:$,boundary:f,rootBoundary:h,altBoundary:m,padding:c}),U=V?G?zo:Ha:G?Bo:Wa;A[B]>D[B]&&(U=V0(U));var W=V0(U),Q=[];if(o&&Q.push(F[z]<=0),s&&Q.push(F[U]<=0,F[W]<=0),Q.every(function(re){return re})){P=$,M=!1;break}N.set($,Q)}if(M)for(var q=y?3:1,le=function(we){var be=T.find(function(Oe){var pe=N.get(Oe);if(pe)return pe.slice(0,we).every(function(De){return De})});if(be)return P=be,"break"},J=q;J>0;J--){var oe=le(J);if(oe==="break")break}e.placement!==P&&(e.modifiersData[r]._skip=!0,e.placement=P,e.reset=!0)}}const H9={name:"flip",enabled:!0,phase:"main",fn:W9,requiresIfExists:["offset"],data:{_skip:!1}};function D3(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function M3(t){return[Wa,zo,Bo,Ha].some(function(e){return t[e]>=0})}function q9(t){var e=t.state,n=t.name,r=e.rects.reference,a=e.rects.popper,o=e.modifiersData.preventOverflow,i=dm(e,{elementContext:"reference"}),s=dm(e,{altBoundary:!0}),u=D3(i,r),c=D3(s,a,o),f=M3(u),h=M3(c);e.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:f,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":h})}const G9={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:q9};function K9(t,e,n){var r=Ji(t),a=[Ha,Wa].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,i=o[0],s=o[1];return i=i||0,s=(s||0)*a,[Ha,zo].indexOf(r)>=0?{x:s,y:i}:{x:i,y:s}}function Y9(t){var e=t.state,n=t.options,r=t.name,a=n.offset,o=a===void 0?[0,0]:a,i=mD.reduce(function(f,h){return f[h]=K9(h,e.rects,o),f},{}),s=i[e.placement],u=s.x,c=s.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=i}const X9={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Y9};function Q9(t){var e=t.state,n=t.name;e.modifiersData[n]=SD({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Z9={name:"popperOffsets",enabled:!0,phase:"read",fn:Q9,data:{}};function J9(t){return t==="x"?"y":"x"}function e$(t){var e=t.state,n=t.options,r=t.name,a=n.mainAxis,o=a===void 0?!0:a,i=n.altAxis,s=i===void 0?!1:i,u=n.boundary,c=n.rootBoundary,f=n.altBoundary,h=n.padding,m=n.tether,g=m===void 0?!0:m,y=n.tetherOffset,b=y===void 0?0:y,x=dm(e,{boundary:u,rootBoundary:c,padding:h,altBoundary:f}),S=Ji(e.placement),R=Lf(e.placement),_=!R,T=t_(S),A=J9(T),D=e.modifiersData.popperOffsets,N=e.rects.reference,M=e.rects.popper,P=typeof b=="function"?b(Object.assign({},e.rects,{placement:e.placement})):b,I=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),$=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,z={x:0,y:0};if(D){if(o){var G,V=T==="y"?Wa:Ha,B=T==="y"?Bo:zo,F=T==="y"?"height":"width",U=D[T],W=U+x[V],Q=U-x[B],q=g?-M[F]/2:0,le=R===Mf?N[F]:M[F],J=R===Mf?-M[F]:-N[F],oe=e.elements.arrow,re=g&&oe?e_(oe):{width:0,height:0},we=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:yD(),be=we[V],Oe=we[B],pe=Wp(0,N[F],re[F]),De=_?N[F]/2-q-pe-be-I.mainAxis:le-pe-be-I.mainAxis,Ve=_?-N[F]/2+q+pe+Oe+I.mainAxis:J+pe+Oe+I.mainAxis,Pe=e.elements.arrow&&Hm(e.elements.arrow),ze=Pe?T==="y"?Pe.clientTop||0:Pe.clientLeft||0:0,Ce=(G=$==null?void 0:$[T])!=null?G:0,Ie=U+De-Ce-ze,Ue=U+Ve-Ce,st=Wp(g?cy(W,Ie):W,U,g?Ac(Q,Ue):Q);D[T]=st,z[T]=st-U}if(s){var mt,Jt=T==="x"?Wa:Ha,Ht=T==="x"?Bo:zo,Ut=D[A],yt=A==="y"?"height":"width",Vt=Ut+x[Jt],qt=Ut-x[Ht],fe=[Wa,Ha].indexOf(S)!==-1,$e=(mt=$==null?void 0:$[A])!=null?mt:0,je=fe?Vt:Ut-N[yt]-M[yt]-$e+I.altAxis,Ge=fe?Ut+N[yt]+M[yt]-$e-I.altAxis:qt,Fe=g&&fe?C9(je,Ut,Ge):Wp(g?je:Vt,Ut,g?Ge:qt);D[A]=Fe,z[A]=Fe-Ut}e.modifiersData[r]=z}}const t$={name:"preventOverflow",enabled:!0,phase:"main",fn:e$,requiresIfExists:["offset"]};function n$(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function r$(t){return t===vo(t)||!Zi(t)?n_(t):n$(t)}function a$(t){var e=t.getBoundingClientRect(),n=Pf(e.width)/t.offsetWidth||1,r=Pf(e.height)/t.offsetHeight||1;return n!==1||r!==1}function o$(t,e,n){n===void 0&&(n=!1);var r=Zi(e),a=Zi(e)&&a$(e),o=Tu(e),i=If(t,a,n),s={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&((bu(e)!=="body"||a_(o))&&(s=r$(e)),Zi(e)?(u=If(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):o&&(u.x=r_(o))),{x:i.left+s.scrollLeft-u.x,y:i.top+s.scrollTop-u.y,width:i.width,height:i.height}}function i$(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function a(o){n.add(o.name);var i=[].concat(o.requires||[],o.requiresIfExists||[]);i.forEach(function(s){if(!n.has(s)){var u=e.get(s);u&&a(u)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||a(o)}),r}function s$(t){var e=i$(t);return w9.reduce(function(n,r){return n.concat(e.filter(function(a){return a.phase===r}))},[])}function l$(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function u$(t){var e=t.reduce(function(n,r){var a=n[r.name];return n[r.name]=a?Object.assign({},a,r,{options:Object.assign({},a.options,r.options),data:Object.assign({},a.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var P3={placement:"bottom",modifiers:[],strategy:"absolute"};function I3(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function c$(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,a=e.defaultOptions,o=a===void 0?P3:a;return function(s,u,c){c===void 0&&(c=o);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},P3,o),modifiersData:{},elements:{reference:s,popper:u},attributes:{},styles:{}},h=[],m=!1,g={state:f,setOptions:function(S){var R=typeof S=="function"?S(f.options):S;b(),f.options=Object.assign({},o,f.options,R),f.scrollParents={reference:Ic(s)?Hp(s):s.contextElement?Hp(s.contextElement):[],popper:Hp(u)};var _=s$(u$([].concat(r,f.options.modifiers)));return f.orderedModifiers=_.filter(function(T){return T.enabled}),y(),g.update()},forceUpdate:function(){if(!m){var S=f.elements,R=S.reference,_=S.popper;if(I3(R,_)){f.rects={reference:o$(R,Hm(_),f.options.strategy==="fixed"),popper:e_(_)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(I){return f.modifiersData[I.name]=Object.assign({},I.data)});for(var T=0;T<f.orderedModifiers.length;T++){if(f.reset===!0){f.reset=!1,T=-1;continue}var A=f.orderedModifiers[T],D=A.fn,N=A.options,M=N===void 0?{}:N,P=A.name;typeof D=="function"&&(f=D({state:f,options:M,name:P,instance:g})||f)}}}},update:l$(function(){return new Promise(function(x){g.forceUpdate(),x(f)})}),destroy:function(){b(),m=!0}};if(!I3(s,u))return g;g.setOptions(c).then(function(x){!m&&c.onFirstUpdate&&c.onFirstUpdate(x)});function y(){f.orderedModifiers.forEach(function(x){var S=x.name,R=x.options,_=R===void 0?{}:R,T=x.effect;if(typeof T=="function"){var A=T({state:f,name:S,instance:g,options:_}),D=function(){};h.push(A||D)}})}function b(){h.forEach(function(x){return x()}),h=[]}return g}}function d$(t){return typeof t=="function"?t():t}const f$=O.forwardRef(function(e,n){const{children:r,container:a,disablePortal:o=!1}=e,[i,s]=O.useState(null),u=ea(O.isValidElement(r)?jm(r):null,n);if(yu(()=>{o||s(d$(a)||document.body)},[a,o]),yu(()=>{if(i&&!o)return dw(n,i),()=>{dw(n,null)}},[n,i,o]),o){if(O.isValidElement(r)){const c={ref:u};return O.cloneElement(r,c)}return E(O.Fragment,{children:r})}return E(O.Fragment,{children:i&&OF.createPortal(r,i)})}),h$=Uc(E("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function p$(t){return En("MuiChip",t)}const un=yn("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),m$=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],g$=t=>{const{classes:e,disabled:n,size:r,color:a,iconColor:o,onDelete:i,clickable:s,variant:u}=t,c={root:["root",u,n&&"disabled",`size${at(r)}`,`color${at(a)}`,s&&"clickable",s&&`clickableColor${at(a)}`,i&&"deletable",i&&`deletableColor${at(a)}`,`${u}${at(a)}`],label:["label",`label${at(r)}`],avatar:["avatar",`avatar${at(r)}`,`avatarColor${at(a)}`],icon:["icon",`icon${at(r)}`,`iconColor${at(o)}`],deleteIcon:["deleteIcon",`deleteIcon${at(r)}`,`deleteIconColor${at(a)}`,`deleteIcon${at(u)}Color${at(a)}`]};return Nn(c,p$,e)},v$=pt("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{color:r,iconColor:a,clickable:o,onDelete:i,size:s,variant:u}=n;return[{[`& .${un.avatar}`]:e.avatar},{[`& .${un.avatar}`]:e[`avatar${at(s)}`]},{[`& .${un.avatar}`]:e[`avatarColor${at(r)}`]},{[`& .${un.icon}`]:e.icon},{[`& .${un.icon}`]:e[`icon${at(s)}`]},{[`& .${un.icon}`]:e[`iconColor${at(a)}`]},{[`& .${un.deleteIcon}`]:e.deleteIcon},{[`& .${un.deleteIcon}`]:e[`deleteIcon${at(s)}`]},{[`& .${un.deleteIcon}`]:e[`deleteIconColor${at(r)}`]},{[`& .${un.deleteIcon}`]:e[`deleteIcon${at(u)}Color${at(r)}`]},e.root,e[`size${at(s)}`],e[`color${at(r)}`],o&&e.clickable,o&&r!=="default"&&e[`clickableColor${at(r)})`],i&&e.deletable,i&&r!=="default"&&e[`deletableColor${at(r)}`],e[u],e[`${u}${at(r)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return ne({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${un.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${un.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:n,fontSize:t.typography.pxToRem(12)},[`& .${un.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${un.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${un.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${un.icon}`]:ne({marginLeft:5,marginRight:-6},e.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},e.iconColor===e.color&&ne({color:t.vars?t.vars.palette.Chip.defaultIconColor:n},e.color!=="default"&&{color:"inherit"})),[`& .${un.deleteIcon}`]:ne({WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:or.alpha(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:or.alpha(t.palette.text.primary,.4)}},e.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},e.color!=="default"&&{color:t.vars?`rgba(${t.vars.palette[e.color].contrastTextChannel} / 0.7)`:or.alpha(t.palette[e.color].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].contrastText}})},e.size==="small"&&{height:24},e.color!=="default"&&{backgroundColor:(t.vars||t).palette[e.color].main,color:(t.vars||t).palette[e.color].contrastText},e.onDelete&&{[`&.${un.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:or.alpha(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},e.onDelete&&e.color!=="default"&&{[`&.${un.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}})},({theme:t,ownerState:e})=>ne({},e.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:or.alpha(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${un.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:or.alpha(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}},e.clickable&&e.color!=="default"&&{[`&:hover, &.${un.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}}),({theme:t,ownerState:e})=>ne({},e.variant==="outlined"&&{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${un.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${un.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${un.avatar}`]:{marginLeft:4},[`& .${un.avatarSmall}`]:{marginLeft:2},[`& .${un.icon}`]:{marginLeft:4},[`& .${un.iconSmall}`]:{marginLeft:2},[`& .${un.deleteIcon}`]:{marginRight:5},[`& .${un.deleteIconSmall}`]:{marginRight:3}},e.variant==="outlined"&&e.color!=="default"&&{color:(t.vars||t).palette[e.color].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:or.alpha(t.palette[e.color].main,.7)}`,[`&.${un.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:or.alpha(t.palette[e.color].main,t.palette.action.hoverOpacity)},[`&.${un.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.focusOpacity})`:or.alpha(t.palette[e.color].main,t.palette.action.focusOpacity)},[`& .${un.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:or.alpha(t.palette[e.color].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].main}}})),y$=pt("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:n}=t,{size:r}=n;return[e.label,e[`label${at(r)}`]]}})(({ownerState:t})=>ne({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},t.variant==="outlined"&&{paddingLeft:11,paddingRight:11},t.size==="small"&&{paddingLeft:8,paddingRight:8},t.size==="small"&&t.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function L3(t){return t.key==="Backspace"||t.key==="Delete"}const b$=O.forwardRef(function(e,n){const r=Tn({props:e,name:"MuiChip"}),{avatar:a,className:o,clickable:i,color:s="default",component:u,deleteIcon:c,disabled:f=!1,icon:h,label:m,onClick:g,onDelete:y,onKeyDown:b,onKeyUp:x,size:S="medium",variant:R="filled",tabIndex:_,skipFocusWhenDisabled:T=!1}=r,A=dt(r,m$),D=O.useRef(null),N=ea(D,n),M=Q=>{Q.stopPropagation(),y&&y(Q)},P=Q=>{Q.currentTarget===Q.target&&L3(Q)&&Q.preventDefault(),b&&b(Q)},I=Q=>{Q.currentTarget===Q.target&&(y&&L3(Q)?y(Q):Q.key==="Escape"&&D.current&&D.current.blur()),x&&x(Q)},$=i!==!1&&g?!0:i,z=$||y?uy:u||"div",G=ne({},r,{component:z,disabled:f,size:S,color:s,iconColor:O.isValidElement(h)&&h.props.color||s,onDelete:!!y,clickable:$,variant:R}),V=g$(G),B=z===uy?ne({component:u||"div",focusVisibleClassName:V.focusVisible},y&&{disableRipple:!0}):{};let F=null;y&&(F=c&&O.isValidElement(c)?O.cloneElement(c,{className:ht(c.props.className,V.deleteIcon),onClick:M}):E(h$,{className:ht(V.deleteIcon),onClick:M}));let U=null;a&&O.isValidElement(a)&&(U=O.cloneElement(a,{className:ht(V.avatar,a.props.className)}));let W=null;return h&&O.isValidElement(h)&&(W=O.cloneElement(h,{className:ht(V.icon,h.props.className)})),K(v$,ne({as:z,className:ht(V.root,o),disabled:$&&f?!0:void 0,onClick:g,onKeyDown:P,onKeyUp:I,ref:N,tabIndex:T&&f?-1:_,ownerState:G},B,A,{children:[U||W,E(y$,{className:ht(V.label),ownerState:G,children:m}),F]}))}),x$=["onChange","maxRows","minRows","style","value"];function r0(t){return parseInt(t,10)||0}const w$={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function S$(t){for(const e in t)return!1;return!0}function F3(t){return S$(t)||t.outerHeightStyle===0&&!t.overflowing}const _$=O.forwardRef(function(e,n){const{onChange:r,maxRows:a,minRows:o=1,style:i,value:s}=e,u=dt(e,x$),{current:c}=O.useRef(s!=null),f=O.useRef(null),h=ea(n,f),m=O.useRef(null),g=O.useRef(null),y=O.useCallback(()=>{const _=f.current,T=g.current;if(!_||!T)return;const D=Pc(_).getComputedStyle(_);if(D.width==="0px")return{outerHeightStyle:0,overflowing:!1};T.style.width=D.width,T.value=_.value||e.placeholder||"x",T.value.slice(-1)===`
`&&(T.value+=" ");const N=D.boxSizing,M=r0(D.paddingBottom)+r0(D.paddingTop),P=r0(D.borderBottomWidth)+r0(D.borderTopWidth),I=T.scrollHeight;T.value="x";const $=T.scrollHeight;let z=I;o&&(z=Math.max(Number(o)*$,z)),a&&(z=Math.min(Number(a)*$,z)),z=Math.max(z,$);const G=z+(N==="border-box"?M+P:0),V=Math.abs(z-I)<=1;return{outerHeightStyle:G,overflowing:V}},[a,o,e.placeholder]),b=mc(()=>{const _=f.current,T=y();if(!_||!T||F3(T))return!1;const A=T.outerHeightStyle;return m.current!=null&&m.current!==A}),x=O.useCallback(()=>{const _=f.current,T=y();if(!_||!T||F3(T))return;const A=T.outerHeightStyle;m.current!==A&&(m.current=A,_.style.height=`${A}px`),_.style.overflow=T.overflowing?"hidden":""},[y]),S=O.useRef(-1);yu(()=>{const _=QO(x),T=f==null?void 0:f.current;if(!T)return;const A=Pc(T);A.addEventListener("resize",_);let D;return typeof ResizeObserver<"u"&&(D=new ResizeObserver(()=>{b()&&(D.unobserve(T),cancelAnimationFrame(S.current),x(),S.current=requestAnimationFrame(()=>{D.observe(T)}))}),D.observe(T)),()=>{_.clear(),cancelAnimationFrame(S.current),A.removeEventListener("resize",_),D&&D.disconnect()}},[y,x,b]),yu(()=>{x()});const R=_=>{c||x(),r&&r(_)};return K(O.Fragment,{children:[E("textarea",ne({value:s,onChange:R,ref:h,rows:o,style:i},u)),E("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:g,tabIndex:-1,style:ne({},w$.shadow,i,{paddingTop:0,paddingBottom:0})})]})});function Yf({props:t,states:e,muiFormControl:n}){return e.reduce((r,a)=>(r[a]=t[a],n&&typeof t[a]>"u"&&(r[a]=n[a]),r),{})}const o_=O.createContext(void 0);function Xf(){return O.useContext(o_)}function _D(t){return E(KB,ne({},t,{defaultTheme:YS,themeId:kf}))}function B3(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function dy(t,e=!1){return t&&(B3(t.value)&&t.value!==""||e&&B3(t.defaultValue)&&t.defaultValue!=="")}function C$(t){return t.startAdornment}function E$(t){return En("MuiInputBase",t)}const Ff=yn("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),T$=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],mb=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${at(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},gb=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},R$=t=>{const{classes:e,color:n,disabled:r,error:a,endAdornment:o,focused:i,formControl:s,fullWidth:u,hiddenLabel:c,multiline:f,readOnly:h,size:m,startAdornment:g,type:y}=t,b={root:["root",`color${at(n)}`,r&&"disabled",a&&"error",u&&"fullWidth",i&&"focused",s&&"formControl",m&&m!=="medium"&&`size${at(m)}`,f&&"multiline",g&&"adornedStart",o&&"adornedEnd",c&&"hiddenLabel",h&&"readOnly"],input:["input",r&&"disabled",y==="search"&&"inputTypeSearch",f&&"inputMultiline",m==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",g&&"inputAdornedStart",o&&"inputAdornedEnd",h&&"readOnly"]};return Nn(b,E$,e)},vb=pt("div",{name:"MuiInputBase",slot:"Root",overridesResolver:mb})(({theme:t,ownerState:e})=>ne({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Ff.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&ne({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),yb=pt("input",{name:"MuiInputBase",slot:"Input",overridesResolver:gb})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=ne({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),a={opacity:"0 !important"},o=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return ne({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Ff.formControl} &`]:{"&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&:-ms-input-placeholder":a,"&::-ms-input-placeholder":a,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${Ff.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),A$=E(_D,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),i_=O.forwardRef(function(e,n){var r;const a=Tn({props:e,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:i,autoFocus:s,className:u,components:c={},componentsProps:f={},defaultValue:h,disabled:m,disableInjectingGlobalStyles:g,endAdornment:y,fullWidth:b=!1,id:x,inputComponent:S="input",inputProps:R={},inputRef:_,maxRows:T,minRows:A,multiline:D=!1,name:N,onBlur:M,onChange:P,onClick:I,onFocus:$,onKeyDown:z,onKeyUp:G,placeholder:V,readOnly:B,renderSuffix:F,rows:U,slotProps:W={},slots:Q={},startAdornment:q,type:le="text",value:J}=a,oe=dt(a,T$),re=R.value!=null?R.value:J,{current:we}=O.useRef(re!=null),be=O.useRef(),Oe=O.useCallback(Fe=>{},[]),pe=ea(be,_,R.ref,Oe),[De,Ve]=O.useState(!1),Pe=Xf(),ze=Yf({props:a,muiFormControl:Pe,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ze.focused=Pe?Pe.focused:De,O.useEffect(()=>{!Pe&&m&&De&&(Ve(!1),M&&M())},[Pe,m,De,M]);const Ce=Pe&&Pe.onFilled,Ie=Pe&&Pe.onEmpty,Ue=O.useCallback(Fe=>{dy(Fe)?Ce&&Ce():Ie&&Ie()},[Ce,Ie]);yu(()=>{we&&Ue({value:re})},[re,Ue,we]);const st=Fe=>{if(ze.disabled){Fe.stopPropagation();return}$&&$(Fe),R.onFocus&&R.onFocus(Fe),Pe&&Pe.onFocus?Pe.onFocus(Fe):Ve(!0)},mt=Fe=>{M&&M(Fe),R.onBlur&&R.onBlur(Fe),Pe&&Pe.onBlur?Pe.onBlur(Fe):Ve(!1)},Jt=(Fe,...Le)=>{if(!we){const Gt=Fe.target||be.current;if(Gt==null)throw new Error(Mc(1));Ue({value:Gt.value})}R.onChange&&R.onChange(Fe,...Le),P&&P(Fe,...Le)};O.useEffect(()=>{Ue(be.current)},[]);const Ht=Fe=>{be.current&&Fe.currentTarget===Fe.target&&be.current.focus(),I&&I(Fe)};let Ut=S,yt=R;D&&Ut==="input"&&(U?yt=ne({type:void 0,minRows:U,maxRows:U},yt):yt=ne({type:void 0,maxRows:T,minRows:A},yt),Ut=_$);const Vt=Fe=>{Ue(Fe.animationName==="mui-auto-fill-cancel"?be.current:{value:"x"})};O.useEffect(()=>{Pe&&Pe.setAdornedStart(!!q)},[Pe,q]);const qt=ne({},a,{color:ze.color||"primary",disabled:ze.disabled,endAdornment:y,error:ze.error,focused:ze.focused,formControl:Pe,fullWidth:b,hiddenLabel:ze.hiddenLabel,multiline:D,size:ze.size,startAdornment:q,type:le}),fe=R$(qt),$e=Q.root||c.Root||vb,je=W.root||f.root||{},Ge=Q.input||c.Input||yb;return yt=ne({},yt,(r=W.input)!=null?r:f.input),K(O.Fragment,{children:[!g&&A$,K($e,ne({},je,!Of($e)&&{ownerState:ne({},qt,je.ownerState)},{ref:n,onClick:Ht},oe,{className:ht(fe.root,je.className,u,B&&"MuiInputBase-readOnly"),children:[q,E(o_.Provider,{value:null,children:E(Ge,ne({ownerState:qt,"aria-invalid":ze.error,"aria-describedby":o,autoComplete:i,autoFocus:s,defaultValue:h,disabled:ze.disabled,id:x,onAnimationStart:Vt,name:N,placeholder:V,readOnly:B,required:ze.required,rows:U,value:re,onKeyDown:z,onKeyUp:G,type:le},yt,!Of(Ge)&&{as:Ut,ownerState:ne({},qt,yt.ownerState)},{ref:pe,className:ht(fe.input,yt.className,B&&"MuiInputBase-readOnly"),onBlur:mt,onChange:Jt,onFocus:st}))}),y,F?F(ne({},ze,{startAdornment:q})):null]}))]})});function k$(t){return En("MuiInput",t)}const Rp=ne({},Ff,yn("MuiInput",["root","underline","input"]));function N$(t){return En("MuiOutlinedInput",t)}const Xl=ne({},Ff,yn("MuiOutlinedInput",["root","notchedOutline","input"]));function O$(t){return En("MuiFilledInput",t)}const oc=ne({},Ff,yn("MuiFilledInput",["root","underline","input"])),D$=Uc(E("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),M$=Uc(E("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function P$(t){return En("MuiAvatar",t)}yn("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const I$=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],L$=t=>{const{classes:e,variant:n,colorDefault:r}=t;return Nn({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},P$,e)},F$=pt("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:ne({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:ne({backgroundColor:t.palette.grey[400]},t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})))}]})),B$=pt("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),z$=pt(M$,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});function $$({crossOrigin:t,referrerPolicy:e,src:n,srcSet:r}){const[a,o]=O.useState(!1);return O.useEffect(()=>{if(!n&&!r)return;o(!1);let i=!0;const s=new Image;return s.onload=()=>{i&&o("loaded")},s.onerror=()=>{i&&o("error")},s.crossOrigin=t,s.referrerPolicy=e,s.src=n,r&&(s.srcset=r),()=>{i=!1}},[t,e,n,r]),a}const U$=O.forwardRef(function(e,n){const r=Tn({props:e,name:"MuiAvatar"}),{alt:a,children:o,className:i,component:s="div",slots:u={},slotProps:c={},imgProps:f,sizes:h,src:m,srcSet:g,variant:y="circular"}=r,b=dt(r,I$);let x=null;const S=$$(ne({},f,{src:m,srcSet:g})),R=m||g,_=R&&S!=="error",T=ne({},r,{colorDefault:!_,component:s,variant:y}),A=L$(T),[D,N]=Fz("img",{className:A.img,elementType:B$,externalForwardedProps:{slots:u,slotProps:{img:ne({},f,c.img)}},additionalProps:{alt:a,src:m,srcSet:g,sizes:h},ownerState:T});return _?x=E(D,ne({},N)):o||o===0?x=o:R&&a?x=a[0]:x=E(z$,{ownerState:T,className:A.fallback}),E(F$,ne({as:s,ownerState:T,className:ht(A.root,i),ref:n},b,{children:x}))}),V$=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],j$={entering:{opacity:1},entered:{opacity:1}},W$=O.forwardRef(function(e,n){const r=cD(),a={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:i=!0,children:s,easing:u,in:c,onEnter:f,onEntered:h,onEntering:m,onExit:g,onExited:y,onExiting:b,style:x,timeout:S=a,TransitionComponent:R=cs}=e,_=dt(e,V$),T=O.useRef(null),A=ea(T,jm(s),n),D=V=>B=>{if(V){const F=T.current;B===void 0?V(F):V(F,B)}},N=D(m),M=D((V,B)=>{hD(V);const F=ly({style:x,timeout:S,easing:u},{mode:"enter"});V.style.webkitTransition=r.transitions.create("opacity",F),V.style.transition=r.transitions.create("opacity",F),f&&f(V,B)}),P=D(h),I=D(b),$=D(V=>{const B=ly({style:x,timeout:S,easing:u},{mode:"exit"});V.style.webkitTransition=r.transitions.create("opacity",B),V.style.transition=r.transitions.create("opacity",B),g&&g(V)}),z=D(y);return E(R,ne({appear:i,in:c,nodeRef:T,onEnter:M,onEntered:P,onEntering:N,onExit:$,onExited:z,onExiting:I,addEndListener:V=>{o&&o(T.current,V)},timeout:S},_,{children:(V,B)=>O.cloneElement(s,ne({style:ne({opacity:0,visibility:V==="exited"&&!c?"hidden":void 0},j$[V],x,s.props.style),ref:A},B))}))});function H$(t){return En("MuiBackdrop",t)}yn("MuiBackdrop",["root","invisible"]);const q$=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],G$=t=>{const{classes:e,invisible:n}=t;return Nn({root:["root",n&&"invisible"]},H$,e)},K$=pt("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>ne({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),Y$=O.forwardRef(function(e,n){var r,a,o;const i=Tn({props:e,name:"MuiBackdrop"}),{children:s,className:u,component:c="div",components:f={},componentsProps:h={},invisible:m=!1,open:g,slotProps:y={},slots:b={},TransitionComponent:x=W$,transitionDuration:S}=i,R=dt(i,q$),_=ne({},i,{component:c,invisible:m}),T=G$(_),A=(r=y.root)!=null?r:h.root;return E(x,ne({in:g,timeout:S},R,{children:E(K$,ne({"aria-hidden":!0},A,{as:(a=(o=b.root)!=null?o:f.Root)!=null?a:c,className:ht(T.root,u,A==null?void 0:A.className),ownerState:ne({},_,A==null?void 0:A.ownerState),classes:T,ref:n,children:s}))}))}),X$=yn("MuiBox",["root"]),Q$=KS(),Fi=e7({themeId:kf,defaultTheme:Q$,defaultClassName:X$.root,generateClassName:GO.generate});function Z$(t){return En("MuiCircularProgress",t)}yn("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const J$=["className","color","disableShrink","size","style","thickness","value","variant"];let bb=t=>t,z3,$3,U3,V3;const Ql=44,eU=Kf(z3||(z3=bb`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),tU=Kf($3||($3=bb`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),nU=t=>{const{classes:e,variant:n,color:r,disableShrink:a}=t,o={root:["root",n,`color${at(r)}`],svg:["svg"],circle:["circle",`circle${at(n)}`,a&&"circleDisableShrink"]};return Nn(o,Z$,e)},rU=pt("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${at(n.color)}`]]}})(({ownerState:t,theme:e})=>ne({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&ab(U3||(U3=bb`
      animation: ${0} 1.4s linear infinite;
    `),eU)),aU=pt("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),oU=pt("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${at(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>ne({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&ab(V3||(V3=bb`
      animation: ${0} 1.4s ease-in-out infinite;
    `),tU)),iU=O.forwardRef(function(e,n){const r=Tn({props:e,name:"MuiCircularProgress"}),{className:a,color:o="primary",disableShrink:i=!1,size:s=40,style:u,thickness:c=3.6,value:f=0,variant:h="indeterminate"}=r,m=dt(r,J$),g=ne({},r,{color:o,disableShrink:i,size:s,thickness:c,value:f,variant:h}),y=nU(g),b={},x={},S={};if(h==="determinate"){const R=2*Math.PI*((Ql-c)/2);b.strokeDasharray=R.toFixed(3),S["aria-valuenow"]=Math.round(f),b.strokeDashoffset=`${((100-f)/100*R).toFixed(3)}px`,x.transform="rotate(-90deg)"}return E(rU,ne({className:ht(y.root,a),style:ne({width:s,height:s},x,u),ownerState:g,ref:n,role:"progressbar"},S,m,{children:E(aU,{className:y.svg,ownerState:g,viewBox:`${Ql/2} ${Ql/2} ${Ql} ${Ql}`,children:E(oU,{className:y.circle,style:b,ownerState:g,cx:Ql,cy:Ql,r:(Ql-c)/2,fill:"none",strokeWidth:c})})}))}),sU=(t,e)=>ne({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},e&&!t.vars&&{colorScheme:t.palette.mode}),lU=t=>ne({color:(t.vars||t).palette.text.primary},t.typography.body1,{backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),uU=(t,e=!1)=>{var n;const r={};e&&t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([i,s])=>{var u;r[t.getColorSchemeSelector(i).replace(/\s*&/,"")]={colorScheme:(u=s.palette)==null?void 0:u.mode}});let a=ne({html:sU(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:ne({margin:0},lU(t),{"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}})},r);const o=(n=t.components)==null||(n=n.MuiCssBaseline)==null?void 0:n.styleOverrides;return o&&(a=[a,o]),a};function cU(t){const e=Tn({props:t,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=e;return K(O.Fragment,{children:[E(_D,{styles:a=>uU(a,r)}),n]})}function dU(t){const e=mo(t);return e.body===t?Pc(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function qp(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function j3(t){return parseInt(Pc(t).getComputedStyle(t).paddingRight,10)||0}function fU(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function W3(t,e,n,r,a){const o=[e,n,...r];[].forEach.call(t.children,i=>{const s=o.indexOf(i)===-1,u=!fU(i);s&&u&&qp(i,a)})}function Hx(t,e){let n=-1;return t.some((r,a)=>e(r)?(n=a,!0):!1),n}function hU(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(dU(r)){const i=eD(mo(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${j3(r)+i}px`;const s=mo(r).querySelectorAll(".mui-fixed");[].forEach.call(s,u=>{n.push({value:u.style.paddingRight,property:"padding-right",el:u}),u.style.paddingRight=`${j3(u)+i}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=mo(r).body;else{const i=r.parentElement,s=Pc(r);o=(i==null?void 0:i.nodeName)==="HTML"&&s.getComputedStyle(i).overflowY==="scroll"?i:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:i,property:s})=>{o?i.style.setProperty(s,o):i.style.removeProperty(s)})}}function pU(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class mU{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&qp(e.modalRef,!1);const a=pU(n);W3(n,e.mount,e.modalRef,a,!0);const o=Hx(this.containers,i=>i.container===n);return o!==-1?(this.containers[o].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:a}),r)}mount(e,n){const r=Hx(this.containers,o=>o.modals.indexOf(e)!==-1),a=this.containers[r];a.restore||(a.restore=hU(a,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const a=Hx(this.containers,i=>i.modals.indexOf(e)!==-1),o=this.containers[a];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&qp(e.modalRef,n),W3(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(a,1);else{const i=o.modals[o.modals.length-1];i.modalRef&&qp(i.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const gU=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function vU(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function yU(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function bU(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||yU(t))}function xU(t){const e=[],n=[];return Array.from(t.querySelectorAll(gU)).forEach((r,a)=>{const o=vU(r);o===-1||!bU(r)||(o===0?e.push(r):n.push({documentOrder:a,tabIndex:o,node:r}))}),n.sort((r,a)=>r.tabIndex===a.tabIndex?r.documentOrder-a.documentOrder:r.tabIndex-a.tabIndex).map(r=>r.node).concat(e)}function wU(){return!0}function SU(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:a=!1,getTabbable:o=xU,isEnabled:i=wU,open:s}=t,u=O.useRef(!1),c=O.useRef(null),f=O.useRef(null),h=O.useRef(null),m=O.useRef(null),g=O.useRef(!1),y=O.useRef(null),b=ea(jm(e),y),x=O.useRef(null);O.useEffect(()=>{!s||!y.current||(g.current=!n)},[n,s]),O.useEffect(()=>{if(!s||!y.current)return;const _=mo(y.current);return y.current.contains(_.activeElement)||(y.current.hasAttribute("tabIndex")||y.current.setAttribute("tabIndex","-1"),g.current&&y.current.focus()),()=>{a||(h.current&&h.current.focus&&(u.current=!0,h.current.focus()),h.current=null)}},[s]),O.useEffect(()=>{if(!s||!y.current)return;const _=mo(y.current),T=N=>{x.current=N,!(r||!i()||N.key!=="Tab")&&_.activeElement===y.current&&N.shiftKey&&(u.current=!0,f.current&&f.current.focus())},A=()=>{const N=y.current;if(N===null)return;if(!_.hasFocus()||!i()||u.current){u.current=!1;return}if(N.contains(_.activeElement)||r&&_.activeElement!==c.current&&_.activeElement!==f.current)return;if(_.activeElement!==m.current)m.current=null;else if(m.current!==null)return;if(!g.current)return;let M=[];if((_.activeElement===c.current||_.activeElement===f.current)&&(M=o(y.current)),M.length>0){var P,I;const $=!!((P=x.current)!=null&&P.shiftKey&&((I=x.current)==null?void 0:I.key)==="Tab"),z=M[0],G=M[M.length-1];typeof z!="string"&&typeof G!="string"&&($?G.focus():z.focus())}else N.focus()};_.addEventListener("focusin",A),_.addEventListener("keydown",T,!0);const D=setInterval(()=>{_.activeElement&&_.activeElement.tagName==="BODY"&&A()},50);return()=>{clearInterval(D),_.removeEventListener("focusin",A),_.removeEventListener("keydown",T,!0)}},[n,r,a,i,s,o]);const S=_=>{h.current===null&&(h.current=_.relatedTarget),g.current=!0,m.current=_.target;const T=e.props.onFocus;T&&T(_)},R=_=>{h.current===null&&(h.current=_.relatedTarget),g.current=!0};return K(O.Fragment,{children:[E("div",{tabIndex:s?0:-1,onFocus:R,ref:c,"data-testid":"sentinelStart"}),O.cloneElement(e,{ref:b,onFocus:S}),E("div",{tabIndex:s?0:-1,onFocus:R,ref:f,"data-testid":"sentinelEnd"})]})}function _U(t){return typeof t=="function"?t():t}function CU(t){return t?t.props.hasOwnProperty("in"):!1}const EU=new mU;function TU(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:a=EU,closeAfterTransition:o=!1,onTransitionEnter:i,onTransitionExited:s,children:u,onClose:c,open:f,rootRef:h}=t,m=O.useRef({}),g=O.useRef(null),y=O.useRef(null),b=ea(y,h),[x,S]=O.useState(!f),R=CU(u);let _=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(_=!1);const T=()=>mo(g.current),A=()=>(m.current.modalRef=y.current,m.current.mount=g.current,m.current),D=()=>{a.mount(A(),{disableScrollLock:r}),y.current&&(y.current.scrollTop=0)},N=mc(()=>{const F=_U(e)||T().body;a.add(A(),F),y.current&&D()}),M=O.useCallback(()=>a.isTopModal(A()),[a]),P=mc(F=>{g.current=F,F&&(f&&M()?D():y.current&&qp(y.current,_))}),I=O.useCallback(()=>{a.remove(A(),_)},[_,a]);O.useEffect(()=>()=>{I()},[I]),O.useEffect(()=>{f?N():(!R||!o)&&I()},[f,I,R,o,N]);const $=F=>U=>{var W;(W=F.onKeyDown)==null||W.call(F,U),!(U.key!=="Escape"||U.which===229||!M())&&(n||(U.stopPropagation(),c&&c(U,"escapeKeyDown")))},z=F=>U=>{var W;(W=F.onClick)==null||W.call(F,U),U.target===U.currentTarget&&c&&c(U,"backdropClick")};return{getRootProps:(F={})=>{const U=nD(t);delete U.onTransitionEnter,delete U.onTransitionExited;const W=ne({},U,F);return ne({role:"presentation"},W,{onKeyDown:$(W),ref:b})},getBackdropProps:(F={})=>{const U=F;return ne({"aria-hidden":!0},U,{onClick:z(U),open:f})},getTransitionProps:()=>{const F=()=>{S(!1),i&&i()},U=()=>{S(!0),s&&s(),o&&I()};return{onEnter:n3(F,u==null?void 0:u.props.onEnter),onExited:n3(U,u==null?void 0:u.props.onExited)}},rootRef:b,portalRef:P,isTopModal:M,exited:x,hasTransition:R}}function RU(t){return En("MuiModal",t)}yn("MuiModal",["root","hidden","backdrop"]);const AU=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],kU=t=>{const{open:e,exited:n,classes:r}=t;return Nn({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},RU,r)},NU=pt("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>ne({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),OU=pt(Y$,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),DU=O.forwardRef(function(e,n){var r,a,o,i,s,u;const c=Tn({name:"MuiModal",props:e}),{BackdropComponent:f=OU,BackdropProps:h,className:m,closeAfterTransition:g=!1,children:y,container:b,component:x,components:S={},componentsProps:R={},disableAutoFocus:_=!1,disableEnforceFocus:T=!1,disableEscapeKeyDown:A=!1,disablePortal:D=!1,disableRestoreFocus:N=!1,disableScrollLock:M=!1,hideBackdrop:P=!1,keepMounted:I=!1,onBackdropClick:$,open:z,slotProps:G,slots:V}=c,B=dt(c,AU),F=ne({},c,{closeAfterTransition:g,disableAutoFocus:_,disableEnforceFocus:T,disableEscapeKeyDown:A,disablePortal:D,disableRestoreFocus:N,disableScrollLock:M,hideBackdrop:P,keepMounted:I}),{getRootProps:U,getBackdropProps:W,getTransitionProps:Q,portalRef:q,isTopModal:le,exited:J,hasTransition:oe}=TU(ne({},F,{rootRef:n})),re=ne({},F,{exited:J}),we=kU(re),be={};if(y.props.tabIndex===void 0&&(be.tabIndex="-1"),oe){const{onEnter:Ce,onExited:Ie}=Q();be.onEnter=Ce,be.onExited=Ie}const Oe=(r=(a=V==null?void 0:V.root)!=null?a:S.Root)!=null?r:NU,pe=(o=(i=V==null?void 0:V.backdrop)!=null?i:S.Backdrop)!=null?o:f,De=(s=G==null?void 0:G.root)!=null?s:R.root,Ve=(u=G==null?void 0:G.backdrop)!=null?u:R.backdrop,Pe=Df({elementType:Oe,externalSlotProps:De,externalForwardedProps:B,getSlotProps:U,additionalProps:{ref:n,as:x},ownerState:re,className:ht(m,De==null?void 0:De.className,we==null?void 0:we.root,!re.open&&re.exited&&(we==null?void 0:we.hidden))}),ze=Df({elementType:pe,externalSlotProps:Ve,additionalProps:h,getSlotProps:Ce=>W(ne({},Ce,{onClick:Ie=>{$&&$(Ie),Ce!=null&&Ce.onClick&&Ce.onClick(Ie)}})),className:ht(Ve==null?void 0:Ve.className,h==null?void 0:h.className,we==null?void 0:we.backdrop),ownerState:re});return!I&&!z&&(!oe||J)?null:E(f$,{ref:q,container:b,disablePortal:D,children:K(Oe,ne({},Pe,{children:[!P&&f?E(pe,ne({},ze)):null,E(SU,{disableEnforceFocus:T,disableAutoFocus:_,disableRestoreFocus:N,isEnabled:le,open:z,children:O.cloneElement(y,be)})]}))})});function MU(t){return En("MuiDivider",t)}const Kfe=yn("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),PU=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],IU=t=>{const{absolute:e,children:n,classes:r,flexItem:a,light:o,orientation:i,textAlign:s,variant:u}=t;return Nn({root:["root",e&&"absolute",u,o&&"light",i==="vertical"&&"vertical",a&&"flexItem",n&&"withChildren",n&&i==="vertical"&&"withChildrenVertical",s==="right"&&i!=="vertical"&&"textAlignRight",s==="left"&&i!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",i==="vertical"&&"wrapperVertical"]},MU,r)},LU=pt("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(({theme:t,ownerState:e})=>ne({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:or.alpha(t.palette.divider,.08)},e.variant==="inset"&&{marginLeft:72},e.variant==="middle"&&e.orientation==="horizontal"&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},e.variant==="middle"&&e.orientation==="vertical"&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},e.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:t})=>ne({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:t,ownerState:e})=>ne({},e.children&&e.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}),({theme:t,ownerState:e})=>ne({},e.children&&e.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}),({ownerState:t})=>ne({},t.textAlign==="right"&&t.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},t.textAlign==="left"&&t.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),FU=pt("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(({theme:t,ownerState:e})=>ne({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},e.orientation==="vertical"&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})),CD=O.forwardRef(function(e,n){const r=Tn({props:e,name:"MuiDivider"}),{absolute:a=!1,children:o,className:i,component:s=o?"div":"hr",flexItem:u=!1,light:c=!1,orientation:f="horizontal",role:h=s!=="hr"?"separator":void 0,textAlign:m="center",variant:g="fullWidth"}=r,y=dt(r,PU),b=ne({},r,{absolute:a,component:s,flexItem:u,light:c,orientation:f,role:h,textAlign:m,variant:g}),x=IU(b);return E(LU,ne({as:s,className:ht(x.root,i),role:h,ref:n,ownerState:b},y,{children:o?E(FU,{className:x.wrapper,ownerState:b,children:o}):null}))});CD.muiSkipListHighlight=!0;const BU=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],zU=t=>{const{classes:e,disableUnderline:n}=t,a=Nn({root:["root",!n&&"underline"],input:["input"]},O$,e);return ne({},e,a)},$U=pt(vb,{shouldForwardProp:t=>us(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...mb(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",a=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return ne({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o}},[`&.${oc.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o},[`&.${oc.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:s}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${oc.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${oc.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:a}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${oc.disabled}, .${oc.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${oc.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&ne({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),UU=pt(yb,{name:"MuiFilledInput",slot:"Input",overridesResolver:gb})(({theme:t,ownerState:e})=>ne({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),s_=O.forwardRef(function(e,n){var r,a,o,i;const s=Tn({props:e,name:"MuiFilledInput"}),{components:u={},componentsProps:c,fullWidth:f=!1,inputComponent:h="input",multiline:m=!1,slotProps:g,slots:y={},type:b="text"}=s,x=dt(s,BU),S=ne({},s,{fullWidth:f,inputComponent:h,multiline:m,type:b}),R=zU(s),_={root:{ownerState:S},input:{ownerState:S}},T=g??c?ja(_,g??c):_,A=(r=(a=y.root)!=null?a:u.Root)!=null?r:$U,D=(o=(i=y.input)!=null?i:u.Input)!=null?o:UU;return E(i_,ne({slots:{root:A,input:D},componentsProps:T,fullWidth:f,inputComponent:h,multiline:m,ref:n,type:b},x,{classes:R}))});s_.muiName="Input";function VU(t){return En("MuiFormControl",t)}yn("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const jU=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],WU=t=>{const{classes:e,margin:n,fullWidth:r}=t,a={root:["root",n!=="none"&&`margin${at(n)}`,r&&"fullWidth"]};return Nn(a,VU,e)},HU=pt("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>ne({},e.root,e[`margin${at(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>ne({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),qU=O.forwardRef(function(e,n){const r=Tn({props:e,name:"MuiFormControl"}),{children:a,className:o,color:i="primary",component:s="div",disabled:u=!1,error:c=!1,focused:f,fullWidth:h=!1,hiddenLabel:m=!1,margin:g="none",required:y=!1,size:b="medium",variant:x="outlined"}=r,S=dt(r,jU),R=ne({},r,{color:i,component:s,disabled:u,error:c,fullWidth:h,hiddenLabel:m,margin:g,required:y,size:b,variant:x}),_=WU(R),[T,A]=O.useState(()=>{let G=!1;return a&&O.Children.forEach(a,V=>{if(!U0(V,["Input","Select"]))return;const B=U0(V,["Select"])?V.props.input:V;B&&C$(B.props)&&(G=!0)}),G}),[D,N]=O.useState(()=>{let G=!1;return a&&O.Children.forEach(a,V=>{U0(V,["Input","Select"])&&(dy(V.props,!0)||dy(V.props.inputProps,!0))&&(G=!0)}),G}),[M,P]=O.useState(!1);u&&M&&P(!1);const I=f!==void 0&&!u?f:M;let $;const z=O.useMemo(()=>({adornedStart:T,setAdornedStart:A,color:i,disabled:u,error:c,filled:D,focused:I,fullWidth:h,hiddenLabel:m,size:b,onBlur:()=>{P(!1)},onEmpty:()=>{N(!1)},onFilled:()=>{N(!0)},onFocus:()=>{P(!0)},registerEffect:$,required:y,variant:x}),[T,i,u,c,D,I,h,m,$,y,b,x]);return E(o_.Provider,{value:z,children:E(HU,ne({as:s,ownerState:R,className:ht(_.root,o),ref:n},S,{children:a}))})});function GU(t){return En("MuiFormHelperText",t)}const H3=yn("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var q3;const KU=["children","className","component","disabled","error","filled","focused","margin","required","variant"],YU=t=>{const{classes:e,contained:n,size:r,disabled:a,error:o,filled:i,focused:s,required:u}=t,c={root:["root",a&&"disabled",o&&"error",r&&`size${at(r)}`,n&&"contained",s&&"focused",i&&"filled",u&&"required"]};return Nn(c,GU,e)},XU=pt("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${at(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>ne({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${H3.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${H3.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),QU=O.forwardRef(function(e,n){const r=Tn({props:e,name:"MuiFormHelperText"}),{children:a,className:o,component:i="p"}=r,s=dt(r,KU),u=Xf(),c=Yf({props:r,muiFormControl:u,states:["variant","size","disabled","error","filled","focused","required"]}),f=ne({},r,{component:i,contained:c.variant==="filled"||c.variant==="outlined",variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),h=YU(f);return E(XU,ne({as:i,ownerState:f,className:ht(h.root,o),ref:n},s,{children:a===" "?q3||(q3=E("span",{className:"notranslate",children:"​"})):a}))});function ZU(t){return En("MuiFormLabel",t)}const Gp=yn("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),JU=["children","className","color","component","disabled","error","filled","focused","required"],eV=t=>{const{classes:e,color:n,focused:r,disabled:a,error:o,filled:i,required:s}=t,u={root:["root",`color${at(n)}`,a&&"disabled",o&&"error",i&&"filled",r&&"focused",s&&"required"],asterisk:["asterisk",o&&"error"]};return Nn(u,ZU,e)},tV=pt("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>ne({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>ne({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Gp.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${Gp.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Gp.error}`]:{color:(t.vars||t).palette.error.main}})),nV=pt("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${Gp.error}`]:{color:(t.vars||t).palette.error.main}})),rV=O.forwardRef(function(e,n){const r=Tn({props:e,name:"MuiFormLabel"}),{children:a,className:o,component:i="label"}=r,s=dt(r,JU),u=Xf(),c=Yf({props:r,muiFormControl:u,states:["color","required","focused","disabled","error","filled"]}),f=ne({},r,{color:c.color||"primary",component:i,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),h=eV(f);return K(tV,ne({as:i,ownerState:f,className:ht(h.root,o),ref:n},s,{children:[a,c.required&&K(nV,{ownerState:f,"aria-hidden":!0,className:h.asterisk,children:[" ","*"]})]}))}),aV=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function bw(t){return`scale(${t}, ${t**2})`}const oV={entering:{opacity:1,transform:bw(1)},entered:{opacity:1,transform:"none"}},qx=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),ED=O.forwardRef(function(e,n){const{addEndListener:r,appear:a=!0,children:o,easing:i,in:s,onEnter:u,onEntered:c,onEntering:f,onExit:h,onExited:m,onExiting:g,style:y,timeout:b="auto",TransitionComponent:x=cs}=e,S=dt(e,aV),R=JO(),_=O.useRef(),T=cD(),A=O.useRef(null),D=ea(A,jm(o),n),N=B=>F=>{if(B){const U=A.current;F===void 0?B(U):B(U,F)}},M=N(f),P=N((B,F)=>{hD(B);const{duration:U,delay:W,easing:Q}=ly({style:y,timeout:b,easing:i},{mode:"enter"});let q;b==="auto"?(q=T.transitions.getAutoHeightDuration(B.clientHeight),_.current=q):q=U,B.style.transition=[T.transitions.create("opacity",{duration:q,delay:W}),T.transitions.create("transform",{duration:qx?q:q*.666,delay:W,easing:Q})].join(","),u&&u(B,F)}),I=N(c),$=N(g),z=N(B=>{const{duration:F,delay:U,easing:W}=ly({style:y,timeout:b,easing:i},{mode:"exit"});let Q;b==="auto"?(Q=T.transitions.getAutoHeightDuration(B.clientHeight),_.current=Q):Q=F,B.style.transition=[T.transitions.create("opacity",{duration:Q,delay:U}),T.transitions.create("transform",{duration:qx?Q:Q*.666,delay:qx?U:U||Q*.333,easing:W})].join(","),B.style.opacity=0,B.style.transform=bw(.75),h&&h(B)}),G=N(m);return E(x,ne({appear:a,in:s,nodeRef:A,onEnter:P,onEntered:I,onEntering:M,onExit:z,onExited:G,onExiting:$,addEndListener:B=>{b==="auto"&&R.start(_.current||0,B),r&&r(A.current,B)},timeout:b==="auto"?null:b},S,{children:(B,F)=>O.cloneElement(o,ne({style:ne({opacity:0,transform:bw(.75),visibility:B==="exited"&&!s?"hidden":void 0},oV[B],y,o.props.style),ref:D},F))}))});ED.muiSupportAuto=!0;const iV=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],sV=t=>{const{classes:e,disableUnderline:n}=t,a=Nn({root:["root",!n&&"underline"],input:["input"]},k$,e);return ne({},e,a)},lV=pt(vb,{shouldForwardProp:t=>us(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...mb(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),ne({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Rp.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Rp.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Rp.disabled}, .${Rp.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Rp.disabled}:before`]:{borderBottomStyle:"dotted"}})}),uV=pt(yb,{name:"MuiInput",slot:"Input",overridesResolver:gb})({}),l_=O.forwardRef(function(e,n){var r,a,o,i;const s=Tn({props:e,name:"MuiInput"}),{disableUnderline:u,components:c={},componentsProps:f,fullWidth:h=!1,inputComponent:m="input",multiline:g=!1,slotProps:y,slots:b={},type:x="text"}=s,S=dt(s,iV),R=sV(s),T={root:{ownerState:{disableUnderline:u}}},A=y??f?ja(y??f,T):T,D=(r=(a=b.root)!=null?a:c.Root)!=null?r:lV,N=(o=(i=b.input)!=null?i:c.Input)!=null?o:uV;return E(i_,ne({slots:{root:D,input:N},slotProps:A,fullWidth:h,inputComponent:m,multiline:g,ref:n,type:x},S,{classes:R}))});l_.muiName="Input";function cV(t){return En("MuiInputLabel",t)}yn("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const dV=["disableAnimation","margin","shrink","variant","className"],fV=t=>{const{classes:e,formControl:n,size:r,shrink:a,disableAnimation:o,variant:i,required:s}=t,u={root:["root",n&&"formControl",!o&&"animated",a&&"shrink",r&&r!=="normal"&&`size${at(r)}`,i],asterisk:[s&&"asterisk"]},c=Nn(u,cV,e);return ne({},e,c)},hV=pt(rV,{shouldForwardProp:t=>us(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Gp.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(({theme:t,ownerState:e})=>ne({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&ne({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&ne({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&ne({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),pV=O.forwardRef(function(e,n){const r=Tn({name:"MuiInputLabel",props:e}),{disableAnimation:a=!1,shrink:o,className:i}=r,s=dt(r,dV),u=Xf();let c=o;typeof c>"u"&&u&&(c=u.filled||u.focused||u.adornedStart);const f=Yf({props:r,muiFormControl:u,states:["size","variant","required","focused"]}),h=ne({},r,{disableAnimation:a,formControl:u,shrink:c,size:f.size,variant:f.variant,required:f.required,focused:f.focused}),m=fV(h);return E(hV,ne({"data-shrink":c,ownerState:h,ref:n,className:ht(m.root,i)},s,{classes:m}))}),Kp=O.createContext({});function mV(t){return En("MuiList",t)}yn("MuiList",["root","padding","dense","subheader"]);const gV=["children","className","component","dense","disablePadding","subheader"],vV=t=>{const{classes:e,disablePadding:n,dense:r,subheader:a}=t;return Nn({root:["root",!n&&"padding",r&&"dense",a&&"subheader"]},mV,e)},yV=pt("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>ne({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),TD=O.forwardRef(function(e,n){const r=Tn({props:e,name:"MuiList"}),{children:a,className:o,component:i="ul",dense:s=!1,disablePadding:u=!1,subheader:c}=r,f=dt(r,gV),h=O.useMemo(()=>({dense:s}),[s]),m=ne({},r,{component:i,dense:s,disablePadding:u}),g=vV(m);return E(Kp.Provider,{value:h,children:K(yV,ne({as:i,className:ht(g.root,o),ref:n,ownerState:m},f,{children:[c,a]}))})});function bV(t){return En("MuiListItem",t)}const Jd=yn("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),xV=yn("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function wV(t){return En("MuiListItemSecondaryAction",t)}yn("MuiListItemSecondaryAction",["root","disableGutters"]);const SV=["className"],_V=t=>{const{disableGutters:e,classes:n}=t;return Nn({root:["root",e&&"disableGutters"]},wV,n)},CV=pt("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.disableGutters&&e.disableGutters]}})(({ownerState:t})=>ne({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})),RD=O.forwardRef(function(e,n){const r=Tn({props:e,name:"MuiListItemSecondaryAction"}),{className:a}=r,o=dt(r,SV),i=O.useContext(Kp),s=ne({},r,{disableGutters:i.disableGutters}),u=_V(s);return E(CV,ne({className:ht(u.root,a),ownerState:s,ref:n},o))});RD.muiName="ListItemSecondaryAction";const EV=["className"],TV=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],RV=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters,!n.disablePadding&&e.padding,n.button&&e.button,n.hasSecondaryAction&&e.secondaryAction]},AV=t=>{const{alignItems:e,button:n,classes:r,dense:a,disabled:o,disableGutters:i,disablePadding:s,divider:u,hasSecondaryAction:c,selected:f}=t;return Nn({root:["root",a&&"dense",!i&&"gutters",!s&&"padding",u&&"divider",o&&"disabled",n&&"button",e==="flex-start"&&"alignItemsFlexStart",c&&"secondaryAction",f&&"selected"],container:["container"]},bV,r)},kV=pt("div",{name:"MuiListItem",slot:"Root",overridesResolver:RV})(({theme:t,ownerState:e})=>ne({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!e.disablePadding&&ne({paddingTop:8,paddingBottom:8},e.dense&&{paddingTop:4,paddingBottom:4},!e.disableGutters&&{paddingLeft:16,paddingRight:16},!!e.secondaryAction&&{paddingRight:48}),!!e.secondaryAction&&{[`& > .${xV.root}`]:{paddingRight:48}},{[`&.${Jd.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Jd.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:or.alpha(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Jd.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:or.alpha(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Jd.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.alignItems==="flex-start"&&{alignItems:"flex-start"},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Jd.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:or.alpha(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:or.alpha(t.palette.primary.main,t.palette.action.selectedOpacity)}}},e.hasSecondaryAction&&{paddingRight:48})),NV=pt("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),G3=O.forwardRef(function(e,n){const r=Tn({props:e,name:"MuiListItem"}),{alignItems:a="center",autoFocus:o=!1,button:i=!1,children:s,className:u,component:c,components:f={},componentsProps:h={},ContainerComponent:m="li",ContainerProps:{className:g}={},dense:y=!1,disabled:b=!1,disableGutters:x=!1,disablePadding:S=!1,divider:R=!1,focusVisibleClassName:_,secondaryAction:T,selected:A=!1,slotProps:D={},slots:N={}}=r,M=dt(r.ContainerProps,EV),P=dt(r,TV),I=O.useContext(Kp),$=O.useMemo(()=>({dense:y||I.dense||!1,alignItems:a,disableGutters:x}),[a,I.dense,y,x]),z=O.useRef(null);yu(()=>{o&&z.current&&z.current.focus()},[o]);const G=O.Children.toArray(s),V=G.length&&U0(G[G.length-1],["ListItemSecondaryAction"]),B=ne({},r,{alignItems:a,autoFocus:o,button:i,dense:$.dense,disabled:b,disableGutters:x,disablePadding:S,divider:R,hasSecondaryAction:V,selected:A}),F=AV(B),U=ea(z,n),W=N.root||f.Root||kV,Q=D.root||h.root||{},q=ne({className:ht(F.root,Q.className,u),disabled:b},P);let le=c||"li";return i&&(q.component=c||"div",q.focusVisibleClassName=ht(Jd.focusVisible,_),le=uy),V?(le=!q.component&&!c?"div":le,m==="li"&&(le==="li"?le="div":q.component==="li"&&(q.component="div")),E(Kp.Provider,{value:$,children:K(NV,ne({as:m,className:ht(F.container,g),ref:U,ownerState:B},M,{children:[E(W,ne({},Q,!Of(W)&&{as:le,ownerState:ne({},B,Q.ownerState)},q,{children:G})),G.pop()]}))})):E(Kp.Provider,{value:$,children:K(W,ne({},Q,{as:le,ref:U},!Of(W)&&{ownerState:ne({},B,Q.ownerState)},q,{children:[G,T&&E(RD,{children:T})]}))})}),OV=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Gx(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function K3(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function AD(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function Ap(t,e,n,r,a,o){let i=!1,s=a(t,e,e?n:!1);for(;s;){if(s===t.firstChild){if(i)return!1;i=!0}const u=r?!1:s.disabled||s.getAttribute("aria-disabled")==="true";if(!s.hasAttribute("tabindex")||!AD(s,o)||u)s=a(t,s,n);else return s.focus(),!0}return!1}const DV=O.forwardRef(function(e,n){const{actions:r,autoFocus:a=!1,autoFocusItem:o=!1,children:i,className:s,disabledItemsFocusable:u=!1,disableListWrap:c=!1,onKeyDown:f,variant:h="selectedMenu"}=e,m=dt(e,OV),g=O.useRef(null),y=O.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});yu(()=>{a&&g.current.focus()},[a]),O.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(_,{direction:T})=>{const A=!g.current.style.width;if(_.clientHeight<g.current.clientHeight&&A){const D=`${eD(mo(_))}px`;g.current.style[T==="rtl"?"paddingLeft":"paddingRight"]=D,g.current.style.width=`calc(100% + ${D})`}return g.current}}),[]);const b=_=>{const T=g.current,A=_.key,D=mo(T).activeElement;if(A==="ArrowDown")_.preventDefault(),Ap(T,D,c,u,Gx);else if(A==="ArrowUp")_.preventDefault(),Ap(T,D,c,u,K3);else if(A==="Home")_.preventDefault(),Ap(T,null,c,u,Gx);else if(A==="End")_.preventDefault(),Ap(T,null,c,u,K3);else if(A.length===1){const N=y.current,M=A.toLowerCase(),P=performance.now();N.keys.length>0&&(P-N.lastTime>500?(N.keys=[],N.repeating=!0,N.previousKeyMatched=!0):N.repeating&&M!==N.keys[0]&&(N.repeating=!1)),N.lastTime=P,N.keys.push(M);const I=D&&!N.repeating&&AD(D,N);N.previousKeyMatched&&(I||Ap(T,D,!1,u,Gx,N))?_.preventDefault():N.previousKeyMatched=!1}f&&f(_)},x=ea(g,n);let S=-1;O.Children.forEach(i,(_,T)=>{if(!O.isValidElement(_)){S===T&&(S+=1,S>=i.length&&(S=-1));return}_.props.disabled||(h==="selectedMenu"&&_.props.selected||S===-1)&&(S=T),S===T&&(_.props.disabled||_.props.muiSkipListHighlight||_.type.muiSkipListHighlight)&&(S+=1,S>=i.length&&(S=-1))});const R=O.Children.map(i,(_,T)=>{if(T===S){const A={};return o&&(A.autoFocus=!0),_.props.tabIndex===void 0&&h==="selectedMenu"&&(A.tabIndex=0),O.cloneElement(_,A)}return _});return E(TD,ne({role:"menu",ref:x,className:s,onKeyDown:b,tabIndex:a?0:-1},m,{children:R}))});function MV(t){return En("MuiPopover",t)}yn("MuiPopover",["root","paper"]);const PV=["onEntering"],IV=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],LV=["slotProps"];function Y3(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function X3(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function Q3(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function Kx(t){return typeof t=="function"?t():t}const FV=t=>{const{classes:e}=t;return Nn({root:["root"],paper:["paper"]},MV,e)},BV=pt(DU,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),kD=pt(Mz,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),zV=O.forwardRef(function(e,n){var r,a,o;const i=Tn({props:e,name:"MuiPopover"}),{action:s,anchorEl:u,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:f,anchorReference:h="anchorEl",children:m,className:g,container:y,elevation:b=8,marginThreshold:x=16,open:S,PaperProps:R={},slots:_,slotProps:T,transformOrigin:A={vertical:"top",horizontal:"left"},TransitionComponent:D=ED,transitionDuration:N="auto",TransitionProps:{onEntering:M}={},disableScrollLock:P=!1}=i,I=dt(i.TransitionProps,PV),$=dt(i,IV),z=(r=T==null?void 0:T.paper)!=null?r:R,G=O.useRef(),V=ea(G,z.ref),B=ne({},i,{anchorOrigin:c,anchorReference:h,elevation:b,marginThreshold:x,externalPaperSlotProps:z,transformOrigin:A,TransitionComponent:D,transitionDuration:N,TransitionProps:I}),F=FV(B),U=O.useCallback(()=>{if(h==="anchorPosition")return f;const Ce=Kx(u),Ue=(Ce&&Ce.nodeType===1?Ce:mo(G.current).body).getBoundingClientRect();return{top:Ue.top+Y3(Ue,c.vertical),left:Ue.left+X3(Ue,c.horizontal)}},[u,c.horizontal,c.vertical,f,h]),W=O.useCallback(Ce=>({vertical:Y3(Ce,A.vertical),horizontal:X3(Ce,A.horizontal)}),[A.horizontal,A.vertical]),Q=O.useCallback(Ce=>{const Ie={width:Ce.offsetWidth,height:Ce.offsetHeight},Ue=W(Ie);if(h==="none")return{top:null,left:null,transformOrigin:Q3(Ue)};const st=U();let mt=st.top-Ue.vertical,Jt=st.left-Ue.horizontal;const Ht=mt+Ie.height,Ut=Jt+Ie.width,yt=Pc(Kx(u)),Vt=yt.innerHeight-x,qt=yt.innerWidth-x;if(x!==null&&mt<x){const fe=mt-x;mt-=fe,Ue.vertical+=fe}else if(x!==null&&Ht>Vt){const fe=Ht-Vt;mt-=fe,Ue.vertical+=fe}if(x!==null&&Jt<x){const fe=Jt-x;Jt-=fe,Ue.horizontal+=fe}else if(Ut>qt){const fe=Ut-qt;Jt-=fe,Ue.horizontal+=fe}return{top:`${Math.round(mt)}px`,left:`${Math.round(Jt)}px`,transformOrigin:Q3(Ue)}},[u,h,U,W,x]),[q,le]=O.useState(S),J=O.useCallback(()=>{const Ce=G.current;if(!Ce)return;const Ie=Q(Ce);Ie.top!==null&&(Ce.style.top=Ie.top),Ie.left!==null&&(Ce.style.left=Ie.left),Ce.style.transformOrigin=Ie.transformOrigin,le(!0)},[Q]);O.useEffect(()=>(P&&window.addEventListener("scroll",J),()=>window.removeEventListener("scroll",J)),[u,P,J]);const oe=(Ce,Ie)=>{M&&M(Ce,Ie),J()},re=()=>{le(!1)};O.useEffect(()=>{S&&J()}),O.useImperativeHandle(s,()=>S?{updatePosition:()=>{J()}}:null,[S,J]),O.useEffect(()=>{if(!S)return;const Ce=QO(()=>{J()}),Ie=Pc(u);return Ie.addEventListener("resize",Ce),()=>{Ce.clear(),Ie.removeEventListener("resize",Ce)}},[u,S,J]);let we=N;N==="auto"&&!D.muiSupportAuto&&(we=void 0);const be=y||(u?mo(Kx(u)).body:void 0),Oe=(a=_==null?void 0:_.root)!=null?a:BV,pe=(o=_==null?void 0:_.paper)!=null?o:kD,De=Df({elementType:pe,externalSlotProps:ne({},z,{style:q?z.style:ne({},z.style,{opacity:0})}),additionalProps:{elevation:b,ref:V},ownerState:B,className:ht(F.paper,z==null?void 0:z.className)}),Ve=Df({elementType:Oe,externalSlotProps:(T==null?void 0:T.root)||{},externalForwardedProps:$,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:be,open:S},ownerState:B,className:ht(F.root,g)}),{slotProps:Pe}=Ve,ze=dt(Ve,LV);return E(Oe,ne({},ze,!Of(Oe)&&{slotProps:Pe,disableScrollLock:P},{children:E(D,ne({appear:!0,in:S,onEntering:oe,onExited:re,timeout:we},I,{children:E(pe,ne({},De,{children:m}))}))}))});function $V(t){return En("MuiMenu",t)}yn("MuiMenu",["root","paper","list"]);const UV=["onEntering"],VV=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],jV={vertical:"top",horizontal:"right"},WV={vertical:"top",horizontal:"left"},HV=t=>{const{classes:e}=t;return Nn({root:["root"],paper:["paper"],list:["list"]},$V,e)},qV=pt(zV,{shouldForwardProp:t=>us(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),GV=pt(kD,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),KV=pt(DV,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),YV=O.forwardRef(function(e,n){var r,a;const o=Tn({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:s,className:u,disableAutoFocusItem:c=!1,MenuListProps:f={},onClose:h,open:m,PaperProps:g={},PopoverClasses:y,transitionDuration:b="auto",TransitionProps:{onEntering:x}={},variant:S="selectedMenu",slots:R={},slotProps:_={}}=o,T=dt(o.TransitionProps,UV),A=dt(o,VV),D=A7(),N=ne({},o,{autoFocus:i,disableAutoFocusItem:c,MenuListProps:f,onEntering:x,PaperProps:g,transitionDuration:b,TransitionProps:T,variant:S}),M=HV(N),P=i&&!c&&m,I=O.useRef(null),$=(W,Q)=>{I.current&&I.current.adjustStyleForScrollbar(W,{direction:D?"rtl":"ltr"}),x&&x(W,Q)},z=W=>{W.key==="Tab"&&(W.preventDefault(),h&&h(W,"tabKeyDown"))};let G=-1;O.Children.map(s,(W,Q)=>{O.isValidElement(W)&&(W.props.disabled||(S==="selectedMenu"&&W.props.selected||G===-1)&&(G=Q))});const V=(r=R.paper)!=null?r:GV,B=(a=_.paper)!=null?a:g,F=Df({elementType:R.root,externalSlotProps:_.root,ownerState:N,className:[M.root,u]}),U=Df({elementType:V,externalSlotProps:B,ownerState:N,className:M.paper});return E(qV,ne({onClose:h,anchorOrigin:{vertical:"bottom",horizontal:D?"right":"left"},transformOrigin:D?jV:WV,slots:{paper:V,root:R.root},slotProps:{root:F,paper:U},open:m,ref:n,transitionDuration:b,TransitionProps:ne({onEntering:$},T),ownerState:N},A,{classes:y,children:E(KV,ne({onKeyDown:z,actions:I,autoFocus:i&&(G===-1||c),autoFocusItem:P,variant:S},f,{className:ht(M.list,f.className),children:s}))}))});function XV(t){return En("MuiNativeSelect",t)}const u_=yn("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),QV=["className","disabled","error","IconComponent","inputRef","variant"],ZV=t=>{const{classes:e,variant:n,disabled:r,multiple:a,open:o,error:i}=t,s={select:["select",n,r&&"disabled",a&&"multiple",i&&"error"],icon:["icon",`icon${at(n)}`,o&&"iconOpen",r&&"disabled"]};return Nn(s,XV,e)},ND=({ownerState:t,theme:e})=>ne({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":ne({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${u_.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),JV=pt("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:us,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${u_.multiple}`]:e.multiple}]}})(ND),OD=({ownerState:t,theme:e})=>ne({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${u_.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),ej=pt("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${at(n.variant)}`],n.open&&e.iconOpen]}})(OD),tj=O.forwardRef(function(e,n){const{className:r,disabled:a,error:o,IconComponent:i,inputRef:s,variant:u="standard"}=e,c=dt(e,QV),f=ne({},e,{disabled:a,variant:u,error:o}),h=ZV(f);return K(O.Fragment,{children:[E(JV,ne({ownerState:f,className:ht(h.select,r),disabled:a,ref:s||n},c)),e.multiple?null:E(ej,{as:i,ownerState:f,className:h.icon})]})});var Z3;const nj=["children","classes","className","label","notched"],rj=pt("fieldset",{shouldForwardProp:us})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),aj=pt("legend",{shouldForwardProp:us})(({ownerState:t,theme:e})=>ne({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&ne({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function oj(t){const{className:e,label:n,notched:r}=t,a=dt(t,nj),o=n!=null&&n!=="",i=ne({},t,{notched:r,withLabel:o});return E(rj,ne({"aria-hidden":!0,className:e,ownerState:i},a,{children:E(aj,{ownerState:i,children:o?E("span",{children:n}):Z3||(Z3=E("span",{className:"notranslate",children:"​"}))})}))}const ij=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],sj=t=>{const{classes:e}=t,r=Nn({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},N$,e);return ne({},e,r)},lj=pt(vb,{shouldForwardProp:t=>us(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:mb})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return ne({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Xl.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Xl.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Xl.focused} .${Xl.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${Xl.error} .${Xl.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Xl.disabled} .${Xl.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&ne({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),uj=pt(oj,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),cj=pt(yb,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:gb})(({theme:t,ownerState:e})=>ne({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),c_=O.forwardRef(function(e,n){var r,a,o,i,s;const u=Tn({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:f=!1,inputComponent:h="input",label:m,multiline:g=!1,notched:y,slots:b={},type:x="text"}=u,S=dt(u,ij),R=sj(u),_=Xf(),T=Yf({props:u,muiFormControl:_,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),A=ne({},u,{color:T.color||"primary",disabled:T.disabled,error:T.error,focused:T.focused,formControl:_,fullWidth:f,hiddenLabel:T.hiddenLabel,multiline:g,size:T.size,type:x}),D=(r=(a=b.root)!=null?a:c.Root)!=null?r:lj,N=(o=(i=b.input)!=null?i:c.Input)!=null?o:cj;return E(i_,ne({slots:{root:D,input:N},renderSuffix:M=>E(uj,{ownerState:A,className:R.notchedOutline,label:m!=null&&m!==""&&T.required?s||(s=K(O.Fragment,{children:[m," ","*"]})):m,notched:typeof y<"u"?y:!!(M.startAdornment||M.filled||M.focused)}),fullWidth:f,inputComponent:h,multiline:g,ref:n,type:x},S,{classes:ne({},R,{notchedOutline:null})}))});c_.muiName="Input";function dj(t){return En("MuiSelect",t)}const kp=yn("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var J3;const fj=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],hj=pt("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${kp.select}`]:e.select},{[`&.${kp.select}`]:e[n.variant]},{[`&.${kp.error}`]:e.error},{[`&.${kp.multiple}`]:e.multiple}]}})(ND,{[`&.${kp.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),pj=pt("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${at(n.variant)}`],n.open&&e.iconOpen]}})(OD),mj=pt("input",{shouldForwardProp:t=>dD(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function eR(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function gj(t){return t==null||typeof t=="string"&&!t.trim()}const vj=t=>{const{classes:e,variant:n,disabled:r,multiple:a,open:o,error:i}=t,s={select:["select",n,r&&"disabled",a&&"multiple",i&&"error"],icon:["icon",`icon${at(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Nn(s,dj,e)},yj=O.forwardRef(function(e,n){var r;const{"aria-describedby":a,"aria-label":o,autoFocus:i,autoWidth:s,children:u,className:c,defaultOpen:f,defaultValue:h,disabled:m,displayEmpty:g,error:y=!1,IconComponent:b,inputRef:x,labelId:S,MenuProps:R={},multiple:_,name:T,onBlur:A,onChange:D,onClose:N,onFocus:M,onOpen:P,open:I,readOnly:$,renderValue:z,SelectDisplayProps:G={},tabIndex:V,value:B,variant:F="standard"}=e,U=dt(e,fj),[W,Q]=o3({controlled:B,default:h,name:"Select"}),[q,le]=o3({controlled:I,default:f,name:"Select"}),J=O.useRef(null),oe=O.useRef(null),[re,we]=O.useState(null),{current:be}=O.useRef(I!=null),[Oe,pe]=O.useState(),De=ea(n,x),Ve=O.useCallback(Qe=>{oe.current=Qe,Qe&&we(Qe)},[]),Pe=re==null?void 0:re.parentNode;O.useImperativeHandle(De,()=>({focus:()=>{oe.current.focus()},node:J.current,value:W}),[W]),O.useEffect(()=>{f&&q&&re&&!be&&(pe(s?null:Pe.clientWidth),oe.current.focus())},[re,s]),O.useEffect(()=>{i&&oe.current.focus()},[i]),O.useEffect(()=>{if(!S)return;const Qe=mo(oe.current).getElementById(S);if(Qe){const Lt=()=>{getSelection().isCollapsed&&oe.current.focus()};return Qe.addEventListener("click",Lt),()=>{Qe.removeEventListener("click",Lt)}}},[S]);const ze=(Qe,Lt)=>{Qe?P&&P(Lt):N&&N(Lt),be||(pe(s?null:Pe.clientWidth),le(Qe))},Ce=Qe=>{Qe.button===0&&(Qe.preventDefault(),oe.current.focus(),ze(!0,Qe))},Ie=Qe=>{ze(!1,Qe)},Ue=O.Children.toArray(u),st=Qe=>{const Lt=Ue.find(cn=>cn.props.value===Qe.target.value);Lt!==void 0&&(Q(Lt.props.value),D&&D(Qe,Lt))},mt=Qe=>Lt=>{let cn;if(Lt.currentTarget.hasAttribute("tabindex")){if(_){cn=Array.isArray(W)?W.slice():[];const Za=W.indexOf(Qe.props.value);Za===-1?cn.push(Qe.props.value):cn.splice(Za,1)}else cn=Qe.props.value;if(Qe.props.onClick&&Qe.props.onClick(Lt),W!==cn&&(Q(cn),D)){const Za=Lt.nativeEvent||Lt,pi=new Za.constructor(Za.type,Za);Object.defineProperty(pi,"target",{writable:!0,value:{value:cn,name:T}}),D(pi,Qe)}_||ze(!1,Lt)}},Jt=Qe=>{$||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Qe.key)!==-1&&(Qe.preventDefault(),ze(!0,Qe))},Ht=re!==null&&q,Ut=Qe=>{!Ht&&A&&(Object.defineProperty(Qe,"target",{writable:!0,value:{value:W,name:T}}),A(Qe))};delete U["aria-invalid"];let yt,Vt;const qt=[];let fe=!1;(dy({value:W})||g)&&(z?yt=z(W):fe=!0);const $e=Ue.map(Qe=>{if(!O.isValidElement(Qe))return null;let Lt;if(_){if(!Array.isArray(W))throw new Error(Mc(2));Lt=W.some(cn=>eR(cn,Qe.props.value)),Lt&&fe&&qt.push(Qe.props.children)}else Lt=eR(W,Qe.props.value),Lt&&fe&&(Vt=Qe.props.children);return O.cloneElement(Qe,{"aria-selected":Lt?"true":"false",onClick:mt(Qe),onKeyUp:cn=>{cn.key===" "&&cn.preventDefault(),Qe.props.onKeyUp&&Qe.props.onKeyUp(cn)},role:"option",selected:Lt,value:void 0,"data-value":Qe.props.value})});fe&&(_?qt.length===0?yt=null:yt=qt.reduce((Qe,Lt,cn)=>(Qe.push(Lt),cn<qt.length-1&&Qe.push(", "),Qe),[]):yt=Vt);let je=Oe;!s&&be&&re&&(je=Pe.clientWidth);let Ge;typeof V<"u"?Ge=V:Ge=m?null:0;const Fe=G.id||(T?`mui-component-select-${T}`:void 0),Le=ne({},e,{variant:F,value:W,open:Ht,error:y}),Gt=vj(Le),an=ne({},R.PaperProps,(r=R.slotProps)==null?void 0:r.paper),Qn=ZO();return K(O.Fragment,{children:[E(hj,ne({ref:Ve,tabIndex:Ge,role:"combobox","aria-controls":Qn,"aria-disabled":m?"true":void 0,"aria-expanded":Ht?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[S,Fe].filter(Boolean).join(" ")||void 0,"aria-describedby":a,onKeyDown:Jt,onMouseDown:m||$?null:Ce,onBlur:Ut,onFocus:M},G,{ownerState:Le,className:ht(G.className,Gt.select,c),id:Fe,children:gj(yt)?J3||(J3=E("span",{className:"notranslate",children:"​"})):yt})),E(mj,ne({"aria-invalid":y,value:Array.isArray(W)?W.join(","):W,name:T,ref:J,"aria-hidden":!0,onChange:st,tabIndex:-1,disabled:m,className:Gt.nativeInput,autoFocus:i,ownerState:Le},U)),E(pj,{as:b,className:Gt.icon,ownerState:Le}),E(YV,ne({id:`menu-${T||""}`,anchorEl:Pe,open:Ht,onClose:Ie,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},R,{MenuListProps:ne({"aria-labelledby":S,role:"listbox","aria-multiselectable":_?"true":void 0,disableListWrap:!0,id:Qn},R.MenuListProps),slotProps:ne({},R.slotProps,{paper:ne({},an,{style:ne({minWidth:je},an!=null?an.style:null)})}),children:$e}))]})}),bj=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],xj=["root"],wj=t=>{const{classes:e}=t;return e},d_={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>us(t)&&t!=="variant",slot:"Root"},Sj=pt(l_,d_)(""),_j=pt(c_,d_)(""),Cj=pt(s_,d_)(""),DD=O.forwardRef(function(e,n){const r=Tn({name:"MuiSelect",props:e}),{autoWidth:a=!1,children:o,classes:i={},className:s,defaultOpen:u=!1,displayEmpty:c=!1,IconComponent:f=D$,id:h,input:m,inputProps:g,label:y,labelId:b,MenuProps:x,multiple:S=!1,native:R=!1,onClose:_,onOpen:T,open:A,renderValue:D,SelectDisplayProps:N,variant:M="outlined"}=r,P=dt(r,bj),I=R?tj:yj,$=Xf(),z=Yf({props:r,muiFormControl:$,states:["variant","error"]}),G=z.variant||M,V=ne({},r,{variant:G,classes:i}),B=wj(V),F=dt(B,xj),U=m||{standard:E(Sj,{ownerState:V}),outlined:E(_j,{label:y,ownerState:V}),filled:E(Cj,{ownerState:V})}[G],W=ea(n,jm(U));return E(O.Fragment,{children:O.cloneElement(U,ne({inputComponent:I,inputProps:ne({children:o,error:z.error,IconComponent:f,variant:G,type:void 0,multiple:S},R?{id:h}:{autoWidth:a,defaultOpen:u,displayEmpty:c,labelId:b,MenuProps:x,onClose:_,onOpen:T,open:A,renderValue:D,SelectDisplayProps:ne({id:h},N)},g,{classes:g?ja(F,g.classes):F},m?m.props.inputProps:{})},(S&&R||c)&&G==="outlined"?{notched:!0}:{},{ref:W,className:ht(U.props.className,s,B.root)},!m&&{variant:G},P))})});DD.muiName="Select";function Ej(t){return En("MuiTextField",t)}yn("MuiTextField",["root"]);const Tj=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Rj={standard:l_,filled:s_,outlined:c_},Aj=t=>{const{classes:e}=t;return Nn({root:["root"]},Ej,e)},kj=pt(qU,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Nj=O.forwardRef(function(e,n){const r=Tn({props:e,name:"MuiTextField"}),{autoComplete:a,autoFocus:o=!1,children:i,className:s,color:u="primary",defaultValue:c,disabled:f=!1,error:h=!1,FormHelperTextProps:m,fullWidth:g=!1,helperText:y,id:b,InputLabelProps:x,inputProps:S,InputProps:R,inputRef:_,label:T,maxRows:A,minRows:D,multiline:N=!1,name:M,onBlur:P,onChange:I,onFocus:$,placeholder:z,required:G=!1,rows:V,select:B=!1,SelectProps:F,type:U,value:W,variant:Q="outlined"}=r,q=dt(r,Tj),le=ne({},r,{autoFocus:o,color:u,disabled:f,error:h,fullWidth:g,multiline:N,required:G,select:B,variant:Q}),J=Aj(le),oe={};Q==="outlined"&&(x&&typeof x.shrink<"u"&&(oe.notched=x.shrink),oe.label=T),B&&((!F||!F.native)&&(oe.id=void 0),oe["aria-describedby"]=void 0);const re=ZO(b),we=y&&re?`${re}-helper-text`:void 0,be=T&&re?`${re}-label`:void 0,Oe=Rj[Q],pe=E(Oe,ne({"aria-describedby":we,autoComplete:a,autoFocus:o,defaultValue:c,fullWidth:g,multiline:N,name:M,rows:V,maxRows:A,minRows:D,type:U,value:W,id:re,inputRef:_,onBlur:P,onChange:I,onFocus:$,placeholder:z,inputProps:S},oe,R));return K(kj,ne({className:ht(J.root,s),disabled:f,error:h,fullWidth:g,ref:n,required:G,color:u,variant:Q,ownerState:le},q,{children:[T!=null&&T!==""&&E(pV,ne({htmlFor:re,id:be},x,{children:T})),B?E(DD,ne({"aria-describedby":we,id:re,labelId:be,value:W,input:pe},F,{children:i})):pe,y&&E(QU,ne({id:we},m,{children:y}))]}))}),Oj=t=>({...t==="dark"?{grey:{100:"#e0e0e0",200:"#c2c2c2",300:"#a3a3a3",400:"#858585",500:"#666666",600:"#525252",700:"#3d3d3d",800:"#292929",900:"#141414"},primary:{100:"#d0d1d5",200:"#a1a4ab",300:"#727681",400:"#1F2A40",500:"#141b2d",600:"#101624",700:"#0c101b",800:"#080b12",900:"#040509"},greenAccent:{100:"#dbf5ee",200:"#b7ebde",300:"#94e2cd",400:"#70d8bd",500:"#4cceac",600:"#3da58a",700:"#2e7c67",800:"#1e5245",900:"#0f2922"},redAccent:{100:"#f8dcdb",200:"#f1b9b7",300:"#e99592",400:"#e2726e",500:"#db4f4a",600:"#af3f3b",700:"#832f2c",800:"#58201e",900:"#2c100f"},blueAccent:{100:"#e1e2fe",200:"#c3c6fd",300:"#a4a9fc",400:"#868dfb",500:"#6870fa",600:"#535ac8",700:"#3e4396",800:"#2a2d64",900:"#151632"}}:{grey:{100:"#141414",200:"#292929",300:"#3d3d3d",400:"#525252",500:"#666666",600:"#858585",700:"#a3a3a3",800:"#c2c2c2",900:"#e0e0e0"},primary:{100:"#040509",200:"#080b12",300:"#0c101b",400:"#f2f0f0",500:"#141b2d",600:"#1F2A40",700:"#727681",800:"#a1a4ab",900:"#d0d1d5"},greenAccent:{100:"#0f2922",200:"#1e5245",300:"#2e7c67",400:"#3da58a",500:"#4cceac",600:"#70d8bd",700:"#94e2cd",800:"#b7ebde",900:"#dbf5ee"},redAccent:{100:"#2c100f",200:"#58201e",300:"#832f2c",400:"#af3f3b",500:"#db4f4a",600:"#e2726e",700:"#e99592",800:"#f1b9b7",900:"#f8dcdb"},blueAccent:{100:"#151632",200:"#2a2d64",300:"#3e4396",400:"#535ac8",500:"#6870fa",600:"#868dfb",700:"#a4a9fc",800:"#c3c6fd",900:"#e1e2fe"}}}),Dj=t=>{const e=Oj(t);return{palette:{mode:t,...t==="dark"?{primary:{main:e.primary[500]},secondary:{main:e.greenAccent[500]},neutral:{dark:e.grey[700],main:e.grey[500],light:e.grey[100]},background:{default:e.primary[500]}}:{primary:{main:e.primary[900]},secondary:{main:e.greenAccent[500]},neutral:{dark:e.grey[900],main:e.grey[500],light:e.grey[900]},background:{default:"#fcfcfc"}}},typography:{fontFamily:["Source Sans Pro","sans-serif"].join(","),fontSize:24,h1:{fontFamily:["Source Sans Pro","sans-serif"].join(","),fontSize:50},h2:{fontFamily:["Source Sans Pro","sans-serif"].join(","),fontSize:42},h3:{fontFamily:["Source Sans Pro","sans-serif"].join(","),fontSize:34},h4:{fontFamily:["Source Sans Pro","sans-serif"].join(","),fontSize:30},h5:{fontFamily:["Source Sans Pro","sans-serif"].join(","),fontSize:26},h6:{fontFamily:["Source Sans Pro","sans-serif"].join(","),fontSize:24}}}},Mj=O.createContext({toggleColorMode:()=>{}}),Pj=()=>{const[t,e]=O.useState("light"),n=O.useMemo(()=>({toggleColorMode:()=>e(a=>a==="light"?"dark":"light")}),[]);return[O.useMemo(()=>KS(Dj(t)),[t]),n]};var j0={exports:{}},Ij=j0.exports,tR;function Lj(){return tR||(tR=1,function(t,e){(function(n,r){t.exports=r()})(Ij,function(){return function(n){function r(o){if(a[o])return a[o].exports;var i=a[o]={exports:{},id:o,loaded:!1};return n[o].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}var a={};return r.m=n,r.c=a,r.p="dist/",r(0)}([function(n,r,a){function o(V){return V&&V.__esModule?V:{default:V}}var i=Object.assign||function(V){for(var B=1;B<arguments.length;B++){var F=arguments[B];for(var U in F)Object.prototype.hasOwnProperty.call(F,U)&&(V[U]=F[U])}return V},s=a(1),u=(o(s),a(6)),c=o(u),f=a(7),h=o(f),m=a(8),g=o(m),y=a(9),b=o(y),x=a(10),S=o(x),R=a(11),_=o(R),T=a(14),A=o(T),D=[],N=!1,M={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},P=function(){var V=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(V&&(N=!0),N)return D=(0,_.default)(D,M),(0,S.default)(D,M.once),D},I=function(){D=(0,A.default)(),P()},$=function(){D.forEach(function(V,B){V.node.removeAttribute("data-aos"),V.node.removeAttribute("data-aos-easing"),V.node.removeAttribute("data-aos-duration"),V.node.removeAttribute("data-aos-delay")})},z=function(V){return V===!0||V==="mobile"&&b.default.mobile()||V==="phone"&&b.default.phone()||V==="tablet"&&b.default.tablet()||typeof V=="function"&&V()===!0},G=function(V){M=i(M,V),D=(0,A.default)();var B=document.all&&!window.atob;return z(M.disable)||B?$():(M.disableMutationObserver||g.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),M.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",M.easing),document.querySelector("body").setAttribute("data-aos-duration",M.duration),document.querySelector("body").setAttribute("data-aos-delay",M.delay),M.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?P(!0):M.startEvent==="load"?window.addEventListener(M.startEvent,function(){P(!0)}):document.addEventListener(M.startEvent,function(){P(!0)}),window.addEventListener("resize",(0,h.default)(P,M.debounceDelay,!0)),window.addEventListener("orientationchange",(0,h.default)(P,M.debounceDelay,!0)),window.addEventListener("scroll",(0,c.default)(function(){(0,S.default)(D,M.once)},M.throttleDelay)),M.disableMutationObserver||g.default.ready("[data-aos]",I),D)};n.exports={init:G,refresh:P,refreshHard:I}},function(n,r){},,,,,function(n,r){(function(a){function o(z,G,V){function B(Ie){var Ue=re,st=we;return re=we=void 0,Ve=Ie,Oe=z.apply(st,Ue)}function F(Ie){return Ve=Ie,pe=setTimeout(Q,G),Pe?B(Ie):Oe}function U(Ie){var Ue=Ie-De,st=Ie-Ve,mt=G-Ue;return ze?I(mt,be-st):mt}function W(Ie){var Ue=Ie-De,st=Ie-Ve;return De===void 0||Ue>=G||Ue<0||ze&&st>=be}function Q(){var Ie=$();return W(Ie)?q(Ie):void(pe=setTimeout(Q,U(Ie)))}function q(Ie){return pe=void 0,Ce&&re?B(Ie):(re=we=void 0,Oe)}function le(){pe!==void 0&&clearTimeout(pe),Ve=0,re=De=we=pe=void 0}function J(){return pe===void 0?Oe:q($())}function oe(){var Ie=$(),Ue=W(Ie);if(re=arguments,we=this,De=Ie,Ue){if(pe===void 0)return F(De);if(ze)return pe=setTimeout(Q,G),B(De)}return pe===void 0&&(pe=setTimeout(Q,G)),Oe}var re,we,be,Oe,pe,De,Ve=0,Pe=!1,ze=!1,Ce=!0;if(typeof z!="function")throw new TypeError(m);return G=f(G)||0,s(V)&&(Pe=!!V.leading,ze="maxWait"in V,be=ze?P(f(V.maxWait)||0,G):be,Ce="trailing"in V?!!V.trailing:Ce),oe.cancel=le,oe.flush=J,oe}function i(z,G,V){var B=!0,F=!0;if(typeof z!="function")throw new TypeError(m);return s(V)&&(B="leading"in V?!!V.leading:B,F="trailing"in V?!!V.trailing:F),o(z,G,{leading:B,maxWait:G,trailing:F})}function s(z){var G=typeof z>"u"?"undefined":h(z);return!!z&&(G=="object"||G=="function")}function u(z){return!!z&&(typeof z>"u"?"undefined":h(z))=="object"}function c(z){return(typeof z>"u"?"undefined":h(z))=="symbol"||u(z)&&M.call(z)==y}function f(z){if(typeof z=="number")return z;if(c(z))return g;if(s(z)){var G=typeof z.valueOf=="function"?z.valueOf():z;z=s(G)?G+"":G}if(typeof z!="string")return z===0?z:+z;z=z.replace(b,"");var V=S.test(z);return V||R.test(z)?_(z.slice(2),V?2:8):x.test(z)?g:+z}var h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},m="Expected a function",g=NaN,y="[object Symbol]",b=/^\s+|\s+$/g,x=/^[-+]0x[0-9a-f]+$/i,S=/^0b[01]+$/i,R=/^0o[0-7]+$/i,_=parseInt,T=(typeof a>"u"?"undefined":h(a))=="object"&&a&&a.Object===Object&&a,A=(typeof self>"u"?"undefined":h(self))=="object"&&self&&self.Object===Object&&self,D=T||A||Function("return this")(),N=Object.prototype,M=N.toString,P=Math.max,I=Math.min,$=function(){return D.Date.now()};n.exports=i}).call(r,function(){return this}())},function(n,r){(function(a){function o($,z,G){function V(Ce){var Ie=oe,Ue=re;return oe=re=void 0,De=Ce,be=$.apply(Ue,Ie)}function B(Ce){return De=Ce,Oe=setTimeout(W,z),Ve?V(Ce):be}function F(Ce){var Ie=Ce-pe,Ue=Ce-De,st=z-Ie;return Pe?P(st,we-Ue):st}function U(Ce){var Ie=Ce-pe,Ue=Ce-De;return pe===void 0||Ie>=z||Ie<0||Pe&&Ue>=we}function W(){var Ce=I();return U(Ce)?Q(Ce):void(Oe=setTimeout(W,F(Ce)))}function Q(Ce){return Oe=void 0,ze&&oe?V(Ce):(oe=re=void 0,be)}function q(){Oe!==void 0&&clearTimeout(Oe),De=0,oe=pe=re=Oe=void 0}function le(){return Oe===void 0?be:Q(I())}function J(){var Ce=I(),Ie=U(Ce);if(oe=arguments,re=this,pe=Ce,Ie){if(Oe===void 0)return B(pe);if(Pe)return Oe=setTimeout(W,z),V(pe)}return Oe===void 0&&(Oe=setTimeout(W,z)),be}var oe,re,we,be,Oe,pe,De=0,Ve=!1,Pe=!1,ze=!0;if(typeof $!="function")throw new TypeError(h);return z=c(z)||0,i(G)&&(Ve=!!G.leading,Pe="maxWait"in G,we=Pe?M(c(G.maxWait)||0,z):we,ze="trailing"in G?!!G.trailing:ze),J.cancel=q,J.flush=le,J}function i($){var z=typeof $>"u"?"undefined":f($);return!!$&&(z=="object"||z=="function")}function s($){return!!$&&(typeof $>"u"?"undefined":f($))=="object"}function u($){return(typeof $>"u"?"undefined":f($))=="symbol"||s($)&&N.call($)==g}function c($){if(typeof $=="number")return $;if(u($))return m;if(i($)){var z=typeof $.valueOf=="function"?$.valueOf():$;$=i(z)?z+"":z}if(typeof $!="string")return $===0?$:+$;$=$.replace(y,"");var G=x.test($);return G||S.test($)?R($.slice(2),G?2:8):b.test($)?m:+$}var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},h="Expected a function",m=NaN,g="[object Symbol]",y=/^\s+|\s+$/g,b=/^[-+]0x[0-9a-f]+$/i,x=/^0b[01]+$/i,S=/^0o[0-7]+$/i,R=parseInt,_=(typeof a>"u"?"undefined":f(a))=="object"&&a&&a.Object===Object&&a,T=(typeof self>"u"?"undefined":f(self))=="object"&&self&&self.Object===Object&&self,A=_||T||Function("return this")(),D=Object.prototype,N=D.toString,M=Math.max,P=Math.min,I=function(){return A.Date.now()};n.exports=o}).call(r,function(){return this}())},function(n,r){function a(f){var h=void 0,m=void 0;for(h=0;h<f.length;h+=1)if(m=f[h],m.dataset&&m.dataset.aos||m.children&&a(m.children))return!0;return!1}function o(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function i(){return!!o()}function s(f,h){var m=window.document,g=o(),y=new g(u);c=h,y.observe(m.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function u(f){f&&f.forEach(function(h){var m=Array.prototype.slice.call(h.addedNodes),g=Array.prototype.slice.call(h.removedNodes),y=m.concat(g);if(a(y))return c()})}Object.defineProperty(r,"__esModule",{value:!0});var c=function(){};r.default={isSupported:i,ready:s}},function(n,r){function a(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function o(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function m(g,y){for(var b=0;b<y.length;b++){var x=y[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,y,b){return y&&m(g.prototype,y),b&&m(g,b),g}}(),s=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,u=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,c=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,f=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,h=function(){function m(){a(this,m)}return i(m,[{key:"phone",value:function(){var g=o();return!(!s.test(g)&&!u.test(g.substr(0,4)))}},{key:"mobile",value:function(){var g=o();return!(!c.test(g)&&!f.test(g.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),m}();r.default=new h},function(n,r){Object.defineProperty(r,"__esModule",{value:!0});var a=function(i,s,u){var c=i.node.getAttribute("data-aos-once");s>i.position?i.node.classList.add("aos-animate"):typeof c<"u"&&(c==="false"||!u&&c!=="true")&&i.node.classList.remove("aos-animate")},o=function(i,s){var u=window.pageYOffset,c=window.innerHeight;i.forEach(function(f,h){a(f,c+u,s)})};r.default=o},function(n,r,a){function o(c){return c&&c.__esModule?c:{default:c}}Object.defineProperty(r,"__esModule",{value:!0});var i=a(12),s=o(i),u=function(c,f){return c.forEach(function(h,m){h.node.classList.add("aos-init"),h.position=(0,s.default)(h.node,f.offset)}),c};r.default=u},function(n,r,a){function o(c){return c&&c.__esModule?c:{default:c}}Object.defineProperty(r,"__esModule",{value:!0});var i=a(13),s=o(i),u=function(c,f){var h=0,m=0,g=window.innerHeight,y={offset:c.getAttribute("data-aos-offset"),anchor:c.getAttribute("data-aos-anchor"),anchorPlacement:c.getAttribute("data-aos-anchor-placement")};switch(y.offset&&!isNaN(y.offset)&&(m=parseInt(y.offset)),y.anchor&&document.querySelectorAll(y.anchor)&&(c=document.querySelectorAll(y.anchor)[0]),h=(0,s.default)(c).top,y.anchorPlacement){case"top-bottom":break;case"center-bottom":h+=c.offsetHeight/2;break;case"bottom-bottom":h+=c.offsetHeight;break;case"top-center":h+=g/2;break;case"bottom-center":h+=g/2+c.offsetHeight;break;case"center-center":h+=g/2+c.offsetHeight/2;break;case"top-top":h+=g;break;case"bottom-top":h+=c.offsetHeight+g;break;case"center-top":h+=c.offsetHeight/2+g}return y.anchorPlacement||y.offset||isNaN(f)||(m=f),h+m};r.default=u},function(n,r){Object.defineProperty(r,"__esModule",{value:!0});var a=function(o){for(var i=0,s=0;o&&!isNaN(o.offsetLeft)&&!isNaN(o.offsetTop);)i+=o.offsetLeft-(o.tagName!="BODY"?o.scrollLeft:0),s+=o.offsetTop-(o.tagName!="BODY"?o.scrollTop:0),o=o.offsetParent;return{top:s,left:i}};r.default=a},function(n,r){Object.defineProperty(r,"__esModule",{value:!0});var a=function(o){return o=o||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(o,function(i){return{node:i}})};r.default=a}])})}(j0)),j0.exports}var Fj=Lj();const Bj=$o(Fj);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MD=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $j={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=O.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:i,...s},u)=>O.createElement("svg",{ref:u,...$j,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:MD("lucide",a),...s},[...i.map(([c,f])=>O.createElement(c,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=(t,e)=>{const n=O.forwardRef(({className:r,...a},o)=>O.createElement(Uj,{ref:o,iconNode:e,className:MD(`lucide-${zj(t)}`,r),...a}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],jj=rl("Award",Vj);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Hj=rl("Bell",Wj);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],nR=rl("ChartNoAxesColumn",qj);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Kj=rl("CircleAlert",Gj);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],rR=rl("CircleCheckBig",Yj);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Qj=rl("Clock",Xj);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Jj=rl("Timer",Zj);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eW=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],aR=rl("Volume2",eW);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tW=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],oR=rl("VolumeX",tW);let iu=null;const nu={};function nW(t){iu&&(iu.close(),iu=null);const e=window.location.protocol==="https:"?"wss:":"ws:",n=window.location.hostname,r=window.location.port,a=`${e}//${n}:${r}/ws`;console.log("▶️ Connecting WebSocket to",a);const o=new WebSocket(a);iu=o;let i=null;return o.onopen=async()=>{console.log("✅ WebSocket connected"),i=setInterval(()=>{o.readyState===WebSocket.OPEN&&rW("ping")},5e3)},o.onmessage=s=>{let u;try{u=JSON.parse(s.data)}catch(f){console.error("❌ WS parse error:",f);return}(nu[u.type]||[]).forEach(f=>{try{f(u.payload)}catch(h){console.error(`❌ WS handler for "${u.type}" threw:`,h)}})},o.onerror=s=>{console.error("⚠️ WebSocket error:",s)},o.onclose=()=>{console.log("❌ WebSocket closed"),clearInterval(i)},()=>{clearInterval(i),o.close(),iu=null}}function rW(t,e){if(!iu||iu.readyState!==WebSocket.OPEN)return console.error("⚠️ WebSocket not connected; cannot send",t,e),!1;const n={type:t,payload:e};return iu.send(JSON.stringify(n)),!0}function aW(t,e){return nu[t]||(nu[t]=[]),nu[t].push(e),()=>{nu[t]=nu[t].filter(n=>n!==e),nu[t].length===0&&delete nu[t]}}function oW(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}oW(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var qm=t=>typeof t=="number"&&!isNaN(t),Lc=t=>typeof t=="string",Js=t=>typeof t=="function",iW=t=>Lc(t)||qm(t),xw=t=>Lc(t)||Js(t)?t:null,sW=(t,e)=>t===!1||qm(t)&&t>0?t:e,ww=t=>O.isValidElement(t)||Lc(t)||Js(t)||qm(t);function lW(t,e,n=300){let{scrollHeight:r,style:a}=t;requestAnimationFrame(()=>{a.minHeight="initial",a.height=r+"px",a.transition=`all ${n}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(e,n)})})}function uW({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:a=300}){return function({children:o,position:i,preventExitTransition:s,done:u,nodeRef:c,isIn:f,playToast:h}){let m=n?`${t}--${i}`:t,g=n?`${e}--${i}`:e,y=O.useRef(0);return O.useLayoutEffect(()=>{let b=c.current,x=m.split(" "),S=R=>{R.target===c.current&&(h(),b.removeEventListener("animationend",S),b.removeEventListener("animationcancel",S),y.current===0&&R.type!=="animationcancel"&&b.classList.remove(...x))};b.classList.add(...x),b.addEventListener("animationend",S),b.addEventListener("animationcancel",S)},[]),O.useEffect(()=>{let b=c.current,x=()=>{b.removeEventListener("animationend",x),r?lW(b,u,a):u()};f||(s?x():(y.current=1,b.className+=` ${g}`,b.addEventListener("animationend",x)))},[f]),gt.createElement(gt.Fragment,null,o)}}function iR(t,e){return{content:PD(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function PD(t,e,n=!1){return O.isValidElement(t)&&!Lc(t.type)?O.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):Js(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function cW({closeToast:t,theme:e,ariaLabel:n="close"}){return gt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},gt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},gt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function dW({delay:t,isRunning:e,closeToast:n,type:r="default",hide:a,className:o,controlledProgress:i,progress:s,rtl:u,isIn:c,theme:f}){let h=a||i&&s===0,m={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};i&&(m.transform=`scaleX(${s})`);let g=ht("Toastify__progress-bar",i?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":u}),y=Js(o)?o({rtl:u,type:r,defaultClassName:g}):ht(g,o),b={[i&&s>=1?"onTransitionEnd":"onAnimationEnd"]:i&&s<1?null:()=>{c&&n()}};return gt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":h},gt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${r}`}),gt.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:y,style:m,...b}))}var fW=1,ID=()=>`${fW++}`;function hW(t,e,n){let r=1,a=0,o=[],i=[],s=e,u=new Map,c=new Set,f=R=>(c.add(R),()=>c.delete(R)),h=()=>{i=Array.from(u.values()),c.forEach(R=>R())},m=({containerId:R,toastId:_,updateId:T})=>{let A=R?R!==t:t!==1,D=u.has(_)&&T==null;return A||D},g=(R,_)=>{u.forEach(T=>{var A;(_==null||_===T.props.toastId)&&((A=T.toggle)==null||A.call(T,R))})},y=R=>{var _,T;(T=(_=R.props)==null?void 0:_.onClose)==null||T.call(_,R.removalReason),R.isActive=!1},b=R=>{if(R==null)u.forEach(y);else{let _=u.get(R);_&&y(_)}h()},x=()=>{a-=o.length,o=[]},S=R=>{var _,T;let{toastId:A,updateId:D}=R.props,N=D==null;R.staleId&&u.delete(R.staleId),R.isActive=!0,u.set(A,R),h(),n(iR(R,N?"added":"updated")),N&&((T=(_=R.props).onOpen)==null||T.call(_))};return{id:t,props:s,observe:f,toggle:g,removeToast:b,toasts:u,clearQueue:x,buildToast:(R,_)=>{if(m(_))return;let{toastId:T,updateId:A,data:D,staleId:N,delay:M}=_,P=A==null;P&&a++;let I={...s,style:s.toastStyle,key:r++,...Object.fromEntries(Object.entries(_).filter(([z,G])=>G!=null)),toastId:T,updateId:A,data:D,isIn:!1,className:xw(_.className||s.toastClassName),progressClassName:xw(_.progressClassName||s.progressClassName),autoClose:_.isLoading?!1:sW(_.autoClose,s.autoClose),closeToast(z){u.get(T).removalReason=z,b(T)},deleteToast(){let z=u.get(T);if(z!=null){if(n(iR(z,"removed")),u.delete(T),a--,a<0&&(a=0),o.length>0){S(o.shift());return}h()}}};I.closeButton=s.closeButton,_.closeButton===!1||ww(_.closeButton)?I.closeButton=_.closeButton:_.closeButton===!0&&(I.closeButton=ww(s.closeButton)?s.closeButton:!0);let $={content:R,props:I,staleId:N};s.limit&&s.limit>0&&a>s.limit&&P?o.push($):qm(M)?setTimeout(()=>{S($)},M):S($)},setProps(R){s=R},setToggle:(R,_)=>{let T=u.get(R);T&&(T.toggle=_)},isToastActive:R=>{var _;return(_=u.get(R))==null?void 0:_.isActive},getSnapshot:()=>i}}var Oa=new Map,fm=[],Sw=new Set,pW=t=>Sw.forEach(e=>e(t)),LD=()=>Oa.size>0;function mW(){fm.forEach(t=>BD(t.content,t.options)),fm=[]}var gW=(t,{containerId:e})=>{var n;return(n=Oa.get(e||1))==null?void 0:n.toasts.get(t)};function FD(t,e){var n;if(e)return!!((n=Oa.get(e))!=null&&n.isToastActive(t));let r=!1;return Oa.forEach(a=>{a.isToastActive(t)&&(r=!0)}),r}function vW(t){if(!LD()){fm=fm.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||iW(t))Oa.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=Oa.get(t.containerId);e?e.removeToast(t.id):Oa.forEach(n=>{n.removeToast(t.id)})}}var yW=(t={})=>{Oa.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function BD(t,e){ww(t)&&(LD()||fm.push({content:t,options:e}),Oa.forEach(n=>{n.buildToast(t,e)}))}function bW(t){var e;(e=Oa.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function zD(t,e){Oa.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function xW(t){let e=t.containerId||1;return{subscribe(n){let r=hW(e,t,pW);Oa.set(e,r);let a=r.observe(n);return mW(),()=>{a(),Oa.delete(e)}},setProps(n){var r;(r=Oa.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=Oa.get(e))==null?void 0:n.getSnapshot()}}}function wW(t){return Sw.add(t),()=>{Sw.delete(t)}}function SW(t){return t&&(Lc(t.toastId)||qm(t.toastId))?t.toastId:ID()}function Gm(t,e){return BD(t,e),e.toastId}function xb(t,e){return{...e,type:e&&e.type||t,toastId:SW(e)}}function wb(t){return(e,n)=>Gm(e,xb(t,n))}function An(t,e){return Gm(t,xb("default",e))}An.loading=(t,e)=>Gm(t,xb("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function _W(t,{pending:e,error:n,success:r},a){let o;e&&(o=Lc(e)?An.loading(e,a):An.loading(e.render,{...a,...e}));let i={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},s=(c,f,h)=>{if(f==null){An.dismiss(o);return}let m={type:c,...i,...a,data:h},g=Lc(f)?{render:f}:f;return o?An.update(o,{...m,...g}):An(g.render,{...m,...g}),h},u=Js(t)?t():t;return u.then(c=>s("success",r,c)).catch(c=>s("error",n,c)),u}An.promise=_W;An.success=wb("success");An.info=wb("info");An.error=wb("error");An.warning=wb("warning");An.warn=An.warning;An.dark=(t,e)=>Gm(t,xb("default",{theme:"dark",...e}));function CW(t){vW(t)}An.dismiss=CW;An.clearWaitingQueue=yW;An.isActive=FD;An.update=(t,e={})=>{let n=gW(t,e);if(n){let{props:r,content:a}=n,o={delay:100,...r,...e,toastId:e.toastId||t,updateId:ID()};o.toastId!==t&&(o.staleId=t);let i=o.render||a;delete o.render,Gm(i,o)}};An.done=t=>{An.update(t,{progress:1})};An.onChange=wW;An.play=t=>zD(!0,t);An.pause=t=>zD(!1,t);function EW(t){var e;let{subscribe:n,getSnapshot:r,setProps:a}=O.useRef(xW(t)).current;a(t);let o=(e=O.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function i(s){if(!o)return[];let u=new Map;return t.newestOnTop&&o.reverse(),o.forEach(c=>{let{position:f}=c.props;u.has(f)||u.set(f,[]),u.get(f).push(c)}),Array.from(u,c=>s(c[0],c[1]))}return{getToastToRender:i,isToastActive:FD,count:o==null?void 0:o.length}}function TW(t){let[e,n]=O.useState(!1),[r,a]=O.useState(!1),o=O.useRef(null),i=O.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:s,pauseOnHover:u,closeToast:c,onClick:f,closeOnClick:h}=t;bW({id:t.toastId,containerId:t.containerId,fn:n}),O.useEffect(()=>{if(t.pauseOnFocusLoss)return m(),()=>{g()}},[t.pauseOnFocusLoss]);function m(){document.hasFocus()||S(),window.addEventListener("focus",x),window.addEventListener("blur",S)}function g(){window.removeEventListener("focus",x),window.removeEventListener("blur",S)}function y(N){if(t.draggable===!0||t.draggable===N.pointerType){R();let M=o.current;i.canCloseOnClick=!0,i.canDrag=!0,M.style.transition="none",t.draggableDirection==="x"?(i.start=N.clientX,i.removalDistance=M.offsetWidth*(t.draggablePercent/100)):(i.start=N.clientY,i.removalDistance=M.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function b(N){let{top:M,bottom:P,left:I,right:$}=o.current.getBoundingClientRect();N.nativeEvent.type!=="touchend"&&t.pauseOnHover&&N.clientX>=I&&N.clientX<=$&&N.clientY>=M&&N.clientY<=P?S():x()}function x(){n(!0)}function S(){n(!1)}function R(){i.didMove=!1,document.addEventListener("pointermove",T),document.addEventListener("pointerup",A)}function _(){document.removeEventListener("pointermove",T),document.removeEventListener("pointerup",A)}function T(N){let M=o.current;if(i.canDrag&&M){i.didMove=!0,e&&S(),t.draggableDirection==="x"?i.delta=N.clientX-i.start:i.delta=N.clientY-i.start,i.start!==N.clientX&&(i.canCloseOnClick=!1);let P=t.draggableDirection==="x"?`${i.delta}px, var(--y)`:`0, calc(${i.delta}px + var(--y))`;M.style.transform=`translate3d(${P},0)`,M.style.opacity=`${1-Math.abs(i.delta/i.removalDistance)}`}}function A(){_();let N=o.current;if(i.canDrag&&i.didMove&&N){if(i.canDrag=!1,Math.abs(i.delta)>i.removalDistance){a(!0),t.closeToast(!0),t.collapseAll();return}N.style.transition="transform 0.2s, opacity 0.2s",N.style.removeProperty("transform"),N.style.removeProperty("opacity")}}let D={onPointerDown:y,onPointerUp:b};return s&&u&&(D.onMouseEnter=S,t.stacked||(D.onMouseLeave=x)),h&&(D.onClick=N=>{f&&f(N),i.canCloseOnClick&&c(!0)}),{playToast:x,pauseToast:S,isRunning:e,preventExitTransition:r,toastRef:o,eventHandlers:D}}var RW=typeof window<"u"?O.useLayoutEffect:O.useEffect,Sb=({theme:t,type:e,isLoading:n,...r})=>gt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function AW(t){return gt.createElement(Sb,{...t},gt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function kW(t){return gt.createElement(Sb,{...t},gt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function NW(t){return gt.createElement(Sb,{...t},gt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function OW(t){return gt.createElement(Sb,{...t},gt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function DW(){return gt.createElement("div",{className:"Toastify__spinner"})}var _w={info:kW,warning:AW,success:NW,error:OW,spinner:DW},MW=t=>t in _w;function PW({theme:t,type:e,isLoading:n,icon:r}){let a=null,o={theme:t,type:e};return r===!1||(Js(r)?a=r({...o,isLoading:n}):O.isValidElement(r)?a=O.cloneElement(r,o):n?a=_w.spinner():MW(e)&&(a=_w[e](o))),a}var IW=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:a,playToast:o}=TW(t),{closeButton:i,children:s,autoClose:u,onClick:c,type:f,hideProgressBar:h,closeToast:m,transition:g,position:y,className:b,style:x,progressClassName:S,updateId:R,role:_,progress:T,rtl:A,toastId:D,deleteToast:N,isIn:M,isLoading:P,closeOnClick:I,theme:$,ariaLabel:z}=t,G=ht("Toastify__toast",`Toastify__toast-theme--${$}`,`Toastify__toast--${f}`,{"Toastify__toast--rtl":A},{"Toastify__toast--close-on-click":I}),V=Js(b)?b({rtl:A,position:y,type:f,defaultClassName:G}):ht(G,b),B=PW(t),F=!!T||!u,U={closeToast:m,type:f,theme:$},W=null;return i===!1||(Js(i)?W=i(U):O.isValidElement(i)?W=O.cloneElement(i,U):W=cW(U)),gt.createElement(g,{isIn:M,done:N,position:y,preventExitTransition:n,nodeRef:r,playToast:o},gt.createElement("div",{id:D,tabIndex:0,onClick:c,"data-in":M,className:V,...a,style:x,ref:r,...M&&{role:_,"aria-label":z}},B!=null&&gt.createElement("div",{className:ht("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!P})},B),PD(s,t,!e),W,!t.customProgressBar&&gt.createElement(dW,{...R&&!F?{key:`p-${R}`}:{},rtl:A,theme:$,delay:u,isRunning:e,isIn:M,closeToast:m,hide:h,type:f,className:S,controlledProgress:F,progress:T||0})))},LW=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),FW=uW(LW("bounce",!0)),BW={position:"top-right",transition:FW,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function zW(t){let e={...BW,...t},n=t.stacked,[r,a]=O.useState(!0),o=O.useRef(null),{getToastToRender:i,isToastActive:s,count:u}=EW(e),{className:c,style:f,rtl:h,containerId:m,hotKeys:g}=e;function y(x){let S=ht("Toastify__toast-container",`Toastify__toast-container--${x}`,{"Toastify__toast-container--rtl":h});return Js(c)?c({position:x,rtl:h,defaultClassName:S}):ht(S,xw(c))}function b(){n&&(a(!0),An.play())}return RW(()=>{var x;if(n){let S=o.current.querySelectorAll('[data-in="true"]'),R=12,_=(x=e.position)==null?void 0:x.includes("top"),T=0,A=0;Array.from(S).reverse().forEach((D,N)=>{let M=D;M.classList.add("Toastify__toast--stacked"),N>0&&(M.dataset.collapsed=`${r}`),M.dataset.pos||(M.dataset.pos=_?"top":"bot");let P=T*(r?.2:1)+(r?0:R*N);M.style.setProperty("--y",`${_?P:P*-1}px`),M.style.setProperty("--g",`${R}`),M.style.setProperty("--s",`${1-(r?A:0)}`),T+=M.offsetHeight,A+=.025})}},[r,u,n]),O.useEffect(()=>{function x(S){var R;let _=o.current;g(S)&&((R=_.querySelector('[tabIndex="0"]'))==null||R.focus(),a(!1),An.pause()),S.key==="Escape"&&(document.activeElement===_||_!=null&&_.contains(document.activeElement))&&(a(!0),An.play())}return document.addEventListener("keydown",x),()=>{document.removeEventListener("keydown",x)}},[g]),gt.createElement("section",{ref:o,className:"Toastify",id:m,onMouseEnter:()=>{n&&(a(!1),An.pause())},onMouseLeave:b,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},i((x,S)=>{let R=S.length?{...f}:{...f,pointerEvents:"none"};return gt.createElement("div",{tabIndex:-1,className:y(x),"data-stacked":n,style:R,key:`c-${x}`},S.map(({content:_,props:T})=>gt.createElement(IW,{...T,stacked:n,collapseAll:b,isIn:s(T.toastId,T.containerId),key:`t-${T.key}`},_)))}))}const $W="../assets/reminder.mp3",$D=O.createContext({notifications:[],markAsSeen:()=>{}});function UW({children:t}){const[e,n]=O.useState([]);O.useEffect(()=>{const a=nW(),o=aW("events:ready",i=>{const s={id:i.id,title:i.title,start:i.start,seen:!1};n(u=>[s,...u]),new Audio($W).play().catch(()=>{})});return()=>{o(),a()}},[]);const r=async a=>{n(o=>o.map(i=>i.id===a?{...i,seen:!0}:i));try{await fetch(`/api/events/${a}/read`,{method:"PATCH",credentials:"include"})}catch(o){console.error("Failed to mark notification as seen",o)}};return E($D.Provider,{value:{notifications:e,markAsSeen:r},children:t})}function VW(){return O.useContext($D)}const UD=6048e5,jW=864e5,VD=6e4,jD=36e5,Yfe=1e3,a0=43200,sR=1440,lR=Symbol.for("constructDateFrom");function is(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&lR in t?t[lR](e):t instanceof Date?new t.constructor(e):new Date(e)}function br(t,e){return is(e||t,t)}let WW={};function Km(){return WW}function hm(t,e){var s,u,c,f;const n=Km(),r=(e==null?void 0:e.weekStartsOn)??((u=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((f=(c=n.locale)==null?void 0:c.options)==null?void 0:f.weekStartsOn)??0,a=br(t,e==null?void 0:e.in),o=a.getDay(),i=(o<r?7:0)+o-r;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function fy(t,e){return hm(t,{...e,weekStartsOn:1})}function WD(t,e){const n=br(t,e==null?void 0:e.in),r=n.getFullYear(),a=is(n,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const o=fy(a),i=is(n,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const s=fy(i);return n.getTime()>=o.getTime()?r+1:n.getTime()>=s.getTime()?r:r-1}function hy(t){const e=br(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function _b(t,...e){const n=is.bind(null,t||e.find(r=>typeof r=="object"));return e.map(n)}function uR(t,e){const n=br(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function HW(t,e,n){const[r,a]=_b(n==null?void 0:n.in,t,e),o=uR(r),i=uR(a),s=+o-hy(o),u=+i-hy(i);return Math.round((s-u)/jW)}function qW(t,e){const n=WD(t,e),r=is(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),fy(r)}function W0(t,e){const n=+br(t)-+br(e);return n<0?-1:n>0?1:n}function GW(t){return is(t,Date.now())}function KW(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function YW(t){return!(!KW(t)&&typeof t!="number"||isNaN(+br(t)))}function XW(t,e,n){const[r,a]=_b(n==null?void 0:n.in,t,e),o=r.getFullYear()-a.getFullYear(),i=r.getMonth()-a.getMonth();return o*12+i}function QW(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function ZW(t,e){return+br(t)-+br(e)}function JW(t,e){const n=br(t,e==null?void 0:e.in);return n.setHours(23,59,59,999),n}function eH(t,e){const n=br(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function tH(t,e){const n=br(t,e==null?void 0:e.in);return+JW(n,e)==+eH(n,e)}function nH(t,e,n){const[r,a,o]=_b(n==null?void 0:n.in,t,t,e),i=W0(a,o),s=Math.abs(XW(a,o));if(s<1)return 0;a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-i*s);let u=W0(a,o)===-i;tH(r)&&s===1&&W0(r,o)===1&&(u=!1);const c=i*(s-+u);return c===0?0:c}function rH(t,e,n){const r=ZW(t,e)/1e3;return QW(n==null?void 0:n.roundingMethod)(r)}function aH(t,e){const n=br(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const oH={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},iH=(t,e,n)=>{let r;const a=oH[t];return typeof a=="string"?r=a:e===1?r=a.one:r=a.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Yx(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const sH={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},lH={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},uH={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cH={date:Yx({formats:sH,defaultWidth:"full"}),time:Yx({formats:lH,defaultWidth:"full"}),dateTime:Yx({formats:uH,defaultWidth:"full"})},dH={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},fH=(t,e,n,r)=>dH[t];function Np(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let a;if(r==="formatting"&&t.formattingValues){const i=t.defaultFormattingWidth||t.defaultWidth,s=n!=null&&n.width?String(n.width):i;a=t.formattingValues[s]||t.formattingValues[i]}else{const i=t.defaultWidth,s=n!=null&&n.width?String(n.width):t.defaultWidth;a=t.values[s]||t.values[i]}const o=t.argumentCallback?t.argumentCallback(e):e;return a[o]}}const hH={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},pH={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},mH={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gH={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},vH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},yH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},bH=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},xH={ordinalNumber:bH,era:Np({values:hH,defaultWidth:"wide"}),quarter:Np({values:pH,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Np({values:mH,defaultWidth:"wide"}),day:Np({values:gH,defaultWidth:"wide"}),dayPeriod:Np({values:vH,defaultWidth:"wide",formattingValues:yH,defaultFormattingWidth:"wide"})};function Op(t){return(e,n={})=>{const r=n.width,a=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(a);if(!o)return null;const i=o[0],s=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(s)?SH(s,h=>h.test(i)):wH(s,h=>h.test(i));let c;c=t.valueCallback?t.valueCallback(u):u,c=n.valueCallback?n.valueCallback(c):c;const f=e.slice(i.length);return{value:c,rest:f}}}function wH(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function SH(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function _H(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const a=r[0],o=e.match(t.parsePattern);if(!o)return null;let i=t.valueCallback?t.valueCallback(o[0]):o[0];i=n.valueCallback?n.valueCallback(i):i;const s=e.slice(a.length);return{value:i,rest:s}}}const CH=/^(\d+)(th|st|nd|rd)?/i,EH=/\d+/i,TH={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},RH={any:[/^b/i,/^(a|c)/i]},AH={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},kH={any:[/1/i,/2/i,/3/i,/4/i]},NH={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},OH={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},DH={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},MH={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},PH={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},IH={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},LH={ordinalNumber:_H({matchPattern:CH,parsePattern:EH,valueCallback:t=>parseInt(t,10)}),era:Op({matchPatterns:TH,defaultMatchWidth:"wide",parsePatterns:RH,defaultParseWidth:"any"}),quarter:Op({matchPatterns:AH,defaultMatchWidth:"wide",parsePatterns:kH,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Op({matchPatterns:NH,defaultMatchWidth:"wide",parsePatterns:OH,defaultParseWidth:"any"}),day:Op({matchPatterns:DH,defaultMatchWidth:"wide",parsePatterns:MH,defaultParseWidth:"any"}),dayPeriod:Op({matchPatterns:PH,defaultMatchWidth:"any",parsePatterns:IH,defaultParseWidth:"any"})},HD={code:"en-US",formatDistance:iH,formatLong:cH,formatRelative:fH,localize:xH,match:LH,options:{weekStartsOn:0,firstWeekContainsDate:1}};function FH(t,e){const n=br(t,e==null?void 0:e.in);return HW(n,aH(n))+1}function BH(t,e){const n=br(t,e==null?void 0:e.in),r=+fy(n)-+qW(n);return Math.round(r/UD)+1}function qD(t,e){var f,h,m,g;const n=br(t,e==null?void 0:e.in),r=n.getFullYear(),a=Km(),o=(e==null?void 0:e.firstWeekContainsDate)??((h=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((g=(m=a.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,i=is((e==null?void 0:e.in)||t,0);i.setFullYear(r+1,0,o),i.setHours(0,0,0,0);const s=hm(i,e),u=is((e==null?void 0:e.in)||t,0);u.setFullYear(r,0,o),u.setHours(0,0,0,0);const c=hm(u,e);return+n>=+s?r+1:+n>=+c?r:r-1}function zH(t,e){var s,u,c,f;const n=Km(),r=(e==null?void 0:e.firstWeekContainsDate)??((u=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:u.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(c=n.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??1,a=qD(t,e),o=is((e==null?void 0:e.in)||t,0);return o.setFullYear(a,0,r),o.setHours(0,0,0,0),hm(o,e)}function $H(t,e){const n=br(t,e==null?void 0:e.in),r=+hm(n,e)-+zH(n,e);return Math.round(r/UD)+1}function wn(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Zl={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return wn(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):wn(n+1,2)},d(t,e){return wn(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return wn(t.getHours()%12||12,e.length)},H(t,e){return wn(t.getHours(),e.length)},m(t,e){return wn(t.getMinutes(),e.length)},s(t,e){return wn(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return wn(a,e.length)}},Vd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},cR={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return Zl.y(t,e)},Y:function(t,e,n,r){const a=qD(t,r),o=a>0?a:1-a;if(e==="YY"){const i=o%100;return wn(i,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):wn(o,e.length)},R:function(t,e){const n=WD(t);return wn(n,e.length)},u:function(t,e){const n=t.getFullYear();return wn(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return wn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return wn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Zl.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return wn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const a=$H(t,r);return e==="wo"?n.ordinalNumber(a,{unit:"week"}):wn(a,e.length)},I:function(t,e,n){const r=BH(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):wn(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Zl.d(t,e)},D:function(t,e,n){const r=FH(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):wn(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const a=t.getDay(),o=(a-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return wn(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const a=t.getDay(),o=(a-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return wn(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),a=r===0?7:r;switch(e){case"i":return String(a);case"ii":return wn(a,e.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let a;switch(r===12?a=Vd.noon:r===0?a=Vd.midnight:a=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let a;switch(r>=17?a=Vd.evening:r>=12?a=Vd.afternoon:r>=4?a=Vd.morning:a=Vd.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Zl.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Zl.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):wn(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):wn(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Zl.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Zl.s(t,e)},S:function(t,e){return Zl.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return fR(r);case"XXXX":case"XX":return cc(r);case"XXXXX":case"XXX":default:return cc(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return fR(r);case"xxxx":case"xx":return cc(r);case"xxxxx":case"xxx":default:return cc(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+dR(r,":");case"OOOO":default:return"GMT"+cc(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+dR(r,":");case"zzzz":default:return"GMT"+cc(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return wn(r,e.length)},T:function(t,e,n){return wn(+t,e.length)}};function dR(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),a=Math.trunc(r/60),o=r%60;return o===0?n+String(a):n+String(a)+e+wn(o,2)}function fR(t,e){return t%60===0?(t>0?"-":"+")+wn(Math.abs(t)/60,2):cc(t,e)}function cc(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),a=wn(Math.trunc(r/60),2),o=wn(r%60,2);return n+a+e+o}const hR=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},GD=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},UH=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return hR(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",hR(r,e)).replace("{{time}}",GD(a,e))},VH={p:GD,P:UH},jH=/^D+$/,WH=/^Y+$/,HH=["D","DD","YY","YYYY"];function qH(t){return jH.test(t)}function GH(t){return WH.test(t)}function KH(t,e,n){const r=YH(t,e,n);if(console.warn(r),HH.includes(t))throw new RangeError(r)}function YH(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const XH=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,QH=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ZH=/^'([^]*?)'?$/,JH=/''/g,eq=/[a-zA-Z]/;function tq(t,e,n){var f,h,m,g,y,b,x,S;const r=Km(),a=(n==null?void 0:n.locale)??r.locale??HD,o=(n==null?void 0:n.firstWeekContainsDate)??((h=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(m=r.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,i=(n==null?void 0:n.weekStartsOn)??((b=(y=n==null?void 0:n.locale)==null?void 0:y.options)==null?void 0:b.weekStartsOn)??r.weekStartsOn??((S=(x=r.locale)==null?void 0:x.options)==null?void 0:S.weekStartsOn)??0,s=br(t,n==null?void 0:n.in);if(!YW(s))throw new RangeError("Invalid time value");let u=e.match(QH).map(R=>{const _=R[0];if(_==="p"||_==="P"){const T=VH[_];return T(R,a.formatLong)}return R}).join("").match(XH).map(R=>{if(R==="''")return{isToken:!1,value:"'"};const _=R[0];if(_==="'")return{isToken:!1,value:nq(R)};if(cR[_])return{isToken:!0,value:R};if(_.match(eq))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:R}});a.localize.preprocessor&&(u=a.localize.preprocessor(s,u));const c={firstWeekContainsDate:o,weekStartsOn:i,locale:a};return u.map(R=>{if(!R.isToken)return R.value;const _=R.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&GH(_)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&qH(_))&&KH(_,e,String(t));const T=cR[_[0]];return T(s,_,a.localize,c)}).join("")}function nq(t){const e=t.match(ZH);return e?e[1].replace(JH,"'"):t}function rq(t,e,n){const r=Km(),a=(n==null?void 0:n.locale)??r.locale??HD,o=2520,i=W0(t,e);if(isNaN(i))throw new RangeError("Invalid time value");const s=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:i}),[u,c]=_b(n==null?void 0:n.in,...i>0?[e,t]:[t,e]),f=rH(c,u),h=(hy(c)-hy(u))/1e3,m=Math.round((f-h)/60);let g;if(m<2)return n!=null&&n.includeSeconds?f<5?a.formatDistance("lessThanXSeconds",5,s):f<10?a.formatDistance("lessThanXSeconds",10,s):f<20?a.formatDistance("lessThanXSeconds",20,s):f<40?a.formatDistance("halfAMinute",0,s):f<60?a.formatDistance("lessThanXMinutes",1,s):a.formatDistance("xMinutes",1,s):m===0?a.formatDistance("lessThanXMinutes",1,s):a.formatDistance("xMinutes",m,s);if(m<45)return a.formatDistance("xMinutes",m,s);if(m<90)return a.formatDistance("aboutXHours",1,s);if(m<sR){const y=Math.round(m/60);return a.formatDistance("aboutXHours",y,s)}else{if(m<o)return a.formatDistance("xDays",1,s);if(m<a0){const y=Math.round(m/sR);return a.formatDistance("xDays",y,s)}else if(m<a0*2)return g=Math.round(m/a0),a.formatDistance("aboutXMonths",g,s)}if(g=nH(c,u),g<12){const y=Math.round(m/a0);return a.formatDistance("xMonths",y,s)}else{const y=g%12,b=Math.trunc(g/12);return y<3?a.formatDistance("aboutXYears",b,s):y<9?a.formatDistance("overXYears",b,s):a.formatDistance("almostXYears",b+1,s)}}function py(t,e){return rq(t,GW(t),e)}function aq(t,e){const n=()=>is(e==null?void 0:e.in,NaN),a=lq(t);let o;if(a.date){const c=uq(a.date,2);o=cq(c.restDateString,c.year)}if(!o||isNaN(+o))return n();const i=+o;let s=0,u;if(a.time&&(s=dq(a.time),isNaN(s)))return n();if(a.timezone){if(u=fq(a.timezone),isNaN(u))return n()}else{const c=new Date(i+s),f=br(0,e==null?void 0:e.in);return f.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),f.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),f}return br(i+s+u,e==null?void 0:e.in)}const o0={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},oq=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,iq=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,sq=/^([+-])(\d{2})(?::?(\d{2}))?$/;function lq(t){const e={},n=t.split(o0.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],o0.timeZoneDelimiter.test(e.date)&&(e.date=t.split(o0.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const a=o0.timezone.exec(r);a?(e.time=r.replace(a[1],""),e.timezone=a[1]):e.time=r}return e}function uq(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const a=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?a:o*100,restDateString:t.slice((r[1]||r[2]).length)}}function cq(t,e){if(e===null)return new Date(NaN);const n=t.match(oq);if(!n)return new Date(NaN);const r=!!n[4],a=Dp(n[1]),o=Dp(n[2])-1,i=Dp(n[3]),s=Dp(n[4]),u=Dp(n[5])-1;if(r)return vq(e,s,u)?hq(e,s,u):new Date(NaN);{const c=new Date(0);return!mq(e,o,i)||!gq(e,a)?new Date(NaN):(c.setUTCFullYear(e,o,Math.max(a,i)),c)}}function Dp(t){return t?parseInt(t):1}function dq(t){const e=t.match(iq);if(!e)return NaN;const n=Xx(e[1]),r=Xx(e[2]),a=Xx(e[3]);return yq(n,r,a)?n*jD+r*VD+a*1e3:NaN}function Xx(t){return t&&parseFloat(t.replace(",","."))||0}function fq(t){if(t==="Z")return 0;const e=t.match(sq);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return bq(r,a)?n*(r*jD+a*VD):NaN}function hq(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const a=r.getUTCDay()||7,o=(e-1)*7+n+1-a;return r.setUTCDate(r.getUTCDate()+o),r}const pq=[31,null,31,30,31,30,31,31,30,31,30,31];function KD(t){return t%400===0||t%4===0&&t%100!==0}function mq(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(pq[e]||(KD(t)?29:28))}function gq(t,e){return e>=1&&e<=(KD(t)?366:365)}function vq(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function yq(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function bq(t,e){return e>=0&&e<=59}function xq(){const{notifications:t,markAsSeen:e}=VW(),[n,r]=O.useState(!1),a=t.filter(o=>!o.seen).length;return K("div",{className:"relative",children:[K("button",{onClick:()=>r(!n),className:"relative",children:[E(Hj,{}),a>0&&E("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full text-xs w-5 h-5 flex items-center justify-center",children:a})]}),n&&E("div",{className:"absolute right-0 mt-2 w-80 bg-white shadow-lg rounded",children:t.length===0?E("div",{className:"p-4 text-gray-500",children:"No notifications"}):t.map(o=>E("div",{className:`p-3 border-b ${o.seen?"bg-gray-50":"bg-white"}`,children:K("div",{className:"flex justify-between items-start",children:[K("div",{children:[E("div",{className:"font-medium",children:o.title}),K("div",{className:"text-sm text-gray-600",children:["starts at ",tq(aq(o.start),"p")]})]}),!o.seen&&E("button",{onClick:()=>e(o.id),className:"text-blue-500 text-sm",children:"Mark seen"})]})},o.id))})]})}function YD(t,e){return function(){return t.apply(e,arguments)}}const{toString:wq}=Object.prototype,{getPrototypeOf:f_}=Object,{iterator:Cb,toStringTag:XD}=Symbol,Eb=(t=>e=>{const n=wq.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),di=t=>(t=t.toLowerCase(),e=>Eb(e)===t),Tb=t=>e=>typeof e===t,{isArray:Qf}=Array,pm=Tb("undefined");function Sq(t){return t!==null&&!pm(t)&&t.constructor!==null&&!pm(t.constructor)&&qa(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const QD=di("ArrayBuffer");function _q(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&QD(t.buffer),e}const Cq=Tb("string"),qa=Tb("function"),ZD=Tb("number"),Rb=t=>t!==null&&typeof t=="object",Eq=t=>t===!0||t===!1,H0=t=>{if(Eb(t)!=="object")return!1;const e=f_(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(XD in t)&&!(Cb in t)},Tq=di("Date"),Rq=di("File"),Aq=di("Blob"),kq=di("FileList"),Nq=t=>Rb(t)&&qa(t.pipe),Oq=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||qa(t.append)&&((e=Eb(t))==="formdata"||e==="object"&&qa(t.toString)&&t.toString()==="[object FormData]"))},Dq=di("URLSearchParams"),[Mq,Pq,Iq,Lq]=["ReadableStream","Request","Response","Headers"].map(di),Fq=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ym(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,a;if(typeof t!="object"&&(t=[t]),Qf(t))for(r=0,a=t.length;r<a;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),i=o.length;let s;for(r=0;r<i;r++)s=o[r],e.call(null,t[s],s,t)}}function JD(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,a;for(;r-- >0;)if(a=n[r],e===a.toLowerCase())return a;return null}const vc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,eM=t=>!pm(t)&&t!==vc;function Cw(){const{caseless:t}=eM(this)&&this||{},e={},n=(r,a)=>{const o=t&&JD(e,a)||a;H0(e[o])&&H0(r)?e[o]=Cw(e[o],r):H0(r)?e[o]=Cw({},r):Qf(r)?e[o]=r.slice():e[o]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&Ym(arguments[r],n);return e}const Bq=(t,e,n,{allOwnKeys:r}={})=>(Ym(e,(a,o)=>{n&&qa(a)?t[o]=YD(a,n):t[o]=a},{allOwnKeys:r}),t),zq=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),$q=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Uq=(t,e,n,r)=>{let a,o,i;const s={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),o=a.length;o-- >0;)i=a[o],(!r||r(i,t,e))&&!s[i]&&(e[i]=t[i],s[i]=!0);t=n!==!1&&f_(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Vq=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},jq=t=>{if(!t)return null;if(Qf(t))return t;let e=t.length;if(!ZD(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Wq=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&f_(Uint8Array)),Hq=(t,e)=>{const r=(t&&t[Cb]).call(t);let a;for(;(a=r.next())&&!a.done;){const o=a.value;e.call(t,o[0],o[1])}},qq=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Gq=di("HTMLFormElement"),Kq=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),pR=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Yq=di("RegExp"),tM=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Ym(n,(a,o)=>{let i;(i=e(a,o,t))!==!1&&(r[o]=i||a)}),Object.defineProperties(t,r)},Xq=t=>{tM(t,(e,n)=>{if(qa(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(qa(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Qq=(t,e)=>{const n={},r=a=>{a.forEach(o=>{n[o]=!0})};return Qf(t)?r(t):r(String(t).split(e)),n},Zq=()=>{},Jq=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function eG(t){return!!(t&&qa(t.append)&&t[XD]==="FormData"&&t[Cb])}const tG=t=>{const e=new Array(10),n=(r,a)=>{if(Rb(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[a]=r;const o=Qf(r)?[]:{};return Ym(r,(i,s)=>{const u=n(i,a+1);!pm(u)&&(o[s]=u)}),e[a]=void 0,o}}return r};return n(t,0)},nG=di("AsyncFunction"),rG=t=>t&&(Rb(t)||qa(t))&&qa(t.then)&&qa(t.catch),nM=((t,e)=>t?setImmediate:e?((n,r)=>(vc.addEventListener("message",({source:a,data:o})=>{a===vc&&o===n&&r.length&&r.shift()()},!1),a=>{r.push(a),vc.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",qa(vc.postMessage)),aG=typeof queueMicrotask<"u"?queueMicrotask.bind(vc):typeof process<"u"&&process.nextTick||nM,oG=t=>t!=null&&qa(t[Cb]),_e={isArray:Qf,isArrayBuffer:QD,isBuffer:Sq,isFormData:Oq,isArrayBufferView:_q,isString:Cq,isNumber:ZD,isBoolean:Eq,isObject:Rb,isPlainObject:H0,isReadableStream:Mq,isRequest:Pq,isResponse:Iq,isHeaders:Lq,isUndefined:pm,isDate:Tq,isFile:Rq,isBlob:Aq,isRegExp:Yq,isFunction:qa,isStream:Nq,isURLSearchParams:Dq,isTypedArray:Wq,isFileList:kq,forEach:Ym,merge:Cw,extend:Bq,trim:Fq,stripBOM:zq,inherits:$q,toFlatObject:Uq,kindOf:Eb,kindOfTest:di,endsWith:Vq,toArray:jq,forEachEntry:Hq,matchAll:qq,isHTMLForm:Gq,hasOwnProperty:pR,hasOwnProp:pR,reduceDescriptors:tM,freezeMethods:Xq,toObjectSet:Qq,toCamelCase:Kq,noop:Zq,toFiniteNumber:Jq,findKey:JD,global:vc,isContextDefined:eM,isSpecCompliantForm:eG,toJSONObject:tG,isAsyncFn:nG,isThenable:rG,setImmediate:nM,asap:aG,isIterable:oG};function Bt(t,e,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}_e.inherits(Bt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_e.toJSONObject(this.config),code:this.code,status:this.status}}});const rM=Bt.prototype,aM={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{aM[t]={value:t}});Object.defineProperties(Bt,aM);Object.defineProperty(rM,"isAxiosError",{value:!0});Bt.from=(t,e,n,r,a,o)=>{const i=Object.create(rM);return _e.toFlatObject(t,i,function(u){return u!==Error.prototype},s=>s!=="isAxiosError"),Bt.call(i,t.message,e,n,r,a),i.cause=t,i.name=t.name,o&&Object.assign(i,o),i};const iG=null;function Ew(t){return _e.isPlainObject(t)||_e.isArray(t)}function oM(t){return _e.endsWith(t,"[]")?t.slice(0,-2):t}function mR(t,e,n){return t?t.concat(e).map(function(a,o){return a=oM(a),!n&&o?"["+a+"]":a}).join(n?".":""):e}function sG(t){return _e.isArray(t)&&!t.some(Ew)}const lG=_e.toFlatObject(_e,{},null,function(e){return/^is[A-Z]/.test(e)});function Ab(t,e,n){if(!_e.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=_e.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,x){return!_e.isUndefined(x[b])});const r=n.metaTokens,a=n.visitor||f,o=n.dots,i=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&_e.isSpecCompliantForm(e);if(!_e.isFunction(a))throw new TypeError("visitor must be a function");function c(y){if(y===null)return"";if(_e.isDate(y))return y.toISOString();if(!u&&_e.isBlob(y))throw new Bt("Blob is not supported. Use a Buffer instead.");return _e.isArrayBuffer(y)||_e.isTypedArray(y)?u&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function f(y,b,x){let S=y;if(y&&!x&&typeof y=="object"){if(_e.endsWith(b,"{}"))b=r?b:b.slice(0,-2),y=JSON.stringify(y);else if(_e.isArray(y)&&sG(y)||(_e.isFileList(y)||_e.endsWith(b,"[]"))&&(S=_e.toArray(y)))return b=oM(b),S.forEach(function(_,T){!(_e.isUndefined(_)||_===null)&&e.append(i===!0?mR([b],T,o):i===null?b:b+"[]",c(_))}),!1}return Ew(y)?!0:(e.append(mR(x,b,o),c(y)),!1)}const h=[],m=Object.assign(lG,{defaultVisitor:f,convertValue:c,isVisitable:Ew});function g(y,b){if(!_e.isUndefined(y)){if(h.indexOf(y)!==-1)throw Error("Circular reference detected in "+b.join("."));h.push(y),_e.forEach(y,function(S,R){(!(_e.isUndefined(S)||S===null)&&a.call(e,S,_e.isString(R)?R.trim():R,b,m))===!0&&g(S,b?b.concat(R):[R])}),h.pop()}}if(!_e.isObject(t))throw new TypeError("data must be an object");return g(t),e}function gR(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function h_(t,e){this._pairs=[],t&&Ab(t,this,e)}const iM=h_.prototype;iM.append=function(e,n){this._pairs.push([e,n])};iM.toString=function(e){const n=e?function(r){return e.call(this,r,gR)}:gR;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function uG(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function sM(t,e,n){if(!e)return t;const r=n&&n.encode||uG;_e.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let o;if(a?o=a(e,n):o=_e.isURLSearchParams(e)?e.toString():new h_(e,n).toString(r),o){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class vR{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){_e.forEach(this.handlers,function(r){r!==null&&e(r)})}}const lM={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},cG=typeof URLSearchParams<"u"?URLSearchParams:h_,dG=typeof FormData<"u"?FormData:null,fG=typeof Blob<"u"?Blob:null,hG={isBrowser:!0,classes:{URLSearchParams:cG,FormData:dG,Blob:fG},protocols:["http","https","file","blob","url","data"]},p_=typeof window<"u"&&typeof document<"u",Tw=typeof navigator=="object"&&navigator||void 0,pG=p_&&(!Tw||["ReactNative","NativeScript","NS"].indexOf(Tw.product)<0),mG=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",gG=p_&&window.location.href||"http://localhost",vG=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:p_,hasStandardBrowserEnv:pG,hasStandardBrowserWebWorkerEnv:mG,navigator:Tw,origin:gG},Symbol.toStringTag,{value:"Module"})),ga={...vG,...hG};function yG(t,e){return Ab(t,new ga.classes.URLSearchParams,Object.assign({visitor:function(n,r,a,o){return ga.isNode&&_e.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function bG(t){return _e.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function xG(t){const e={},n=Object.keys(t);let r;const a=n.length;let o;for(r=0;r<a;r++)o=n[r],e[o]=t[o];return e}function uM(t){function e(n,r,a,o){let i=n[o++];if(i==="__proto__")return!0;const s=Number.isFinite(+i),u=o>=n.length;return i=!i&&_e.isArray(a)?a.length:i,u?(_e.hasOwnProp(a,i)?a[i]=[a[i],r]:a[i]=r,!s):((!a[i]||!_e.isObject(a[i]))&&(a[i]=[]),e(n,r,a[i],o)&&_e.isArray(a[i])&&(a[i]=xG(a[i])),!s)}if(_e.isFormData(t)&&_e.isFunction(t.entries)){const n={};return _e.forEachEntry(t,(r,a)=>{e(bG(r),a,n,0)}),n}return null}function wG(t,e,n){if(_e.isString(t))try{return(e||JSON.parse)(t),_e.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Xm={transitional:lM,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,o=_e.isObject(e);if(o&&_e.isHTMLForm(e)&&(e=new FormData(e)),_e.isFormData(e))return a?JSON.stringify(uM(e)):e;if(_e.isArrayBuffer(e)||_e.isBuffer(e)||_e.isStream(e)||_e.isFile(e)||_e.isBlob(e)||_e.isReadableStream(e))return e;if(_e.isArrayBufferView(e))return e.buffer;if(_e.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return yG(e,this.formSerializer).toString();if((s=_e.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Ab(s?{"files[]":e}:e,u&&new u,this.formSerializer)}}return o||a?(n.setContentType("application/json",!1),wG(e)):e}],transformResponse:[function(e){const n=this.transitional||Xm.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(_e.isResponse(e)||_e.isReadableStream(e))return e;if(e&&_e.isString(e)&&(r&&!this.responseType||a)){const i=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(s){if(i)throw s.name==="SyntaxError"?Bt.from(s,Bt.ERR_BAD_RESPONSE,this,null,this.response):s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ga.classes.FormData,Blob:ga.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_e.forEach(["delete","get","head","post","put","patch"],t=>{Xm.headers[t]={}});const SG=_e.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_G=t=>{const e={};let n,r,a;return t&&t.split(`
`).forEach(function(i){a=i.indexOf(":"),n=i.substring(0,a).trim().toLowerCase(),r=i.substring(a+1).trim(),!(!n||e[n]&&SG[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},yR=Symbol("internals");function Mp(t){return t&&String(t).trim().toLowerCase()}function q0(t){return t===!1||t==null?t:_e.isArray(t)?t.map(q0):String(t)}function CG(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const EG=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Qx(t,e,n,r,a){if(_e.isFunction(r))return r.call(this,e,n);if(a&&(e=n),!!_e.isString(e)){if(_e.isString(r))return e.indexOf(r)!==-1;if(_e.isRegExp(r))return r.test(e)}}function TG(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function RG(t,e){const n=_e.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(a,o,i){return this[r].call(this,e,a,o,i)},configurable:!0})})}let Ga=class{constructor(e){e&&this.set(e)}set(e,n,r){const a=this;function o(s,u,c){const f=Mp(u);if(!f)throw new Error("header name must be a non-empty string");const h=_e.findKey(a,f);(!h||a[h]===void 0||c===!0||c===void 0&&a[h]!==!1)&&(a[h||u]=q0(s))}const i=(s,u)=>_e.forEach(s,(c,f)=>o(c,f,u));if(_e.isPlainObject(e)||e instanceof this.constructor)i(e,n);else if(_e.isString(e)&&(e=e.trim())&&!EG(e))i(_G(e),n);else if(_e.isObject(e)&&_e.isIterable(e)){let s={},u,c;for(const f of e){if(!_e.isArray(f))throw TypeError("Object iterator must return a key-value pair");s[c=f[0]]=(u=s[c])?_e.isArray(u)?[...u,f[1]]:[u,f[1]]:f[1]}i(s,n)}else e!=null&&o(n,e,r);return this}get(e,n){if(e=Mp(e),e){const r=_e.findKey(this,e);if(r){const a=this[r];if(!n)return a;if(n===!0)return CG(a);if(_e.isFunction(n))return n.call(this,a,r);if(_e.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Mp(e),e){const r=_e.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Qx(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let a=!1;function o(i){if(i=Mp(i),i){const s=_e.findKey(r,i);s&&(!n||Qx(r,r[s],s,n))&&(delete r[s],a=!0)}}return _e.isArray(e)?e.forEach(o):o(e),a}clear(e){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const o=n[r];(!e||Qx(this,this[o],o,e,!0))&&(delete this[o],a=!0)}return a}normalize(e){const n=this,r={};return _e.forEach(this,(a,o)=>{const i=_e.findKey(r,o);if(i){n[i]=q0(a),delete n[o];return}const s=e?TG(o):String(o).trim();s!==o&&delete n[o],n[s]=q0(a),r[s]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return _e.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=e&&_e.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(a=>r.set(a)),r}static accessor(e){const r=(this[yR]=this[yR]={accessors:{}}).accessors,a=this.prototype;function o(i){const s=Mp(i);r[s]||(RG(a,i),r[s]=!0)}return _e.isArray(e)?e.forEach(o):o(e),this}};Ga.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);_e.reduceDescriptors(Ga.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});_e.freezeMethods(Ga);function Zx(t,e){const n=this||Xm,r=e||n,a=Ga.from(r.headers);let o=r.data;return _e.forEach(t,function(s){o=s.call(n,o,a.normalize(),e?e.status:void 0)}),a.normalize(),o}function cM(t){return!!(t&&t.__CANCEL__)}function Zf(t,e,n){Bt.call(this,t??"canceled",Bt.ERR_CANCELED,e,n),this.name="CanceledError"}_e.inherits(Zf,Bt,{__CANCEL__:!0});function dM(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Bt("Request failed with status code "+n.status,[Bt.ERR_BAD_REQUEST,Bt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function AG(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function kG(t,e){t=t||10;const n=new Array(t),r=new Array(t);let a=0,o=0,i;return e=e!==void 0?e:1e3,function(u){const c=Date.now(),f=r[o];i||(i=c),n[a]=u,r[a]=c;let h=o,m=0;for(;h!==a;)m+=n[h++],h=h%t;if(a=(a+1)%t,a===o&&(o=(o+1)%t),c-i<e)return;const g=f&&c-f;return g?Math.round(m*1e3/g):void 0}}function NG(t,e){let n=0,r=1e3/e,a,o;const i=(c,f=Date.now())=>{n=f,a=null,o&&(clearTimeout(o),o=null),t.apply(null,c)};return[(...c)=>{const f=Date.now(),h=f-n;h>=r?i(c,f):(a=c,o||(o=setTimeout(()=>{o=null,i(a)},r-h)))},()=>a&&i(a)]}const my=(t,e,n=3)=>{let r=0;const a=kG(50,250);return NG(o=>{const i=o.loaded,s=o.lengthComputable?o.total:void 0,u=i-r,c=a(u),f=i<=s;r=i;const h={loaded:i,total:s,progress:s?i/s:void 0,bytes:u,rate:c||void 0,estimated:c&&s&&f?(s-i)/c:void 0,event:o,lengthComputable:s!=null,[e?"download":"upload"]:!0};t(h)},n)},bR=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},xR=t=>(...e)=>_e.asap(()=>t(...e)),OG=ga.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,ga.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(ga.origin),ga.navigator&&/(msie|trident)/i.test(ga.navigator.userAgent)):()=>!0,DG=ga.hasStandardBrowserEnv?{write(t,e,n,r,a,o){const i=[t+"="+encodeURIComponent(e)];_e.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),_e.isString(r)&&i.push("path="+r),_e.isString(a)&&i.push("domain="+a),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function MG(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function PG(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function fM(t,e,n){let r=!MG(e);return t&&(r||n==!1)?PG(t,e):e}const wR=t=>t instanceof Ga?{...t}:t;function Fc(t,e){e=e||{};const n={};function r(c,f,h,m){return _e.isPlainObject(c)&&_e.isPlainObject(f)?_e.merge.call({caseless:m},c,f):_e.isPlainObject(f)?_e.merge({},f):_e.isArray(f)?f.slice():f}function a(c,f,h,m){if(_e.isUndefined(f)){if(!_e.isUndefined(c))return r(void 0,c,h,m)}else return r(c,f,h,m)}function o(c,f){if(!_e.isUndefined(f))return r(void 0,f)}function i(c,f){if(_e.isUndefined(f)){if(!_e.isUndefined(c))return r(void 0,c)}else return r(void 0,f)}function s(c,f,h){if(h in e)return r(c,f);if(h in t)return r(void 0,c)}const u={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:s,headers:(c,f,h)=>a(wR(c),wR(f),h,!0)};return _e.forEach(Object.keys(Object.assign({},t,e)),function(f){const h=u[f]||a,m=h(t[f],e[f],f);_e.isUndefined(m)&&h!==s||(n[f]=m)}),n}const hM=t=>{const e=Fc({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:o,headers:i,auth:s}=e;e.headers=i=Ga.from(i),e.url=sM(fM(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),s&&i.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):"")));let u;if(_e.isFormData(n)){if(ga.hasStandardBrowserEnv||ga.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((u=i.getContentType())!==!1){const[c,...f]=u?u.split(";").map(h=>h.trim()).filter(Boolean):[];i.setContentType([c||"multipart/form-data",...f].join("; "))}}if(ga.hasStandardBrowserEnv&&(r&&_e.isFunction(r)&&(r=r(e)),r||r!==!1&&OG(e.url))){const c=a&&o&&DG.read(o);c&&i.set(a,c)}return e},IG=typeof XMLHttpRequest<"u",LG=IG&&function(t){return new Promise(function(n,r){const a=hM(t);let o=a.data;const i=Ga.from(a.headers).normalize();let{responseType:s,onUploadProgress:u,onDownloadProgress:c}=a,f,h,m,g,y;function b(){g&&g(),y&&y(),a.cancelToken&&a.cancelToken.unsubscribe(f),a.signal&&a.signal.removeEventListener("abort",f)}let x=new XMLHttpRequest;x.open(a.method.toUpperCase(),a.url,!0),x.timeout=a.timeout;function S(){if(!x)return;const _=Ga.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),A={data:!s||s==="text"||s==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:_,config:t,request:x};dM(function(N){n(N),b()},function(N){r(N),b()},A),x=null}"onloadend"in x?x.onloadend=S:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(S)},x.onabort=function(){x&&(r(new Bt("Request aborted",Bt.ECONNABORTED,t,x)),x=null)},x.onerror=function(){r(new Bt("Network Error",Bt.ERR_NETWORK,t,x)),x=null},x.ontimeout=function(){let T=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const A=a.transitional||lM;a.timeoutErrorMessage&&(T=a.timeoutErrorMessage),r(new Bt(T,A.clarifyTimeoutError?Bt.ETIMEDOUT:Bt.ECONNABORTED,t,x)),x=null},o===void 0&&i.setContentType(null),"setRequestHeader"in x&&_e.forEach(i.toJSON(),function(T,A){x.setRequestHeader(A,T)}),_e.isUndefined(a.withCredentials)||(x.withCredentials=!!a.withCredentials),s&&s!=="json"&&(x.responseType=a.responseType),c&&([m,y]=my(c,!0),x.addEventListener("progress",m)),u&&x.upload&&([h,g]=my(u),x.upload.addEventListener("progress",h),x.upload.addEventListener("loadend",g)),(a.cancelToken||a.signal)&&(f=_=>{x&&(r(!_||_.type?new Zf(null,t,x):_),x.abort(),x=null)},a.cancelToken&&a.cancelToken.subscribe(f),a.signal&&(a.signal.aborted?f():a.signal.addEventListener("abort",f)));const R=AG(a.url);if(R&&ga.protocols.indexOf(R)===-1){r(new Bt("Unsupported protocol "+R+":",Bt.ERR_BAD_REQUEST,t));return}x.send(o||null)})},FG=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,a;const o=function(c){if(!a){a=!0,s();const f=c instanceof Error?c:this.reason;r.abort(f instanceof Bt?f:new Zf(f instanceof Error?f.message:f))}};let i=e&&setTimeout(()=>{i=null,o(new Bt(`timeout ${e} of ms exceeded`,Bt.ETIMEDOUT))},e);const s=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),t=null)};t.forEach(c=>c.addEventListener("abort",o));const{signal:u}=r;return u.unsubscribe=()=>_e.asap(s),u}},BG=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,a;for(;r<n;)a=r+e,yield t.slice(r,a),r=a},zG=async function*(t,e){for await(const n of $G(t))yield*BG(n,e)},$G=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},SR=(t,e,n,r)=>{const a=zG(t,e);let o=0,i,s=u=>{i||(i=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:c,value:f}=await a.next();if(c){s(),u.close();return}let h=f.byteLength;if(n){let m=o+=h;n(m)}u.enqueue(new Uint8Array(f))}catch(c){throw s(c),c}},cancel(u){return s(u),a.return()}},{highWaterMark:2})},kb=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",pM=kb&&typeof ReadableStream=="function",UG=kb&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),mM=(t,...e)=>{try{return!!t(...e)}catch{return!1}},VG=pM&&mM(()=>{let t=!1;const e=new Request(ga.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),_R=64*1024,Rw=pM&&mM(()=>_e.isReadableStream(new Response("").body)),gy={stream:Rw&&(t=>t.body)};kb&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!gy[e]&&(gy[e]=_e.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Bt(`Response type '${e}' is not supported`,Bt.ERR_NOT_SUPPORT,r)})})})(new Response);const jG=async t=>{if(t==null)return 0;if(_e.isBlob(t))return t.size;if(_e.isSpecCompliantForm(t))return(await new Request(ga.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(_e.isArrayBufferView(t)||_e.isArrayBuffer(t))return t.byteLength;if(_e.isURLSearchParams(t)&&(t=t+""),_e.isString(t))return(await UG(t)).byteLength},WG=async(t,e)=>{const n=_e.toFiniteNumber(t.getContentLength());return n??jG(e)},HG=kb&&(async t=>{let{url:e,method:n,data:r,signal:a,cancelToken:o,timeout:i,onDownloadProgress:s,onUploadProgress:u,responseType:c,headers:f,withCredentials:h="same-origin",fetchOptions:m}=hM(t);c=c?(c+"").toLowerCase():"text";let g=FG([a,o&&o.toAbortSignal()],i),y;const b=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let x;try{if(u&&VG&&n!=="get"&&n!=="head"&&(x=await WG(f,r))!==0){let A=new Request(e,{method:"POST",body:r,duplex:"half"}),D;if(_e.isFormData(r)&&(D=A.headers.get("content-type"))&&f.setContentType(D),A.body){const[N,M]=bR(x,my(xR(u)));r=SR(A.body,_R,N,M)}}_e.isString(h)||(h=h?"include":"omit");const S="credentials"in Request.prototype;y=new Request(e,{...m,signal:g,method:n.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:S?h:void 0});let R=await fetch(y);const _=Rw&&(c==="stream"||c==="response");if(Rw&&(s||_&&b)){const A={};["status","statusText","headers"].forEach(P=>{A[P]=R[P]});const D=_e.toFiniteNumber(R.headers.get("content-length")),[N,M]=s&&bR(D,my(xR(s),!0))||[];R=new Response(SR(R.body,_R,N,()=>{M&&M(),b&&b()}),A)}c=c||"text";let T=await gy[_e.findKey(gy,c)||"text"](R,t);return!_&&b&&b(),await new Promise((A,D)=>{dM(A,D,{data:T,headers:Ga.from(R.headers),status:R.status,statusText:R.statusText,config:t,request:y})})}catch(S){throw b&&b(),S&&S.name==="TypeError"&&/Load failed|fetch/i.test(S.message)?Object.assign(new Bt("Network Error",Bt.ERR_NETWORK,t,y),{cause:S.cause||S}):Bt.from(S,S&&S.code,t,y)}}),Aw={http:iG,xhr:LG,fetch:HG};_e.forEach(Aw,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const CR=t=>`- ${t}`,qG=t=>_e.isFunction(t)||t===null||t===!1,gM={getAdapter:t=>{t=_e.isArray(t)?t:[t];const{length:e}=t;let n,r;const a={};for(let o=0;o<e;o++){n=t[o];let i;if(r=n,!qG(n)&&(r=Aw[(i=String(n)).toLowerCase()],r===void 0))throw new Bt(`Unknown adapter '${i}'`);if(r)break;a[i||"#"+o]=r}if(!r){const o=Object.entries(a).map(([s,u])=>`adapter ${s} `+(u===!1?"is not supported by the environment":"is not available in the build"));let i=e?o.length>1?`since :
`+o.map(CR).join(`
`):" "+CR(o[0]):"as no adapter specified";throw new Bt("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return r},adapters:Aw};function Jx(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Zf(null,t)}function ER(t){return Jx(t),t.headers=Ga.from(t.headers),t.data=Zx.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),gM.getAdapter(t.adapter||Xm.adapter)(t).then(function(r){return Jx(t),r.data=Zx.call(t,t.transformResponse,r),r.headers=Ga.from(r.headers),r},function(r){return cM(r)||(Jx(t),r&&r.response&&(r.response.data=Zx.call(t,t.transformResponse,r.response),r.response.headers=Ga.from(r.response.headers))),Promise.reject(r)})}const vM="1.9.0",Nb={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Nb[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const TR={};Nb.transitional=function(e,n,r){function a(o,i){return"[Axios v"+vM+"] Transitional option '"+o+"'"+i+(r?". "+r:"")}return(o,i,s)=>{if(e===!1)throw new Bt(a(i," has been removed"+(n?" in "+n:"")),Bt.ERR_DEPRECATED);return n&&!TR[i]&&(TR[i]=!0,console.warn(a(i," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,i,s):!0}};Nb.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function GG(t,e,n){if(typeof t!="object")throw new Bt("options must be an object",Bt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let a=r.length;for(;a-- >0;){const o=r[a],i=e[o];if(i){const s=t[o],u=s===void 0||i(s,o,t);if(u!==!0)throw new Bt("option "+o+" must be "+u,Bt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Bt("Unknown option "+o,Bt.ERR_BAD_OPTION)}}const G0={assertOptions:GG,validators:Nb},Bi=G0.validators;let kc=class{constructor(e){this.defaults=e||{},this.interceptors={request:new vR,response:new vR}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const o=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Fc(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:o}=n;r!==void 0&&G0.assertOptions(r,{silentJSONParsing:Bi.transitional(Bi.boolean),forcedJSONParsing:Bi.transitional(Bi.boolean),clarifyTimeoutError:Bi.transitional(Bi.boolean)},!1),a!=null&&(_e.isFunction(a)?n.paramsSerializer={serialize:a}:G0.assertOptions(a,{encode:Bi.function,serialize:Bi.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),G0.assertOptions(n,{baseUrl:Bi.spelling("baseURL"),withXsrfToken:Bi.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=o&&_e.merge(o.common,o[n.method]);o&&_e.forEach(["delete","get","head","post","put","patch","common"],y=>{delete o[y]}),n.headers=Ga.concat(i,o);const s=[];let u=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(u=u&&b.synchronous,s.unshift(b.fulfilled,b.rejected))});const c=[];this.interceptors.response.forEach(function(b){c.push(b.fulfilled,b.rejected)});let f,h=0,m;if(!u){const y=[ER.bind(this),void 0];for(y.unshift.apply(y,s),y.push.apply(y,c),m=y.length,f=Promise.resolve(n);h<m;)f=f.then(y[h++],y[h++]);return f}m=s.length;let g=n;for(h=0;h<m;){const y=s[h++],b=s[h++];try{g=y(g)}catch(x){b.call(this,x);break}}try{f=ER.call(this,g)}catch(y){return Promise.reject(y)}for(h=0,m=c.length;h<m;)f=f.then(c[h++],c[h++]);return f}getUri(e){e=Fc(this.defaults,e);const n=fM(e.baseURL,e.url,e.allowAbsoluteUrls);return sM(n,e.params,e.paramsSerializer)}};_e.forEach(["delete","get","head","options"],function(e){kc.prototype[e]=function(n,r){return this.request(Fc(r||{},{method:e,url:n,data:(r||{}).data}))}});_e.forEach(["post","put","patch"],function(e){function n(r){return function(o,i,s){return this.request(Fc(s||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}kc.prototype[e]=n(),kc.prototype[e+"Form"]=n(!0)});let KG=class yM{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(a=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](a);r._listeners=null}),this.promise.then=a=>{let o;const i=new Promise(s=>{r.subscribe(s),o=s}).then(a);return i.cancel=function(){r.unsubscribe(o)},i},e(function(o,i,s){r.reason||(r.reason=new Zf(o,i,s),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new yM(function(a){e=a}),cancel:e}}};function YG(t){return function(n){return t.apply(null,n)}}function XG(t){return _e.isObject(t)&&t.isAxiosError===!0}const kw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(kw).forEach(([t,e])=>{kw[e]=t});function bM(t){const e=new kc(t),n=YD(kc.prototype.request,e);return _e.extend(n,kc.prototype,e,{allOwnKeys:!0}),_e.extend(n,e,null,{allOwnKeys:!0}),n.create=function(a){return bM(Fc(t,a))},n}const tt=bM(Xm);tt.Axios=kc;tt.CanceledError=Zf;tt.CancelToken=KG;tt.isCancel=cM;tt.VERSION=vM;tt.toFormData=Ab;tt.AxiosError=Bt;tt.Cancel=tt.CanceledError;tt.all=function(e){return Promise.all(e)};tt.spread=YG;tt.isAxiosError=XG;tt.mergeConfig=Fc;tt.AxiosHeaders=Ga;tt.formToJSON=t=>uM(_e.isHTMLForm(t)?new FormData(t):t);tt.getAdapter=gM.getAdapter;tt.HttpStatusCode=kw;tt.default=tt;const{Axios:Zfe,AxiosError:Jfe,CanceledError:ehe,isCancel:the,CancelToken:nhe,VERSION:rhe,all:ahe,Cancel:ohe,isAxiosError:ihe,spread:she,toFormData:lhe,AxiosHeaders:uhe,HttpStatusCode:che,formToJSON:dhe,getAdapter:fhe,mergeConfig:hhe}=tt,QG=Uc(E("path",{d:"M9 21c0 .5.4 1 1 1h4c.6 0 1-.5 1-1v-1H9zm3-19C8.1 2 5 5.1 5 9c0 2.4 1.2 4.5 3 5.7V17c0 .5.4 1 1 1h6c.6 0 1-.5 1-1v-2.3c1.8-1.3 3-3.4 3-5.7 0-3.9-3.1-7-7-7"}),"Lightbulb"),ZG=Uc(E("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),JG=Uc(E("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send"),RR=Uc(E("path",{d:"M20 9V7c0-1.1-.9-2-2-2h-3c0-1.66-1.34-3-3-3S9 3.34 9 5H6c-1.1 0-2 .9-2 2v2c-1.66 0-3 1.34-3 3s1.34 3 3 3v4c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-4c1.66 0 3-1.34 3-3s-1.34-3-3-3M7.5 11.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5S9.83 13 9 13s-1.5-.67-1.5-1.5M16 17H8v-2h8zm-1-4c-.83 0-1.5-.67-1.5-1.5S14.17 10 15 10s1.5.67 1.5 1.5S15.83 13 15 13"}),"SmartToy"),eK=({userId:t})=>{const[e,n]=O.useState([]),[r,a]=O.useState(""),[o,i]=O.useState(!1),[s,u]=O.useState([]),c=O.useRef(null);O.useEffect(()=>{t&&(async()=>{try{const y=(await tt.get(`https://edunova-back-rqxc.onrender.com/api/gemini/history/${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data.flatMap(b=>[{text:b.question,sender:"user"},{text:b.answer,sender:"ai"}]);n(y)}catch(g){console.error("Error loading chat history:",g)}})()},[t]),O.useEffect(()=>{var m;(m=c.current)==null||m.scrollIntoView({behavior:"smooth"})},[e]);const f=async()=>{if(!r.trim()||o)return;i(!0);const m={text:r,sender:"user"};n(g=>[...g,m]),a("");try{const g=await tt.post("https://edunova-back-rqxc.onrender.com/api/gemini/ask",{question:r,userId:t},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),y={text:g.data.answer,sender:"ai"};n(b=>[...b,y]),u(g.data.recommendations||[])}catch(g){console.error("AI Error:",g),n(y=>{var b,x;return[...y,{text:((x=(b=g.response)==null?void 0:b.data)==null?void 0:x.error)||"Sorry, I couldn't process your request.",sender:"ai"}]})}finally{i(!1)}},h=m=>{m.key==="Enter"&&!m.shiftKey&&(m.preventDefault(),f())};return K(Fi,{sx:{display:"flex",flexDirection:"column",height:"100%",maxWidth:"800px",margin:"0 auto",bgcolor:"background.paper",borderRadius:2,boxShadow:3,overflow:"hidden"},children:[K(Fi,{sx:{p:2,bgcolor:"primary.main",color:"primary.contrastText",display:"flex",alignItems:"center"},children:[E(RR,{sx:{mr:1}}),E(Wx,{variant:"h6",children:"AI Learning Assistant"})]}),E(Fi,{sx:{flex:1,overflowY:"auto",p:2,bgcolor:"background.default"},children:K(TD,{children:[e.map((m,g)=>K(gt.Fragment,{children:[E(G3,{sx:{justifyContent:m.sender==="user"?"flex-end":"flex-start",alignItems:"flex-start",px:0},children:K(Fi,{sx:{display:"flex",flexDirection:m.sender==="user"?"row-reverse":"row",alignItems:"flex-start",gap:1,maxWidth:"90%"},children:[E(U$,{sx:{bgcolor:m.sender==="user"?"secondary.main":"primary.main",width:32,height:32},children:m.sender==="user"?E(ZG,{fontSize:"small"}):E(RR,{fontSize:"small"})}),E(Fi,{sx:{p:1.5,borderRadius:m.sender==="user"?"18px 18px 0 18px":"18px 18px 18px 0",bgcolor:m.sender==="user"?"secondary.light":"primary.light",wordBreak:"break-word",maxWidth:"100%",maxHeight:200,overflowY:"auto"},children:E(Wx,{variant:"body1",sx:{whiteSpace:"pre-wrap"},children:m.text})})]})}),g<e.length-1&&E(CD,{component:"li",sx:{my:1}})]},g)),o&&E(G3,{sx:{justifyContent:"flex-start"},children:E(iU,{size:24})}),E("div",{ref:c})]})}),s.length>0&&K(Fi,{sx:{p:2,bgcolor:"warning.light",borderTop:"1px solid",borderColor:"divider"},children:[K(Fi,{sx:{display:"flex",alignItems:"center",mb:1},children:[E(QG,{color:"warning",sx:{mr:1}}),E(Wx,{variant:"subtitle1",color:"text.secondary",children:"Recommended Resources"})]}),E(Fi,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:s.map((m,g)=>E(b$,{label:m.title,onClick:()=>window.open(m.url,"_blank"),sx:{cursor:"pointer"},size:"small"},g))})]}),E(Fi,{sx:{p:2,borderTop:"1px solid",borderColor:"divider",bgcolor:"background.paper"},children:K(Fi,{sx:{display:"flex",gap:1},children:[E(Nj,{fullWidth:!0,multiline:!0,maxRows:4,value:r,onChange:m=>a(m.target.value),onKeyDown:h,placeholder:"Ask your AI tutor anything...",disabled:o,variant:"outlined",size:"small"}),E(r9,{color:"primary",onClick:f,disabled:o||!r.trim(),sx:{alignSelf:"flex-end"},children:E(JG,{})})]})})]})},tK=()=>{const[t,e]=O.useState({loading:!1,resumeLink:"",error:"",selectedFile:null}),n=o=>{const i=o.target.files[0];if(i){if(i.type!=="application/pdf"){e(s=>({...s,error:"Please upload a PDF file",selectedFile:null}));return}if(i.size>5*1024*1024){e(s=>({...s,error:"File size must be less than 5MB",selectedFile:null}));return}e(s=>({...s,selectedFile:i,error:""}))}},r=async()=>{try{const o=`https://edunova-back-rqxc.onrender.com${t.resumeLink}`,i=await fetch(o,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!i.ok)throw new Error("Failed to fetch PDF");const s=await i.blob(),u=window.URL.createObjectURL(s),c=document.createElement("a");c.href=u,c.download=t.resumeLink.split("/").pop()||"resume.pdf",document.body.appendChild(c),c.click(),window.URL.revokeObjectURL(u),document.body.removeChild(c)}catch(o){e(i=>({...i,error:o.message||"Failed to download resume"}))}},a=async()=>{if(!t.selectedFile){e(o=>({...o,error:"Please select a PDF file"}));return}e(o=>({...o,loading:!0,error:""}));try{const o=localStorage.getItem("userId");if(!o)throw new Error("User not authenticated");const i=new FormData;i.append("pdf",t.selectedFile),i.append("userId",o);const s=await tt.post("https://edunova-back-rqxc.onrender.com/api/gemini/generate-resume",i,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!s.data.file)throw new Error("No file URL returned from server");e(u=>({...u,loading:!1,resumeLink:s.data.file}))}catch(o){let i="Failed to generate resume";o.response?i=o.response.data.error||o.response.statusText:o.request?i="No response from server":i=o.message,e(s=>({...s,loading:!1,error:i}))}};return K("div",{className:"generate-resume p-3",style:{maxWidth:"500px"},children:[E("h2",{className:"mb-3",children:"Generate Enhanced Resume"}),K("div",{className:"mb-3",children:[K("label",{className:"form-label d-block",children:["Upload your current resume (PDF, max 5MB):",E("input",{type:"file",className:"form-control mt-2",accept:"application/pdf",onChange:n,disabled:t.loading})]}),t.selectedFile&&K("div",{className:"mt-2 text-muted",children:["Selected: ",t.selectedFile.name,"(",(t.selectedFile.size/1024/1024).toFixed(2)," MB)"]})]}),E("button",{onClick:a,disabled:t.loading||!t.selectedFile,className:"btn btn-primary w-100",children:t.loading?K(kn,{children:[E("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"Generating..."]}):"Generate Enhanced Resume"}),t.error&&E("div",{className:"alert alert-danger mt-3 mb-0",children:t.error}),t.resumeLink&&K("div",{className:"mt-3 text-center",children:[E("div",{className:"alert alert-success",children:"Your enhanced resume is ready!"}),K("div",{className:"d-flex gap-2 justify-content-center",children:[K("button",{onClick:()=>window.open(t.resumeLink,"_blank"),className:"btn btn-primary",children:[E("i",{className:"bi bi-eye me-2"}),"View Resume"]}),K("button",{onClick:r,className:"btn btn-success",children:[E("i",{className:"bi bi-download me-2"}),"Download"]})]})]})]})},nK=()=>{const[t,e]=O.useState(""),[n,r]=O.useState([]),[a,o]=O.useState("");return ls(),O.useEffect(()=>{const i=["https://img.icons8.com/color/96/000000/mental-health.png","https://img.icons8.com/color/96/000000/medal2.png","https://img.icons8.com/color/96/000000/positive-dynamic.png"],s=["Every expert has been a beginner.","Believe in yourself and all that you are.","The only way to do great work is to love what you do.","Success is not the key to happiness. Happiness is the key to success."];r(s),e(i[Math.floor(Math.random()*i.length)]),o(s[Math.floor(Math.random()*s.length)]);const u=setInterval(()=>{o(s[Math.floor(Math.random()*s.length)])},3e4);return()=>clearInterval(u)},[]),K("div",{style:{position:"fixed",bottom:"20px",right:"20px",backgroundColor:"white",padding:"15px",borderRadius:"10px",boxShadow:"0 4px 8px rgba(0,0,0,0.1)",display:"flex",alignItems:"center",zIndex:1e3},children:[E("img",{src:t,alt:"Avatar motivationnel",style:{width:"60px",height:"60px",marginRight:"15px"}}),K("div",{children:[E("p",{style:{margin:0,fontWeight:"bold",color:"#333"},children:a}),E("small",{style:{color:"#666"},children:"You are in a good way"})]})]})};function rK(){const t=ls(),{pathname:e}=OS(),n=e==="/home",[r,a]=O.useState(null),[o,i]=O.useState(0),[s,u]=O.useState(!1),[c,f]=O.useState(!1),[h,m]=O.useState(!1),[g,y]=O.useState(!0),[b,x]=O.useState(!1),S=localStorage.getItem("firstName"),R=localStorage.getItem("lastName"),_=S&&R?`${S} ${R}`:"Guest";O.useEffect(()=>{let G=window;["body","html","#root","main"].some(V=>{const B=document.querySelector(V);return B&&B.scrollHeight>B.clientHeight?(G=B,!0):!1}),a(G)},[]),O.useEffect(()=>{if(!r)return;const G=()=>{const V=r===window?window.scrollY:r.scrollTop;i(V)};return r.addEventListener("scroll",G),G(),()=>r.removeEventListener("scroll",G)},[r]),O.useEffect(()=>{const G=new URLSearchParams(window.location.search).get("token");if(G)try{const V=JSON.parse(atob(G.split(".")[1]));[["token",G],["userId",V.userId],["email",V.email],["role",V.role],["firstName",V.firstName],["lastName",V.lastName],["image",V.photo]].forEach(([B,F])=>localStorage.setItem(B,F)),t("/home",{replace:!0})}catch(V){console.error("JWT decode error",V)}},[t]);const T=async()=>{try{if(!localStorage.getItem("token"))throw new Error("Aucun token trouvé dans localStorage");const V=await fetch("https://edunova-back-rqxc.onrender.com/api/auth/signout",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!V.ok){const B=await V.json();throw new Error(B.message||"Échec de la déconnexion")}localStorage.clear(),window.location.href="/"}catch(G){console.error("Erreur lors de la déconnexion:",G.message),alert("Erreur lors de la déconnexion : "+G.message)}},A=()=>u(G=>!G),D=()=>f(G=>!G),N=()=>x(G=>!G),M=()=>m(G=>!G),P=o>0,I=n&&o===0,$=["header",(P||!n)&&"header-scrolled","d-flex","align-items-center","fixed-top"].filter(Boolean).join(" "),z=["logo",I&&"logo-fixed-center",(P||!n)&&"logo-scrolled"].filter(Boolean).join(" ");return K(kn,{children:[g&&E(nK,{}),E("header",{id:"header",className:$,children:K("div",{className:"container-fluid container-xl position-relative d-flex align-items-center",children:[K("a",{href:"/home",className:z,style:{textDecoration:"none"},children:[E("img",{src:"../assets/logolog.png",alt:"EduNova",style:{height:"1.5em"}}),E("h1",{style:{margin:0,fontSize:"1.5rem"},children:"EduNova"})]}),E("button",{className:"mobile-nav-toggle d-xl-none",onClick:N,"aria-label":"Toggle navigation",children:E("i",{className:`bi ${b?"bi-x":"bi-list"}`})}),K("nav",{id:"navmenu",className:`navmenu d-none d-xl-flex ${b?"navmenu-mobile-open":""}`,children:[K("ul",{children:[E("li",{children:E("a",{href:"/home",className:e==="/home"?"active":"",children:"Home"})}),E("li",{children:E("a",{href:"/listModules",children:"Modules"})}),K("li",{className:"dropdown",children:[K("a",{href:"#",children:[E("span",{children:"Game"})," ",E("i",{className:"bi bi-chevron-down toggle-dropdown"})]}),K("ul",{children:[E("li",{children:E("a",{href:"/ClassicWordGame",children:"Words Game"})}),E("li",{children:E("a",{href:"/quizz",children:"Quiz Game"})})]})]}),E("li",{children:E("a",{href:"/badges",children:"Badges"})}),E("li",{children:E("a",{href:"/About",children:"About"})}),E("li",{children:E("a",{href:"/forum",children:"Forum"})}),E("li",{children:E("a",{href:"/music-player",children:"Enjoy music"})}),E("li",{children:E(xq,{})}),K("li",{className:"dropdown",children:[K("button",{className:"btn-getstarted",onClick:A,children:[_," ",E("i",{className:"bi bi-chevron-down"})]}),s&&K("ul",{children:[E("li",{children:E("a",{href:"/update",children:"Profile"})}),E("li",{className:"dropdown-item",children:E("a",{href:"/lesson",children:"Courses"})}),E("li",{children:E("a",{href:"/calendar",children:"Calendar"})}),E("li",{children:E("a",{href:"/changePassword",children:"Change Password"})}),E("li",{children:E("a",{href:"/videochat",children:"Video Call"})}),localStorage.getItem("role")==="Admin"&&E("li",{children:E("a",{href:"/dashboard",children:"Dashboard"})}),E("li",{children:K("button",{className:"dropdown-item",onClick:D,children:[E("i",{className:"bi bi-robot"})," AI Tutor"]})}),E("li",{children:K("button",{className:"dropdown-item",onClick:M,children:[E("i",{className:"bi bi-file-earmark-person"})," Generate Resume"]})}),E("li",{children:E("button",{onClick:T,children:"Logout"})})]})]})]}),E("i",{className:"mobile-nav-toggle d-xl-none bi bi-list"})]})]})}),c&&K("div",{className:"ai-tutor-modal",style:{position:"fixed",bottom:"20px",right:"20px",width:"400px",maxHeight:"70vh",backgroundColor:"white",borderRadius:"10px",boxShadow:"0 5px 15px rgba(0,0,0,0.3)",zIndex:1e3,display:"flex",flexDirection:"column"},children:[K("div",{className:"ai-tutor-header",style:{padding:"15px",backgroundColor:"#1976d2",color:"white",borderRadius:"10px 10px 0 0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[E("h5",{style:{margin:0},children:"AI Learning Assistant"}),E("button",{onClick:D,style:{background:"transparent",border:"none",color:"white",fontSize:"1.2rem",cursor:"pointer"},children:"×"})]}),E("div",{style:{flex:1,overflow:"hidden"},children:E(eK,{userId:localStorage.getItem("userId")})})]}),h&&K("div",{style:{position:"fixed",bottom:"20px",left:"20px",width:"400px",maxHeight:"70vh",backgroundColor:"white",borderRadius:"10px",boxShadow:"0 5px 15px rgba(0,0,0,0.3)",zIndex:1e3,display:"flex",flexDirection:"column"},children:[K("div",{className:"generate-resume-header",style:{padding:"15px",backgroundColor:"#1976d2",color:"white",borderRadius:"10px 10px 0 0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[E("h5",{style:{margin:0},children:"Generate Resume"}),E("button",{onClick:M,style:{background:"transparent",border:"none",color:"white",fontSize:"1.2rem",cursor:"pointer"},children:"×"})]}),E("div",{style:{flex:1,overflow:"hidden"},children:E(tK,{})})]})]})}const aK=()=>E("footer",{id:"footer",className:"footer bg-light w-100 fixed-bottom",style:{zIndex:1e3},children:E("div",{className:"container-fluid footer-top py-4",children:K("div",{className:"row gy-4",children:[K("div",{className:"col-lg-4 col-md-6 footer-about",children:[E("a",{href:"index.html",className:" d-flex align-items-center",children:E("h1",{className:"sitename-footer",children:"EduNova"})}),K("div",{className:"footer-contact pt-3",children:[E("p",{children:"ESPRIT"}),E("p",{children:"Little Ariana"}),K("p",{className:"mt-3",children:[E("strong",{children:"Phone:"})," ",E("span",{children:"+1 5589 55488 55"})]}),K("p",{children:[E("strong",{children:"Email:"})," ",E("span",{children:"info@example.com"})]})]}),K("div",{className:"social-links d-flex mt-4",children:[E("a",{href:"#",children:E("i",{className:"bi bi-twitter-x"})}),E("a",{href:"#",children:E("i",{className:"bi bi-facebook"})}),E("a",{href:"#",children:E("i",{className:"bi bi-instagram"})}),E("a",{href:"#",children:E("i",{className:"bi bi-linkedin"})})]})]}),K("div",{className:"col-lg-2 col-md-3 footer-links",children:[E("h4",{children:"Useful Links"}),K("ul",{children:[E("li",{children:E("a",{href:"#",children:"Home"})}),E("li",{children:E("a",{href:"#",children:"About us"})}),E("li",{children:E("a",{href:"#",children:"Services"})}),E("li",{children:E("a",{href:"#",children:"Terms of service"})}),E("li",{children:E("a",{href:"#",children:"Privacy policy"})})]})]}),K("div",{className:"col-lg-2 col-md-3 footer-links",children:[E("h4",{children:"Our Services"}),K("ul",{children:[E("li",{children:E("a",{href:"#",children:"Web Design"})}),E("li",{children:E("a",{href:"#",children:"Web Development"})}),E("li",{children:E("a",{href:"#",children:"Product Management"})}),E("li",{children:E("a",{href:"#",children:"Marketing"})}),E("li",{children:E("a",{href:"#",children:"Graphic Design"})})]})]}),K("div",{className:"col-lg-4 col-md-12 footer-newsletter",children:[E("h4",{children:"Our Newsletter"}),E("p",{children:"Subscribe to our newsletter and receive the latest news about our products and services!"}),K("form",{action:"forms/newsletter.php",method:"post",className:"php-email-form",children:[K("div",{className:"newsletter-form d-flex",children:[E("input",{type:"email",name:"email",placeholder:"Enter your email",className:"flex-grow-1 me-2"}),E("input",{type:"submit",value:"Subscribe",className:"btn btn-primary"})]}),E("div",{className:"loading",children:"Loading"}),E("div",{className:"error-message"})]})]})]})})}),oK=()=>K(kn,{children:[E(rK,{}),E("main",{children:E(DF,{})}),E(aK,{})]}),gr=({children:t})=>{const e=localStorage.getItem("token"),n=localStorage.getItem("role");return!e||n!=="Admin"?(console.log("Redirection vers /"),E(MF,{to:"/",replace:!0})):t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var xM=function(t,e){return(xM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a])})(t,e)};function fi(t,e){function n(){this.constructor=t}xM(t,e),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function Je(t,e,n,r){return new(n||(n=Promise))(function(a,o){function i(c){try{u(r.next(c))}catch(f){o(f)}}function s(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):new n(function(f){f(c.value)}).then(i,s)}u((r=r.apply(t,[])).next())})}function et(t,e){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(c){return function(f){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&f[0]?r.return:f[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,f[1])).done)return a;switch(r=0,a&&(f=[2&f[0],a.value]),f[0]){case 0:case 1:a=f;break;case 4:return i.label++,{value:f[1],done:!1};case 5:i.label++,r=f[1],f=[0];continue;case 7:f=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){i=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){i.label=f[1];break}if(f[0]===6&&i.label<a[1]){i.label=a[1],a=f;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(f);break}a[2]&&i.ops.pop(),i.trys.pop();continue}f=e.call(t,i)}catch(h){f=[6,h],r=0}finally{n=a=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}([u,c])}}}var iK=function(){function t(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.populateURLFlags()}return t.prototype.setPlatform=function(e,n){this.platform!=null&&console.warn("Platform "+this.platformName+" has already been set. Overwriting the platform with "+n+"."),this.platformName=e,this.platform=n},t.prototype.registerFlag=function(e,n,r){if(this.flagRegistry[e]={evaluationFn:n,setHook:r},this.urlFlags[e]!=null){var a=this.urlFlags[e];console.warn("Setting feature override from URL "+e+": "+a+"."),this.set(e,a)}},t.prototype.get=function(e){return e in this.flags?this.flags[e]:(this.flags[e]=this.evaluateFlag(e),this.flags[e])},t.prototype.getNumber=function(e){return this.get(e)},t.prototype.getBool=function(e){return this.get(e)},t.prototype.getFlags=function(){return this.flags},Object.defineProperty(t.prototype,"features",{get:function(){return this.flags},enumerable:!0,configurable:!0}),t.prototype.set=function(e,n){if(this.flagRegistry[e]==null)throw new Error("Cannot set flag "+e+" as it has not been registered.");this.flags[e]=n,this.flagRegistry[e].setHook!=null&&this.flagRegistry[e].setHook(n)},t.prototype.evaluateFlag=function(e){if(this.flagRegistry[e]==null)throw new Error("Cannot evaluate flag '"+e+"': no evaluation function found.");return this.flagRegistry[e].evaluationFn()},t.prototype.setFlags=function(e){this.flags=Object.assign({},e)},t.prototype.reset=function(){this.flags={},this.urlFlags={},this.populateURLFlags()},t.prototype.populateURLFlags=function(){var e=this;if(this.global!==void 0&&this.global.location!==void 0&&this.global.location.search!==void 0){var n,r,a=(n=this.global.location.search,r={},n.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,function(o){for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];return sK(r,i[0],i[1]),i.join("=")}),r);"tfjsflags"in a&&a.tfjsflags.split(",").forEach(function(o){var i=o.split(":"),s=i[0],u=i[1];e.urlFlags[s]=function(c,f){if((f=f.toLowerCase())==="true"||f==="false")return f==="true";if(""+ +f===f)return+f;throw new Error("Could not parse value flag value "+f+" for flag "+c+".")}(s,u)})}},t}();function sK(t,e,n){t[decodeURIComponent(e)]=decodeURIComponent(n||"")}function Ee(){return wM}var wM=null,vy=new Map,Nw=new Map;function SM(t,e){var n=CM(t,e);return vy.get(n)}function lK(t){return Nw.get(t)}function AR(t){for(var e=vy.entries(),n=[];;){var r=e.next(),a=r.done,o=r.value;if(a)break;var i=o[0],s=o[1];i.split("_")[0]===t&&n.push(s)}return n}function _M(t){var e=t.kernelName,n=t.backendName,r=CM(e,n);if(vy.has(r))throw new Error("The kernel '"+e+"' for backend '"+n+"' is already registered");vy.set(r,t)}function uK(t){var e=t.kernelName;Nw.has(e)&&console.warn("Overriding the gradient for '"+e+"'"),Nw.set(e,t)}function CM(t,e){return e+"_"+t}function Ow(t,e,n){return Math.max(t,Math.min(e,n))}function EM(t){return t%2==0?t:t+1}function cK(t){for(var e=0,n=0;n<t.length;n++)e+=t[n];return e}function ee(t,e){if(!t)throw new Error(typeof e=="string"?e:e())}function vn(t,e,n){n===void 0&&(n=""),ee(Fr(t,e),function(){return n+" Shapes "+t+" and "+e+" must match"})}function Jf(t){ee(t!=null,function(){return"The input to the tensor constructor must be a non-null value."})}function Bf(t,e,n){if(e===void 0&&(e=[]),n===void 0&&(n=!1),e==null&&(e=[]),Array.isArray(t)||es(t)&&!n)for(var r=0;r<t.length;++r)Bf(t[r],e,n);else e.push(t);return e}function nt(t){if(t.length===0)return 1;for(var e=t[0],n=1;n<t.length;n++)e*=t[n];return e}function Fr(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function cr(t){return t%1==0}function dK(t){if(Math.tanh!=null)return Math.tanh(t);if(t===1/0)return 1;if(t===-1/0)return-1;var e=Math.exp(2*t);return(e-1)/(e+1)}function Dw(t){var e=Math.ceil(Math.sqrt(t));return[e,Math.ceil(t/e)]}function ff(t,e){return e<=t.length?t:t+" ".repeat(e-t.length)}function kR(t,e,n){return e===void 0&&(e=function(r){return 0}),new Promise(function(r,a){var o=0,i=function(){if(t())r();else{o++;var s=e(o);n!=null&&o>=n?a():setTimeout(i,s)}};i()})}function fK(t,e){for(var n=1,r=-1,a=0;a<t.length;++a)if(t[a]>=0)n*=t[a];else if(t[a]===-1){if(r!==-1)throw Error("Shapes can only have 1 implicit size. Found -1 at dim "+r+" and dim "+a);r=a}else if(t[a]<0)throw Error("Shapes can not be < 0. Found "+t[a]+" at dim "+a);if(r===-1){if(e>0&&e!==n)throw Error("Size("+e+") must match the product of shape "+t);return t}if(n===0)throw Error("Cannot infer the missing size in ["+t+"] when there are 0 elements");if(e%n!=0)throw Error("The implicit shape can't be a fractional number. Got "+e+" / "+n);var o=t.slice();return o[r]=e/n,o}function Nr(t,e){var n=e.length;return ee((t=t==null?e.map(function(r,a){return a}):[].concat(t)).every(function(r){return r>=-n&&r<n}),function(){return"All values in axis param must be in range [-"+n+", "+n+") but got axis "+t}),ee(t.every(function(r){return cr(r)}),function(){return"All values in axis param must be integers but got axis "+t}),t.map(function(r){return r<0?n+r:r})}function pc(t,e){for(var n=[],r=[],a=e!=null&&Array.isArray(e)&&e.length===0,o=e==null||a?null:Nr(e,t).sort(),i=0,s=0;s<t.length;++s){if(o!=null){if(o[i]===s&&t[s]!==1)throw new Error("Can't squeeze axis "+s+" since its dim '"+t[s]+"' is not 1");(o[i]==null||o[i]>s)&&t[s]===1&&(n.push(t[s]),r.push(s)),o[i]<=s&&i++}t[s]!==1&&(n.push(t[s]),r.push(s))}return{newShape:n,keptDims:r}}function mm(t,e){var n=null;if(t==null||t==="float32")n=new Float32Array(e);else if(t==="int32")n=new Int32Array(e);else{if(t!=="bool")throw new Error("Unknown data type "+t);n=new Uint8Array(e)}return n}function yy(t,e){var n=null;if(t==null||t==="float32")n=new Float32Array(e);else if(t==="int32")n=new Int32Array(e);else if(t==="bool")n=new Uint8Array(e);else{if(t!=="string")throw new Error("Unknown data type "+t);n=new Array(e)}return n}function hK(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type "+e+" being uploaded contains "+r+".")}}function pK(t){return t==="bool"||t==="complex64"||t==="float32"||t==="int32"||t==="string"}function mK(t,e){return e!=="complex64"&&(e!=="float32"||t==="complex64")&&(e!=="int32"||t==="float32"||t==="complex64")&&(e!=="bool"||t!=="bool")}function es(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array}function TM(t){if(t==="float32"||t==="int32")return 4;if(t==="complex64")return 8;if(t==="bool")return 1;throw new Error("Unknown dtype "+t)}function gK(t){if(t==null)return 0;var e=0;return t.forEach(function(n){return e+=n.length}),e}function m_(t){return typeof t=="string"||t instanceof String}function vK(t){return typeof t=="boolean"}function yK(t){return typeof t=="number"}function Qm(t){return Array.isArray(t)?Qm(t[0]):t instanceof Float32Array?"float32":t instanceof Int32Array||t instanceof Uint8Array?"int32":yK(t)?"float32":m_(t)?"string":vK(t)?"bool":"float32"}function Mw(t){return!!(t&&t.constructor&&t.call&&t.apply)}function Pw(t,e){for(var n=e;n<t;++n)if(t%n==0)return n;return t}function ts(t){var e=t.length;if(e<2)return[];var n=new Array(e-1);n[e-2]=t[e-1];for(var r=e-3;r>=0;--r)n[r]=n[r+1]*t[r+1];return n}function RM(t,e,n){if(e==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(t)&&(t=Bf(t)),n&&hK(t,e),function(o,i){return o instanceof Float32Array&&i==="float32"||o instanceof Int32Array&&i==="int32"||o instanceof Uint8Array&&i==="bool"}(t,e))return t;if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool"){for(var r=new Uint8Array(t.length),a=0;a<r.length;++a)Math.round(t[a])!==0&&(r[a]=1);return r}throw new Error("Unknown data type "+e)}function NR(t,e){if(t.length===0)return e[0];var n=t.reduce(function(r,a){return r*a});if(n===0)return[];if(n!==e.length)throw new Error("["+t+"] does not match the input size.");return function r(a,o,i){var s=new Array;if(o.length===1)for(var u=o[0],c=0;c<u;c++)s[c]=i[a+c];else{u=o[0];var f=o.slice(1),h=f.reduce(function(m,g){return m*g});for(c=0;c<u;c++)s[c]=r(a+c*h,f,i)}return s}(0,t,e)}function AM(t,e){for(var n=Zm(t,e),r=0;r<n.length;r++)n[r]=1;return n}function Zm(t,e){if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool")return new Uint8Array(t);throw new Error("Unknown data type "+e)}function qi(){return Ee().platform.now()}function kM(t){t.forEach(function(e){ee(Number.isInteger(e)&&e>=0,function(){return"Tensor must have a shape comprised of positive integers but got shape ["+t+"]."})})}function bK(t,e){return e===void 0&&(e="utf-8"),e=e||"utf-8",Ee().platform.encode(t,e)}function by(t,e){return e===void 0&&(e="utf-8"),e=e||"utf-8",Ee().platform.decode(t,e)}function OR(t,e,n){if(e===0)return 0;if(e===1)return t[0];for(var r=t[t.length-1],a=0;a<t.length-1;++a)r+=n[a]*t[a];return r}function xK(t,e,n){if(e===0)return[];if(e===1)return[t];for(var r=new Array(e),a=0;a<r.length-1;++a)r[a]=Math.floor(t/n[a]),t-=r[a]*n[a];return r[r.length-1]=t,r}var wK=function(){function t(e,n){this.backendTimer=e,this.logger=n,n==null&&(this.logger=new SK)}return t.prototype.profileKernel=function(e,n,r){var a,o=this,i=this.backendTimer.time(function(){a=r()});return a.forEach(function(s){s.data().then(function(u){(function(c,f,h){if(f!=="float32")return!1;for(var m=0;m<c.length;m++){var g=c[m];if(isNaN(g)||!isFinite(g))return console.warn("Found "+g+" in the result of '"+h+"'"),!0}})(u,s.dtype,e),i.then(function(c){var f="";c.getExtraProfileInfo!=null&&(f=c.getExtraProfileInfo()),o.logger.logKernelProfile(e,s,u,c.kernelMs,n,f)})})}),a},t}(),SK=function(){function t(){}return t.prototype.logKernelProfile=function(e,n,r,a,o,i){var s=typeof a=="number"?ff(a+"ms",9):a.error,u=ff(e,25),c=n.rank,f=n.size,h=ff(n.shape.toString(),14),m="";for(var g in o){var y=o[g].shape||n.shape,b=y.length;m+=g+": "+b+"D "+(b>0?y:"")+" "}console.log("%c"+u+"	%c"+s+"	%c"+c+"D "+h+"	%c"+f+"	%c"+m+"	%c"+i,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")},t}(),DR=20,Pp=3,e2=7;function _K(t,e,n,r){var a=ts(e),o=function(c,f,h,m){var g=nt(f),y=m[m.length-1],b=new Array(y).fill(0),x=f.length,S=h==="complex64"?Lp(c):c;if(x>1)for(var R=0;R<g/y;R++)for(var _=R*y,T=0;T<y;T++)b[T]=Math.max(b[T],Ip(S[_+T],0,h).length);return b}(t,e,n,a),i=e.length,s=function c(f,h,m,g,y,b){b===void 0&&(b=!0);var x=m==="complex64"?2:1,S=h[0],R=h.length;if(R===0)return m==="complex64"?[Ip(Lp(f)[0],0,m)]:m==="bool"?[NM(f[0])]:[f[0].toString()];if(R===1){if(S>DR){var _=Pp*x,T=Array.from(f.slice(0,_)),A=Array.from(f.slice((S-Pp)*x,S*x));return m==="complex64"&&(T=Lp(T),A=Lp(A)),["["+T.map(function(B,F){return Ip(B,y[F],m)}).join(", ")+", ..., "+A.map(function(B,F){return Ip(B,y[S-Pp+F],m)}).join(", ")+"]"]}return["["+(m==="complex64"?Lp(f):Array.from(f)).map(function(B,F){return Ip(B,y[F],m)}).join(", ")+"]"]}var D=h.slice(1),N=g.slice(1),M=g[0]*x,P=[];if(S>DR){for(var I=0;I<Pp;I++){var $=(z=I*M)+M;P.push.apply(P,c(f.slice(z,$),D,m,N,y,!1))}for(P.push("..."),I=S-Pp;I<S;I++)$=(z=I*M)+M,P.push.apply(P,c(f.slice(z,$),D,m,N,y,I===S-1))}else for(I=0;I<S;I++){var z;$=(z=I*M)+M,P.push.apply(P,c(f.slice(z,$),D,m,N,y,I===S-1))}var G=R===2?",":"";for(P[0]="["+P[0]+G,I=1;I<P.length-1;I++)P[I]=" "+P[I]+G;var V=`,
`;for(I=2;I<R;I++)V+=`
`;return P[P.length-1]=" "+P[P.length-1]+"]"+(b?"":V),P}(t,e,n,a,o),u=["Tensor"];return r&&(u.push("  dtype: "+n),u.push("  rank: "+i),u.push("  shape: ["+e+"]"),u.push("  values:")),u.push(s.map(function(c){return"    "+c}).join(`
`)),u.join(`
`)}function Ip(t,e,n){return ff(Array.isArray(t)?parseFloat(t[0].toFixed(e2))+" + "+parseFloat(t[1].toFixed(e2))+"j":m_(t)?"'"+t+"'":n==="bool"?NM(t):parseFloat(t.toFixed(e2)).toString(),e)}function NM(t){return t===0?"false":"true"}function Lp(t){for(var e=[],n=0;n<t.length;n+=2)e.push([t[n],t[n+1]]);return e}var gm=function(){function t(e,n,r){var a=this;if(this.dtype=n,this.shape=e.slice(),this.size=nt(e),r!=null){var o=r.length;ee(o===this.size,function(){return"Length of values '"+o+"' does not match the size inferred by the shape '"+a.size+"'."})}if(n==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||yy(n,this.size),this.strides=ts(e)}return t.prototype.set=function(e){for(var n=this,r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];r.length===0&&(r=[0]),ee(r.length===this.rank,function(){return"The number of provided coordinates ("+r.length+") must match the rank ("+n.rank+")"});var o=this.locToIndex(r);this.values[o]=e},t.prototype.get=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];e.length===0&&(e=[0]);for(var r=0,a=0,o=e;a<o.length;a++){var i=o[a];if(i<0||i>=this.shape[r]){var s="Requested out of range element at "+e+".   Buffer shape="+this.shape;throw new Error(s)}r++}for(var u=e[e.length-1],c=0;c<e.length-1;++c)u+=this.strides[c]*e[c];return this.values[u]},t.prototype.locToIndex=function(e){if(this.rank===0)return 0;if(this.rank===1)return e[0];for(var n=e[e.length-1],r=0;r<e.length-1;++r)n+=this.strides[r]*e[r];return n},t.prototype.indexToLoc=function(e){if(this.rank===0)return[];if(this.rank===1)return[e];for(var n=new Array(this.shape.length),r=0;r<n.length-1;++r)n[r]=Math.floor(e/this.strides[r]),e-=n[r]*this.strides[r];return n[n.length-1]=e,n},Object.defineProperty(t.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),t.prototype.toTensor=function(){return Gi().makeTensor(this.values,this.shape,this.dtype)},t}(),Gi=null,xe=null,OM=null,qn=function(){function t(e,n,r,a){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=n||"float32",this.size=nt(e),this.strides=ts(e),this.dataId=r,this.id=a,this.rankType=this.rank<5?this.rank.toString():"higher"}return t.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D()},t.prototype.asScalar=function(){return this.throwIfDisposed(),ee(this.size===1,function(){return"The array must have only 1 element."}),this.reshape([])},t.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},t.prototype.as2D=function(e,n){return this.throwIfDisposed(),this.reshape([e,n])},t.prototype.as3D=function(e,n,r){return this.throwIfDisposed(),this.reshape([e,n,r])},t.prototype.as4D=function(e,n,r,a){return this.throwIfDisposed(),this.reshape([e,n,r,a])},t.prototype.as5D=function(e,n,r,a,o){return this.throwIfDisposed(),this.reshape([e,n,r,a,o])},t.prototype.asType=function(e){return this.throwIfDisposed(),xe.cast(this,e)},Object.defineProperty(t.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),t.prototype.buffer=function(){return Je(this,void 0,void 0,function(){var e;return et(this,function(n){switch(n.label){case 0:return[4,this.data()];case 1:return e=n.sent(),[2,xe.buffer(this.shape,this.dtype,e)]}})})},t.prototype.bufferSync=function(){return xe.buffer(this.shape,this.dtype,this.dataSync())},t.prototype.array=function(){return Je(this,void 0,void 0,function(){var e;return et(this,function(n){switch(n.label){case 0:return[4,this.data()];case 1:return e=n.sent(),[2,NR(this.shape,e)]}})})},t.prototype.arraySync=function(){return NR(this.shape,this.dataSync())},t.prototype.data=function(){return Je(this,void 0,void 0,function(){var e,n;return et(this,function(r){switch(r.label){case 0:return this.throwIfDisposed(),e=Gi().read(this.dataId),this.dtype!=="string"?[3,2]:[4,e];case 1:n=r.sent();try{return[2,n.map(function(a){return by(a)})]}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}r.label=2;case 2:return[2,e]}})})},t.prototype.dataSync=function(){this.throwIfDisposed();var e=Gi().readSync(this.dataId);if(this.dtype==="string")try{return e.map(function(n){return by(n)})}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e},t.prototype.bytes=function(){return Je(this,void 0,void 0,function(){var e;return et(this,function(n){switch(n.label){case 0:return this.throwIfDisposed(),[4,Gi().read(this.dataId)];case 1:return e=n.sent(),this.dtype==="string"?[2,e]:[2,new Uint8Array(e.buffer)]}})})},t.prototype.dispose=function(){this.isDisposed||(Gi().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),t.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},t.prototype.toFloat=function(){return this.asType("float32")},t.prototype.toInt=function(){return this.asType("int32")},t.prototype.toBool=function(){return this.asType("bool")},t.prototype.print=function(e){return e===void 0&&(e=!1),xe.print(this,e)},t.prototype.reshape=function(e){return this.throwIfDisposed(),xe.reshape(this,e)},t.prototype.reshapeAs=function(e){return this.throwIfDisposed(),this.reshape(e.shape)},t.prototype.expandDims=function(e){return e===void 0&&(e=0),xe.expandDims(this,e)},t.prototype.cumsum=function(e,n,r){return e===void 0&&(e=0),n===void 0&&(n=!1),r===void 0&&(r=!1),xe.cumsum(this,e,n,r)},t.prototype.squeeze=function(e){return this.throwIfDisposed(),xe.squeeze(this,e)},t.prototype.clone=function(){return this.throwIfDisposed(),xe.clone(this)},t.prototype.oneHot=function(e,n,r){return this.throwIfDisposed(),xe.oneHot(this,e,n,r)},t.prototype.toString=function(e){return e===void 0&&(e=!1),_K(this.dataSync(),this.shape,this.dtype,e)},t.prototype.tile=function(e){return this.throwIfDisposed(),xe.tile(this,e)},t.prototype.gather=function(e,n){return n===void 0&&(n=0),this.throwIfDisposed(),xe.gather(this,e,n)},t.prototype.matMul=function(e,n,r){return n===void 0&&(n=!1),r===void 0&&(r=!1),this.throwIfDisposed(),xe.matMul(this,e,n,r)},t.prototype.dot=function(e){return this.throwIfDisposed(),xe.dot(this,e)},t.prototype.norm=function(e,n,r){return e===void 0&&(e="euclidean"),n===void 0&&(n=null),r===void 0&&(r=!1),this.throwIfDisposed(),xe.norm(this,e,n,r)},t.prototype.slice=function(e,n){return this.throwIfDisposed(),xe.slice(this,e,n)},t.prototype.reverse=function(e){return this.throwIfDisposed(),xe.reverse(this,e)},t.prototype.concat=function(e,n){return n===void 0&&(n=0),this.throwIfDisposed(),e instanceof t&&(e=[e]),xe.concat([this].concat(e),n)},t.prototype.split=function(e,n){return n===void 0&&(n=0),this.throwIfDisposed(),xe.split(this,e,n)},t.prototype.stack=function(e,n){return n===void 0&&(n=0),xe.stack([this,e],n)},t.prototype.unstack=function(e){return e===void 0&&(e=0),xe.unstack(this,e)},t.prototype.pad=function(e,n){return n===void 0&&(n=0),xe.pad(this,e,n)},t.prototype.batchNormalization=function(e,n,r,a,o){return r===void 0&&(r=.001),OM("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon"),this.batchNorm(e,n,o,a,r)},t.prototype.batchNorm=function(e,n,r,a,o){return o===void 0&&(o=.001),this.throwIfDisposed(),xe.batchNorm(this,e,n,r,a,o)},t.prototype.all=function(e,n){return e===void 0&&(e=null),n===void 0&&(n=!1),this.throwIfDisposed(),xe.all(this,e,n)},t.prototype.any=function(e,n){return e===void 0&&(e=null),n===void 0&&(n=!1),this.throwIfDisposed(),xe.any(this,e,n)},t.prototype.logSumExp=function(e,n){return e===void 0&&(e=null),n===void 0&&(n=!1),this.throwIfDisposed(),xe.logSumExp(this,e,n)},t.prototype.sum=function(e,n){return e===void 0&&(e=null),n===void 0&&(n=!1),this.throwIfDisposed(),xe.sum(this,e,n)},t.prototype.prod=function(e,n){return e===void 0&&(e=null),n===void 0&&(n=!1),this.throwIfDisposed(),xe.prod(this,e,n)},t.prototype.mean=function(e,n){return e===void 0&&(e=null),n===void 0&&(n=!1),this.throwIfDisposed(),xe.mean(this,e,n)},t.prototype.min=function(e,n){return e===void 0&&(e=null),n===void 0&&(n=!1),this.throwIfDisposed(),xe.min(this,e,n)},t.prototype.max=function(e,n){return e===void 0&&(e=null),n===void 0&&(n=!1),this.throwIfDisposed(),xe.max(this,e,n)},t.prototype.argMin=function(e){return e===void 0&&(e=null),this.throwIfDisposed(),xe.argMin(this,e)},t.prototype.argMax=function(e){return e===void 0&&(e=null),this.throwIfDisposed(),xe.argMax(this,e)},t.prototype.cast=function(e){return this.throwIfDisposed(),xe.cast(this,e)},t.prototype.add=function(e){return this.throwIfDisposed(),xe.add(this,e)},t.prototype.addStrict=function(e){return this.throwIfDisposed(),xe.addStrict(this,e)},t.prototype.atan2=function(e){return this.throwIfDisposed(),xe.atan2(this,e)},t.prototype.sub=function(e){return this.throwIfDisposed(),xe.sub(this,e)},t.prototype.subStrict=function(e){return this.throwIfDisposed(),xe.subStrict(this,e)},t.prototype.pow=function(e){return this.throwIfDisposed(),xe.pow(this,e)},t.prototype.powStrict=function(e){return this.throwIfDisposed(),xe.powStrict(this,e)},t.prototype.mul=function(e){return this.throwIfDisposed(),xe.mul(this,e)},t.prototype.mulStrict=function(e){return this.throwIfDisposed(),xe.mulStrict(this,e)},t.prototype.div=function(e){return this.throwIfDisposed(),xe.div(this,e)},t.prototype.divNoNan=function(e){return this.throwIfDisposed(),xe.divNoNan(this,e)},t.prototype.floorDiv=function(e){return this.throwIfDisposed(),xe.floorDiv(this,e)},t.prototype.divStrict=function(e){return this.throwIfDisposed(),xe.divStrict(this,e)},t.prototype.minimum=function(e){return this.throwIfDisposed(),xe.minimum(this,e)},t.prototype.minimumStrict=function(e){return this.throwIfDisposed(),xe.minimumStrict(this,e)},t.prototype.maximum=function(e){return this.throwIfDisposed(),xe.maximum(this,e)},t.prototype.maximumStrict=function(e){return this.throwIfDisposed(),xe.maximumStrict(this,e)},t.prototype.mod=function(e){return this.throwIfDisposed(),xe.mod(this,e)},t.prototype.modStrict=function(e){return this.throwIfDisposed(),xe.modStrict(this,e)},t.prototype.squaredDifferenceStrict=function(e){return this.throwIfDisposed(),xe.squaredDifferenceStrict(this,e)},t.prototype.transpose=function(e){return this.throwIfDisposed(),xe.transpose(this,e)},t.prototype.notEqual=function(e){return this.throwIfDisposed(),xe.notEqual(this,e)},t.prototype.notEqualStrict=function(e){return this.throwIfDisposed(),xe.notEqualStrict(this,e)},t.prototype.less=function(e){return this.throwIfDisposed(),xe.less(this,e)},t.prototype.lessStrict=function(e){return this.throwIfDisposed(),xe.lessStrict(this,e)},t.prototype.equal=function(e){return this.throwIfDisposed(),xe.equal(this,e)},t.prototype.equalStrict=function(e){return this.throwIfDisposed(),xe.equalStrict(this,e)},t.prototype.lessEqual=function(e){return this.throwIfDisposed(),xe.lessEqual(this,e)},t.prototype.lessEqualStrict=function(e){return this.throwIfDisposed(),xe.lessEqualStrict(this,e)},t.prototype.greater=function(e){return this.throwIfDisposed(),xe.greater(this,e)},t.prototype.greaterStrict=function(e){return this.throwIfDisposed(),xe.greaterStrict(this,e)},t.prototype.greaterEqual=function(e){return this.throwIfDisposed(),xe.greaterEqual(this,e)},t.prototype.greaterEqualStrict=function(e){return this.throwIfDisposed(),xe.greaterEqualStrict(this,e)},t.prototype.logicalAnd=function(e){return this.throwIfDisposed(),xe.logicalAnd(this,e)},t.prototype.logicalOr=function(e){return this.throwIfDisposed(),xe.logicalOr(this,e)},t.prototype.logicalNot=function(){return this.throwIfDisposed(),xe.logicalNot(this)},t.prototype.logicalXor=function(e){return this.throwIfDisposed(),xe.logicalXor(this,e)},t.prototype.where=function(e,n){return this.throwIfDisposed(),xe.where(e,this,n)},t.prototype.neg=function(){return this.throwIfDisposed(),xe.neg(this)},t.prototype.ceil=function(){return this.throwIfDisposed(),xe.ceil(this)},t.prototype.floor=function(){return this.throwIfDisposed(),xe.floor(this)},t.prototype.sign=function(){return this.throwIfDisposed(),xe.sign(this)},t.prototype.isNaN=function(){return this.throwIfDisposed(),xe.isNaN(this)},t.prototype.isInf=function(){return this.throwIfDisposed(),xe.isInf(this)},t.prototype.isFinite=function(){return this.throwIfDisposed(),xe.isFinite(this)},t.prototype.exp=function(){return this.throwIfDisposed(),xe.exp(this)},t.prototype.expm1=function(){return this.throwIfDisposed(),xe.expm1(this)},t.prototype.log=function(){return this.throwIfDisposed(),xe.log(this)},t.prototype.log1p=function(){return this.throwIfDisposed(),xe.log1p(this)},t.prototype.sqrt=function(){return this.throwIfDisposed(),xe.sqrt(this)},t.prototype.rsqrt=function(){return this.throwIfDisposed(),xe.rsqrt(this)},t.prototype.square=function(){return this.throwIfDisposed(),xe.square(this)},t.prototype.reciprocal=function(){return this.throwIfDisposed(),xe.reciprocal(this)},t.prototype.abs=function(){return this.throwIfDisposed(),xe.abs(this)},t.prototype.clipByValue=function(e,n){return this.throwIfDisposed(),xe.clipByValue(this,e,n)},t.prototype.relu=function(){return this.throwIfDisposed(),xe.relu(this)},t.prototype.relu6=function(){return this.throwIfDisposed(),xe.relu6(this)},t.prototype.elu=function(){return this.throwIfDisposed(),xe.elu(this)},t.prototype.selu=function(){return this.throwIfDisposed(),xe.selu(this)},t.prototype.leakyRelu=function(e){return e===void 0&&(e=.2),this.throwIfDisposed(),xe.leakyRelu(this,e)},t.prototype.prelu=function(e){return this.throwIfDisposed(),xe.prelu(this,e)},t.prototype.sigmoid=function(){return this.throwIfDisposed(),xe.sigmoid(this)},t.prototype.logSigmoid=function(){return this.throwIfDisposed(),xe.logSigmoid(this)},t.prototype.softplus=function(){return this.throwIfDisposed(),xe.softplus(this)},t.prototype.zerosLike=function(){return this.throwIfDisposed(),xe.zerosLike(this)},t.prototype.onesLike=function(){return this.throwIfDisposed(),xe.onesLike(this)},t.prototype.sin=function(){return this.throwIfDisposed(),xe.sin(this)},t.prototype.cos=function(){return this.throwIfDisposed(),xe.cos(this)},t.prototype.tan=function(){return this.throwIfDisposed(),xe.tan(this)},t.prototype.asin=function(){return this.throwIfDisposed(),xe.asin(this)},t.prototype.acos=function(){return this.throwIfDisposed(),xe.acos(this)},t.prototype.atan=function(){return this.throwIfDisposed(),xe.atan(this)},t.prototype.sinh=function(){return this.throwIfDisposed(),xe.sinh(this)},t.prototype.cosh=function(){return this.throwIfDisposed(),xe.cosh(this)},t.prototype.tanh=function(){return this.throwIfDisposed(),xe.tanh(this)},t.prototype.asinh=function(){return this.throwIfDisposed(),xe.asinh(this)},t.prototype.acosh=function(){return this.throwIfDisposed(),xe.acosh(this)},t.prototype.atanh=function(){return this.throwIfDisposed(),xe.atanh(this)},t.prototype.erf=function(){return this.throwIfDisposed(),xe.erf(this)},t.prototype.round=function(){return this.throwIfDisposed(),xe.round(this)},t.prototype.step=function(e){return e===void 0&&(e=0),this.throwIfDisposed(),xe.step(this,e)},t.prototype.softmax=function(e){return e===void 0&&(e=-1),this.throwIfDisposed(),xe.softmax(this,e)},t.prototype.logSoftmax=function(e){return e===void 0&&(e=-1),this.throwIfDisposed(),xe.logSoftmax(this,e)},t.prototype.resizeBilinear=function(e,n){return n===void 0&&(n=!1),this.throwIfDisposed(),xe.image.resizeBilinear(this,e,n)},t.prototype.resizeNearestNeighbor=function(e,n){return n===void 0&&(n=!1),this.throwIfDisposed(),xe.image.resizeNearestNeighbor(this,e,n)},t.prototype.conv1d=function(e,n,r,a,o,i){return a===void 0&&(a="NWC"),o===void 0&&(o=1),this.throwIfDisposed(),xe.conv1d(this,e,n,r,a,o,i)},t.prototype.conv2d=function(e,n,r,a,o,i){return a===void 0&&(a="NHWC"),o===void 0&&(o=[1,1]),this.throwIfDisposed(),xe.conv2d(this,e,n,r,a,o,i)},t.prototype.conv2dTranspose=function(e,n,r,a,o){return this.throwIfDisposed(),xe.conv2dTranspose(this,e,n,r,a,o)},t.prototype.depthwiseConv2D=function(e,n,r,a,o,i){return a===void 0&&(a="NHWC"),o===void 0&&(o=[1,1]),this.throwIfDisposed(),xe.depthwiseConv2d(this,e,n,r,a,o,i)},t.prototype.separableConv2d=function(e,n,r,a,o,i){return o===void 0&&(o=[1,1]),i===void 0&&(i="NHWC"),this.throwIfDisposed(),xe.separableConv2d(this,e,n,r,a,o,i)},t.prototype.avgPool=function(e,n,r,a){return this.throwIfDisposed(),xe.avgPool(this,e,n,r,a)},t.prototype.maxPool=function(e,n,r,a){return this.throwIfDisposed(),xe.maxPool(this,e,n,r,a)},t.prototype.localResponseNormalization=function(e,n,r,a){return e===void 0&&(e=5),n===void 0&&(n=1),r===void 0&&(r=1),a===void 0&&(a=.5),xe.localResponseNormalization(this,e,n,r,a)},t.prototype.pool=function(e,n,r,a,o){return this.throwIfDisposed(),xe.pool(this,e,n,r,a,o)},t.prototype.variable=function(e,n,r){return e===void 0&&(e=!0),this.throwIfDisposed(),Gi().makeVariable(this,e,n,r)},t.prototype.unsortedSegmentSum=function(e,n){return this.throwIfDisposed(),xe.unsortedSegmentSum(this,e,n)},t.prototype.batchToSpaceND=function(e,n){return this.throwIfDisposed(),xe.batchToSpaceND(this,e,n)},t.prototype.spaceToBatchND=function(e,n){return this.throwIfDisposed(),xe.spaceToBatchND(this,e,n)},t.prototype.topk=function(e,n){return e===void 0&&(e=1),n===void 0&&(n=!0),this.throwIfDisposed(),xe.topk(this,e,n)},t.prototype.stridedSlice=function(e,n,r,a,o,i,s,u){return a===void 0&&(a=0),o===void 0&&(o=0),i===void 0&&(i=0),s===void 0&&(s=0),u===void 0&&(u=0),this.throwIfDisposed(),xe.stridedSlice(this,e,n,r,a,o,i,s,u)},t.prototype.depthToSpace=function(e,n){return this.throwIfDisposed(),xe.depthToSpace(this,e,n)},t.prototype.fft=function(){return this.throwIfDisposed(),xe.spectral.fft(this)},t.prototype.ifft=function(){return this.throwIfDisposed(),xe.spectral.ifft(this)},t.prototype.rfft=function(){return this.throwIfDisposed(),xe.spectral.rfft(this)},t.prototype.irfft=function(){return this.throwIfDisposed(),xe.spectral.irfft(this)},t}();Object.defineProperty(qn,Symbol.hasInstance,{value:function(t){return!!t&&t.dataId!=null&&t.shape!=null&&t.dtype!=null}});var MR,Iw,Lw,Fw,Bw,zf=function(t){function e(n,r,a,o){var i=t.call(this,n.shape,n.dtype,n.dataId,o)||this;return i.trainable=r,i.name=a,i}return fi(e,t),e.prototype.assign=function(n){if(n.dtype!==this.dtype)throw new Error("dtype of the new value ("+n.dtype+") and previous value ("+this.dtype+") must match");if(!Fr(n.shape,this.shape))throw new Error("shape of the new value ("+n.shape+") and previous value ("+this.shape+") must match");Gi().disposeTensor(this),this.dataId=n.dataId,Gi().incRef(this,null)},e.prototype.dispose=function(){Gi().disposeVariable(this),this.isDisposedInternal=!0},e}(qn);Object.defineProperty(zf,Symbol.hasInstance,{value:function(t){return t instanceof qn&&t.assign!=null&&t.assign instanceof Function}}),function(t){t.R0="R0",t.R1="R1",t.R2="R2",t.R3="R3",t.R4="R4",t.R5="R5",t.R6="R6"}(MR||(MR={})),function(t){t.float32="float32",t.int32="int32",t.bool="int32",t.complex64="complex64"}(Iw||(Iw={})),function(t){t.float32="float32",t.int32="int32",t.bool="bool",t.complex64="complex64"}(Lw||(Lw={})),function(t){t.float32="float32",t.int32="float32",t.bool="float32",t.complex64="complex64"}(Fw||(Fw={})),function(t){t.float32="complex64",t.int32="complex64",t.bool="complex64",t.complex64="complex64"}(Bw||(Bw={}));var CK={float32:Fw,int32:Iw,bool:Lw,complex64:Bw};function Xr(t,e){if(t==="string"||e==="string"){if(t==="string"&&e==="string")return"string";throw new Error("Can not upcast "+t+" with "+e)}return CK[t][e]}function t2(t){return Xr(t,"int32")}function Xn(t,e){if(t.dtype===e.dtype)return[t,e];var n=Xr(t.dtype,e.dtype);return[t.cast(n),e.cast(n)]}function EK(t,e){ee(t.dtype===e.dtype,function(){return"The dtypes of the first("+t.dtype+") and second("+e.dtype+") input must match"})}function DM(t){var e=[];return function n(r,a,o){if(r!=null){if(r instanceof qn)return void a.push(r);if(i=r,!(!Array.isArray(i)&&typeof i!="object")){var i,s=r;for(var u in s){var c=s[u];o.has(c)||(o.add(c),n(c,a,o))}}}}(t,e,new Set),e}var n2,PR=function(){function t(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null}}return t.prototype.dispose=function(){for(var e in this.registeredVariables)this.registeredVariables[e].dispose()},t}(),TK=function(){function t(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new PR}return t.prototype.ready=function(){return Je(this,void 0,void 0,function(){var e,n,r;return et(this,function(a){switch(a.label){case 0:if(this.pendingBackendInit!=null)return[2,this.pendingBackendInit.then(function(){})];if(this.backendInstance!=null)return[2];e=this.getSortedBackends(),n=0,a.label=1;case 1:return n<e.length?(r=e[n],[4,this.initializeBackend(r).success]):[3,5];case 2:return a.sent()?[4,this.setBackend(r)]:[3,4];case 3:return a.sent(),[2];case 4:return n++,[3,1];case 5:throw new Error("Could not initialize any backends, all backend initializations failed.")}})})},Object.defineProperty(t.prototype,"backend",{get:function(){if(this.pendingBackendInit!=null)throw new Error("Backend '"+this.backendName+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");if(this.backendInstance==null){var e=this.initializeBackendsAndReturnBest(),n=e.name;if(e.asyncInit)throw new Error("The highest priority backend '"+n+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(n)}return this.backendInstance},enumerable:!0,configurable:!0}),t.prototype.backendNames=function(){return Object.keys(this.registryFactory)},t.prototype.findBackend=function(e){return!(e in this.registry)&&(!(e in this.registryFactory)||this.initializeBackend(e).asyncInit)?null:this.registry[e]},t.prototype.findBackendFactory=function(e){return e in this.registryFactory?this.registryFactory[e].factory:null},t.prototype.registerBackend=function(e,n,r){return r===void 0&&(r=1),e in this.registryFactory?(console.warn(e+" backend was already registered. Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:n,priority:r},!0)},t.prototype.setBackend=function(e){return Je(this,void 0,void 0,function(){var n,r,a;return et(this,function(o){switch(o.label){case 0:if(this.registryFactory[e]==null)throw new Error("Backend name '"+e+"' not found in registry");return this.backendName=e,this.registry[e]!=null?[3,4]:(this.backendInstance=null,n=this.initializeBackend(e),r=n.success,n.asyncInit?[4,r]:[3,2]);case 1:return a=o.sent(),[3,3];case 2:a=r,o.label=3;case 3:if(!a)return[2,!1];o.label=4;case 4:return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new wK(this.backendInstance),[2,!0]}})})},t.prototype.setupRegisteredKernels=function(){var e=this;AR(this.backendName).forEach(function(n){n.setupFunc!=null&&n.setupFunc(e.backendInstance)})},t.prototype.disposeRegisteredKernels=function(e){var n=this;AR(e).forEach(function(r){r.disposeFunc!=null&&r.disposeFunc(n.registry[e])})},t.prototype.initializeBackend=function(e){var n=this,r=this.registryFactory[e];if(r==null)throw new Error("Cannot initialize backend "+e+", no registration found.");try{var a=r.factory();if(Promise.resolve(a)===a){var o=++this.pendingBackendInitId,i=a.then(function(s){return!(o<n.pendingBackendInitId)&&(n.registry[e]=s,n.pendingBackendInit=null,!0)}).catch(function(s){return!(o<n.pendingBackendInitId)&&(n.pendingBackendInit=null,console.warn("Initialization of backend "+e+" failed"),console.warn(s.stack||s.message),!1)});return this.pendingBackendInit=i,{success:i,asyncInit:!0}}return this.registry[e]=a,{success:!0,asyncInit:!1}}catch(s){return console.warn("Initialization of backend "+e+" failed"),console.warn(s.stack||s.message),{success:!1,asyncInit:!1}}},t.prototype.removeBackend=function(e){if(!(e in this.registryFactory))throw new Error(e+" backend not found in registry");this.backendName===e&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)},t.prototype.getSortedBackends=function(){var e=this;if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(function(n,r){return e.registryFactory[r].priority-e.registryFactory[n].priority})},t.prototype.initializeBackendsAndReturnBest=function(){for(var e=this.getSortedBackends(),n=0;n<e.length;n++){var r=e[n],a=this.initializeBackend(r),o=a.success,i=a.asyncInit;if(i||o)return{name:r,asyncInit:i}}throw new Error("Could not initialize any backends, all backend initializations failed.")},t.prototype.moveData=function(e,n){var r=this.state.tensorInfo.get(n),a=r.backend,o=this.readSync(n);a.disposeData(n),r.backend=e,e.move(n,o,r.shape,r.dtype),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++},t.prototype.tidy=function(e,n){var r,a=this,o=null;if(n==null){if(typeof e!="function")throw new Error("Please provide a function to tidy()");n=e}else{if(typeof e!="string"&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof n!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");o=e}return this.scopedRun(function(){return a.startScope(o)},function(){return a.endScope(r)},function(){return(r=n())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),r})},t.prototype.scopedRun=function(e,n,r){e();try{var a=r();return n(),a}catch(o){throw n(),o}},t.prototype.nextTensorId=function(){return t.nextTensorId++},t.prototype.nextVariableId=function(){return t.nextVariableId++},t.prototype.clone=function(e){var n=this.makeTensorFromDataId(e.dataId,e.shape,e.dtype),r={x:e};return this.addTapeNode(this.state.activeScope.name,r,[n],function(a){return{x:function(){return a.toFloat()}}},[]),n},t.prototype.runKernel=function(e,n,r,a,o){return this.runKernelFunc(null,n,null,e,r,a,o)},t.prototype.shouldCheckForMemLeaks=function(){return this.ENV.getBool("IS_TEST")},t.prototype.checkKernelForMemLeak=function(e,n,r){var a=this.backend.numDataIds(),o=0;r.forEach(function(u){o+=u.dtype==="complex64"?3:1});var i=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],s=a-n-o-i;if(s>0)throw new Error("Backend '"+this.backendName+"' has an internal memory leak ("+s+" data ids) after running '"+e+"'")},t.prototype.runKernelFunc=function(e,n,r,a,o,i,s){var u,c=this;i===void 0&&(i=[]),s===void 0&&(s=[]);var f=[],h=this.isTapeOn();a==null&&(a=this.state.activeScope!=null?this.state.activeScope.name:"");var m,g=function(R){h&&(f=R.map(function(_){return c.keep(c.clone(_))}))},y=this.state.numBytes,b=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);var x,S=SM(a,this.backendName);return m=S!=null?function(){var R=c.backend.numDataIds();x=S.kernelFunc({inputs:n,attrs:o,backend:c.backend});var _=Array.isArray(x)?x:[x];c.shouldCheckForMemLeaks()&&c.checkKernelForMemLeak(a,R,_);var T=_.map(function(D){var N=D.dataId,M=D.shape,P=D.dtype;return c.makeTensorFromDataId(N,M,P)}),A=T.filter(function(D,N){return s[N]});return g((i||[]).slice().concat(A)),T}:function(){var R=c.backend.numDataIds();x=c.tidy(function(){return e(c.backend,g)});var _=Array.isArray(x)?x:[x];return c.shouldCheckForMemLeaks()&&c.checkKernelForMemLeak(a,R,_),_},this.scopedRun(function(){return c.state.kernelDepth++},function(){return c.state.kernelDepth--},function(){u=c.ENV.getBool("DEBUG")?c.profiler.profileKernel(a,n,function(){return m()}):m()}),h&&this.addTapeNode(a,n,u,r,f),this.state.profiling&&this.state.activeProfile.kernels.push({name:a,bytesAdded:this.state.numBytes-y,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-b,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(n).map(function(R){return n[R].shape}),outputShapes:u.map(function(R){return R.shape})}),Array.isArray(x)?u:u[0]},t.prototype.makeTensor=function(e,n,r,a){if(e==null)throw new Error("Values passed to engine.makeTensor() are null");r=r||"float32",a=a||this.backend;var o=e;r==="string"&&m_(e[0])&&(o=e.map(function(f){return bK(f)}));var i=a.write(o,n,r),s=new qn(n,r,i,this.nextTensorId());if(this.incRef(s,a),r==="string"){var u=this.state.tensorInfo.get(i),c=gK(o);this.state.numBytes+=c-u.bytes,u.bytes=c}return s},t.prototype.makeTensorFromDataId=function(e,n,r,a){var o=new qn(n,r=r||"float32",e,this.nextTensorId());return this.incRef(o,a),o},t.prototype.makeVariable=function(e,n,r,a){n===void 0&&(n=!0),r=r||this.nextVariableId().toString(),a!=null&&a!==e.dtype&&(e=e.asType(a));var o=new zf(e,n,r,this.nextTensorId());if(this.state.registeredVariables[o.name]!=null)throw new Error("Variable with name "+o.name+" was already registered");return this.state.registeredVariables[o.name]=o,this.incRef(o,this.backend),o},t.prototype.incRef=function(e,n){var r=this.state.tensorInfo.has(e.dataId)?this.state.tensorInfo.get(e.dataId).refCount:0;if(this.state.numTensors++,e.dtype==="string"&&this.state.numStringTensors++,r===0){this.state.numDataBuffers++;var a=0;e.dtype!=="complex64"&&e.dtype!=="string"&&(a=e.size*TM(e.dtype)),this.state.tensorInfo.set(e.dataId,{backend:n||this.backend,dtype:e.dtype,shape:e.shape,bytes:a,refCount:0}),this.state.numBytes+=a}this.state.tensorInfo.get(e.dataId).refCount++,e instanceof zf||this.track(e)},t.prototype.disposeTensor=function(e){if(this.state.tensorInfo.has(e.dataId)){this.state.numTensors--,e.dtype==="string"&&this.state.numStringTensors--;var n=this.state.tensorInfo.get(e.dataId);n.refCount<=1?(e.dtype!=="complex64"&&(this.state.numBytes-=n.bytes),this.state.numDataBuffers--,n.backend.disposeData(e.dataId),this.state.tensorInfo.delete(e.dataId)):this.state.tensorInfo.get(e.dataId).refCount--}},t.prototype.disposeVariables=function(){for(var e in this.state.registeredVariables){var n=this.state.registeredVariables[e];this.disposeVariable(n)}},t.prototype.disposeVariable=function(e){this.disposeTensor(e),this.state.registeredVariables[e.name]!=null&&delete this.state.registeredVariables[e.name]},t.prototype.memory=function(){var e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,e.reasons==null&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e},t.prototype.profile=function(e){return Je(this,void 0,void 0,function(){var n,r;return et(this,function(a){return this.state.profiling=!0,n=this.state.numBytes,r=this.state.numTensors,this.state.activeProfile.kernels=[],this.state.activeProfile.result=e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,this.state.activeProfile.kernels.map(function(o){return o.totalBytesSnapshot})),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-r,[2,this.state.activeProfile]})})},t.prototype.isTapeOn=function(){return this.state.gradientDepth>0&&this.state.kernelDepth===0},t.prototype.addTapeNode=function(e,n,r,a,o){var i=this,s={id:this.state.nextTapeNodeId++,kernelName:e,inputs:n,outputs:r,saved:o},u=lK(e);u!=null&&(a=u.gradFunc),a!=null&&(s.gradient=function(c){return c=c.map(function(f,h){if(f==null){var m=r[h],g=Zm(m.size,m.dtype);return i.makeTensor(g,m.shape,m.dtype)}return f}),a(c.length>1?c:c[0],o)}),this.state.activeTape.push(s)},t.prototype.keep=function(e){return e.kept=!0,e},t.prototype.startTape=function(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++},t.prototype.endTape=function(){this.state.gradientDepth--},t.prototype.startScope=function(e){var n={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(n.name=e),this.state.scopeStack.push(n),this.state.activeScope=n},t.prototype.endScope=function(e){for(var n=this,r=DM(e),a=new Set(r.map(function(u){return u.id})),o=0;o<this.state.activeScope.track.length;o++){var i=this.state.activeScope.track[o];i.kept||a.has(i.id)||i.dispose()}var s=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],r.forEach(function(u){u.kept||u.scopeId!==s.id||n.track(u)})},t.prototype.gradients=function(e,n,r,a){var o=this;if(a===void 0&&(a=!1),ee(n.length>0,function(){return"gradients() received an empty list of xs."}),r!=null&&r.dtype!=="float32")throw new Error("dy must have 'float32' dtype, but has '"+r.dtype+"'");var i=this.scopedRun(function(){return o.startTape()},function(){return o.endTape()},function(){return o.tidy("forward",e)});ee(i instanceof qn,function(){return"The result y returned by f() must be a tensor."});var s=function(u,c,f){for(var h={},m={},g=0;g<c.length;g++)h[c[g].id]=!0;for(g=0;g<u.length;g++){var y=(D=u[g]).inputs;for(var b in y){for(var x=y[b],S=!1,R=0;R<c.length;R++)if(h[x.id]){D.outputs.forEach(function(I){return h[I.id]=!0}),S=!0,m[D.id]=!0;break}if(S)break}}var _={};_[f.id]=!0;var T={};for(g=u.length-1;g>=0;g--)for(y=(D=u[g]).inputs,R=0;R<D.outputs.length;R++)if(_[D.outputs[R].id]){for(var b in y)_[y[b].id]=!0,T[D.id]=!0;break}var A=[];for(g=0;g<u.length;g++){var D;if(m[(D=u[g]).id]&&T[D.id]){var N={};for(var b in D.inputs){var M=D.inputs[b];h[M.id]&&(N[b]=M)}var P=Object.assign({},D);P.inputs=N,P.outputs=D.outputs,A.push(P)}}return A}(this.state.activeTape,n,i);if(!a&&s.length===0&&n.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",function(){var u,c,f={};f[i.id]=r??(u=i.shape,c=AM(nt(u),"float32"),se.makeTensor(c,u,"float32")),function(m,g,y){for(var b=function(S){var R=g[S],_=[];if(R.outputs.forEach(function(N){var M=m[N.id];M!=null?_.push(M):_.push(null)}),R.gradient==null)throw new Error("Cannot compute gradient: gradient function not found for "+R.kernelName+".");var T=R.gradient(_),A=function(N){if(!(N in T))throw new Error("Cannot backprop through input "+N+". Available gradients found: "+Object.keys(T)+".");var M=y(function(){return T[N]()});if(M.dtype!=="float32")throw new Error("Error in gradient for op "+R.kernelName+". The gradient of input "+N+" must have 'float32' dtype, but has '"+M.dtype+"'");var P=R.inputs[N];if(!Fr(M.shape,P.shape))throw new Error("Error in gradient for op "+R.kernelName+". The gradient of input '"+N+"' has shape '"+M.shape+"', which does not match the shape of the input '"+P.shape+"'");if(m[P.id]==null)m[P.id]=M;else{var I=m[P.id];m[P.id]=I.add(M),I.dispose()}};for(var D in R.inputs)A(D)},x=g.length-1;x>=0;x--)b(x)}(f,s,function(m){return o.tidy(m)});var h=n.map(function(m){return f[m.id]});return o.state.gradientDepth===0&&(o.state.activeTape.forEach(function(m){for(var g=0,y=m.saved;g<y.length;g++)y[g].dispose()}),o.state.activeTape=null),{value:i,grads:h}})},t.prototype.customGrad=function(e){var n=this;return ee(Mw(e),function(){return"The f passed in customGrad(f) must be a function."}),function(){for(var r,a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];ee(a.every(function(s){return s instanceof qn}),function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"});var i={};return a.forEach(function(s,u){i[u]=s}),n.runKernelFunc(function(s,u){return ee((r=e.apply(void 0,a.concat([u]))).value instanceof qn,function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"}),ee(Mw(r.gradFunc),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."}),r.value},i,function(s,u){var c=r.gradFunc(s,u),f=Array.isArray(c)?c:[c];ee(f.length===a.length,function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."}),ee(f.every(function(m){return m instanceof qn}),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."});var h={};return f.forEach(function(m,g){h[g]=function(){return m}}),h})}},t.prototype.readSync=function(e){return this.state.tensorInfo.get(e).backend.readSync(e)},t.prototype.read=function(e){return this.state.tensorInfo.get(e).backend.read(e)},t.prototype.time=function(e){return Je(this,void 0,void 0,function(){var n,r;return et(this,function(a){switch(a.label){case 0:return n=qi(),[4,this.backend.time(e)];case 1:return(r=a.sent()).wallMs=qi()-n,[2,r]}})})},t.prototype.track=function(e){return this.state.activeScope!=null&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e},Object.defineProperty(t.prototype,"registeredVariables",{get:function(){return this.state.registeredVariables},enumerable:!0,configurable:!0}),t.prototype.reset=function(){for(var e in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new PR,this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null},t.nextTensorId=0,t.nextVariableId=0,t}(),se=function(){var t=function(){if(n2==null){var n=void 0;if(typeof window<"u")n=window;else if(typeof global<"u")n=global;else if(typeof process<"u")n=process;else{if(typeof self>"u")throw new Error("Could not find a global object");n=self}n2=n}return n2}();if(t._tfengine==null){var e=new iK(t);t._tfengine=new TK(e)}return function(n){wM=n}(t._tfengine.ENV),Gi=function(){return t._tfengine},t._tfengine}();function MM(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}var Hs=Ee();Hs.registerFlag("DEBUG",function(){return!1},function(t){t&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}),Hs.registerFlag("IS_BROWSER",function(){return MM()}),Hs.registerFlag("IS_NODE",function(){return typeof process<"u"&&process.versions!==void 0&&process.versions.node!==void 0}),Hs.registerFlag("IS_CHROME",function(){return typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}),Hs.registerFlag("PROD",function(){return!1}),Hs.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",function(){return Hs.getBool("DEBUG")}),Hs.registerFlag("DEPRECATION_WARNINGS_ENABLED",function(){return!0}),Hs.registerFlag("IS_TEST",function(){return!1});var vm,co,lo,dc={},r2={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function RK(t,e){dc[t]=e}function ds(t){t in dc||(dc[t]=function(n){if(n!==1&&n!==2)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var r=function(a){if(typeof OffscreenCanvas<"u"&&a===2)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(n);return r.addEventListener("webglcontextlost",function(a){a.preventDefault(),delete dc[n]},!1),n===1?r.getContext("webgl",r2)||r.getContext("experimental-webgl",r2):r.getContext("webgl2",r2)}(t));var e=dc[t];return e.isContextLost()?(delete dc[t],ds(t)):(e.disable(e.DEPTH_TEST),e.disable(e.STENCIL_TEST),e.disable(e.BLEND),e.disable(e.DITHER),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SAMPLE_COVERAGE),e.enable(e.SCISSOR_TEST),e.enable(e.CULL_FACE),e.cullFace(e.BACK),dc[t])}function Ob(t,e){return[e,t]}function Yp(t){var e=nt(t);return Dw(Math.ceil(e/4))}function Jm(t,e){return[Math.max(1,Math.ceil(e/2)),Math.max(1,Math.ceil(t/2))]}function g_(t,e){var n,r,a,o,i,s,u,c,f,h=t;return Ee().getNumber("WEBGL_VERSION")===2?(n=h.R32F,r=h.R16F,a=h.RGBA16F,o=h.RGBA32F,i=h.RED,s=4,u=1,c=h.HALF_FLOAT,f=h.FLOAT):(n=t.RGBA,r=t.RGBA,a=t.RGBA,o=h.RGBA,i=t.RGBA,s=4,u=4,c=e!=null?e.HALF_FLOAT_OES:null,f=t.FLOAT),{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:a,internalFormatPackedFloat:o,textureFormatFloat:i,downloadTextureFormat:t.RGBA,downloadUnpackNumChannels:s,defaultNumChannels:u,textureTypeHalfFloat:c,textureTypeFloat:f}}function rt(t,e,n){var r=n();return e&&function(a){var o=a.getError();if(o!==a.NO_ERROR)throw new Error("WebGL Error: "+OK(a,o))}(t),r}(function(t){t[t.DENSE=0]="DENSE",t[t.SHARED_BATCH=1]="SHARED_BATCH"})(vm||(vm={})),function(t){t[t.RENDER=0]="RENDER",t[t.UPLOAD=1]="UPLOAD",t[t.PIXELS=2]="PIXELS",t[t.DOWNLOAD=3]="DOWNLOAD"}(co||(co={})),function(t){t[t.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",t[t.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",t[t.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",t[t.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",t[t.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(lo||(lo={}));var AK=596e-10,kK=65504;function NK(t){return!!(Ee().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||t===0||AK<Math.abs(t)&&Math.abs(t)<kK)}function OK(t,e){switch(e){case t.NO_ERROR:return"NO_ERROR";case t.INVALID_ENUM:return"INVALID_ENUM";case t.INVALID_VALUE:return"INVALID_VALUE";case t.INVALID_OPERATION:return"INVALID_OPERATION";case t.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case t.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case t.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+e}}function i0(t,e,n){return al(t,e,function(){return t.getExtension(n)},'Extension "'+n+'" not supported on this browser.')}function DK(t,e,n){var r=al(t,e,function(){return t.createShader(t.VERTEX_SHADER)},"Unable to create vertex WebGLShader.");if(rt(t,e,function(){return t.shaderSource(r,n)}),rt(t,e,function(){return t.compileShader(r)}),t.getShaderParameter(r,t.COMPILE_STATUS)===!1)throw console.log(t.getShaderInfoLog(r)),new Error("Failed to compile vertex shader.");return r}function MK(t,e,n){var r=al(t,e,function(){return t.createShader(t.FRAGMENT_SHADER)},"Unable to create fragment WebGLShader.");if(rt(t,e,function(){return t.shaderSource(r,n)}),rt(t,e,function(){return t.compileShader(r)}),t.getShaderParameter(r,t.COMPILE_STATUS)===!1)throw function(a,o){var i=PK.exec(o);if(i==null)return console.log("Couldn't parse line number in error: "+o),void console.log(a);for(var s=+i[1],u=a.split(`
`),c=u.length.toString().length+2,f=u.map(function(x,S){return ff((S+1).toString(),c)+x}),h=0,m=0;m<f.length;m++)h=Math.max(f[m].length,h);var g=f.slice(0,s-1),y=f.slice(s-1,s),b=f.slice(s);console.log(g.join(`
`)),console.log(o.split(`
`)[0]),console.log("%c "+ff(y[0],h),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(b.join(`
`))}(n,t.getShaderInfoLog(r)),new Error("Failed to compile fragment shader.");return r}var a2,o2,PK=/ERROR: [0-9]+:([0-9]+):/g;function IK(t,e){return al(t,e,function(){return t.createProgram()},"Unable to create WebGLProgram.")}function LK(t,e,n){if(rt(t,e,function(){return t.linkProgram(n)}),t.getProgramParameter(n,t.LINK_STATUS)===!1)throw console.log(t.getProgramInfoLog(n)),new Error("Failed to link vertex and fragment shaders.")}function i2(t,e,n){if(rt(t,e,function(){return t.validateProgram(n)}),t.getProgramParameter(n,t.VALIDATE_STATUS)===!1)throw console.log(t.getProgramInfoLog(n)),new Error("Shader program validation failed.")}function FK(t,e,n){var r=al(t,e,function(){return t.createBuffer()},"Unable to create WebGLBuffer");return rt(t,e,function(){return t.bindBuffer(t.ARRAY_BUFFER,r)}),rt(t,e,function(){return t.bufferData(t.ARRAY_BUFFER,n,t.STATIC_DRAW)}),r}function BK(t,e,n){var r=al(t,e,function(){return t.createBuffer()},"Unable to create WebGLBuffer");return rt(t,e,function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,r)}),rt(t,e,function(){return t.bufferData(t.ELEMENT_ARRAY_BUFFER,n,t.STATIC_DRAW)}),r}function zK(t,e){return al(t,e,function(){return t.createTexture()},"Unable to create WebGLTexture.")}function $K(t,e){var n=Ee().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t<=0||e<=0){var r="["+t+"x"+e+"]";throw new Error("Requested texture size "+r+" is invalid.")}if(t>n||e>n)throw r="["+t+"x"+e+"]",new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU "+("["+n+"x"+n+"]")+".")}function UK(t,e){return al(t,e,function(){return t.createFramebuffer()},"Unable to create WebGLFramebuffer.")}function IR(t,e,n,r,a,o,i,s){var u=t.getAttribLocation(n,r);return u!==-1&&(rt(t,e,function(){return t.bindBuffer(t.ARRAY_BUFFER,a)}),rt(t,e,function(){return t.vertexAttribPointer(u,o,t.FLOAT,!1,i,s)}),rt(t,e,function(){return t.enableVertexAttribArray(u)}),!0)}function VK(t,e,n,r){GK(t,r),rt(t,e,function(){return t.activeTexture(t.TEXTURE0+r)}),rt(t,e,function(){return t.bindTexture(t.TEXTURE_2D,n)})}function jK(t,e,n,r){return al(t,e,function(){return t.getUniformLocation(n,r)},'uniform "'+r+'" not present in program.')}function WK(t,e,n){return t.getUniformLocation(e,n)}function HK(t,e,n,r,a,o){rt(t,e,function(){return VK(t,e,r,o)}),rt(t,e,function(){return t.uniform1i(a,o)})}function s2(t,e,n,r){rt(t,e,function(){return t.bindFramebuffer(t.FRAMEBUFFER,r)}),rt(t,e,function(){return t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0)})}function LR(t,e,n){rt(t,e,function(){return t.bindFramebuffer(t.FRAMEBUFFER,n)}),rt(t,e,function(){return t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0)})}function s0(t){var e=t.checkFramebufferStatus(t.FRAMEBUFFER);if(e!==t.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+qK(t,e))}function qK(t,e){switch(e){case t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case t.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+e}}function al(t,e,n,r){var a=rt(t,e,function(){return n()});if(a==null)throw new Error(r);return a}function GK(t,e){var n=t.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=e+t.TEXTURE0;if(r<t.TEXTURE0||r>n)throw new Error("textureUnit must be in "+("[gl.TEXTURE0, gl.TEXTURE"+n+"]")+".")}function xy(t,e){return e===void 0&&(e=2),nt(t.slice(0,t.length-e))}function wy(t){if(t.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[t.length>1?t[t.length-2]:1,t[t.length-1]]}function l2(t){var e=[1,1,1];return t.length===0||t.length===1&&t[0]===1||(e=[xy(t)].concat(wy(t))),e}function KK(t,e){var n;e===void 0&&(e=!1);var r=Ee().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e&&(r*=2,(t=t.map(function(c,f){return f>=t.length-2?EM(t[f]):t[f]})).length===1&&(t=[2,t[0]])),t.length!==2){var a=pc(t);t=a.newShape}var o=nt(t);if(t.length<=1&&o<=r)return[1,o];if(t.length===2&&t[0]<=r&&t[1]<=r)return t;if(t.length===3&&t[0]*t[1]<=r&&t[2]<=r)return[t[0]*t[1],t[2]];if(t.length===3&&t[0]<=r&&t[1]*t[2]<=r)return[t[0],t[1]*t[2]];if(t.length===4&&t[0]*t[1]*t[2]<=r&&t[3]<=r)return[t[0]*t[1]*t[2],t[3]];if(t.length===4&&t[0]<=r&&t[1]*t[2]*t[3]<=r)return[t[0],t[1]*t[2]*t[3]];if(e){var i=xy(t),s=2,u=2;return t.length&&(s=(n=wy(t))[0],u=n[1]),Dw(o=i*(s/2)*(u/2)).map(function(c){return 2*c})}return Dw(o)}function l0(t){return t%2==0}function u0(t,e){if(Fr(t=t.slice(-2),e=e.slice(-2))||!t.length||!e.length||t[0]===0||t[1]===0||e[0]===0||e[1]===0)return!0;if(t.length!==e.length){var n=t.slice(-1)[0],r=e.slice(-1)[0];if(n===r||l0(n)&&l0(r)&&(t[0]===1||e[0]===1))return!0}return t[1]===e[1]&&l0(t[0])&&l0(e[0])}function YK(t){if(a2==null){var e=ds(t);a2=e.getParameter(e.MAX_TEXTURE_SIZE)}return a2}function XK(t){if(o2==null){var e=ds(t);o2=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,o2)}function QK(t){if(t===0)return 0;var e=ds(t);return Lo(e,"EXT_disjoint_timer_query_webgl2")&&t===2?2:Lo(e,"EXT_disjoint_timer_query")?1:0}function Lo(t,e){return t.getExtension(e)!=null}function FR(t){try{if(ds(t)!=null)return!0}catch{return!1}return!1}function ZK(t){if(t===0)return!1;var e=ds(t);if(t===1){if(!Lo(e,"OES_texture_float"))return!1}else if(!Lo(e,"EXT_color_buffer_float"))return!1;return zw(e)}function JK(t){if(t===0)return!1;var e=ds(t);if(t!==1){if(Lo(e,"EXT_color_buffer_float"))return zw(e);if(Lo(e,"EXT_color_buffer_half_float")){var n=e.getExtension("EXT_color_buffer_half_float");return function(r,a){var o=g_(r,a),i=r.createTexture();r.bindTexture(r.TEXTURE_2D,i),r.texImage2D(r.TEXTURE_2D,0,o.internalFormatHalfFloat,1,1,0,o.textureFormatFloat,o.textureTypeHalfFloat,null);var s=r.createFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,s),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,i,0);var u=r.checkFramebufferStatus(r.FRAMEBUFFER)===r.FRAMEBUFFER_COMPLETE;return r.bindTexture(r.TEXTURE_2D,null),r.bindFramebuffer(r.FRAMEBUFFER,null),r.deleteTexture(i),r.deleteFramebuffer(s),u}(e,n)}return!1}return!!Lo(e,"OES_texture_float")&&!!Lo(e,"WEBGL_color_buffer_float")&&zw(e)}function zw(t){var e=g_(t),n=t.createTexture();t.bindTexture(t.TEXTURE_2D,n),t.texImage2D(t.TEXTURE_2D,0,e.internalFormatFloat,1,1,0,e.textureFormatFloat,e.textureTypeFloat,null);var r=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,r),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0);var a=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(n),t.deleteFramebuffer(r),a}function eY(t){return t===2&&ds(t).fenceSync!=null}var Rt=Ee();function PM(t){Ee().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(t+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function Xe(t,e){return se.tidy(t,e)}function Ka(t){DM(t).forEach(function(e){return e.dispose()})}function tY(t){return se.keep(t)}function Sy(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Ee().getBool("IS_TEST")||console.warn.apply(console,t)}function Ru(t,e){var n=t;if(es(t))return e==="string"?[]:[t.length];if(!Array.isArray(t))return[];for(var r=[];Array.isArray(n)||es(n)&&e!=="string";)r.push(n.length),n=n[0];return Array.isArray(t)&&Ee().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&function a(o,i,s){if(s=s||[],!Array.isArray(o)&&!es(o))return void ee(i.length===0,function(){return"Element arr["+s.join("][")+"] is a primitive, but should be an array/TypedArray of "+i[0]+" elements"});ee(i.length>0,function(){return"Element arr["+s.join("][")+"] should be a primitive, but is an array of "+o.length+" elements"}),ee(o.length===i[0],function(){return"Element arr["+s.join("][")+"] should have "+i[0]+" elements, but has "+o.length+" elements"});for(var u=i.slice(1),c=0;c<o.length;++c)a(o[c],u,s.concat(c))}(t,r,[]),r}function BR(t,e,n,r){if(t!=null&&(t!=="numeric"&&t!==e||t==="numeric"&&e==="string"))throw new Error("Argument '"+n+"' passed to '"+r+"' must be "+t+" tensor, but got "+e+" tensor")}function Z(t,e,n,r){if(r===void 0&&(r="numeric"),t instanceof qn)return BR(r,t.dtype,e,n),t;var a=Qm(t);if(a!=="string"&&["bool","int32","float32"].indexOf(r)>=0&&(a=r),BR(r,a,e,n),t==null||!es(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string"){var o=t==null?"null":t.constructor.name;throw new Error("Argument '"+e+"' passed to '"+n+"' must be a Tensor or TensorLike, but got '"+o+"'")}var i=Ru(t,a);es(t)||Array.isArray(t)||(t=[t]);var s=a!=="string"?RM(t,a,Ee().getBool("DEBUG")):Bf(t,[],!0);return se.makeTensor(s,i,a)}function _y(t,e,n,r){if(r===void 0&&(r="numeric"),!Array.isArray(t))throw new Error("Argument "+e+" passed to "+n+" must be a `Tensor[]` or `TensorLike[]`");return t.map(function(a,o){return Z(a,e+"["+o+"]",n)},r)}function IM(t,e){for(var n=0;n<t.length;++n)if(t[t.length-n-1]!==e-1-n)return!1;return!0}function nY(t,e,n){for(var r=t.length+e.length,a=[],o=0,i=0,s=0;s<r;s++)n.indexOf(s)===-1?a.push(t[o++]):a.push(e[i++]);return a}function pa(t,e){for(var n=[],r=t.length,a=0;a<r;a++)e.indexOf(a)===-1&&n.push(t[a]);return[n,e.map(function(o){return t[o]})]}function Xa(t,e){return nY(t,e.map(function(n){return 1}),e)}function so(t,e,n){ee(IM(e,n),function(){return t+" supports only inner-most axes for now. Got axes "+e+" and rank-"+n+" input."})}function fs(t,e){if(IM(t,e))return null;for(var n=[],r=0;r<e;++r)t.indexOf(r)===-1&&n.push(r);return t.forEach(function(a){return n.push(a)}),n}function v_(t){return t.map(function(e,n){return[n,e]}).sort(function(e,n){return e[1]-n[1]}).map(function(e){return e[0]})}function hs(t,e){for(var n=[],r=e-t;r<e;++r)n.push(r);return n}function rY(t,e){var n=t[0].length;t.forEach(function(a,o){ee(a.length===n,function(){return"Error in concat"+n+"D: rank of tensors["+o+"] must be the same as the rank of the rest ("+n+")"})}),ee(e>=0&&e<n,function(){return"Error in concat"+n+"D: axis must be between 0 and "+(n-1)+"."});var r=t[0];t.forEach(function(a,o){for(var i=0;i<n;i++)ee(i===e||a[i]===r[i],function(){return"Error in concat"+n+"D: Shape of tensors["+o+"] ("+a+") does not match the shape of the rest ("+r+") along the non-concatenated axis "+o+"."})})}function $f(t,e){for(var n=t[0].slice(),r=1;r<t.length;r++)n[e]+=t[r][e];return n}function ae(t){var e=Object.keys(t);if(e.length!==1)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+e.length+" keys.");var n=e[0],r=t[n];n.endsWith("_")&&(n=n.substring(0,n.length-1));var a=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];se.startScope(n);try{var s=r.apply(void 0,o);return s instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),se.endScope(s),s}catch(u){throw se.endScope(null),u}};return Object.defineProperty(a,"name",{value:n,configurable:!0}),a}Rt.registerFlag("HAS_WEBGL",function(){return Rt.getNumber("WEBGL_VERSION")>0}),Rt.registerFlag("WEBGL_VERSION",function(){return FR(2)?2:FR(1)?1:0}),Rt.registerFlag("WEBGL_BUFFER_SUPPORTED",function(){return Rt.get("WEBGL_VERSION")===2}),Rt.registerFlag("WEBGL_CPU_FORWARD",function(){return!0}),Rt.registerFlag("WEBGL_FORCE_F16_TEXTURES",function(){return!1}),Rt.registerFlag("WEBGL_PACK",function(){return Rt.getBool("HAS_WEBGL")}),Rt.registerFlag("WEBGL_PACK_NORMALIZATION",function(){return Rt.getBool("WEBGL_PACK")}),Rt.registerFlag("WEBGL_PACK_CLIP",function(){return Rt.getBool("WEBGL_PACK")}),Rt.registerFlag("WEBGL_PACK_DEPTHWISECONV",function(){return!1}),Rt.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",function(){return Rt.getBool("WEBGL_PACK")}),Rt.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",function(){return Rt.getBool("WEBGL_PACK")}),Rt.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",function(){return Rt.getBool("WEBGL_PACK")}),Rt.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",function(){return Rt.getBool("WEBGL_PACK")}),Rt.registerFlag("WEBGL_PACK_REDUCE",function(){return Rt.getBool("WEBGL_PACK")}),Rt.registerFlag("WEBGL_LAZILY_UNPACK",function(){return Rt.getBool("WEBGL_PACK")}),Rt.registerFlag("WEBGL_CONV_IM2COL",function(){return Rt.getBool("WEBGL_PACK")}),Rt.registerFlag("WEBGL_MAX_TEXTURE_SIZE",function(){return YK(Rt.getNumber("WEBGL_VERSION"))}),Rt.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",function(){return XK(Rt.getNumber("WEBGL_VERSION"))}),Rt.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",function(){var t=Rt.getNumber("WEBGL_VERSION");return t===0?0:QK(t)}),Rt.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",function(){return Rt.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&(t=navigator.userAgent||navigator.vendor||window.opera,!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))));var t}),Rt.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",function(){return ZK(Rt.getNumber("WEBGL_VERSION"))}),Rt.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",function(){return!Rt.getBool("WEBGL_FORCE_F16_TEXTURES")&&Rt.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")}),Rt.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",function(){return JK(Rt.getNumber("WEBGL_VERSION"))}),Rt.registerFlag("WEBGL_FENCE_API_ENABLED",function(){return eY(Rt.getNumber("WEBGL_VERSION"))}),Rt.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",function(){return Rt.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0}),OM=PM;var Yr=ae({complex_:function(t,e){var n=Z(t,"real","complex"),r=Z(e,"imag","complex");return vn(n.shape,r.shape,"real and imag shapes, "+n.shape+" and "+r.shape+", must match in call to tf.complex()."),se.runKernelFunc(function(a){return a.complex(n,r)},{$real:n,$imag:r})}}),Io=ae({real_:function(t){var e=Z(t,"input","real");return se.runKernelFunc(function(n){return n.real(e)},{$input:e})}}),Ki=ae({imag_:function(t){var e=Z(t,"input","imag");return se.runKernelFunc(function(n){return n.imag(e)},{$input:e})}});function Zr(t,e,n){return Au(t,e,Ru(t,n),n)}function Au(t,e,n,r){if(r==null&&(r=Qm(t)),r==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!es(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(e!=null){kM(e);var a=nt(e),o=nt(n);ee(a===o,function(){return"Based on the provided shape, ["+e+"], the tensor should have "+a+" values but has "+o});for(var i=0;i<n.length;++i){var s=n[i],u=i!==n.length-1||s!==nt(e.slice(i));ee(n[i]===e[i]||!u,function(){return"Error creating a new Tensor. Inferred shape ("+n+") does not match the provided shape ("+e+"). "})}}return es(t)||Array.isArray(t)||(t=[t]),e=e||n,t=r!=="string"?RM(t,r,Ee().getBool("DEBUG")):Bf(t,[],!0),se.makeTensor(t,e,r)}function He(t,e){if((es(t)&&e!=="string"||Array.isArray(t))&&e!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(e==="string"&&es(t)&&!(t instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Au(t,[],[],e)}function yr(t,e){Jf(t);var n=Ru(t,e);if(n.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Au(t,null,n,e)}function pu(t,e,n){if(Jf(t),e!=null&&e.length!==2)throw new Error("tensor2d() requires shape to have two numbers");var r=Ru(t,n);if(r.length!==2&&r.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Au(t,e,r,n)}function y_(t,e,n){if(Jf(t),e!=null&&e.length!==3)throw new Error("tensor3d() requires shape to have three numbers");var r=Ru(t,n);if(r.length!==3&&r.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Au(t,e,r,n)}function $a(t,e,n){if(Jf(t),e!=null&&e.length!==4)throw new Error("tensor4d() requires shape to have four numbers");var r=Ru(t,n);if(r.length!==4&&r.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Au(t,e,r,n)}function aY(t,e,n){if(Jf(t),e!=null&&e.length!==5)throw new Error("tensor5d() requires shape to have five numbers");var r=Ru(t,n);if(r.length!==5&&r.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Au(t,e,r,n)}function oY(t,e,n){if(Jf(t),e!=null&&e.length!==6)throw new Error("tensor6d() requires shape to have six numbers");var r=Ru(t,n);if(r.length!==6&&r.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return Au(t,e=e||r,r,n)}function iY(t,e,n,r){return e===void 0&&(e=!0),se.makeVariable(t,e,n,r)}function eh(t,e){if(e===void 0&&(e="float32"),e==="complex64"){var n=eh(t,"float32"),r=In(t,"float32");return Yr(n,r)}var a=AM(nt(t),e);return se.makeTensor(a,t,e)}function In(t,e){if(e===void 0&&(e="float32"),e==="complex64"){var n=In(t,"float32"),r=In(t,"float32");return Yr(n,r)}var a=Zm(nt(t),e);return se.makeTensor(a,t,e)}function ns(t,e,n){return se.runKernelFunc(function(r){return r.fill(t,e,n)},{})}function sY(t,e,n){if(n<=0)throw new Error("The number of values should be positive.");return se.runKernelFunc(function(r){return r.linspace(t,e,n)},{})}function Cy(t,e,n,r){if(n===void 0&&(n=1),r===void 0&&(r="float32"),n===0)throw new Error("Cannot have a step of zero");if(t===e||t<e&&n<0||e<t&&n>1)return In([0],r);var a=Zm(Math.abs(Math.ceil((e-t)/n)),r);e<t&&n===1&&(n=-1),a[0]=t;for(var o=1;o<a.length;o++)a[o]=a[o-1]+n;return yr(a,r)}var LM=ae({onesLike_:function(t){var e=Z(t,"x","onesLike");if(e.dtype==="complex64"){var n=LM(Io(e)),r=rn(Ki(e));return Yr(n,r)}return se.runKernelFunc(function(a){return a.onesLike(e)},{$x:e},function(a,o){return{$x:function(){return rn(a)}}})}}),rn=ae({zerosLike_:function(t){var e=Z(t,"x","zerosLike");return se.runKernelFunc(function(n){return n.zerosLike(e)},{$x:e},function(n,r){return{$x:function(){return rn(n)}}})}}),Tr=ae({concat_:function(t,e){e===void 0&&(e=0),ee(t.length>=1,function(){return"Pass at least one tensor to concat"});var n=_y(t,"tensors","concat");n[0].dtype==="complex64"&&n.forEach(function(s){if(s.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype `+s.dtype+". ")}),e=Nr(e,n[0].shape)[0];var r=$f(n.map(function(s){return s.shape}),e);if(nt(r)===0)return Zr([],r);if((n=n.filter(function(s){return s.size>0})).length===1)return n[0];var a=n.map(function(s){return s.shape});rY(a,e);var o=n,i={axis:e};return se.runKernelFunc(function(s){return s.concat(n,e)},o,function(s){var u=a.map(function(c){return c[e]});return b_(s,u,e).map(function(c){return function(){return c}})},"Concat",i)}}),lY=ae({concat1d_:function(t){return Tr(t,0)}}),uY=ae({concat2d_:function(t,e){return Tr(t,e)}}),cY=ae({concat3d_:function(t,e){return Tr(t,e)}}),dY=ae({concat4d_:function(t,e){return Tr(t,e)}}),b_=ae({split_:function(t,e,n){n===void 0&&(n=0);var r,a=Z(t,"x","split");return n=Nr(n,a.shape)[0],typeof e=="number"?(ee(a.shape[n]%e==0,function(){return"Number of splits must evenly divide the axis."}),r=new Array(e).fill(a.shape[n]/e)):(ee(a.shape[n]===e.reduce(function(o,i){return o+i}),function(){return"The sum of sizes must match the size of the axis dimension."}),r=e),se.runKernelFunc(function(o){return o.split(a,r,n)},{$x:a},function(o){return{$x:function(){return Tr(o,n)}}})}});function Vc(t,e){return t(e={exports:{}},e.exports),e.exports}var fY=Vc(function(t){(function(e,n,r){function a(s){var u,c=this,f=(u=4022871197,function(h){h=h.toString();for(var m=0;m<h.length;m++){var g=.02519603282416938*(u+=h.charCodeAt(m));g-=u=g>>>0,u=(g*=u)>>>0,u+=4294967296*(g-=u)}return 23283064365386963e-26*(u>>>0)});c.next=function(){var h=2091639*c.s0+23283064365386963e-26*c.c;return c.s0=c.s1,c.s1=c.s2,c.s2=h-(c.c=0|h)},c.c=1,c.s0=f(" "),c.s1=f(" "),c.s2=f(" "),c.s0-=f(s),c.s0<0&&(c.s0+=1),c.s1-=f(s),c.s1<0&&(c.s1+=1),c.s2-=f(s),c.s2<0&&(c.s2+=1),f=null}function o(s,u){return u.c=s.c,u.s0=s.s0,u.s1=s.s1,u.s2=s.s2,u}function i(s,u){var c=new a(s),f=u&&u.state,h=c.next;return h.int32=function(){return 4294967296*c.next()|0},h.double=function(){return h()+11102230246251565e-32*(2097152*h()|0)},h.quick=h,f&&(typeof f=="object"&&o(f,c),h.state=function(){return o(c,{})}),h}n&&n.exports?n.exports=i:this.alea=i})(0,t)}),hY=Vc(function(t){(function(e,n,r){function a(s){var u=this,c="";u.x=0,u.y=0,u.z=0,u.w=0,u.next=function(){var h=u.x^u.x<<11;return u.x=u.y,u.y=u.z,u.z=u.w,u.w^=u.w>>>19^h^h>>>8},s===(0|s)?u.x=s:c+=s;for(var f=0;f<c.length+64;f++)u.x^=0|c.charCodeAt(f),u.next()}function o(s,u){return u.x=s.x,u.y=s.y,u.z=s.z,u.w=s.w,u}function i(s,u){var c=new a(s),f=u&&u.state,h=function(){return(c.next()>>>0)/4294967296};return h.double=function(){do var m=((c.next()>>>11)+(c.next()>>>0)/4294967296)/2097152;while(m===0);return m},h.int32=c.next,h.quick=h,f&&(typeof f=="object"&&o(f,c),h.state=function(){return o(c,{})}),h}n&&n.exports?n.exports=i:this.xor128=i})(0,t)}),pY=Vc(function(t){(function(e,n,r){function a(s){var u=this,c="";u.next=function(){var h=u.x^u.x>>>2;return u.x=u.y,u.y=u.z,u.z=u.w,u.w=u.v,(u.d=u.d+362437|0)+(u.v=u.v^u.v<<4^h^h<<1)|0},u.x=0,u.y=0,u.z=0,u.w=0,u.v=0,s===(0|s)?u.x=s:c+=s;for(var f=0;f<c.length+64;f++)u.x^=0|c.charCodeAt(f),f==c.length&&(u.d=u.x<<10^u.x>>>4),u.next()}function o(s,u){return u.x=s.x,u.y=s.y,u.z=s.z,u.w=s.w,u.v=s.v,u.d=s.d,u}function i(s,u){var c=new a(s),f=u&&u.state,h=function(){return(c.next()>>>0)/4294967296};return h.double=function(){do var m=((c.next()>>>11)+(c.next()>>>0)/4294967296)/2097152;while(m===0);return m},h.int32=c.next,h.quick=h,f&&(typeof f=="object"&&o(f,c),h.state=function(){return o(c,{})}),h}n&&n.exports?n.exports=i:this.xorwow=i})(0,t)}),mY=Vc(function(t){(function(e,n,r){function a(s){var u=this;u.next=function(){var c,f,h=u.x,m=u.i;return c=h[m],f=(c^=c>>>7)^c<<24,f^=(c=h[m+1&7])^c>>>10,f^=(c=h[m+3&7])^c>>>3,f^=(c=h[m+4&7])^c<<7,c=h[m+7&7],f^=(c^=c<<13)^c<<9,h[m]=f,u.i=m+1&7,f},function(c,f){var h,m=[];if(f===(0|f))m[0]=f;else for(f=""+f,h=0;h<f.length;++h)m[7&h]=m[7&h]<<15^f.charCodeAt(h)+m[h+1&7]<<13;for(;m.length<8;)m.push(0);for(h=0;h<8&&m[h]===0;++h);for(h==8?m[7]=-1:m[h],c.x=m,c.i=0,h=256;h>0;--h)c.next()}(u,s)}function o(s,u){return u.x=s.x.slice(),u.i=s.i,u}function i(s,u){s==null&&(s=+new Date);var c=new a(s),f=u&&u.state,h=function(){return(c.next()>>>0)/4294967296};return h.double=function(){do var m=((c.next()>>>11)+(c.next()>>>0)/4294967296)/2097152;while(m===0);return m},h.int32=c.next,h.quick=h,f&&(f.x&&o(f,c),h.state=function(){return o(c,{})}),h}n&&n.exports?n.exports=i:this.xorshift7=i})(0,t)}),gY=Vc(function(t){(function(e,n,r){function a(s){var u=this;u.next=function(){var c,f,h=u.w,m=u.X,g=u.i;return u.w=h=h+1640531527|0,f=m[g+34&127],c=m[g=g+1&127],f^=f<<13,c^=c<<17,f^=f>>>15,c^=c>>>12,f=m[g]=f^c,u.i=g,f+(h^h>>>16)|0},function(c,f){var h,m,g,y,b,x=[],S=128;for(f===(0|f)?(m=f,f=null):(f+="\0",m=0,S=Math.max(S,f.length)),g=0,y=-32;y<S;++y)f&&(m^=f.charCodeAt((y+32)%f.length)),y===0&&(b=m),m^=m<<10,m^=m>>>15,m^=m<<4,m^=m>>>13,y>=0&&(b=b+1640531527|0,g=(h=x[127&y]^=m+b)==0?g+1:0);for(g>=128&&(x[127&(f&&f.length||0)]=-1),g=127,y=512;y>0;--y)m=x[g+34&127],h=x[g=g+1&127],m^=m<<13,h^=h<<17,m^=m>>>15,h^=h>>>12,x[g]=m^h;c.w=b,c.X=x,c.i=g}(u,s)}function o(s,u){return u.i=s.i,u.w=s.w,u.X=s.X.slice(),u}function i(s,u){s==null&&(s=+new Date);var c=new a(s),f=u&&u.state,h=function(){return(c.next()>>>0)/4294967296};return h.double=function(){do var m=((c.next()>>>11)+(c.next()>>>0)/4294967296)/2097152;while(m===0);return m},h.int32=c.next,h.quick=h,f&&(f.X&&o(f,c),h.state=function(){return o(c,{})}),h}n&&n.exports?n.exports=i:this.xor4096=i})(0,t)}),vY=Vc(function(t){(function(e,n,r){function a(s){var u=this,c="";u.next=function(){var h=u.b,m=u.c,g=u.d,y=u.a;return h=h<<25^h>>>7^m,m=m-g|0,g=g<<24^g>>>8^y,y=y-h|0,u.b=h=h<<20^h>>>12^m,u.c=m=m-g|0,u.d=g<<16^m>>>16^y,u.a=y-h|0},u.a=0,u.b=0,u.c=-1640531527,u.d=1367130551,s===Math.floor(s)?(u.a=s/4294967296|0,u.b=0|s):c+=s;for(var f=0;f<c.length+20;f++)u.b^=0|c.charCodeAt(f),u.next()}function o(s,u){return u.a=s.a,u.b=s.b,u.c=s.c,u.d=s.d,u}function i(s,u){var c=new a(s),f=u&&u.state,h=function(){return(c.next()>>>0)/4294967296};return h.double=function(){do var m=((c.next()>>>11)+(c.next()>>>0)/4294967296)/2097152;while(m===0);return m},h.int32=c.next,h.quick=h,f&&(typeof f=="object"&&o(f,c),h.state=function(){return o(c,{})}),h}n&&n.exports?n.exports=i:this.tychei=i})(0,t)}),fc=Vc(function(t){(function(e,n){var r,a=this,o=256,i=6,s="random",u=n.pow(o,i),c=n.pow(2,52),f=2*c,h=o-1;function m(S,R,_){var T=[],A=b(function M(P,I){var $,z=[],G=typeof P;if(I&&G=="object")for($ in P)try{z.push(M(P[$],I-1))}catch{}return z.length?z:G=="string"?P:P+"\0"}((R=R==1?{entropy:!0}:R||{}).entropy?[S,x(e)]:S??function(){try{var M;return r&&(M=r.randomBytes)?M=M(o):(M=new Uint8Array(o),(a.crypto||a.msCrypto).getRandomValues(M)),x(M)}catch{var P=a.navigator,I=P&&P.plugins;return[+new Date,a,I,a.screen,x(e)]}}(),3),T),D=new g(T),N=function(){for(var M=D.g(i),P=u,I=0;M<c;)M=(M+I)*o,P*=o,I=D.g(1);for(;M>=f;)M/=2,P/=2,I>>>=1;return(M+I)/P};return N.int32=function(){return 0|D.g(4)},N.quick=function(){return D.g(4)/4294967296},N.double=N,b(x(D.S),e),(R.pass||_||function(M,P,I,$){return $&&($.S&&y($,D),M.state=function(){return y(D,{})}),I?(n[s]=M,P):M})(N,A,"global"in R?R.global:this==n,R.state)}function g(S){var R,_=S.length,T=this,A=0,D=T.i=T.j=0,N=T.S=[];for(_||(S=[_++]);A<o;)N[A]=A++;for(A=0;A<o;A++)N[A]=N[D=h&D+S[A%_]+(R=N[A])],N[D]=R;(T.g=function(M){for(var P,I=0,$=T.i,z=T.j,G=T.S;M--;)P=G[$=h&$+1],I=I*o+G[h&(G[$]=G[z=h&z+P])+(G[z]=P)];return T.i=$,T.j=z,I})(o)}function y(S,R){return R.i=S.i,R.j=S.j,R.S=S.S.slice(),R}function b(S,R){for(var _,T=S+"",A=0;A<T.length;)R[h&A]=h&(_^=19*R[h&A])+T.charCodeAt(A++);return x(R)}function x(S){return String.fromCharCode.apply(0,S)}if(n["seed"+s]=m,b(n.random(),e),t.exports){t.exports=m;try{r=require("crypto")}catch{}}})([],Math)});fc.alea=fY,fc.xor128=hY,fc.xorwow=pY,fc.xorshift7=mY,fc.xor4096=gY,fc.tychei=vY;var Db=fc.alea,x_=function(){function t(e,n,r,a,o){this.mean=e,this.stdDev=n,this.dtype=r,this.nextVal=NaN,this.truncated=a,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var i=o||Math.random();this.random=Db(i.toString())}return t.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var e=this.nextVal;return this.nextVal=NaN,e}for(var n,r,a=!1;!a;){var o=void 0,i=void 0,s=void 0;do s=(o=2*this.random()-1)*o+(i=2*this.random()-1)*i;while(s>=1||s===0);var u=Math.sqrt(-2*Math.log(s)/s);n=this.mean+this.stdDev*o*u,r=this.mean+this.stdDev*i*u,this.truncated&&!this.isValidTruncated(n)||(a=!0)}return this.truncated&&!this.isValidTruncated(r)||(this.nextVal=this.convertValue(r)),this.convertValue(n)},t.prototype.convertValue=function(e){return this.dtype==null||this.dtype==="float32"?e:Math.round(e)},t.prototype.isValidTruncated=function(e){return e<=this.upper&&e>=this.lower},t}(),yY=function(){function t(e,n,r,a){this.alpha=e,this.beta=1/n,this.dtype=r;var o=a||Math.random();this.randu=Db(o.toString()),this.randn=new x_(0,1,r,!1,this.randu()),this.d=e<1?e+2/3:e-1/3,this.c=1/Math.sqrt(9*this.d)}return t.prototype.nextValue=function(){for(var e,n,r,a,o,i;;){do a=this.randn.nextValue(),i=1+this.c*a;while(i<=0);if(i*=i*i,n=1-.331*(e=a*a)*e,r=.5*e+this.d*(1-i+Math.log(i)),(o=this.randu())<n||Math.log(o)<r)break}return i=1/this.beta*this.d*i,this.alpha<1&&(i*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(i)},t.prototype.convertValue=function(e){return this.dtype==="float32"?e:Math.round(e)},t}(),bY=function(){function t(e,n,r,a){var o=this;if(e===void 0&&(e=0),n===void 0&&(n=1),this.canReturnFloat=function(){return o.dtype==null||o.dtype==="float32"},this.min=e,this.range=n-e,this.dtype=r,a==null&&(a=Math.random()),typeof a=="number"&&(a=a.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between "+e+" - "+n+" <= 1 and dtype is not float");this.random=Db(a)}return t.prototype.convertValue=function(e){return this.canReturnFloat()?e:Math.round(e)},t.prototype.nextValue=function(){return this.convertValue(this.min+this.range*this.random())},t}();function Pt(t,e,n){return e===void 0&&(e="float32"),e=e||"float32",kM(t),new gm(t,e,n)}function xY(t,e){e===void 0&&(e=!1),console.log(t.toString(e))}var FM=ae({batchToSpaceND_:function(t,e,n){var r=Z(t,"x","batchToSpaceND"),a=e.reduce(function(o,i){return o*i});return ee(r.rank>=1+e.length,function(){return"input rank is "+r.rank+" but should be > than blockShape.length "+e.length}),ee(n.length===e.length,function(){return"crops.length is "+n.length+" but should be equal to blockShape.length  "+e.length}),ee(r.shape[0]%a==0,function(){return"input tensor batch is "+r.shape[0]+" but is not divisible by the product of the elements of blockShape "+e.join(" * ")+" === "+a}),se.runKernelFunc(function(o){return o.batchToSpaceND(r,e,n)},{$x:r},function(o){return{$x:function(){return o.spaceToBatchND(e,n)}}})}}),wY=ae({broadcastTo_:function(t,e){var n=Z(t,"broadcastTo","x"),r=n.shape;if(e.some(function(u){return!(u>0)||u%1!=0}))throw new Error("broadcastTo(): Invalid broadcast shape ["+e+"].");if(e.length<n.rank)throw new Error("broadcastTo(): shape.length="+e.length+" < input.rank="+n.rank+".");if(e.length>n.rank){for(var a=n.shape.slice();a.length<e.length;)a.unshift(1);n=n.reshape(a)}for(var o=Array.from(e),i=e.length-1;i>=0;i--)if(n.shape[i]===e[i])o[i]=1;else if(n.shape[i]!==1)throw new Error("broadcastTo(): ["+r+"] cannot be broadcast to ["+e+"].");var s=o.map(function(u,c){return u>1?c:-1}).filter(function(u){return u>=0});return s.length===0?n.clone():se.runKernelFunc(function(u){return u.tile(n,o)},{input:n},function(u){return{input:function(){return u.sum(s,!0)}}})}}),SY=ae({cast_:function(t,e){var n=Z(t,"x","cast");if(!pK(e))throw new Error("Failed to cast to unknown dtype "+e);if(e==="string"&&n.dtype!=="string"||e!=="string"&&n.dtype==="string")throw new Error("Only strings can be casted to strings");var r={dtype:e};return se.runKernelFunc(function(a){return a.cast(n,e)},{x:n},function(a){return{x:function(){return a.clone()}}},"Cast",r)}}),_Y=ae({clone_:function(t){var e=Z(t,"x","clone",null);return se.runKernelFunc(function(){return se.makeTensorFromDataId(e.dataId,e.shape,e.dtype)},{$x:e},function(n){return{$x:function(){return n.toFloat()}}})}}),CY=ae({cumsum_:function(t,e,n,r){e===void 0&&(e=0),n===void 0&&(n=!1),r===void 0&&(r=!1);var a=Z(t,"x","cumsum"),o=fs([e|=0],a.rank),i=a;o!=null&&(i=a.transpose(o));var s=hs(1,a.rank)[0],u=se.runKernelFunc(function(c){return c.cumsum(i,s,n,r)},{permutedX:i},function(c){return{permutedX:function(){return c.cumsum(e,n,!r)}}});return o!=null&&(u=u.transpose(o)),u}}),EY=ae({depthToSpace_:function(t,e,n){n===void 0&&(n="NHWC");var r=Z(t,"x","depthToSpace"),a=n==="NHWC"?r.shape[1]:r.shape[2],o=n==="NHWC"?r.shape[2]:r.shape[3],i=n==="NHWC"?r.shape[3]:r.shape[1];return ee(a*e>=0,function(){return`Negative dimension size caused by overflow when multiplying
      `+a+" and "+e+`  for depthToSpace with input shape
      `+r.shape}),ee(o*e>=0,function(){return`Negative dimension size caused by overflow when multiplying
      `+o+" and "+e+` for depthToSpace with input shape
          `+r.shape}),ee(i%(e*e)==0,function(){return"Dimension size must be evenly divisible by "+e*e+" but is "+i+" for depthToSpace with input shape "+r.shape}),se.runKernelFunc(function(s){return s.depthToSpace(r,e,n)},{$x:r})}}),Po=ae({expandDims_:function(t,e){e===void 0&&(e=0);var n=Z(t,"x","expandDims",null);ee(e<=n.rank,function(){return"Axis must be <= rank of the tensor"});var r=n.shape.slice();return e<0&&(ee(-(n.rank+1)<=e,function(){return"Axis must be in the interval ["+-(n.rank+1)+", "+n.rank+"]"}),e=n.rank+e+1),r.splice(e,0,1),ui(n,r)}}),BM=ae({eye_:function(t,e,n,r){r===void 0&&(r="float32"),e==null&&(e=t);for(var a=Pt([t,e],r),o=t<=e?t:e,i=0;i<o;++i)a.set(1,i,i);var s=a.toTensor().as2D(t,e);if(n==null)return s;if(n.length===1)return hf(Po(s,0),[n[0],1,1]);if(n.length===2)return hf(Po(Po(s,0),0),[n[0],n[1],1,1]);if(n.length===3)return hf(Po(Po(Po(s,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D batchShapes, but received "+n.length+"D.")}}),TY=ae({multinomial_:function(t,e,n,r){r===void 0&&(r=!1);var a=Z(t,"logits","multinomial"),o=a.size,i=a.rank;if(o<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+o+".");if(i>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+i);n=n||Math.random();var s=i===1?a.as2D(1,-1):a,u=se.runKernelFunc(function(c){return c.multinomial(s,r,e,n)},{logits2D:s});return i===1?u.as1D():u}}),$w=ae({oneHot_:function(t,e,n,r){if(n===void 0&&(n=1),r===void 0&&(r=0),e<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+e);var a=Z(t,"indices","oneHot","int32"),o=a.shape.concat([e]);return a=a.flatten(),se.runKernelFunc(function(i){return i.oneHot(a,e,n,r)},{$indices:a},function(i){return{$indices:function(){return In(a.shape,"float32")}}}).reshape(o)}}),jc=ae({pad_:function(t,e,n){n===void 0&&(n=0);var r=Z(t,"x","pad");if(r.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var a={paddings:e,constantValue:n};return se.runKernelFunc(function(o){return o.pad(r,e,n)},{x:r},function(o){var i=e.map(function(s){return s[0]});return{x:function(){return o.slice(i,r.shape)}}},"PadV2",a)}}),RY=ae({pad1d_:function(t,e,n){return n===void 0&&(n=0),ee(e.length===2,function(){return"Invalid number of paddings. Must be length of 2."}),jc(t,[e],n)}}),AY=ae({pad2d_:function(t,e,n){return n===void 0&&(n=0),ee(e.length===2&&e[0].length===2&&e[1].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),jc(t,e,n)}}),kY=ae({pad3d_:function(t,e,n){return n===void 0&&(n=0),ee(e.length===3&&e[0].length===2&&e[1].length===2&&e[2].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),jc(t,e,n)}}),NY=ae({pad4d_:function(t,e,n){return n===void 0&&(n=0),ee(e.length===4&&e[0].length===2&&e[1].length===2&&e[2].length===2&&e[3].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),jc(t,e,n)}}),OY=ae({rand_:function(t,e,n){var r=nt(t),a=null;if(n==null||n==="float32")a=new Float32Array(r);else if(n==="int32")a=new Int32Array(r);else{if(n!=="bool")throw new Error("Unknown data type "+n);a=new Uint8Array(r)}for(var o=0;o<r;o++)a[o]=e();return se.makeTensor(a,t,n)}}),DY=ae({randomNormal_:function(t,e,n,r,a){if(e===void 0&&(e=0),n===void 0&&(n=1),r!=null&&r==="bool")throw new Error("Unsupported data type "+r);for(var o=new x_(e,n,r,!1,a),i=Pt(t,r),s=0;s<i.values.length;s++)i.values[s]=o.nextValue();return i.toTensor()}}),MY=ae({randomGamma_:function(t,e,n,r,a){if(n===void 0&&(n=1),r===void 0&&(r="float32"),n==null&&(n=1),r==null&&(r="float32"),r!=="float32"&&r!=="int32")throw new Error("Unsupported data type "+r);for(var o=new yY(e,n,r,a),i=Pt(t,r),s=0;s<i.values.length;s++)i.values[s]=o.nextValue();return i.toTensor()}}),zM=ae({randomUniform_:function(t,e,n,r,a){e===void 0&&(e=0),n===void 0&&(n=1),r===void 0&&(r="float32");for(var o=Pt(t,r),i=new bY(e,n,null,a),s=0;s<o.values.length;s++)o.values[s]=i.nextValue();return o.toTensor()}}),ui=ae({reshape_:function(t,e){var n=Z(t,"x","reshape",null);e=fK(e,n.size),ee(n.size===nt(e),function(){return"new shape and old shape must have the same number of elements."});var r={shape:e};return se.runKernelFunc(function(a){return a.reshape(n,e)},{x:n},function(a){return{x:function(){return a.reshape(n.shape)}}},"Reshape",r)}}),$M=ae({spaceToBatchND_:function(t,e,n){var r=Z(t,"x","spaceToBatchND");return ee(r.rank>=1+e.length,function(){return"input rank "+r.rank+" should be > than [blockShape] "+e.length}),ee(n.length===e.length,function(){return"paddings.shape[0] "+n.length+" must be equal to [blockShape] "+e.length}),ee(r.shape.reduce(function(a,o,i){return i>0&&i<=e.length?a&&(o+n[i-1][0]+n[i-1][1])%e[i-1]==0:a},!0),function(){return"input spatial dimensions "+r.shape.slice(1)+" with paddings "+n.toString()+" must be divisible by blockShapes "+e.toString()}),se.runKernelFunc(function(a){return a.spaceToBatchND(r,e,n)},{$x:r},function(a){return{$x:function(){return a.batchToSpaceND(e,n)}}})}}),UM=ae({squeeze_:function(t,e){var n=Z(t,"x","squeeze");return ui(n,pc(n.shape,e).newShape)}}),go=ae({stack_:function(t,e){e===void 0&&(e=0);var n=_y(t,"tensors","stack");if(ee(n.length>=1,function(){return"Pass at least one tensor to tf.stack"}),n.length===1)return n[0].expandDims(e);var r=n[0].rank,a=n[0].shape,o=n[0].dtype;ee(e<=r,function(){return"Axis must be <= rank of the tensor"}),n.forEach(function(s){vn(a,s.shape,"All tensors passed to stack must have matching shapes")}),n.forEach(function(s){ee(o===s.dtype,function(){return"All tensors passed to stack must have matching dtypes"})});var i=n.map(function(s){return s.expandDims(e)});return Tr(i,e)}}),hf=ae({tile_:function(t,e){var n=Z(t,"x","tile",null);ee(n.rank===e.length,function(){return"Error in transpose: rank of input "+n.rank+" must match length of reps "+e+"."});var r=[n],a={reps:e};return se.runKernelFunc(function(o,i){var s=o.tile(n,e);return i([n]),s},{x:n},function(o,i){var s=i[0];return{x:function(){var u=rn(s);if(s.rank===1)for(var c=0;c<e[0];++c)u=u.add(o.slice([c*s.shape[0]],[s.shape[0]]));else if(s.rank===2)for(c=0;c<e[0];++c)for(var f=0;f<e[1];++f)u=u.add(o.slice([c*s.shape[0],f*s.shape[1]],[s.shape[0],s.shape[1]]));else if(s.rank===3)for(c=0;c<e[0];++c)for(f=0;f<e[1];++f)for(var h=0;h<e[2];++h)u=u.add(o.slice([c*s.shape[0],f*s.shape[1],h*s.shape[2]],[s.shape[0],s.shape[1],s.shape[2]]));else{if(s.rank!==4)throw new Error("Gradient for tile operation is not implemented for rank-"+s.rank+" tensors yet.");for(c=0;c<e[0];++c)for(f=0;f<e[1];++f)for(h=0;h<e[2];++h)for(var m=0;m<e[3];++m)u=u.add(o.slice([c*s.shape[0],f*s.shape[1],h*s.shape[2],m*s.shape[3]],[s.shape[0],s.shape[1],s.shape[2],s.shape[3]]))}return u}}},"Tile",a,r)}}),PY=ae({truncatedNormal_:function(t,e,n,r,a){if(e===void 0&&(e=0),n===void 0&&(n=1),r!=null&&r==="bool")throw new Error("Unsupported data type "+r);for(var o=new x_(e,n,r,!0,a),i=Pt(t,r),s=0;s<i.values.length;s++)i.values[s]=o.nextValue();return i.toTensor()}}),Rr=ae({unstack_:function(t,e){e===void 0&&(e=0),e=e||0;var n=Z(t,"x","unstack");ee(e>=-n.shape.length&&e<n.shape.length,function(){return"Axis = "+e+" is not in [-"+n.shape.length+", "+n.shape.length+")"}),e<0&&(e+=n.shape.length);var r={axis:e};return se.runKernelFunc(function(a){return a.unstack(n,e)},{x:n},function(a){return{x:function(){return go(a,e)}}},"Unpack",r)}}),IY=function(t,e){return Je(this,void 0,void 0,function(){var n,r,a,o,i,s,u,c,f,h;return et(this,function(m){switch(m.label){case 0:return n=Z(t,"x","setdiff1d"),r=Z(e,"y","setdiff1d"),ee(n.dtype===r.dtype,function(){return"x and y should have the same dtype, but got x ("+n.dtype+") and y ("+r.dtype+")."}),ee(n.rank===1,function(){return"x should be 1D tensor, but got x ("+n.shape+")."}),ee(r.rank===1,function(){return"y should be 1D tensor, but got y ("+r.shape+")."}),[4,n.data()];case 1:return a=m.sent(),[4,r.data()];case 2:for(o=m.sent(),i=new Set(o),s=0,f=0;f<a.length;f++)i.has(a[f])||s++;for(u=new gm([s],n.dtype),c=new gm([s],"int32"),f=0,h=0;f<a.length;f++)i.has(a[f])||(u.values[h]=a[f],c.values[h]=f,h++);return[2,[u.toTensor(),c.toTensor()]]}})})};function Ey(t,e,n,r){r===void 0&&(r=!0);var a=[];if(r)(a=a.concat(e.slice(0))).push(t[0]/n),a=a.concat(t.slice(1));else{a=a.concat(t[0]);for(var o=e.length,i=0;i<o;++i)a=a.concat([t[i+1]/e[i],e[i]]);a=a.concat(t.slice(o+1))}return a}function Ty(t,e,n){n===void 0&&(n=!0);var r=[];if(n){r.push(e);for(var a=e+1;a<t;++a)a<=2*e?(r.push(a),r.push(a-(e+1))):r.push(a)}else{var o=[],i=[];for(a=1;a<t;++a)a>=2*e+1||a%2==1?i.push(a):o.push(a);r.push.apply(r,o),r.push(0),r.push.apply(r,i)}return r}function Ry(t,e,n,r){r===void 0&&(r=!0);var a=[];r?a.push(t[0]/n):a.push(t[0]*n);for(var o=1;o<t.length;++o)o<=e.length?r?a.push(e[o-1]*t[o]):a.push(t[o]/e[o-1]):a.push(t[o]);return a}function VM(t,e){for(var n=[0],r=0;r<e;++r)n.push(t[r][0]);return n}function jM(t,e,n){for(var r=t.slice(0,1),a=0;a<n;++a)r.push(t[a+1]-e[a][0]-e[a][1]);return r}function WM(t,e){if(t.rank<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher, but the rank was "+t.rank+".");if(e.rank<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher, but the rank was "+e.rank+".");if(e.dtype!=="int32")throw new Error("tf.gatherND() expects the indices to be int32 type, but the dtype was "+e.dtype+".");if(e.shape[e.rank-1]>t.rank)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+e.shape[e.rank-1]+" vs. "+t.rank);if(t.size===0)throw new Error("Requested more than 0 entries, but input is empty. Input shape: "+t.shape+".");for(var n=e.shape,r=n[n.length-1],a=1,o=0;o<n.length-1;++o)a*=n[o];var i=t.shape,s=n.slice();s.pop();var u=1;for(o=r;o<t.rank;++o)u*=i[o],s.push(i[o]);var c=ts(t.shape).map(function(f){return f/u}).concat([1]).slice(0,r);return[s,a,u,c]}var HM=30;function u2(t){return t<=HM?t:Pw(t,Math.floor(Math.sqrt(t)))}function LY(t,e,n){var r=e.rank>1?e.shape[e.rank-1]:1,a=e.rank>1?e.rank-1:1,o="Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: "+n.shape+", indices.shape: "+e.shape+", shape: "+t+", sliceDim: "+r+", and batchDim: "+a+".";if(n.rank<a)throw new Error(o+" update.rank < "+a+". ");if(t.length<r+(n.rank-a))throw new Error(o+" Output shape length < "+(r+(n.rank-a)));if(n.rank!==a+t.length-r)throw new Error(o+" update.rank != "+(a+t.length-r));for(var i=0;i<a;++i)if(n.shape[i]!==e.shape[i])throw new Error(o+" updates.shape["+i+"] ("+n.shape[i]+") != indices.shape["+i+"] ("+e.shape[i]+").");for(i=0;i<n.rank-a;++i)if(n.shape[i+a]!==t[i+r])throw new Error(o+" updates.shape["+(i+a)+"] ("+n.shape[i+a]+") != shape["+(i+a)+"] ("+t[i+a]+")")}function FY(t,e,n){if(e.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher, but the rank was "+e.rank+".");if(t.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher, but the rank was "+t.rank+".");if(e.dtype!=="int32")throw new Error("The dtype of 'indices' should be int32, but got dtype: "+e.dtype);if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: "+n);if(n.length===0){if(e.size===0)throw new Error("Indices specified for empty output. indices shape: "+e.shape);if(t.size===0)throw new Error("Updates specified for empty output. updates shape: "+t.shape)}LY(n,e,t)}function Ay(t,e,n){for(var r=e.shape.length,a=r>1?e.shape[r-1]:1,o=n.length,i=1,s=a;s<o;++s)i*=n[s];var u=a<1?1:a;return{sliceRank:a,numUpdates:nt(e.shape)/u,sliceSize:i,strides:ts(n.slice(0,a)).concat([1]),outputSize:nt(n)}}function BY(t,e,n){ee(t.rank===e.length,function(){return"Error in slice"+t.rank+"D: Length of begin "+e+" must match the rank of the array ("+t.rank+")."}),ee(t.rank===n.length,function(){return"Error in slice"+t.rank+"D: Length of size "+n+" must match the rank of the array ("+t.rank+")."});for(var r=function(o){ee(e[o]+n[o]<=t.shape[o],function(){return"Error in slice"+t.rank+"D: begin["+o+"] + size["+o+"] ("+(e[o]+n[o])+") would overflow input.shape["+o+"] ("+t.shape[o]+")"})},a=0;a<t.rank;++a)r(a)}function zR(t){for(var e=[],n=0;t>0;)1&t&&e.push(n),t/=2,n++;return e}function w_(t,e,n){for(var r=[],a=0;a<t.length;a++)r[a]=Math.ceil((e[a]-t[a])/n[a]);return r}function zY(t,e,n,r,a){var o=e[a],i=n[a]||1;(t&1<<a||o==null)&&(o=i>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var s=r[a];return o<0&&(o+=s),o=Ow(0,o,s-1)}function $Y(t,e,n,r,a){var o=e[a],i=n[a]||1;(t&1<<a||o==null)&&(o=i>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var s=r[a];return o<0&&(o+=s),o=i>0?Ow(0,o,s):Ow(-1,o,s-1)}function qM(t,e,n){for(var r=n.length,a=0;a<n.length;a++)if(n[a]>1){r=a;break}for(a=r+1;a<n.length;a++)if(e[a]>0||n[a]!==t[a])return!1;return!0}function GM(t,e){for(var n=t.length>0?t[t.length-1]:1,r=0;r<t.length-1;r++)n+=t[r]*e[r];return n}function UY(t,e){ee(Mw(t),function(){return"The f passed in variableGrads(f) must be a function"}),ee(e==null||Array.isArray(e)&&e.every(function(f){return f instanceof zf}),function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"});var n=e!=null;if(!n)for(var r in e=[],se.registeredVariables)e.push(se.registeredVariables[r]);var a=n?e.filter(function(f){return!f.trainable}):null,o=e.length;ee((e=e.filter(function(f){return f.trainable})).length>0,function(){return"variableGrads() expects at least one of the input variables to be trainable, but none of the "+o+" variables is trainable."});var i=se.gradients(t,e,null,!0),s=i.value,u=i.grads;ee(u.some(function(f){return f!=null}),function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."}),ee(s.rank===0,function(){return"The f passed in variableGrads(f) must return a scalar, but it returned a rank-"+s.rank+" tensor"});var c={};return e.forEach(function(f,h){u[h]!=null&&(c[f.name]=u[h])}),a!=null&&a.forEach(function(f){return c[f.name]=null}),{value:s,grads:c}}function Mb(t){return se.customGrad(t)}var ol=ae({softmax_:function(t,e){e===void 0&&(e=-1);var n=Z(t,"logits","softmax","float32");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and dim was "+e);return se.runKernelFunc(function(r,a){var o=r.softmax(n,e);return a([o]),o},{logits:n},function(r,a){var o=a[0],i=r.mul(o);return{logits:function(){return i.sub(i.sum([e],!0).mul(o))}}},"Softmax",{dim:e},[],[!0])}}),VY=ae({logSoftmax_:function(t,e){e===void 0&&(e=-1);var n=Z(t,"logits","logSoftmax");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and axis was "+e);return Mb(function(r,a){var o=r.max(e,!0),i=r.sub(o),s=i.toFloat().sub(i.exp().sum(e,!0).log());return a([s]),{value:s,gradFunc:function(u,c){var f=c[0].exp();return u.sub(u.sum(e,!0).mul(f))}}})(n)}}),KM=function(){function t(e,n){this.backend=e,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}return t.prototype.get=function(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)},t.prototype.set=function(e,n){this.dataIdsCount++,this.data.set(e,n)},t.prototype.has=function(e){return this.data.has(e)},t.prototype.delete=function(e){return this.dataIdsCount--,this.data.delete(e)},t.prototype.numDataIds=function(){return this.dataIdsCount},t}(),YM=function(){function t(){}return t.prototype.time=function(e){return ye("time")},t.prototype.read=function(e){return ye("read")},t.prototype.readSync=function(e){return ye("readSync")},t.prototype.numDataIds=function(){return ye("numDataIds")},t.prototype.disposeData=function(e){return ye("disposeData")},t.prototype.write=function(e,n,r){return ye("write")},t.prototype.move=function(e,n,r,a){return ye("move")},t.prototype.memory=function(){return ye("memory")},t.prototype.floatPrecision=function(){return ye("floatPrecision")},t.prototype.epsilon=function(){return this.floatPrecision()===32?1e-7:1e-4},t.prototype.batchMatMul=function(e,n,r,a){return ye("batchMatMul")},t.prototype.fusedBatchMatMul=function(e){return e.a,e.b,e.transposeA,e.transposeB,e.bias,e.activation,e.preluActivationWeights,ye("fusedBatchMatMul")},t.prototype.slice=function(e,n,r){return ye("slice")},t.prototype.stridedSlice=function(e,n,r,a){return ye("stridedSlice")},t.prototype.unstack=function(e,n){return ye("unstack")},t.prototype.reverse=function(e,n){return ye("reverse")},t.prototype.concat=function(e,n){return ye("concat")},t.prototype.neg=function(e){return ye("neg")},t.prototype.add=function(e,n){return ye("add")},t.prototype.addN=function(e){return ye("addN")},t.prototype.subtract=function(e,n){return ye("subtract")},t.prototype.multiply=function(e,n){return ye("multiply")},t.prototype.realDivide=function(e,n){return ye("realDivide")},t.prototype.floorDiv=function(e,n){return ye("floorDiv")},t.prototype.sum=function(e,n){return ye("sum")},t.prototype.prod=function(e,n){return ye("prod")},t.prototype.unsortedSegmentSum=function(e,n,r){return ye("unsortedSegmentSum")},t.prototype.argMin=function(e,n){return ye("argMin")},t.prototype.argMax=function(e,n){return ye("argMax")},t.prototype.equal=function(e,n){return ye("equal")},t.prototype.notEqual=function(e,n){return ye("notEqual")},t.prototype.less=function(e,n){return ye("less")},t.prototype.lessEqual=function(e,n){return ye("lessEqual")},t.prototype.greater=function(e,n){return ye("greater")},t.prototype.greaterEqual=function(e,n){return ye("greaterEqual")},t.prototype.logicalNot=function(e){return ye("logicalNot")},t.prototype.logicalAnd=function(e,n){return ye("logicalAnd")},t.prototype.logicalOr=function(e,n){return ye("logicalOr")},t.prototype.where=function(e){return ye("where")},t.prototype.select=function(e,n,r){return ye("select")},t.prototype.topk=function(e,n,r){return ye("topk")},t.prototype.min=function(e,n){return ye("min")},t.prototype.minimum=function(e,n){return ye("minimum")},t.prototype.mod=function(e,n){return ye("mod")},t.prototype.max=function(e,n){return ye("max")},t.prototype.maximum=function(e,n){return ye("maximum")},t.prototype.all=function(e,n){return ye("all")},t.prototype.any=function(e,n){return ye("any")},t.prototype.squaredDifference=function(e,n){return ye("squaredDifference")},t.prototype.ceil=function(e){return ye("ceil")},t.prototype.floor=function(e){return ye("floor")},t.prototype.round=function(e){return ye("round")},t.prototype.sign=function(e){return ye("sign")},t.prototype.isNaN=function(e){return ye("isNaN")},t.prototype.isInf=function(e){return ye("isInf")},t.prototype.isFinite=function(e){return ye("isFinite")},t.prototype.pow=function(e,n){return ye("pow")},t.prototype.exp=function(e){return ye("exp")},t.prototype.expm1=function(e){return ye("expm1")},t.prototype.softmax=function(e,n){return ye("softmax")},t.prototype.log=function(e){return ye("log")},t.prototype.log1p=function(e){return ye("log1p")},t.prototype.sqrt=function(e){return ye("sqrt")},t.prototype.rsqrt=function(e){return ye("rsqrt")},t.prototype.square=function(e){return ye("square")},t.prototype.reciprocal=function(e){return ye("reciprocal")},t.prototype.relu=function(e){return ye("relu")},t.prototype.relu6=function(e){return ye("relu6")},t.prototype.prelu=function(e,n){return ye("prelu")},t.prototype.elu=function(e){return ye("elu")},t.prototype.eluDer=function(e,n){return ye("eluDer")},t.prototype.selu=function(e){return ye("selu")},t.prototype.int=function(e){return ye("int")},t.prototype.clip=function(e,n,r){return ye("clip")},t.prototype.abs=function(e){return ye("abs")},t.prototype.complexAbs=function(e){return ye("complexAbs")},t.prototype.sigmoid=function(e){return ye("sigmoid")},t.prototype.softplus=function(e){return ye("softplus")},t.prototype.sin=function(e){return ye("sin")},t.prototype.cos=function(e){return ye("cos")},t.prototype.tan=function(e){return ye("tan")},t.prototype.asin=function(e){return ye("asin")},t.prototype.acos=function(e){return ye("acos")},t.prototype.atan=function(e){return ye("atan")},t.prototype.atan2=function(e,n){return ye("atan2")},t.prototype.sinh=function(e){return ye("sinh")},t.prototype.cosh=function(e){return ye("cosh")},t.prototype.tanh=function(e){return ye("tanh")},t.prototype.asinh=function(e){return ye("asinh")},t.prototype.acosh=function(e){return ye("acosh")},t.prototype.atanh=function(e){return ye("atanh")},t.prototype.erf=function(e){return ye("erf")},t.prototype.step=function(e,n){return ye("step")},t.prototype.fusedConv2d=function(e){return e.input,e.filter,e.convInfo,e.bias,e.activation,e.preluActivationWeights,ye("fusedConv2d")},t.prototype.conv2d=function(e,n,r){return ye("conv2d")},t.prototype.conv2dDerInput=function(e,n,r){return ye("conv2dDerInput")},t.prototype.conv2dDerFilter=function(e,n,r){return ye("conv2dDerFilter")},t.prototype.fusedDepthwiseConv2D=function(e){return e.input,e.filter,e.convInfo,e.bias,e.activation,e.preluActivationWeights,ye("fusedDepthwiseConv2D")},t.prototype.depthwiseConv2D=function(e,n,r){return ye("depthwiseConv2D")},t.prototype.depthwiseConv2DDerInput=function(e,n,r){return ye("depthwiseConv2DDerInput")},t.prototype.depthwiseConv2DDerFilter=function(e,n,r){return ye("depthwiseConv2DDerFilter")},t.prototype.conv3d=function(e,n,r){return ye("conv3d")},t.prototype.conv3dDerInput=function(e,n,r){return ye("conv3dDerInput")},t.prototype.conv3dDerFilter=function(e,n,r){return ye("conv3dDerFilter")},t.prototype.maxPool=function(e,n){return ye("maxPool")},t.prototype.maxPoolBackprop=function(e,n,r,a){return ye("maxPoolBackprop")},t.prototype.avgPool=function(e,n){return ye("avgPool")},t.prototype.avgPoolBackprop=function(e,n,r){return ye("avgPoolBackprop")},t.prototype.avgPool3d=function(e,n){return ye("avgPool3d")},t.prototype.avgPool3dBackprop=function(e,n,r){return ye("avgPool3dBackprop")},t.prototype.maxPool3d=function(e,n){return ye("maxPool3d")},t.prototype.maxPool3dBackprop=function(e,n,r,a){return ye("maxPool3dBackprop")},t.prototype.reshape=function(e,n){return ye("reshape")},t.prototype.cast=function(e,n){return ye("cast")},t.prototype.tile=function(e,n){return ye("tile")},t.prototype.pad=function(e,n,r){return ye("pad")},t.prototype.transpose=function(e,n){return ye("transpose")},t.prototype.gather=function(e,n,r){return ye("gather")},t.prototype.gatherND=function(e,n){return ye("gatherND")},t.prototype.scatterND=function(e,n,r){return ye("scatterND")},t.prototype.batchToSpaceND=function(e,n,r){return ye("batchToSpaceND")},t.prototype.spaceToBatchND=function(e,n,r){return ye("spaceToBatchND")},t.prototype.resizeBilinear=function(e,n,r,a){return ye("resizeBilinear")},t.prototype.resizeBilinearBackprop=function(e,n,r){return ye("resizeBilinearBackprop")},t.prototype.resizeNearestNeighbor=function(e,n,r,a){return ye("resizeNearestNeighbor")},t.prototype.resizeNearestNeighborBackprop=function(e,n,r){return ye("resizeNearestNeighborBackprop")},t.prototype.batchNormalization=function(e,n,r,a,o,i){return ye("batchNormalization")},t.prototype.localResponseNormalization4D=function(e,n,r,a,o){return ye("localResponseNormalization4D")},t.prototype.LRNGrad=function(e,n,r,a,o,i,s){return ye("LRNGrad")},t.prototype.multinomial=function(e,n,r,a){return ye("multinomial")},t.prototype.oneHot=function(e,n,r,a){return ye("oneHot")},t.prototype.cumsum=function(e,n,r,a){return ye("cumsum")},t.prototype.nonMaxSuppression=function(e,n,r,a,o){return ye("nonMaxSuppression")},t.prototype.fft=function(e){return ye("fft")},t.prototype.ifft=function(e){return ye("ifft")},t.prototype.complex=function(e,n){return ye("complex")},t.prototype.real=function(e){return ye("real")},t.prototype.imag=function(e){return ye("imag")},t.prototype.cropAndResize=function(e,n,r,a,o,i){return ye("cropAndResize")},t.prototype.depthToSpace=function(e,n,r){return ye("depthToSpace")},t.prototype.split=function(e,n,r){return ye("split")},t.prototype.sparseToDense=function(e,n,r,a){return ye("sparseToDense")},t.prototype.diag=function(e){return ye("diag")},t.prototype.fill=function(e,n,r){return ye("fill")},t.prototype.onesLike=function(e){return ye("onesLike")},t.prototype.zerosLike=function(e){return ye("zerosLike")},t.prototype.linspace=function(e,n,r){return ye("linspace")},t.prototype.dispose=function(){return ye("dispose")},t}();function ye(t){throw new Error("'"+t+"' not yet implemented or not found in the registry. Did you forget to import the kernel?")}function fu(t,e){for(var n=t.length,r=[],a=0;a<n;a++){var o=n-1-a,i=t[o]||1;(e[e.length-1-a]||1)>1&&i===1&&r.unshift(o)}return r}function Ar(t,e){for(var n=[],r=0;r<e.length;r++){var a=t[t.length-r-1],o=e.length-r-1,i=e[o];(a==null||a===1&&i>1)&&n.unshift(o)}return n}function Xt(t,e){for(var n=[],r=Math.max(t.length,e.length),a=0;a<r;a++){var o=t[t.length-a-1];o==null&&(o=1);var i=e[e.length-a-1];if(i==null&&(i=1),o===1)n.unshift(i);else if(i===1)n.unshift(o);else{if(o!==i)throw Error("Operands could not be broadcast together with shapes "+t+" and "+e+".");n.unshift(o)}}return n}function ym(t,e,n,r,a,o,i){i===void 0&&(i="channelsLast");var s,u=Oy(e),c=u[0],f=u[1];if(i==="channelsLast")s=[c,f,t[3],t[3]];else{if(i!=="channelsFirst")throw new Error("Unknown dataFormat "+i);s=[c,f,t[1],t[1]]}return Wc(t,s,n,r,a,o,!1,i)}function ky(t,e,n,r,a,o,i){i===void 0&&(i="NDHWC");var s,u,c=Uw(e),f=c[0],h=c[1],m=c[2];if(i==="NDHWC")u="channelsLast",s=[f,h,m,t[4],t[4]];else{if(i!=="NCDHW")throw new Error("Unknown dataFormat "+i);u="channelsFirst",s=[f,h,m,t[1],t[1]]}return Ny(t,s,n,r,a,!1,u,o)}function Wc(t,e,n,r,a,o,i,s){i===void 0&&(i=!1),s===void 0&&(s="channelsLast");var u=[-1,-1,-1,-1],c=u[0],f=u[1],h=u[2],m=u[3];if(s==="channelsLast")c=t[0],f=t[1],h=t[2],m=t[3];else{if(s!=="channelsFirst")throw new Error("Unknown dataFormat "+s);c=t[0],m=t[1],f=t[2],h=t[3]}var g,y=e[0],b=e[1],x=e[3],S=Oy(n),R=S[0],_=S[1],T=Oy(r),A=T[0],D=T[1],N=pf(y,A),M=pf(b,D),P=function(V,B,F,U,W,Q,q,le){var J,oe,re;if(typeof V=="number"){J={top:V,bottom:V,left:V,right:V,type:V===0?"VALID":"NUMBER"};var we=function(Pe,ze,Ce,Ie,Ue){Ie==null&&(Ie=XM(Pe,ze,Ce));var st=Pe[0],mt=Pe[1],Jt=Xp((st-ze+2*Ie)/Ce+1,Ue);ee(cr(Jt),function(){return"The output # of rows ("+Jt+") must be an integer. Change the stride and/or zero pad parameters"});var Ht=Xp((mt-ze+2*Ie)/Ce+1,Ue);return ee(cr(Ht),function(){return"The output # of columns ("+Ht+") must be an integer. Change the stride and/or zero pad parameters"}),[Jt,Ht]}([B,F],Q,U,V,le);oe=we[0],re=we[1]}else if(V==="same"){oe=Math.ceil(B/U),re=Math.ceil(F/W);var be=Math.max(0,(oe-1)*U+Q-B),Oe=Math.max(0,(re-1)*W+q-F),pe=Math.floor(be/2),De=be-pe,Ve=Math.floor(Oe/2);J={top:pe,bottom:De,left:Ve,right:Oe-Ve,type:"SAME"}}else{if(V!=="valid")throw Error("Unknown padding parameter: "+V);J={top:0,bottom:0,left:0,right:0,type:"VALID"},oe=Math.ceil((B-Q+1)/U),re=Math.ceil((F-q+1)/W)}return{padInfo:J,outHeight:oe,outWidth:re}}(a,f,h,R,_,N,M,o),I=P.padInfo,$=P.outHeight,z=P.outWidth,G=i?x*m:x;return s==="channelsFirst"?g=[c,G,$,z]:s==="channelsLast"&&(g=[c,$,z,G]),{batchSize:c,dataFormat:s,inHeight:f,inWidth:h,inChannels:m,outHeight:$,outWidth:z,outChannels:G,padInfo:I,strideHeight:R,strideWidth:_,filterHeight:y,filterWidth:b,effectiveFilterHeight:N,effectiveFilterWidth:M,dilationHeight:A,dilationWidth:D,inShape:t,outShape:g,filterShape:e}}function Ny(t,e,n,r,a,o,i,s){o===void 0&&(o=!1),i===void 0&&(i="channelsLast");var u=[-1,-1,-1,-1,-1],c=u[0],f=u[1],h=u[2],m=u[3],g=u[4];if(i==="channelsLast")c=t[0],f=t[1],h=t[2],m=t[3],g=t[4];else{if(i!=="channelsFirst")throw new Error("Unknown dataFormat "+i);c=t[0],g=t[1],f=t[2],h=t[3],m=t[4]}var y,b=e[0],x=e[1],S=e[2],R=e[4],_=Uw(n),T=_[0],A=_[1],D=_[2],N=Uw(r),M=N[0],P=N[1],I=N[2],$=pf(b,M),z=pf(x,P),G=pf(S,I),V=function(q,le,J,oe,re,we,be,Oe,pe,De,Ve){var Pe,ze,Ce,Ie;if(typeof q=="number"){Pe={top:q,bottom:q,left:q,right:q,front:q,back:q,type:q===0?"VALID":"NUMBER"};var Ue=function(fe,$e,je,Ge,Fe,Le){Fe==null&&(Fe=XM(fe,$e,Ge));var Gt=fe[0],an=fe[1],Qn=fe[2],Qe=Xp((Gt-$e+2*Fe)/Ge+1,Le);ee(cr(Qe),function(){return"The output # of depths ("+Qe+") must be an integer. Change the stride and/or zero pad parameters"});var Lt=Xp((an-$e+2*Fe)/Ge+1,Le);ee(cr(Lt),function(){return"The output # of rows ("+Lt+") must be an integer. Change the stride and/or zero pad parameters"});var cn=Xp((Qn-$e+2*Fe)/Ge+1,Le);return ee(cr(cn),function(){return"The output # of columns ("+cn+") must be an integer. Change the stride and/or zero pad parameters"}),[Qe,Lt,cn,je]}([le,J,oe,1],Oe,1,re,q,Ve);ze=Ue[0],Ce=Ue[1],Ie=Ue[2]}else if(q==="same"){ze=Math.ceil(le/re),Ce=Math.ceil(J/we),Ie=Math.ceil(oe/be);var st=(ze-1)*re+Oe-le,mt=(Ce-1)*we+pe-J,Jt=(Ie-1)*be+De-oe,Ht=Math.floor(st/2),Ut=st-Ht,yt=Math.floor(mt/2),Vt=mt-yt,qt=Math.floor(Jt/2);Pe={top:yt,bottom:Vt,left:qt,right:Jt-qt,front:Ht,back:Ut,type:"SAME"}}else{if(q!=="valid")throw Error("Unknown padding parameter: "+q);Pe={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},ze=Math.ceil((le-Oe+1)/re),Ce=Math.ceil((J-pe+1)/we),Ie=Math.ceil((oe-De+1)/be)}return{padInfo:Pe,outDepth:ze,outHeight:Ce,outWidth:Ie}}(a,f,h,m,T,A,D,$,z,G,s),B=V.padInfo,F=V.outDepth,U=V.outHeight,W=V.outWidth,Q=o?R*g:R;return i==="channelsFirst"?y=[c,Q,F,U,W]:i==="channelsLast"&&(y=[c,F,U,W,Q]),{batchSize:c,dataFormat:i,inDepth:f,inHeight:h,inWidth:m,inChannels:g,outDepth:F,outHeight:U,outWidth:W,outChannels:Q,padInfo:B,strideDepth:T,strideHeight:A,strideWidth:D,filterDepth:b,filterHeight:x,filterWidth:S,effectiveFilterDepth:$,effectiveFilterHeight:z,effectiveFilterWidth:G,dilationDepth:M,dilationHeight:P,dilationWidth:I,inShape:t,outShape:y,filterShape:e}}function XM(t,e,n,r){r===void 0&&(r=1);var a=pf(e,r);return Math.floor((t[0]*(n-1)-n+a)/2)}function Oy(t){return typeof t=="number"?[t,t,t]:t.length===2?[t[0],t[1],1]:t}function Uw(t){return typeof t=="number"?[t,t,t]:t}function pf(t,e){return e<=1?t:t+(t-1)*(e-1)}function Xp(t,e){if(!e)return t;switch(e){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error("Unknown roundingMode "+e)}}function Uf(t){var e=Oy(t),n=e[0],r=e[1],a=e[2];return n===1&&r===1&&a===1}function Qa(t,e){return Uf(t)||Uf(e)}function S_(t){if(t==="NHWC")return"channelsLast";if(t==="NCHW")return"channelsFirst";throw new Error("Unknown dataFormat "+t)}function QM(t,e,n){if(e==="complex64"){if(t.dtype==="complex64")return t.clone();var r=In(t.shape),a=t.toFloat(),o=n.complex(a,r);return r.dispose(),a.dispose(),o}if(!mK(t.dtype,e))return se.makeTensorFromDataId(t.dataId,t.shape,e);if(t.dtype==="complex64"){var i=n.real(t);return o=i.cast(e),i.dispose(),o}if(e==="int32")return n.int(t);if(e==="bool"){var s=He(0,t.dtype);return o=n.notEqual(t,s),s.dispose(),o}throw new Error("Error in Cast: failed to cast "+t.dtype+" to "+e)}function Vw(t,e){return se.makeTensorFromDataId(t.dataId,e,t.dtype)}function ZM(t,e,n){var r=(e-t)/(n-1),a=Zm(n,"float32");a[0]=t;for(var o=1;o<a.length;o++)a[o]=a[o-1]+r;return yr(a,"float32")}function jw(t,e){if(t.length!==e.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+t.length+", imag: "+e.length+".");for(var n=new Float32Array(2*t.length),r=0;r<n.length;r+=2)n[r]=t[r/2],n[r+1]=e[r/2];return n}function $R(t,e){return{real:t[2*e],imag:t[2*e+1]}}function jY(t,e,n,r){t[2*r]=e,t[2*r+1]=n}function WY(t,e,n){var r=(n?2:-2)*Math.PI*(t/e);return{real:Math.cos(r),imag:Math.sin(r)}}function HY(t,e,n){var r=function(o,i,s){return function(u,c,f){for(var h=0,m=u.length,g=0,y=!1;h<m;){var b=f(c,u[g=h+(m-h>>>1)]);b>0?h=g+1:(m=g,y=!b)}return y?h:-h-1}(o,i,s||qY)}(t,e,n),a=r<0?-(r+1):r;t.splice(a,0,e)}function qY(t,e){return t>e?1:t<e?-1:0}function __(t,e,n,r,a){return JM(t,e,n,r,a,0).selectedIndices}function C_(t,e,n,r,a,o){var i=JM(t,e,n,r,a,o);return i.numValidOutputs.dispose(),{selectedIndices:i.selectedIndices,selectedScores:i.selectedScores}}function JM(t,e,n,r,a,o,i,s){s===void 0&&(s=!1);for(var u=Array.from(e).map(function(T,A){return{score:T,boxIndex:A,suppressBeginIndex:0}}).filter(function(T){return T.score>a}).sort(UR),c=o>0?-.5/o:0,f=[],h=[];f.length<n&&u.length>0;){var m=u.pop(),g=m.score,y=m.boxIndex,b=m.suppressBeginIndex;if(g<a)break;for(var x=!1,S=f.length-1;S>=b;--S){var R=GY(t,y,f[S]);if(R>=r){x=!0;break}if(m.score=m.score*KY(r,c,R),m.score<=a)break}m.suppressBeginIndex=f.length,x||(m.score===g?(f.push(y),h.push(m.score)):m.score>a&&HY(u,m,UR))}var _=f.length;return s&&(f.fill(0,_),h.fill(0,_)),{selectedIndices:yr(f,"int32"),selectedScores:yr(h,"float32"),numValidOutputs:He(_,"int32")}}function GY(t,e,n){var r=t.subarray(4*e,4*e+4),a=t.subarray(4*n,4*n+4),o=Math.min(r[0],r[2]),i=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),u=Math.max(r[1],r[3]),c=Math.min(a[0],a[2]),f=Math.min(a[1],a[3]),h=Math.max(a[0],a[2]),m=Math.max(a[1],a[3]),g=(s-o)*(u-i),y=(h-c)*(m-f);if(g<=0||y<=0)return 0;var b=Math.max(o,c),x=Math.max(i,f),S=Math.min(s,h),R=Math.min(u,m),_=Math.max(S-b,0)*Math.max(R-x,0);return _/(g+y-_)}function KY(t,e,n){var r=Math.exp(e*n*n);return n<=t?r:0}function UR(t,e){return t.score-e.score||t.score===e.score&&e.boxIndex-t.boxIndex}function e5(t,e,n){var r=new Array(t.rank).fill(0),a=t.shape.slice();return e.map(function(o){a[n]=o;var i=t.slice(r,a);return r[n]+=o,i})}function t5(t,e){for(var n=new Array(t.rank),r=0;r<n.length;r++)n[r]=t.shape[r]*e[r];var a=Pt(n,t.dtype);for(r=0;r<a.values.length;++r){for(var o=a.indexToLoc(r),i=new Array(t.rank),s=0;s<i.length;s++)i[s]=o[s]%t.shape[s];var u=t.locToIndex(i);a.values[r]=t.values[u]}return a.toTensor()}function n5(t,e,n,r,a){for(var o=e[e.length-1],i=[t.length/o,o],s=i[0],u=i[1],c=mm(n,s*r),f=mm("int32",s*r),h=0;h<s;h++){for(var m=h*u,g=t.subarray(m,m+u),y=[],b=0;b<g.length;b++)y.push({value:g[b],index:b});y.sort(function(T,A){return A.value-T.value});var x=h*r,S=c.subarray(x,x+r),R=f.subarray(x,x+r);for(b=0;b<r;b++)S[b]=y[b].value,R[b]=y[b].index}var _=e.slice();return _[_.length-1]=r,[Zr(c,_,n),Zr(f,_,"int32")]}function E_(t,e){for(var n=[],r=0;r<e.length;r++)e[r]&&n.push(r);var a=Pt(t,"int32"),o=Pt([n.length,t.length],"int32");for(r=0;r<n.length;r++){var i=a.indexToLoc(n[r]),s=r*t.length;o.values.set(i,s)}return o.toTensor()}var YY=function(t,e){this.outputShape=[],this.outputShape=t,this.variableNames=e.map(function(a,o){return"T"+o});var n=[];this.variableNames.forEach(function(a){n.push("float v"+a+" = get"+a+"AtOutCoords();")});var r=this.variableNames.map(function(a){return"v"+a}).join(" + ");this.userCode=`
      void main() {
        `+n.join(`
        `)+`

        float result = `+r+`;
        setOutput(result);
      }
    `},XY=function(t,e){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.variableNames=e.map(function(a,o){return"T"+o});var n=[];this.variableNames.forEach(function(a){n.push("vec4 v"+a+" = get"+a+"AtOutCoords();")});var r=this.variableNames.map(function(a){return"v"+a}).join(" + ");this.userCode=`
      void main() {
        `+n.join(`
        `)+`

        vec4 result = `+r+`;
        setOutput(result);
      }
    `},QY=function(t,e,n){this.variableNames=["A"];var r=t.windowSize,a=t.batchSize,o=t.inSize,i=Math.ceil(o/r);n||this.variableNames.push("bestIndicesA"),this.outputShape=[a,i];var s=e==="max"?">":"<",u=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * `+r+`;

        int bestIndex = inOffset;
        float bestValue = getA(batch, bestIndex);

        for (int i = 0; i < `+r+`; i++) {
          int inIdx = `+u+`;
          float candidate = getA(batch, inIdx);
          if (candidate `+s+` bestValue) {
            bestValue = candidate;
            bestIndex = inIdx;
          }
        }
        setOutput(float(bestIndex));
      }
    `};function r5(t,e){return["x","y","z","w","u","v"].slice(0,e).map(function(n){return t+"."+n})}function Ua(t,e){return e===1?[t]:r5(t,e)}function va(){var t,e,n,r,a,o,i,s,u,c;return Ee().getNumber("WEBGL_VERSION")===2?(t="#version 300 es",e="in",n="out",r="in",a="texture",o="outputColor",i="out vec4 outputColor;",s=`
      bool isnan_custom(float val) {
        return (val > 0.0 || val < 0.0) ? false : val != 0.0;
      }

      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan_custom(val.x),
          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));
      }

      #define isnan(value) isnan_custom(value)
    `,u="",c=`
      #define round(value) newRound(value)
      int newRound(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 newRound(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `):(t="",e="attribute",n="varying",r="varying",a="texture2D",o="gl_FragColor",i="",s=`
      #define isnan(value) isnan_custom(value)
      bool isnan_custom(float val) {
        return (val > 0. || val < 1. || val == 0.) ? false : true;
      }
      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));
      }
    `,u=`
      uniform float INFINITY;

      bool isinf(float val) {
        return abs(val) == INFINITY;
      }
      bvec4 isinf(vec4 val) {
        return equal(abs(val), vec4(INFINITY));
      }
    `,c=`
      int round(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 round(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `),{version:t,attribute:e,varyingVs:n,varyingFs:r,texture2D:a,output:o,defineOutput:i,defineSpecialNaN:s,defineSpecialInf:u,defineRound:c}}function yc(t,e,n){n===void 0&&(n="index");var r=ts(e);return r.map(function(a,o){return"int "+t[o]+" = "+n+" / "+a+"; "+(o===r.length-1?"int "+t[o+1]+" = "+n+" - "+t[o]+" * "+a:"index -= "+t[o]+" * "+a)+";"}).join("")}function T_(t){var e=ts(t).map(function(n){return n.toString()});return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * `+e[0]+" + coords.y * "+e[1]+` + coords.z;
  }
`}var a5=`
  const float FLOAT_MAX = 1.70141184e38;
  const float FLOAT_MIN = 1.17549435e-38;

  lowp vec4 encode_float(highp float v) {
    if (isnan(v)) {
      return vec4(255, 255, 255, 255);
    }

    highp float av = abs(v);

    if(av < FLOAT_MIN) {
      return vec4(0.0, 0.0, 0.0, 0.0);
    } else if(v > FLOAT_MAX) {
      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
    } else if(v < -FLOAT_MAX) {
      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
    }

    highp vec4 c = vec4(0,0,0,0);

    highp float e = floor(log2(av));
    highp float m = exp2(fract(log2(av))) - 1.0;

    c[2] = floor(128.0 * m);
    m -= c[2] / 128.0;
    c[1] = floor(32768.0 * m);
    m -= c[1] / 32768.0;
    c[0] = floor(8388608.0 * m);

    highp float ebias = e + 127.0;
    c[3] = floor(ebias / 2.0);
    ebias -= c[3] * 2.0;
    c[2] += floor(ebias) * 128.0;

    c[3] += 128.0 * step(0.0, -v);

    return c / 255.0;
  }
`;function ZY(t,e,n,r){var a=[];t.forEach(function(g){var y=nt(g.shapeInfo.logicalShape);g.shapeInfo.isUniform?a.push("uniform float "+g.name+(y>1?"["+y+"]":"")+";"):(a.push("uniform sampler2D "+g.name+";"),a.push("uniform int offset"+g.name+";"))});var o,i,s=a.join(`
`),u=t.map(function(g){return function(y,b,x){x===void 0&&(x=!1);var S="";S+=x?o5(y):ef(y);var R=y.shapeInfo.logicalShape,_=b.logicalShape;return R.length<=_.length&&(S+=x?function(T,A){var D,N=T.name,M=N.charAt(0).toUpperCase()+N.slice(1),P="get"+M+"AtOutCoords",I=T.shapeInfo.logicalShape.length,$=A.logicalShape.length,z=fu(T.shapeInfo.logicalShape,A.logicalShape),G=Pn($),V=$-I,B=["x","y","z","w","u","v"];D=I===0?"":$<2&&z.length>=1?"coords = 0;":z.map(function(J){return"coords."+B[J+V]+" = 0;"}).join(`
`);var F="";F=$<2&&I>0?"coords":T.shapeInfo.logicalShape.map(function(J,oe){return"coords."+B[oe+V]}).join(", ");var U="return outputValue;",W=nt(T.shapeInfo.logicalShape)===1,Q=nt(A.logicalShape)===1;if(I!==1||W||Q){if(W&&!Q)U=$===1?`
        return vec4(outputValue.x, outputValue.x, 0., 0.);
      `:`
        return vec4(outputValue.x);
      `;else if(z.length){var q=I-2,le=I-1;z.indexOf(q)>-1&&z.indexOf(le)>-1?U="return vec4(outputValue.x);":z.indexOf(q)>-1?U="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":z.indexOf(le)>-1&&(U="return vec4(outputValue.xx, outputValue.zz);")}}else U=`
      return vec4(outputValue.xy, outputValue.xy);
    `;return`
    vec4 `+P+`() {
      `+G+` coords = getOutputCoords();
      `+D+`
      vec4 outputValue = get`+M+"("+F+`);
      `+U+`
    }
  `}(y,b):function(T,A){var D=T.name,N=D.charAt(0).toUpperCase()+D.slice(1),M="get"+N+"AtOutCoords",P=A.texShape,I=T.shapeInfo.texShape,$=T.shapeInfo.logicalShape.length,z=A.logicalShape.length;if(!T.shapeInfo.isUniform&&$===z&&T.shapeInfo.flatOffset==null&&Fr(I,P))return`
      float `+M+`() {
        return sampleTexture(`+D+`, resultUV);
      }
    `;var G,V=Pn(z),B=fu(T.shapeInfo.logicalShape,A.logicalShape),F=z-$,U=["x","y","z","w","u","v"];G=$===0?"":z<2&&B.length>=1?"coords = 0;":B.map(function(Q){return"coords."+U[Q+F]+" = 0;"}).join(`
`);var W="";return W=z<2&&$>0?"coords":T.shapeInfo.logicalShape.map(function(Q,q){return"coords."+U[q+F]}).join(", "),`
    float `+M+`() {
      `+V+` coords = getOutputCoords();
      `+G+`
      return get`+N+"("+W+`);
    }
  `}(y,b)),S}(g,e,r)}).join(`
`),c=e.texShape,f=va(),h=function(g){return`
    float sampleTexture(sampler2D textureSampler, vec2 uv) {
      return `+g.texture2D+`(textureSampler, uv).r;
    }
  `}(f),m=function(g){return g.version+`
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    `+g.varyingFs+` vec2 resultUV;
    `+g.defineOutput+`
    const vec2 halfCR = vec2(0.5, 0.5);

    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    uniform float NAN;
    `+g.defineSpecialNaN+`
    `+g.defineSpecialInf+`
    `+g.defineRound+`

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    int idiv(int a, int b, float sign) {
      int res = a / b;
      int mod = imod(a, b);
      if (sign < 0. && mod != 0) {
        res -= 1;
      }
      return res;
    }

    //Based on the work of Dave Hoskins
    //https://www.shadertoy.com/view/4djSRW
    #define HASHSCALE1 443.8975
    float random(float seed){
      vec2 p = resultUV * seed;
      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);
      p3 += dot(p3, p3.yzx + 19.19);
      return fract((p3.x + p3.y) * p3.z);
    }

    `+JY+`
    `+eX+`
    `+tX+`
  `}(f);return e.isPacked?(o=function(g,y){switch(g.length){case 0:return`
    int getOutputCoords() {
      return 0;
    }
  `;case 1:return function(T,A){var D=[Math.ceil(A[0]/2),Math.ceil(A[1]/2)];return D[0]===1?`
      int getOutputCoords() {
        return 2 * int(resultUV.x * `+D[1]+`.0);
      }
    `:D[1]===1?`
      int getOutputCoords() {
        return 2 * int(resultUV.y * `+D[0]+`.0);
      }
    `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+D[0]+", "+D[1]+`));
      return 2 * (resTexRC.x * `+D[1]+` + resTexRC.y);
    }
  `}(0,y);case 2:return function(T,A){var D=[Math.ceil(A[0]/2),Math.ceil(A[1]/2)];if(Fr(T,A))return`
      ivec2 getOutputCoords() {
        return 2 * ivec2(resultUV.yx * vec2(`+D[0]+", "+D[1]+`));
      }
    `;var N=Math.ceil(T[1]/2);return`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+D[0]+", "+D[1]+`));

      int index = resTexRC.x * `+D[1]+` + resTexRC.y;
      int r = 2 * (index / `+N+`);
      int c = imod(index, `+N+`) * 2;

      return ivec2(r, c);
    }
  `}(g,y);case 3:return b=g,x=y,S=[Math.ceil(x[0]/2),Math.ceil(x[1]/2)],R=Math.ceil(b[2]/2),_=R*Math.ceil(b[1]/2),`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+S[0]+", "+S[1]+`));
      int index = resTexRC.x * `+S[1]+` + resTexRC.y;

      int b = index / `+_+`;
      index -= b * `+_+`;

      int r = 2 * (index / `+R+`);
      int c = imod(index, `+R+`) * 2;

      return ivec3(b, r, c);
    }
  `;default:return function(T,A){for(var D=[Math.ceil(A[0]/2),Math.ceil(A[1]/2)],N=Math.ceil(T[T.length-1]/2),M=N*Math.ceil(T[T.length-2]/2),P=M,I="",$="b, r, c",z=2;z<T.length-1;z++)P*=T[T.length-z-1],I=`
      int b`+z+" = index / "+P+`;
      index -= b`+z+" * "+P+`;
    `+I,$="b"+z+", "+$;return`
    ivec`+T.length+` getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+D[0]+", "+D[1]+`));
      int index = resTexRC.x * `+D[1]+` + resTexRC.y;

      `+I+`

      int b = index / `+M+`;
      index -= b * `+M+`;

      int r = 2 * (index / `+N+`);
      int c = imod(index, `+N+`) * 2;

      return ivec`+T.length+"("+$+`);
    }
  `}(g,y)}var b,x,S,R,_}(e.logicalShape,c),i=function(g){return`
    void setOutput(vec4 val) {
      `+g.output+` = val;
    }
  `}(f)):(o=function(g,y){switch(g.length){case 0:return`
    int getOutputCoords() {
      return 0;
    }
  `;case 1:return function(S,R){return R[0]===1?`
      int getOutputCoords() {
        return int(resultUV.x * `+R[1]+`.0);
      }
    `:R[1]===1?`
      int getOutputCoords() {
        return int(resultUV.y * `+R[0]+`.0);
      }
    `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+R[0]+", "+R[1]+`));
      return resTexRC.x * `+R[1]+` + resTexRC.y;
    }
  `}(0,y);case 2:return function(S,R){return Fr(S,R)?`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(`+R[0]+", "+R[1]+`));
      }
    `:S[1]===1?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(`+R[0]+", "+R[1]+`));
        int index = resTexRC.x * `+R[1]+` + resTexRC.y;
        return ivec2(index, 0);
      }
    `:S[0]===1?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(`+R[0]+", "+R[1]+`));
        int index = resTexRC.x * `+R[1]+` + resTexRC.y;
        return ivec2(0, index);
      }
    `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+R[0]+", "+R[1]+`));
      int index = resTexRC.x * `+R[1]+` + resTexRC.y;
      int r = index / `+S[1]+`;
      int c = index - r * `+S[1]+`;
      return ivec2(r, c);
    }
  `}(g,y);case 3:return b=y,x=yc(["r","c","d"],g),`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+b[0]+", "+b[1]+`));
      int index = resTexRC.x * `+b[1]+` + resTexRC.y;
      `+x+`
      return ivec3(r, c, d);
    }
  `;case 4:return function(S,R){var _=yc(["r","c","d","d2"],S);return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(`+R[0]+", "+R[1]+`));
      int index = resTexRC.x * `+R[1]+` + resTexRC.y;
      `+_+`
      return ivec4(r, c, d, d2);
    }
  `}(g,y);case 5:return function(S,R){var _=yc(["r","c","d","d2","d3"],S);return`
    ivec5 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx * vec2(`+R[0]+`,
                             `+R[1]+`));

      int index = resTexRC.x * `+R[1]+` + resTexRC.y;

      `+_+`

      ivec5 outShape = ivec5(r, c, d, d2, d3);
      return outShape;
    }
  `}(g,y);case 6:return function(S,R){var _=yc(["r","c","d","d2","d3","d4"],S);return`
    ivec6 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(`+R[0]+", "+R[1]+`));
      int index = resTexRC.x * `+R[1]+` + resTexRC.y;

      `+_+`

      ivec6 result = ivec6(r, c, d, d2, d3, d4);
      return result;
    }
  `}(g,y);default:throw new Error(g.length+"-D output sampling is not yet supported")}var b,x}(e.logicalShape,c),i=function(g){return`
    void setOutput(float val) {
      `+g.output+` = vec4(val, 0, 0, 0);
    }
  `}(f)),r&&(m+=nX),[m,h,i,s,o,u,n].join(`
`)}function ef(t){var e=t.shapeInfo.logicalShape;switch(e.length){case 0:return function(n){var r=n.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1);if(n.shapeInfo.isUniform)return"float "+a+"() {return "+r+";}";var o=n.shapeInfo.texShape,i=o[0],s=o[1];if(i===1&&s===1)return`
      float `+a+`() {
        return sampleTexture(`+r+`, halfCR);
      }
    `;var u=n.shapeInfo.texShape,c=u[0],f=u[1],h=ic(r);return`
    float `+a+`() {
      vec2 uv = uvFromFlat(`+c+", "+f+", "+h+`);
      return sampleTexture(`+r+`, uv);
    }
  `}(t);case 1:return function(n){var r=n.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1);if(n.shapeInfo.isUniform)return`
      float `+a+`(int index) {
        `+jd(n)+`
      }
    `;var o=n.shapeInfo.texShape,i=o[0],s=o[1];if(s===1&&i===1)return`
      float `+a+`(int index) {
        return sampleTexture(`+r+`, halfCR);
      }
    `;var u=ic(r);return s===1?`
      float `+a+`(int index) {
        vec2 uv = vec2(0.5, (float(index + `+u+") + 0.5) / "+i+`.0);
        return sampleTexture(`+r+`, uv);
      }
    `:i===1?`
      float `+a+`(int index) {
        vec2 uv = vec2((float(index + `+u+") + 0.5) / "+s+`.0, 0.5);
        return sampleTexture(`+r+`, uv);
      }
    `:`
    float `+a+`(int index) {
      vec2 uv = uvFromFlat(`+i+", "+s+", index + "+u+`);
      return sampleTexture(`+r+`, uv);
    }
  `}(t);case 2:return function(n){var r=n.shapeInfo.logicalShape,a=n.name,o="get"+a.charAt(0).toUpperCase()+a.slice(1),i=n.shapeInfo.texShape;if(i!=null&&Fr(r,i)){var s=i[0],u=i[1];return`
    float `+o+`(int row, int col) {
      vec2 uv = (vec2(col, row) + halfCR) / vec2(`+u+".0, "+s+`.0);
      return sampleTexture(`+a+`, uv);
    }
  `}var c=pc(r),f=c.newShape,h=c.keptDims,m=f;if(m.length<r.length){var g=tf(n,m);return`
      `+ef(g)+`
      float `+o+`(int row, int col) {
        return `+o+"("+nf(["row","col"],h)+`);
      }
    `}if(n.shapeInfo.isUniform)return`
      float `+o+`(int row, int col) {
        int index = round(dot(vec2(row, col), vec2(`+r[1]+`, 1)));
        `+jd(n)+`
      }
    `;var y=i[0],b=i[1],x=ic(a);return b===1?`
    float `+o+`(int row, int col) {
      float index = dot(vec3(row, col, `+x+"), vec3("+r[1]+`, 1, 1));
      vec2 uv = vec2(0.5, (index + 0.5) / `+y+`.0);
      return sampleTexture(`+a+`, uv);
    }
  `:y===1?`
    float `+o+`(int row, int col) {
      float index = dot(vec3(row, col, `+x+"), vec3("+r[1]+`, 1, 1));
      vec2 uv = vec2((index + 0.5) / `+b+`.0, 0.5);
      return sampleTexture(`+a+`, uv);
    }
  `:`
  float `+o+`(int row, int col) {
    // Explicitly use integer operations as dot() only works on floats.
    int index = row * `+r[1]+" + col + "+x+`;
    vec2 uv = uvFromFlat(`+y+", "+b+`, index);
    return sampleTexture(`+a+`, uv);
  }
`}(t);case 3:return function(n){var r=n.shapeInfo.logicalShape,a=n.name,o="get"+a.charAt(0).toUpperCase()+a.slice(1),i=r[1]*r[2],s=r[2],u=pc(r),c=u.newShape,f=u.keptDims,h=c;if(h.length<r.length){var m=tf(n,h);return`
        `+ef(m)+`
        float `+o+`(int row, int col, int depth) {
          return `+o+"("+nf(["row","col","depth"],f)+`);
        }
      `}if(n.shapeInfo.isUniform)return`
      float `+o+`(int row, int col, int depth) {
        int index = round(dot(vec3(row, col, depth),
                          vec3(`+i+", "+s+`, 1)));
        `+jd(n)+`
      }
    `;var g=n.shapeInfo.texShape,y=g[0],b=g[1],x=n.shapeInfo.flatOffset;if(b===i&&x==null)return`
        float `+o+`(int row, int col, int depth) {
          float texR = float(row);
          float texC = dot(vec2(col, depth), vec2(`+s+`, 1));
          vec2 uv = (vec2(texC, texR) + halfCR) /
                     vec2(`+b+".0, "+y+`.0);
          return sampleTexture(`+a+`, uv);
        }
      `;if(b===s&&x==null)return`
    float `+o+`(int row, int col, int depth) {
      float texR = dot(vec2(row, col), vec2(`+r[1]+`, 1));
      float texC = float(depth);
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(`+b+".0, "+y+`.0);
      return sampleTexture(`+a+`, uv);
    }
  `;var S=ic(a);return`
      float `+o+`(int row, int col, int depth) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * `+i+" + col * "+s+" + depth + "+S+`;
        vec2 uv = uvFromFlat(`+y+", "+b+`, index);
        return sampleTexture(`+a+`, uv);
      }
  `}(t);case 4:return function(n){var r=n.shapeInfo.logicalShape,a=n.name,o="get"+a.charAt(0).toUpperCase()+a.slice(1),i=r[3],s=r[2]*i,u=r[1]*s,c=pc(r),f=c.newShape,h=c.keptDims;if(f.length<r.length){var m=tf(n,f);return`
      `+ef(m)+`
      float `+o+`(int row, int col, int depth, int depth2) {
        return `+o+"("+nf(["row","col","depth","depth2"],h)+`);
      }
    `}if(n.shapeInfo.isUniform)return`
      float `+o+`(int row, int col, int depth, int depth2) {
        int index = round(dot(vec4(row, col, depth, depth2),
                          vec4(`+u+", "+s+", "+i+`, 1)));
        `+jd(n)+`
      }
    `;var g=n.shapeInfo.flatOffset,y=n.shapeInfo.texShape,b=y[0],x=y[1];if(x===u&&g==null)return`
      float `+o+`(int row, int col, int depth, int depth2) {
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(`+s+", "+i+`, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(`+x+".0, "+b+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;if(x===i&&g==null)return`
      float `+o+`(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(`+r[1]*r[2]+", "+r[2]+`, 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(`+x+".0, "+b+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;var S=ic(a);return`
    float `+o+`(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * `+u+" + col * "+s+` +
          depth * `+i+` + depth2;
      vec2 uv = uvFromFlat(`+b+", "+x+", index + "+S+`);
      return sampleTexture(`+a+`, uv);
    }
  `}(t);case 5:return function(n){var r=n.shapeInfo.logicalShape,a=n.name,o="get"+a.charAt(0).toUpperCase()+a.slice(1),i=r[4],s=r[3]*i,u=r[2]*s,c=r[1]*u,f=pc(r),h=f.newShape,m=f.keptDims;if(h.length<r.length){var g=tf(n,h);return`
      `+ef(g)+`
      float `+o+`(int row, int col, int depth, int depth2, int depth3) {
        return `+o+"("+nf(["row","col","depth","depth2","depth3"],m)+`);
      }
    `}if(n.shapeInfo.isUniform)return`
      float `+o+`(int row, int col, int depth, int depth2, int depth3) {
        float index = dot(
          vec4(row, col, depth, depth2),
          vec4(`+c+", "+u+", "+s+", "+i+`)) +
          depth3;
        `+jd(n)+`
      }
    `;var y=n.shapeInfo.flatOffset,b=n.shapeInfo.texShape,x=b[0],S=b[1];if(S===c&&y==null)return`
      float `+o+`(int row, int col, int depth, int depth2, int depth3) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
                         vec4(`+u+", "+s+", "+i+`, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(`+S+".0, "+x+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;if(S===i&&y==null)return`
      float `+o+`(int row, int col, int depth, int depth2, int depth3) {
        float texR = dot(
          vec4(row, col, depth, depth2),
          vec4(`+r[1]*r[2]*r[3]+`,
               `+r[2]*r[3]+", "+r[3]+`, 1));
        int texC = depth3;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(`+S+".0, "+x+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;var R=ic(a);return`
    float `+o+`(int row, int col, int depth, int depth2, int depth3) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * `+c+" + col * "+u+" + depth * "+s+` +
          depth2 * `+i+" + depth3 + "+R+`;
      vec2 uv = uvFromFlat(`+x+", "+S+`, index);
      return sampleTexture(`+a+`, uv);
    }
  `}(t);case 6:return function(n){var r=n.shapeInfo.logicalShape,a=n.name,o="get"+a.charAt(0).toUpperCase()+a.slice(1),i=pc(r),s=i.newShape,u=i.keptDims;if(s.length<r.length){var c=tf(n,s);return`
      `+ef(c)+`
      float `+o+`(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        return `+o+"("+nf(["row","col","depth","depth2","depth3","depth4"],u)+`);
      }
    `}var f=r[5],h=r[4]*f,m=r[3]*h,g=r[2]*m,y=r[1]*g;if(n.shapeInfo.isUniform)return`
      float `+o+`(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
        int index = round(dot(
          vec4(row, col, depth, depth2),
          vec4(`+y+", "+g+", "+m+", "+h+`)) +
          dot(
            vec2(depth3, depth4),
            vec2(`+f+`, 1)));
        `+jd(n)+`
      }
    `;var b=n.shapeInfo.flatOffset,x=n.shapeInfo.texShape,S=x[0],R=x[1];if(R===y&&b==null)return`
      float `+o+`(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
          vec4(`+g+", "+m+", "+h+", "+f+`)) +
               float(depth4);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(`+R+".0, "+S+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;if(R===f&&b==null)return`
      float `+o+`(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        float texR = dot(vec4(row, col, depth, depth2),
          vec4(`+r[1]*r[2]*r[3]*r[4]+`,
               `+r[2]*r[3]*r[4]+`,
               `+r[3]*r[4]+`,
               `+r[4]+`)) + float(depth3);
        int texC = depth4;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(`+R+".0, "+S+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;var _=ic(a);return`
    float `+o+`(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * `+y+" + col * "+g+" + depth * "+m+` +
          depth2 * `+h+" + depth3 * "+f+" + depth4 + "+_+`;
      vec2 uv = uvFromFlat(`+S+", "+R+`, index);
      return sampleTexture(`+a+`, uv);
    }
  `}(t);default:throw new Error(e.length+"-D input sampling is not yet supported")}}function o5(t){var e,n,r;switch(t.shapeInfo.logicalShape.length){case 0:return e=t.name,n="get"+e.charAt(0).toUpperCase()+e.slice(1),r=va(),`
    vec4 `+n+`() {
      return `+r.texture2D+"("+e+`, halfCR);
    }
  `;case 1:return function(a){var o=a.name,i="get"+o.charAt(0).toUpperCase()+o.slice(1),s=a.shapeInfo.texShape,u=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)],c=va();return`
    vec4 `+i+`(int index) {
      vec2 uv = packedUVfrom1D(
        `+u[0]+", "+u[1]+`, index);
      return `+c.texture2D+"("+o+`, uv);
    }
  `}(t);case 2:return function(a){var o=a.shapeInfo.logicalShape,i=a.name,s="get"+i.charAt(0).toUpperCase()+i.slice(1),u=a.shapeInfo.texShape,c=u[0],f=u[1],h=va();if(u!=null&&Fr(o,u))return`
      vec4 `+s+`(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(`+f+".0, "+c+`.0);

        return `+h.texture2D+"("+i+`, uv);
      }
    `;var m=[Math.ceil(u[0]/2),Math.ceil(u[1]/2)],g=Math.ceil(o[1]/2);return`
    vec4 `+s+`(int row, int col) {
      vec2 uv = packedUVfrom2D(`+g+", "+m[0]+", "+m[1]+`, row, col);
      return `+h.texture2D+"("+i+`, uv);
    }
  `}(t);case 3:return function(a){var o=a.shapeInfo.logicalShape,i=a.name,s="get"+i.charAt(0).toUpperCase()+i.slice(1),u=a.shapeInfo.texShape,c=[Math.ceil(u[0]/2),Math.ceil(u[1]/2)];if(o[0]===1){var f=o.slice(1),h=tf(a,f);return`
        `+o5(h)+`
        vec4 `+s+`(int b, int row, int col) {
          return `+s+"("+nf(["b","row","col"],[1,2])+`);
        }
      `}var m=c[0],g=c[1],y=Math.ceil(o[2]/2),b=y*Math.ceil(o[1]/2),x=va();return`
    vec4 `+s+`(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        `+m+", "+g+", "+b+", "+y+`, b, row, col);
      return `+x.texture2D+"("+i+`, uv);
    }
  `}(t);default:return function(a){for(var o=a.shapeInfo.logicalShape,i=o.length,s=a.name,u="get"+s.charAt(0).toUpperCase()+s.slice(1),c=a.shapeInfo.texShape,f=[Math.ceil(c[0]/2),Math.ceil(c[1]/2)],h=f[0],m=f[1],g=Math.ceil(o[i-1]/2),y=g*Math.ceil(o[i-2]/2),b="int b, int row, int col",x="b * "+y+" + (row / 2) * "+g+" + (col / 2)",S=2;S<i-1;S++)b="int b"+S+", "+b,y*=o[i-S-1],x="b"+S+" * "+y+" + "+x;var R=va();return`
    vec4 `+u+"("+b+`) {
      int index = `+x+`;
      int texR = index / `+m+`;
      int texC = index - texR * `+m+`;
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(`+m+", "+h+`);
      return `+R.texture2D+"("+s+`, uv);
    }
  `}(t)}}var JY=`
vec2 uvFromFlat(int texNumR, int texNumC, int index) {
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
  int texelIndex = index / 2;
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,eX=`
vec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,
  int texNumC, int row, int col) {
  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,tX=`
vec2 packedUVfrom3D(int texNumR, int texNumC,
    int texelsInBatch, int texelsInLogicalRow, int b,
    int row, int col) {
  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,nX=`
  float getChannel(vec4 frag, vec2 innerDims) {
    vec2 modCoord = mod(innerDims, 2.);
    return modCoord.x == 0. ?
      (modCoord.y == 0. ? frag.r : frag.g) :
      (modCoord.y == 0. ? frag.b : frag.a);
  }
  float getChannel(vec4 frag, int dim) {
    float modCoord = mod(float(dim), 2.);
    return modCoord == 0. ? frag.r : frag.g;
  }
`;function ic(t){return"offset"+t}function jd(t){var e=t.name,n=nt(t.shapeInfo.logicalShape);return n<2?"return "+e+";":`
    for (int i = 0; i < `+n+`; i++) {
      if (i == index) {
        return `+e+`[i];
      }
    }
  `}function Pn(t){if(t<=1)return"int";if(t===2)return"ivec2";if(t===3)return"ivec3";if(t===4)return"ivec4";if(t===5)return"ivec5";if(t===6)return"ivec6";throw Error("GPU for rank "+t+" is not yet supported")}function tf(t,e){var n=JSON.parse(JSON.stringify(t));return n.shapeInfo.logicalShape=e,n}function nf(t,e){return e.map(function(n){return t[n]}).join(", ")}var rX=function(t,e,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,ee(t.length>2,function(){return"Packed arg"+(n.charAt(0).toUpperCase()+n.slice(1))+" supports only inputs with rank above 2."});var a=t[t.length-1],o=Math.ceil(a/e);this.outputShape=t.slice(0,-1),o>1&&this.outputShape.push(o),r||this.variableNames.push("bestIndicesA");var i,s,u=this.outputShape,c=u.length,f=Pn(c),h=Ua("coords",c);if(o===1){var m=Pn(s=c+1);i=`
        `+m+" sourceLocR = "+m+"("+h.join()+`, 0);
        ++`+h[c-1]+`;
        `+m+" sourceLocG = "+m+"("+h.join()+`, 0);
        ++`+h[c-2]+`;
        `+m+" sourceLocA = "+m+"("+h.join()+`, 0);
        --`+h[c-1]+`;
        `+m+" sourceLocB = "+m+"("+h.join()+`, 0);
        --`+h[c-2]+";"}else s=c,i=`
        `+f+` sourceLocR = coords;
        ++`+h[c-1]+`;
        `+f+` sourceLocG = coords;
        ++`+h[c-2]+`;
        `+f+` sourceLocA = coords;
        --`+h[c-1]+`;
        `+f+` sourceLocB = coords;
        --`+h[c-2]+";";var g=["x","y","z","w","u","v"].slice(0,s),y="."+g[s-1],b=g.map(function(M){return"int "+M}),x=Ua("sourceLocR",s-1).concat("inIdx.r"),S=Ua("sourceLocG",s-1).concat("inIdx.g"),R=Ua("sourceLocB",s-1).concat("inIdx.b"),_=Ua("sourceLocA",s-1).concat("inIdx.a"),T=n==="max"?"greaterThan":"lessThan",A=r?"":`
          inIdx = round(vec4(getBestIndicesAChannel(`+x.join()+`),
                             getBestIndicesAChannel(`+S.join()+`),
                             getBestIndicesAChannel(`+R.join()+`),
                             getBestIndicesAChannel(`+_.join()+")));",D=`vec4(
            getAChannel(`+x.join()+`),
            hasNextCol ? getAChannel(`+S.join()+`) : 0.,
            hasNextRow ? getAChannel(`+R.join()+`) : 0.,
            hasNextRow && hasNextCol ? getAChannel(`+_.join()+") : 0.)",N=r?"":`
      float getBestIndicesAChannel(`+b.join()+`) {
        return getChannel(getBestIndicesA(`+g.join()+`),
                                          vec2(`+g.slice(-2).join()+`));
      }`;this.userCode=`
      float getAChannel(`+b.join()+`) {
        return getChannel(getA(`+g.join()+`),
                               vec2(`+g.slice(-2).join()+`));
      }
      `+N+`
      void main() {
        `+f+` coords = getOutputCoords();
        bool hasNextCol = `+h[c-1]+" < "+(u[c-1]-1)+`;
        bool hasNextRow = `+h[c-2]+" < "+(u[c-2]-1)+`;
        `+i+`
        ivec4 srcIdx = ivec4(sourceLocR`+y+", sourceLocG"+y+`,
          sourceLocB`+y+", sourceLocA"+y+") * "+e+`;
        ivec4 inIdx = srcIdx;
        vec4 bestIndex = vec4(inIdx);
        vec4 bestValue = `+D+`;

        for (int i = 0; i < `+e+`; i++) {
          inIdx = srcIdx;
          `+A+`
          vec4 candidate = `+D+`;
          bvec4 nan = isnan(candidate);
          bvec4 replace = bvec4(
            vec4(`+T+`(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));

          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,
                           replace.y  ? candidate.y : bestValue.y,
                           replace.z  ? candidate.z : bestValue.z,
                           replace.w  ? candidate.w : bestValue.w);
          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));
          srcIdx++;
        }
        setOutput(bestIndex);
      }
    `},aX=function(t){this.variableNames=["dy"],this.outputShape=t.inShape;var e=t.filterHeight,n=t.filterWidth,r=t.strideHeight,a=t.strideWidth,o=t.dilationHeight,i=t.dilationWidth,s=t.effectiveFilterHeight,u=t.effectiveFilterWidth,c=s-1-t.padInfo.top,f=u-1-t.padInfo.left,h=1/(e*n);this.userCode=`
      const ivec2 pads = ivec2(`+c+", "+f+`);
      const float avgMultiplier = float(`+h+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+s+`;
            wR += `+o+`) {
          float dyR = float(dyRCorner + wR) / `+r+`.0;

          if (dyR < 0.0 || dyR >= `+t.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < `+u+`;
            wC+= `+i+`) {
            float dyC = float(dyCCorner + wC) / `+a+`.0;

            if (dyC < 0.0 || dyC >= `+t.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);

            dotProd += dyValue * avgMultiplier;
          }
        }
        setOutput(dotProd);
      }
    `},oX=function(t){this.variableNames=["dy"],this.outputShape=t.inShape;var e=t.filterDepth,n=t.filterHeight,r=t.filterWidth,a=t.strideDepth,o=t.strideHeight,i=t.strideWidth,s=t.dilationDepth,u=t.dilationHeight,c=t.dilationWidth,f=t.effectiveFilterDepth,h=t.effectiveFilterHeight,m=t.effectiveFilterWidth,g=f-1-t.padInfo.front,y=h-1-t.padInfo.top,b=m-1-t.padInfo.left,x=1/(e*n*r);this.userCode=`
      const ivec3 pads = ivec3(`+g+", "+y+", "+b+`);
      const float avgMultiplier = float(`+x+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < `+f+`;
            wD += `+s+`) {
          float dyD = float(dyDCorner + wD) / `+a+`.0;

          if (dyD < 0.0 || dyD >= `+t.outDepth+`.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < `+h+`;
              wR += `+u+`) {
            float dyR = float(dyRCorner + wR) / `+o+`.0;

            if (dyR < 0.0 || dyR >= `+t.outHeight+`.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < `+m+`;
                wC += `+c+`) {
              float dyC = float(dyCCorner + wC) / `+i+`.0;

              if (dyC < 0.0 || dyC >= `+t.outWidth+`.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);

              dotProd += dyValue * avgMultiplier;
            }
          }
        }
        setOutput(dotProd);
      }
    `},iX=function(t,e,n,r,a,o){this.outputShape=[],this.variableNames=["x","mean","variance"],Xt(t,e),Xt(t,n);var i="0.0";r!=null&&(Xt(t,r),this.variableNames.push("offset"),i="getOffsetAtOutCoords()");var s="1.0";a!=null&&(Xt(t,a),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=t,this.userCode=`
      void main() {
        float x = getXAtOutCoords();
        float mean = getMeanAtOutCoords();
        float variance = getVarianceAtOutCoords();
        float offset = `+i+`;
        float scale = `+s+`;
        float inv = scale * inversesqrt(variance + float(`+o+`));
        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));
      }
    `},sX=function(t,e,n,r,a,o){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],Xt(t,e),Xt(t,n);var i="vec4(0.0)";r!=null&&(Xt(t,r),this.variableNames.push("offset"),i="getOffsetAtOutCoords()");var s="vec4(1.0)";a!=null&&(Xt(t,a),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=t,this.userCode=`
      void main() {
        vec4 offset = `+i+`;
        vec4 scale = `+s+`;

        vec4 x = getXAtOutCoords();
        vec4 mean = getMeanAtOutCoords();
        vec4 variance = getVarianceAtOutCoords();

        vec4 inv = scale * inversesqrt(variance + vec4(`+o+`));

        setOutput((x - mean) * inv + offset);
      }
    `},lX="return areal * breal - aimag * bimag;",uX="return areal * bimag + aimag * breal;",VR=function(t,e,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=Xt(e,n),this.userCode=`
      float binaryOpComplex(
          float areal, float aimag, float breal, float bimag) {
        `+t+`
      }

      void main() {
        float areal = getARealAtOutCoords();
        float aimag = getAImagAtOutCoords();
        float breal = getBRealAtOutCoords();
        float bimag = getBImagAtOutCoords();
        setOutput(binaryOpComplex(areal, aimag, breal, bimag));
      }
    `},c2="return a + b;",d2="return a - b;",jR="return a * b;",i5="return (a < 0.) ? b * a : a;",tr=function(t,e,n){this.variableNames=["A","B"],this.outputShape=Xt(e,n),this.userCode=`
      float binaryOperation(float a, float b) {
        `+t+`
      }

      void main() {
        float a = getAAtOutCoords();
        float b = getBAtOutCoords();
        setOutput(binaryOperation(a, b));
      }
    `},s5=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`,qs=function(t,e,n,r){r===void 0&&(r=!1),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=Xt(e,n);var a=this.outputShape.length,o="";if(r)if(a===0||nt(this.outputShape)===1)o=`
          result.y = 0.;
          result.z = 0.;
          result.w = 0.;
        `;else if(o=`
          `+Pn(a)+` coords = getOutputCoords();
        `,a===1)o+=`
            result.y = (coords + 1) >= `+this.outputShape[0]+` ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `;else{var i=Ua("coords",a);o+=`
            bool nextRowOutOfBounds =
              (`+i[a-2]+" + 1) >= "+this.outputShape[a-2]+`;
            bool nextColOutOfBounds =
              (`+i[a-1]+" + 1) >= "+this.outputShape[a-1]+`;
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `}this.userCode=`
      vec4 binaryOperation(vec4 a, vec4 b) {
        `+t+`
      }

      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();

        vec4 result = binaryOperation(a, b);
        `+o+`

        setOutput(result);
      }
    `},cX=function(){function t(e){this.variableNames=["A"],this.outputShape=e,this.userCode=`
      uniform float minVal;
      uniform float maxVal;

      void main() {
        float value = getAAtOutCoords();
        if (isnan(value)) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, minVal, maxVal));
      }
    `}return t.prototype.getCustomSetupFunc=function(e,n){var r=this;return function(a,o){r.minLoc==null&&(r.minLoc=a.getUniformLocationNoThrow(o,"minVal"),r.maxLoc=a.getUniformLocationNoThrow(o,"maxVal")),a.gl.uniform1f(r.minLoc,e),a.gl.uniform1f(r.maxLoc,n)}},t}(),dX=function(){function t(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode=`
      uniform float minVal;
      uniform float maxVal;

      void main() {
        vec4 value = getAAtOutCoords();

        if (any(isnan(value))) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));
      }
    `}return t.prototype.getCustomSetupFunc=function(e,n){var r=this;return function(a,o){r.minLoc==null&&(r.minLoc=a.getUniformLocationNoThrow(o,"minVal"),r.maxLoc=a.getUniformLocationNoThrow(o,"maxVal")),a.gl.uniform1f(r.minLoc,e),a.gl.uniform1f(r.maxLoc,n)}},t}(),fX=function(t){this.variableNames=["real","imag"],this.outputShape=t,this.userCode=`
      void main() {
        float re = abs(getRealAtOutCoords());
        float im = abs(getImagAtOutCoords());
        float mx = max(re, im);

        // sadly the length function in glsl is not underflow-safe
        // (at least not on Intel GPUs). So the safe solution is
        // to ensure underflow-safety in all cases.
        setOutput(
          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))
        );
      }
    `},hX=function(t){this.outputShape=[],this.outputShape=$f(t,1),this.variableNames=t.map(function(s,u){return"T"+u});var e=new Array(t.length-1);e[0]=t[0][1];for(var n=1;n<e.length;n++)e[n]=e[n-1]+t[n][1];var r=["if (yC < "+e[0]+") setOutput(getT0(yR, yC));"];for(n=1;n<e.length;n++){var a=e[n-1];r.push("else if (yC < "+e[n]+") setOutput(getT"+n+"(yR, yC-"+a+"));")}var o=e.length,i=e[e.length-1];r.push("else setOutput(getT"+o+"(yR, yC-"+i+"));"),this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int yR = coords.x;
        int yC = coords.y;

        `+r.join(`
        `)+`
      }
    `},pX=function(t,e){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=$f(t,e);var n=this.outputShape,r=n.length,a=Pn(r),o=Ua("coords",r),i=["x","y","z","w","u","v"].slice(0,r);this.variableNames=t.map(function(x,S){return"T"+S});var s=new Array(t.length-1);s[0]=t[0][e];for(var u=1;u<s.length;u++)s[u]=s[u-1]+t[u][e];var c=i[e],f=i.slice(-2),h=i.join(),m="if ("+c+" < "+s[0]+`) {
        return getChannel(
            getT0(`+h+"), vec2("+f.join()+`));
        }`;for(u=1;u<s.length;u++){var g=s[u-1];m+=`
        if (`+c+" < "+s[u]+"  && "+c+" >= "+s[u-1]+`) {
          return getChannel(
            getT`+u+"("+c0(i,c,g)+`),
            vec2(`+c0(f,c,g)+`));
        }`}var y=s.length,b=s[s.length-1];m+=`
        return getChannel(
          getT`+y+"("+c0(i,c,b)+`),
          vec2(`+c0(f,c,b)+"));",this.userCode=`
      float getValue(`+i.map(function(x){return"int "+x})+`) {
        `+m+`
      }

      void main() {
        `+a+` coords = getOutputCoords();
        vec4 result = vec4(getValue(`+o+`), 0., 0., 0.);

        `+o[r-1]+" = "+o[r-1]+` + 1;
        if (`+o[r-1]+" < "+n[r-1]+`) {
          result.g = getValue(`+o+`);
        }

        `+o[r-2]+" = "+o[r-2]+` + 1;
        if (`+o[r-2]+" < "+n[r-2]+`) {
          result.a = getValue(`+o+`);
        }

        `+o[r-1]+" = "+o[r-1]+` - 1;
        if (`+o[r-2]+" < "+n[r-2]+` &&
            `+o[r-1]+" < "+n[r-1]+`) {
          result.b = getValue(`+o+`);
        }
        setOutput(result);
      }
    `};function c0(t,e,n){var r=t.indexOf(e);return t.map(function(a,o){return o===r?a+" - "+n:a}).join()}var mX=function(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape;var e=t.strideHeight,n=t.strideWidth,r=t.padInfo.top,a=t.padInfo.left,o=t.dataFormat==="channelsLast";this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int d2 = coords.w;

        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int b = 0; b < `+t.batchSize+`; b++) {
          for (int yR = 0; yR < `+t.outHeight+`; yR++) {
            int xR = wR + yR * `+e+" - "+r+`;

            if (xR < 0 || xR >= `+t.inHeight+`) {
              continue;
            }

            for (int yC = 0; yC < `+t.outWidth+`; yC++) {
              int xC = wC + yC * `+n+" - "+a+`;

              if (xC < 0 || xC >= `+t.inWidth+`) {
                continue;
              }

              if (`+o+`) {
                float dyValue = getDy(b, yR, yC, d2);
                float xValue = getX(b, xR, xC, d1);
                dotProd += (xValue * dyValue);
              } else {
                float dyValue = getDy(b, d2, yR, yC);
                float xValue = getX(b, d1, xR, xC);
                dotProd += (xValue * dyValue);
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `},gX=function(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;var e=t.filterHeight,n=t.filterWidth,r=t.strideHeight,a=t.strideWidth,o=t.dataFormat==="channelsLast",i=e-1-t.padInfo.top,s=n-1-t.padInfo.left,u=o?1:2,c=o?2:3,f=o?3:1;this.userCode=`
      const ivec2 pads = ivec2(`+i+", "+s+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[`+f+`];

        ivec2 dyCorner = ivec2(coords[`+u+"], coords["+c+`]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+e+`; wR++) {
          float dyR = float(dyRCorner + wR) / `+r+`.0;

          if (dyR < 0.0 || dyR >= `+t.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = `+e+` - 1 - wR;

          for (int wC = 0; wC < `+n+`; wC++) {
            float dyC = float(dyCCorner + wC) / `+a+`.0;

            if (dyC < 0.0 || dyC >= `+t.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = `+n+` - 1 - wC;

            for (int d2 = 0; d2 < `+t.outChannels+`; d2++) {

              if (`+o+`) {
                float xValue = getDy(batch, idyR, idyC, d2);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              } else {
                float xValue = getDy(batch, d2, idyR, idyC);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `},vX=function(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape;var e=t.strideDepth,n=t.strideHeight,r=t.strideWidth,a=t.padInfo.front,o=t.padInfo.top,i=t.padInfo.left;this.userCode=`
      void main() {
        ivec5 coords = getOutputCoords();
        int wF = coords.x;
        int wR = coords.y;
        int wC = coords.z;
        int d1 = coords.w;
        int d2 = coords.u;

        float dotProd = 0.0;

        for (int b = 0; b < `+t.batchSize+`; b++) {
          for (int yF = 0; yF < `+t.outDepth+`; yF++) {
            int xF = wF + yF * `+e+" - "+a+`;

            if (xF < 0 || xF >= `+t.inDepth+`) {
              continue;
            }

            for (int yR = 0; yR < `+t.outHeight+`; yR++) {
              int xR = wR + yR * `+n+" - "+o+`;

              if (xR < 0 || xR >= `+t.inHeight+`) {
                continue;
              }

              for (int yC = 0; yC < `+t.outWidth+`; yC++) {
                int xC = wC + yC * `+r+" - "+i+`;

                if (xC < 0 || xC >= `+t.inWidth+`) {
                  continue;
                }

                float dyValue = getDy(b, yF, yR, yC, d2);
                float xValue = getX(b, xF, xR, xC, d1);
                dotProd += (xValue * dyValue);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `},yX=function(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;var e=t.filterDepth,n=t.filterHeight,r=t.filterWidth,a=t.strideDepth,o=t.strideHeight,i=t.strideWidth,s=e-1-t.padInfo.front,u=n-1-t.padInfo.top,c=r-1-t.padInfo.left;this.userCode=`
      const ivec3 pads = ivec3(`+s+", "+u+", "+c+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.u;


        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyFCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        float dotProd = 0.0;
        for (int wF = 0; wF < `+e+`; wF++) {
          float dyF = float(dyFCorner + wF) / `+a+`.0;

          if (dyF < 0.0 || dyF >= `+t.outDepth+`.0 || fract(dyF) > 0.0) {
            continue;
          }
          int idyF = int(dyF);

          int wFPerm = `+e+` - 1 - wF;

          for (int wR = 0; wR < `+n+`; wR++) {
            float dyR = float(dyRCorner + wR) / `+o+`.0;

            if (dyR < 0.0 || dyR >= `+t.outHeight+`.0 ||
              fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            int wRPerm = `+n+` - 1 - wR;

            for (int wC = 0; wC < `+r+`; wC++) {
              float dyC = float(dyCCorner + wC) / `+i+`.0;

              if (dyC < 0.0 || dyC >= `+t.outWidth+`.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              int wCPerm = `+r+` - 1 - wC;

              for (int d2 = 0; d2 < `+t.outChannels+`; d2++) {
                float xValue = getDy(batch, idyF, idyR, idyC, d2);
                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `},bX=function(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape;var e=t.strideHeight,n=t.strideWidth,r=t.padInfo.top,a=t.padInfo.left,o=t.outChannels/t.inChannels;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int dm = coords.w;
        int d2 = d1 * `+o+` + dm;

        float dotProd = 0.0;

        // TO DO: Vec4 over the batch size
        for (int b = 0; b < `+t.batchSize+`; b++) {
          for (int yR = 0; yR < `+t.outHeight+`; yR++) {
            int xR = wR + yR * `+e+" - "+r+`;

            if (xR < 0 || xR >= `+t.inHeight+`) {
              continue;
            }

            for (int yC = 0; yC < `+t.outWidth+`; yC++) {
              int xC = wC + yC * `+n+" - "+a+`;

              if (xC < 0 || xC >= `+t.inWidth+`) {
                continue;
              }

              float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);
            }
          }
        }
        setOutput(dotProd);
      }
    `},xX=function(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;var e=t.filterHeight,n=t.filterWidth,r=t.strideHeight,a=t.strideWidth,o=e-1-t.padInfo.top,i=n-1-t.padInfo.left,s=t.outChannels/t.inChannels;this.userCode=`
      const ivec2 pads = ivec2(`+o+", "+i+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];
        ivec2 dyCorner = coords.yz - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        float dotProd = 0.0;

        for (int wR = 0; wR < `+e+`; wR++) {
          float dyR = float(dyRCorner + wR) / `+r+`.0;

          if (dyR < 0.0 || dyR >= `+t.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = `+e+` - 1 - wR;

          for (int wC = 0; wC < `+n+`; wC++) {
            float dyC = float(dyCCorner + wC) / `+a+`.0;

            if (dyC < 0.0 || dyC >= `+t.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = `+n+` - 1 - wC;

            // TO DO: Vec4 over the channelMul
            for (int dm = 0; dm < `+s+`; dm++) {
              int d2 = d1 * `+s+` + dm;
              float xValue = getDy(batch, idyR, idyC, d2);
              float wValue = getW(wRPerm, wCPerm, d1, dm);
              dotProd += xValue * wValue;
            }
          }
        }
        setOutput(dotProd);
      }
    `},WR=function(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=null),r===void 0&&(r=!1),this.variableNames=["x","W"],this.outputShape=t.outShape;var a=t.padInfo.top,o=t.padInfo.left,i=t.strideHeight,s=t.strideWidth,u=t.dilationHeight,c=t.dilationWidth,f=t.filterHeight,h=t.filterWidth,m=4*Math.floor(t.inChannels/4),g=t.inChannels%4,y=t.dataFormat==="channelsLast",b=y?1:2,x=y?2:3,S=y?3:1,R="",_="";n&&(R=r?`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          `+n+`
        }`:`
          float activation(float x) {
            `+n+`
          }
        `,_="result = activation(result);");var T=e?"result += getBiasAtOutCoords();":"";e&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+R+`

      const ivec2 strides = ivec2(`+i+", "+s+`);
      const ivec2 pads = ivec2(`+a+", "+o+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d2 = coords[`+S+`];

        ivec2 xRCCorner =
            ivec2(coords[`+b+"], coords["+x+`]) * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+f+`; wR++) {
          int xR = xRCorner + wR * `+u+`;

          if (xR < 0 || xR >= `+t.inHeight+`) {
            continue;
          }

          for (int wC = 0; wC < `+h+`; wC++) {
            int xC = xCCorner + wC * `+c+`;

            if (xC < 0 || xC >= `+t.inWidth+`) {
              continue;
            }

            for (int d1 = 0; d1 < `+m+`; d1 += 4) {
              vec4 wValues = vec4(
                getW(wR, wC, d1, d2),
                getW(wR, wC, d1 + 1, d2),
                getW(wR, wC, d1 + 2, d2),
                getW(wR, wC, d1 + 3, d2)
              );

              if (`+y+`) {
                vec4 xValues = vec4(
                  getX(batch, xR, xC, d1),
                  getX(batch, xR, xC, d1 + 1),
                  getX(batch, xR, xC, d1 + 2),
                  getX(batch, xR, xC, d1 + 3)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec4 xValues = vec4(
                  getX(batch, d1, xR, xC),
                  getX(batch, d1 + 1, xR, xC),
                  getX(batch, d1 + 2, xR, xC),
                  getX(batch, d1 + 3, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }
            }

            if (`+(g===1)+`) {

              if (`+y+`) {
                dotProd +=
                    getX(batch, xR, xC, `+m+`) *
                    getW(wR, wC, `+m+`, d2);
              } else {
                dotProd +=
                    getX(batch, `+m+`, xR, xC) *
                    getW(wR, wC, `+m+`, d2);
              }

            } else if (`+(g===2)+`) {
              vec2 wValues = vec2(
                getW(wR, wC, `+m+`, d2),
                getW(wR, wC, `+m+` + 1, d2)
              );

              if (`+y+`) {
                vec2 xValues = vec2(
                  getX(batch, xR, xC, `+m+`),
                  getX(batch, xR, xC, `+m+` + 1)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec2 xValues = vec2(
                  getX(batch, `+m+`, xR, xC),
                  getX(batch, `+m+` + 1, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            } else if (`+(g===3)+`) {
              vec3 wValues = vec3(
                getW(wR, wC, `+m+`, d2),
                getW(wR, wC, `+m+` + 1, d2),
                getW(wR, wC, `+m+` + 2, d2)
              );

              if (`+y+`) {
                vec3 xValues = vec3(
                  getX(batch, xR, xC, `+m+`),
                  getX(batch, xR, xC, `+m+` + 1),
                  getX(batch, xR, xC, `+m+` + 2)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec3 xValues = vec3(
                  getX(batch, `+m+`, xR, xC),
                  getX(batch, `+m+` + 1, xR, xC),
                  getX(batch, `+m+` + 2, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            }
          }
        }

        float result = dotProd;
        `+T+`
        `+_+`
        setOutput(result);
      }
    `},wX=function(t){this.variableNames=["x","W"],this.outputShape=t.outShape;var e=t.padInfo.front,n=t.padInfo.top,r=t.padInfo.left,a=t.strideDepth,o=t.strideHeight,i=t.strideWidth,s=t.dilationDepth,u=t.dilationHeight,c=t.dilationWidth,f=t.filterDepth,h=t.filterHeight,m=t.filterWidth,g=4*Math.floor(t.inChannels/4),y=t.inChannels%4;this.userCode=`
      const ivec3 strides = ivec3(`+a+", "+o+", "+i+`);
      const ivec3 pads = ivec3(`+e+", "+n+", "+r+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d2 = coords.u;

        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xFCorner = xFRCCorner.x;
        int xRCorner = xFRCCorner.y;
        int xCCorner = xFRCCorner.z;

        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get
        // y(yF, yR, yC, d2). ? = to be determined. : = across all
        // values in that axis.
        float dotProd = 0.0;
        for (int wF = 0; wF < `+f+`; wF++) {
          int xF = xFCorner + wF * `+s+`;

          if (xF < 0 || xF >= `+t.inDepth+`) {
            continue;
          }

          for (int wR = 0; wR < `+h+`; wR++) {
            int xR = xRCorner + wR * `+u+`;

            if (xR < 0 || xR >= `+t.inHeight+`) {
              continue;
            }

            for (int wC = 0; wC < `+m+`; wC++) {
              int xC = xCCorner + wC * `+c+`;

              if (xC < 0 || xC >= `+t.inWidth+`) {
                continue;
              }

              for (int d1 = 0; d1 < `+g+`; d1 += 4) {
                vec4 xValues = vec4(
                  getX(batch, xF, xR, xC, d1),
                  getX(batch, xF, xR, xC, d1 + 1),
                  getX(batch, xF, xR, xC, d1 + 2),
                  getX(batch, xF, xR, xC, d1 + 3)
                );
                vec4 wValues = vec4(
                  getW(wF, wR, wC, d1, d2),
                  getW(wF, wR, wC, d1 + 1, d2),
                  getW(wF, wR, wC, d1 + 2, d2),
                  getW(wF, wR, wC, d1 + 3, d2)
                );

                dotProd += dot(xValues, wValues);
              }

              if (`+(y===1)+`) {
                dotProd +=
                  getX(batch, xF, xR, xC, `+g+`) *
                  getW(wF, wR, wC, `+g+`, d2);
              } else if (`+(y===2)+`) {
                vec2 xValues = vec2(
                  getX(batch, xF, xR, xC, `+g+`),
                  getX(batch, xF, xR, xC, `+g+` + 1)
                );
                vec2 wValues = vec2(
                  getW(wF, wR, wC, `+g+`, d2),
                  getW(wF, wR, wC, `+g+` + 1, d2)
                );
                dotProd += dot(xValues, wValues);
              } else if (`+(y===3)+`) {
                vec3 xValues = vec3(
                  getX(batch, xF, xR, xC, `+g+`),
                  getX(batch, xF, xR, xC, `+g+` + 1),
                  getX(batch, xF, xR, xC, `+g+` + 2)
                );
                vec3 wValues = vec3(
                  getW(wF, wR, wC, `+g+`, d2),
                  getW(wF, wR, wC, `+g+` + 1, d2),
                  getW(wF, wR, wC, `+g+` + 2, d2)
                );
                dotProd += dot(xValues, wValues);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `},HR=function(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=null),r===void 0&&(r=!1),this.variableNames=["x","W"],this.outputShape=t.outShape;var a=t.inHeight,o=t.inWidth,i=t.padInfo.top,s=t.padInfo.left,u=t.strideHeight,c=t.strideWidth,f=t.dilationHeight,h=t.dilationWidth,m=t.filterHeight,g=t.filterWidth,y=t.outChannels/t.inChannels,b="",x="";n&&(b=r?`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          `+n+`
        }`:`
          float activation(float x) {
            `+n+`
          }
        `,x="result = activation(result);");var S=e?"result += getBiasAtOutCoords();":"";e&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+b+`

      const ivec2 strides = ivec2(`+u+", "+c+`);
      const ivec2 pads = ivec2(`+i+", "+s+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / `+y+`;
        int q = d2 - d1 * `+y+`;

        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.
        for (int wR = 0; wR < `+m+`; wR++) {
          int xR = xRCorner + wR * `+f+`;

          if (xR < 0 || xR >= `+a+`) {
            continue;
          }

          for (int wC = 0; wC < `+g+`; wC++) {
            int xC = xCCorner + wC * `+h+`;

            if (xC < 0 || xC >= `+o+`) {
              continue;
            }

            float xVal = getX(batch, xR, xC, d1);
            float wVal = getW(wR, wC, d1, q);
            dotProd += xVal * wVal;
          }
        }

        float result = dotProd;
        `+S+`
        `+x+`
        setOutput(result);
      }
    `},qR=function(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=null),r===void 0&&(r=!1),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.outShape;for(var a=t.inHeight,o=t.inWidth,i=t.padInfo.top,s=t.padInfo.left,u=t.strideHeight,c=t.strideWidth,f=t.dilationHeight,h=t.dilationWidth,m=t.filterHeight,g=t.filterWidth,y=g,b="int xR; int xC; int xCOffset;",x=0;x<m;x++)for(var S=0;S<g;S++)b+=`
          vec4 xTexelR`+x+"C"+2*S+` = vec4(0.);
          vec4 wR`+x+"C"+S+` = vec4(0.);
          vec4 xR`+x+"C"+S+" = vec4(0.);";for(x=0;x<m;x++)for(var R=0;R<y;R++){if(b+=`
          xR = xRCorner + `+x*f+`;
          xC = xCCorner + `+(S=2*R)*h+`;
        `,c===1){if(S<g&&(b+=s%2==1?`
                xCOffset = xC + 1;
                if(xR >= 0 && xR < `+a+" && xCOffset >= 0 && xCOffset < "+o+`) {
                  xTexelR`+x+"C"+S+` = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if(xCOffset + 1 >= `+o+`) {
                    xTexelR`+x+"C"+S+`.zw = vec2(0.);
                  }
                } else {
                  xTexelR`+x+"C"+S+` = vec4(0.);
                }

                xCOffset = xC + 1 - 2;
                if(xR >= 0 && xR < `+a+" && xCOffset >= 0 && xCOffset < "+o+`) {
                  vec4 previous = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if(xCOffset + 1 >= `+o+`) {
                    previous.zw = vec2(0.);
                  }

                  xR`+x+"C"+S+" = vec4(previous.zw, xTexelR"+x+"C"+S+`.xy);
                } else {
                  xR`+x+"C"+S+" = vec4(0, 0, xTexelR"+x+"C"+S+`.xy);
                }
              `:`
                if(xR >= 0 && xR < `+a+" && xC >= 0 && xC < "+o+`) {
                  xTexelR`+x+"C"+S+` = getX(batch, xR, xC, d1);
                } else {
                  xTexelR`+x+"C"+S+` = vec4(0.);
                }

                xR`+x+"C"+S+" = xTexelR"+x+"C"+S+`;
              `,S+1<g)){var _=s%2==0?EM(h):h;h%2==0&&s%2==1||h%2!=0&&s%2!=1?(b+=`
                  xCOffset = xC + `+s%2+" + "+_+`;

                  if(xR >= 0 && xR < `+a+` &&
                    xCOffset >= 0 && xCOffset < `+o+`) {
                    xTexelR`+x+"C"+(S+2)+` = getX(batch, xR, xCOffset, d1);
                  }
                `,h>1&&(b+=`
                    xCOffset -= 2;
                    if(xR >= 0 && xR < `+a+` &&
                      xCOffset >= 0 && xCOffset < `+o+`) {
                      xTexelR`+x+"C"+S+` = getX(batch, xR, xCOffset, d1);
                    } else {
                      xTexelR`+x+"C"+S+` = vec4(0.);
                    }
                  `),b+=`
                  xR`+x+"C"+(S+1)+` = vec4(
                    xTexelR`+x+"C"+S+".zw, xTexelR"+x+"C"+(S+2)+`.xy);
                `):b+=`
                  xCOffset = xC + `+_+`;

                  if(xR >= 0 && xR < `+a+` &&
                    xCOffset >= 0 && xCOffset < `+o+`) {
                    xTexelR`+x+"C"+(S+2)+` = getX(batch, xR, xCOffset, d1);
                  }

                  xR`+x+"C"+(S+1)+" = xTexelR"+x+"C"+(S+2)+`;
                `}}else S<g&&(b+=`
              if(xR >= 0 && xR < `+a+`) {
            `,s%2==1?(b+=`
                xCOffset = xC + 1 - `+c+`;
                if(xCOffset >= 0 && xCOffset < `+o+`) {
                  xTexelR`+x+"C"+S+` = getX(batch, xR, xCOffset, d1);
                } else {
                  xTexelR`+x+"C"+S+` = vec4(0.);
                }

                if(xC + 1 >= 0 && xC + 1 < `+o+`) {
                  xTexelR`+x+"C"+(S+2)+` = getX(batch, xR, xC + 1, d1);
                } else {
                  xTexelR`+x+"C"+(S+2)+` = vec4(0.);
                }

                xR`+x+"C"+S+` = vec4(
                  xTexelR`+x+"C"+S+".zw, xTexelR"+x+"C"+(S+2)+`.zw);
              `,S+1<g&&(b+=`
                  vec4 final = vec4(0.);
                  xCOffset = xC + 1 + `+c+`;
                  if(xCOffset >= 0 && xCOffset < `+o+`) {
                    final = getX(batch, xR, xCOffset, d1);
                  }
                  xR`+x+"C"+(S+1)+" = vec4(xTexelR"+x+"C"+(S+2)+`.xy, final.xy);
                `)):(b+=`
                if(xC >= 0 && xC < `+o+`) {
                  xTexelR`+x+"C"+S+` = getX(batch, xR, xC, d1);
                } else {
                  xTexelR`+x+"C"+S+` = vec4(0.);
                }

                xCOffset = xC + `+c+`;
                if(xCOffset >= 0 && xCOffset < `+o+`) {
                  xTexelR`+x+"C"+(S+2)+` = getX(batch, xR, xCOffset, d1);
                } else {
                  xTexelR`+x+"C"+(S+2)+` = vec4(0.);
                }

                xR`+x+"C"+S+` = vec4(
                  xTexelR`+x+"C"+S+".xy, xTexelR"+x+"C"+(S+2)+`.xy);
              `,S+1<g&&(b+=`
                  xR`+x+"C"+(S+1)+` = vec4(
                    xTexelR`+x+"C"+S+".zw, xTexelR"+x+"C"+(S+2)+`.zw);
                `)),b+="}");S<g&&(b+=`
            vec4 wTexelR`+x+"C"+S+" = getW("+x+", "+S+`, d1, q);
            wR`+x+"C"+S+" = vec4(wTexelR"+x+"C"+S+".xz, wTexelR"+x+"C"+S+`.xz);
          `,S+1<g&&(b+=`
              vec4 wTexelR`+x+"C"+(S+1)+" = getW("+x+", "+(S+1)+`, d1, q);
              wR`+x+"C"+(S+1)+` =
                vec4(wTexelR`+x+"C"+(S+1)+".xz, wTexelR"+x+"C"+(S+1)+".xz);"))}for(x=0;x<m;x++)for(S=0;S<g;S++)b+="dotProd += xR"+x+"C"+S+" * wR"+x+"C"+S+";";var T="",A="";n&&(T=r?`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          `+n+`
        }`:`vec4 activation(vec4 x) {
          `+n+`
        }`,A="result = activation(result);");var D=e?"result += getBiasAtOutCoords();":"";e&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+T+`

      const ivec2 strides = ivec2(`+u+", "+c+`);
      const ivec2 pads = ivec2(`+i+", "+s+`);

      void main() {

        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2;
        int q = 0;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        vec4 dotProd = vec4(0.);

        `+b+`

        vec4 result = dotProd;
        `+D+`
        `+A+`
        setOutput(result);
      }
    `},SX=function(t,e,n,r,a){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var o=t[0],i=t[1],s=t[2],u=t[3],c=e[0],f=n[0],h=n[1];this.outputShape=[c,f,h,u];var m=r==="bilinear"?1:0,g=[i-1+".0",s-1+".0"],y=g[0],b=g[1],x=f>1?[""+(i-1)/(f-1),"(y2-y1) * height_ratio","y1*"+y+" + float(y)*(height_scale)"]:["0.0","0.0","0.5 * (y1+y2) * "+y],S=x[0],R=x[1],_=x[2],T=h>1?[""+(s-1)/(h-1),"(x2-x1) * width_ratio","x1*"+b+" + float(x)*(width_scale)"]:["0.0","0.0","0.5 * (x1+x2) * "+b],A=T[0],D=T[1],N=T[2];this.userCode=`
      const float height_ratio = float(`+S+`);
      const float width_ratio = float(`+A+`);
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int y = coords[1];
        int x = coords[2];
        int d = coords[3];

        // get box vals
        float y1 = getBoxes(b,0);
        float x1 = getBoxes(b,1);
        float y2 = getBoxes(b,2);
        float x2 = getBoxes(b,3);

        // get image in batch index
        int bInd = round(getBoxInd(b));
        if(bInd < 0 || bInd >= `+o+`) {
          return;
        }

        float height_scale = `+R+`;
        float width_scale = `+D+`;

        float in_y = `+_+`;
        if( in_y < 0.0 || in_y > `+y+` ) {
          setOutput(float(`+a+`));
          return;
        }
        float in_x = `+N+`;
        if( in_x < 0.0 || in_x > `+b+` ) {
          setOutput(float(`+a+`));
          return;
        }

        vec2 sourceFracIndexCR = vec2(in_x,in_y);
        if(`+m+` == 1) {
          // Compute the four integer indices.
          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);
          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));

          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);
          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);
          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);
          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);

          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);

          float top = topLeft + (topRight - topLeft) * fracCR.x;
          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;
          float newValue = top + (bottom - top) * fracCR.y;
          setOutput(newValue);
        } else {
          // Compute the coordinators of nearest neighbor point.
          ivec2 sourceNearestCR = ivec2(floor(
            sourceFracIndexCR + vec2(0.5,0.5)));
          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);
          setOutput(newValue);
        }
      }
    `},_X=function(t,e,n){this.variableNames=["x"],this.outputShape=t;var r=t.length,a=t[t.length-1],o=n?"<":">";this.userCode=`
      int getIndex(int i) {
        `+(n?"return "+a+" -i - 1;":"return i;")+`
      }

      void main() {
        `+Pn(r)+` coords = getOutputCoords();
        int end = `+GR(r,"coords")+`;
        float val = 0.0;
        for (int i = `+a+` - 1; i >= 0; i -= 1) {
          int idx = getIndex(i);
          if (idx `+o+` end) {
            continue;
          }
          if (idx == end && `+e+`) {
            continue;
          }
          `+GR(r,"coords")+` = idx;
          val += getX(`+function(i,s){if(i===1)return""+s;if(i===2)return s+".x, "+s+".y";if(i===3)return s+".x, "+s+".y, "+s+".z";if(i===4)return s+".x, "+s+".y, "+s+".z, "+s+".w";throw Error("Cumulative sum for rank "+i+" is not yet supported")}(r,"coords")+`);
        }
        setOutput(val);
      }
    `};function GR(t,e){if(t===1)return""+e;if(t===2)return e+".y";if(t===3)return e+".z";if(t===4)return e+".w";throw Error("Cumulative sum for rank "+t+" is not yet supported")}var CX=function(t){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=vm.DENSE;var e=Yp(t),n=va();this.outputShape=t,this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        `+yc(["r","c","d"],t)+`
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx *
          vec2(`+e[0]+", "+e[1]+`));
        int index = 4 * (resTexRC.x * `+e[1]+` + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getA(rc.x, rc.y, rc.z);
        }

        `+n.output+` = result;
      }
    `},EX=function(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=vm.DENSE;var e=Yp(t),n=va();this.outputShape=t,this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        `+yc(["r","c","d"],t)+`
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx *
          vec2(`+e[0]+", "+e[1]+`));
        int index = 4 * (resTexRC.x * `+e[1]+` + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));
        }

        `+n.output+` = result;
      }
    `},TX=function(){function t(e,n,r){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=n,this.dataFormat=r,this.userCode=`
    void main() {
      ivec4 coords = getOutputCoords();
      int b = coords[0];
      int h = `+this.getHeightCoordString()+`;
      int w = `+this.getWidthCoordString()+`;
      int d = `+this.getDepthCoordString()+`;

      int in_h = h / `+n+`;
      int offset_h = imod(h, `+n+`);
      int in_w = w / `+n+`;
      int offset_w = imod(w, `+n+`);
      int offset_d = (offset_h * `+n+` + offset_w) *
        `+this.getOutputDepthSize()+`;
      int in_d = d + offset_d;

      float result = `+this.getInputSamplingString()+`;
      setOutput(result);
    }
  `}return t.prototype.getHeightCoordString=function(){return this.dataFormat==="NHWC"?"coords[1]":"coords[2]"},t.prototype.getWidthCoordString=function(){return this.dataFormat==="NHWC"?"coords[2]":"coords[3]"},t.prototype.getDepthCoordString=function(){return this.dataFormat==="NHWC"?"coords[3]":"coords[1]"},t.prototype.getOutputDepthSize=function(){return this.dataFormat==="NHWC"?this.outputShape[3]:this.outputShape[1]},t.prototype.getInputSamplingString=function(){return this.dataFormat==="NHWC"?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"},t}(),RX=function(t){this.variableNames=["X"],this.outputShape=[t,t],this.userCode=`
      void main() {
          ivec2 coords = getOutputCoords();
          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;
          setOutput(val);
      }
    `},AX=function(t){this.variableNames=["A"],this.outTexUsage=co.DOWNLOAD;var e=va();this.outputShape=t,this.userCode=`
      `+a5+`

      void main() {
        float x = getAAtOutCoords();
        `+e.output+` = encode_float(x);
      }
    `},kX=function(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=co.DOWNLOAD;var e=va();this.outputShape=t,this.userCode=`
      `+a5+`

      void main() {
        ivec3 coords = getOutputCoords();
        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));
        `+e.output+` = encode_float(x);
      }
    `},NX=function(t,e,n){n===void 0&&(n=!1),this.variableNames=["A"];var r=va(),a=e[0],o=e[1];this.outputShape=t;var i="result";n&&(i="floor(result * 255. + 0.5)"),this.userCode=`
      `+T_(t)+`

      void main() {
        ivec3 coords = getOutputCoords();

        int flatIndex = getFlatIndex(coords);
        int offset = imod(flatIndex, 4);

        flatIndex = idiv(flatIndex, 4, 1.);
        
        int r = flatIndex / `+o+`;
        int c = imod(flatIndex, `+o+`);
        vec2 uv = (vec2(c, r) + halfCR) / vec2(`+o+".0, "+a+`.0);
        vec4 values = `+r.texture2D+`(A, uv);

        float result;

        if(offset == 0) {
          result = values[0];
        } else if(offset == 1) {
          result = values[1];
        } else if(offset == 2) {
          result = values[2];
        } else {
          result = values[3];
        }

        `+r.output+" = vec4("+i+`, 0., 0., 0.);
      }
    `},OX=function(t,e,n){n===void 0&&(n=!1),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var r=va(),a=e[0],o=e[1];this.outputShape=t;var i="",s="result";n&&(s="floor(result * 255. + 0.5)");for(var u=0;u<=1;u++)for(var c=0;c<=1;c++){var f=2*u+c;i+=`
          localCoords = coords;
          if(localCoords[2] + `+c+" < "+t[2]+`) {
            localCoords[2] += `+c+`;
            if(localCoords[1] + `+u+" < "+t[1]+`) {
              localCoords[1] += `+u+`;

              flatIndex = getFlatIndex(localCoords);
              offset = imod(flatIndex, 4);

              flatIndex = idiv(flatIndex, 4, 1.);

              r = flatIndex / `+o+`;
              c = imod(flatIndex, `+o+`);
              uv = (vec2(c, r) + halfCR) / vec2(`+o+".0, "+a+`.0);
              values = `+r.texture2D+`(A, uv);

              if(offset == 0) {
                result[`+f+`] = values[0];
              } else if(offset == 1) {
                result[`+f+`] = values[1];
              } else if(offset == 2) {
                result[`+f+`] = values[2];
              } else {
                result[`+f+`] = values[3];
              }
            }
          }
        `}this.userCode=`
      `+T_(t)+`

      void main() {
        ivec3 coords = getOutputCoords();

        vec4 result = vec4(0.);
        int flatIndex, r, c, offset;
        ivec3 localCoords;
        vec2 uv;
        vec4 values;

        `+i+`

        `+r.output+" = "+s+`;
      }
    `},DX="return real * expR - imag * expI;",MX="return real * expI + imag * expR;",KR=function(t,e,n){this.variableNames=["real","imag"];var r=e[1];this.outputShape=e;var a=n?"2.0 * "+Math.PI:"-2.0 * "+Math.PI,o=n?r+".0":"1.0";this.userCode=`
      const float exponentMultiplier = `+a+`;

      float unaryOpComplex(float real, float expR, float imag, float expI) {
        `+t+`
      }

      float mulMatDFT(int batch, int index) {
        float indexRatio = float(index) / float(`+r+`);
        float exponentMultiplierTimesIndexRatio =
            exponentMultiplier * indexRatio;

        float result = 0.0;

        for (int i = 0; i < `+r+`; i++) {
          // x = (-2|2 * PI / N) * index * i;
          float x = exponentMultiplierTimesIndexRatio * float(i);
          float expR = cos(x);
          float expI = sin(x);
          float real = getReal(batch, i);
          float imag = getImag(batch, i);

          result +=
              unaryOpComplex(real, expR, imag, expI) / `+o+`;
        }

        return result;
      }

      void main() {
        ivec2 coords = getOutputCoords();
        setOutput(mulMatDFT(coords[0], coords[1]));
      }
    `},PX=function(){function t(e,n){this.outputShape=[],this.variableNames=["x"],this.outputShape=e,this.userCode=`
      uniform float value;
      void main() {
        // Input can be obtained from uniform value.
        setOutput(value);
      }
    `}return t.prototype.getCustomSetupFunc=function(e){var n=this;return function(r,a){n.valueLoc==null&&(n.valueLoc=r.getUniformLocationNoThrow(a,"value")),r.gl.uniform1f(n.valueLoc,e)}},t}(),IX=function(t,e,n){this.variableNames=["A","indices"];var r=t.slice();r[n]=e,this.outputShape=r,this.rank=r.length;var a=Pn(this.rank),o=function(i,s){var u=i.length;if(u>4)throw Error("Gather for rank "+u+" is not yet supported");if(u===1)return"int(getIndices(resRC))";for(var c=["resRC.x","resRC.y","resRC.z","resRC.w"],f=[],h=0;h<i.length;h++)h===s?f.push("int(getIndices("+c[h]+"))"):f.push(""+c[h]);return f.join()}(t,n);this.userCode=`
      void main() {
        `+a+` resRC = getOutputCoords();
        setOutput(getA(`+o+`));
      }
    `},LX=function(t,e,n){this.sliceDim=t,this.strides=e,this.variableNames=["x","indices"],this.outputShape=n;var r=Pn(e.length),a=Pn(n.length),o=this.sliceDim>1?"strides[j]":"strides";this.userCode=`
        `+r+" strides = "+r+"("+this.strides+`);
         void main() {
          `+a+` coords = getOutputCoords();
          int flattenIndex = 0;
          for (int j = 0; j < `+this.sliceDim+`; j++) {
            int index = round(getIndices(coords[0], j));
            flattenIndex += index * `+o+`;
          }
          setOutput(getX(flattenIndex, coords[1]));
        }
      `};function FX(t,e){var n=va();return DK(t,e,n.version+`
    precision highp float;
    `+n.attribute+` vec3 clipSpacePos;
    `+n.attribute+` vec2 uv;
    `+n.varyingVs+` vec2 resultUV;

    void main() {
      gl_Position = vec4(clipSpacePos, 1);
      resultUV = uv;
    }`)}function BX(t,e){return FK(t,e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function zX(t,e){return BK(t,e,new Uint16Array([0,1,2,2,1,3]))}function eg(t,e,n,r,a,o,i){$K(n,r);var s=zK(t,e),u=t.TEXTURE_2D;return rt(t,e,function(){return t.bindTexture(u,s)}),rt(t,e,function(){return t.texParameteri(u,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE)}),rt(t,e,function(){return t.texParameteri(u,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)}),rt(t,e,function(){return t.texParameteri(u,t.TEXTURE_MIN_FILTER,t.NEAREST)}),rt(t,e,function(){return t.texParameteri(u,t.TEXTURE_MAG_FILTER,t.NEAREST)}),rt(t,e,function(){return t.texImage2D(u,0,a,n,r,0,o,i,null)}),rt(t,e,function(){return t.bindTexture(t.TEXTURE_2D,null)}),s}function $X(t,e,n,r,a){var o=Ob(n,r);return eg(t,e,o[0],o[1],a.internalFormatFloat,a.textureFormatFloat,t.FLOAT)}function UX(t,e,n,r,a){var o=Ob(n,r);return eg(t,e,o[0],o[1],a.internalFormatHalfFloat,a.textureFormatFloat,a.textureTypeHalfFloat)}function VX(t,e,n,r,a){var o=Ob(n,r);return eg(t,e,o[0],o[1],t.RGBA,t.RGBA,t.UNSIGNED_BYTE)}function jX(t,e,n,r,a){var o=Jm(n,r);return eg(t,e,o[0],o[1],a.internalFormatPackedFloat,t.RGBA,t.FLOAT)}function WX(t,e,n,r,a){var o=Jm(n,r);return eg(t,e,o[0],o[1],a.internalFormatPackedHalfFloat,t.RGBA,a.textureTypeHalfFloat)}function HX(t,e,n,r){return rt(t,e,function(){return t.bindBuffer(t.ARRAY_BUFFER,r)}),IR(t,e,n,"clipSpacePos",r,3,20,0)&&IR(t,e,n,"uv",r,2,20,12)}function qX(t,e,n,r,a,o,i){var s,u,c;rt(t,e,function(){return t.bindTexture(t.TEXTURE_2D,n)}),o instanceof Uint8Array?(s=new Uint8Array(r*a*4),u=t.UNSIGNED_BYTE,c=t.RGBA):(s=new Float32Array(r*a*4),u=t.FLOAT,c=i.internalFormatPackedFloat),s.set(o),rt(t,e,function(){return t.texImage2D(t.TEXTURE_2D,0,c,r,a,0,t.RGBA,u,s)}),rt(t,e,function(){return t.bindTexture(t.TEXTURE_2D,null)})}function GX(t,e,n,r){rt(t,e,function(){return t.bindTexture(t.TEXTURE_2D,n)}),r.data instanceof Uint8Array?rt(t,e,function(){return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,r.width,r.height,0,t.RGBA,t.UNSIGNED_BYTE,r.data)}):rt(t,e,function(){return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,r)}),rt(t,e,function(){return t.bindTexture(t.TEXTURE_2D,null)})}function KX(t,e,n,r,a){var o=t.createBuffer();rt(t,e,function(){return t.bindBuffer(t.PIXEL_PACK_BUFFER,o)});var i=16*n*r;return rt(t,e,function(){return t.bufferData(t.PIXEL_PACK_BUFFER,i,t.STREAM_READ)}),rt(t,e,function(){return t.readPixels(0,0,r,n,t.RGBA,t.FLOAT,0)}),rt(t,e,function(){return t.bindBuffer(t.PIXEL_PACK_BUFFER,null)}),o}function YX(t,e,n){var r=t,a=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,e),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,a),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),a}function XX(t,e,n,r,a){var o=Ob(n,r),i=o[0],s=o[1],u=new Uint8Array(n*r*4);return rt(t,e,function(){return t.readPixels(0,0,i,s,a.downloadTextureFormat,t.UNSIGNED_BYTE,u)}),new Float32Array(u.buffer)}function QX(t,e,n,r,a,o,i,s){var u=t,c=new Float32Array(function(f,h){var m=Jm(f,h);return m[0]*m[1]*4}(o,i));return u.bindBuffer(u.PIXEL_PACK_BUFFER,e),u.getBufferSubData(u.PIXEL_PACK_BUFFER,0,c),u.bindBuffer(u.PIXEL_PACK_BUFFER,null),c}function ZX(t,e,n,r){var a=new Float32Array(n*r*4);return rt(t,e,function(){return t.readPixels(0,0,r,n,t.RGBA,t.FLOAT,a)}),a}var JX=function(){function t(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var n=Ee().getNumber("WEBGL_VERSION");e!=null?(this.gl=e,RK(n,e)):this.gl=ds(n);var r="WEBGL_color_buffer_float";if(Ee().getNumber("WEBGL_VERSION")===1){if(this.textureFloatExtension=i0(this.gl,this.debug,"OES_texture_float"),Lo(this.gl,"OES_texture_half_float"))this.textureHalfFloatExtension=i0(this.gl,this.debug,"OES_texture_half_float");else if(Ee().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(r),Lo(this.gl,"EXT_color_buffer_half_float"))this.colorBufferHalfFloatExtension=i0(this.gl,this.debug,"EXT_color_buffer_half_float");else if(Ee().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(r="EXT_color_buffer_float",Lo(this.gl,r))this.colorBufferFloatExtension=this.gl.getExtension(r);else{if(!Lo(this.gl,"EXT_color_buffer_half_float"))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float")}this.vertexBuffer=BX(this.gl,this.debug),this.indexBuffer=zX(this.gl,this.debug),this.framebuffer=UK(this.gl,this.debug),this.textureConfig=g_(this.gl,this.textureHalfFloatExtension)}return Object.defineProperty(t.prototype,"debug",{get:function(){return Ee().getBool("DEBUG")},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var e=this;if(!this.disposed){this.program!=null&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),this.outputTexture!=null&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var n=this.gl;rt(n,this.debug,function(){return n.finish()}),rt(n,this.debug,function(){return n.bindFramebuffer(n.FRAMEBUFFER,null)}),rt(n,this.debug,function(){return n.deleteFramebuffer(e.framebuffer)}),rt(n,this.debug,function(){return n.bindBuffer(n.ARRAY_BUFFER,null)}),rt(n,this.debug,function(){return n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,null)}),rt(n,this.debug,function(){return n.deleteBuffer(e.indexBuffer)}),this.disposed=!0}},t.prototype.createFloat32MatrixTexture=function(e,n){return this.throwIfDisposed(),$X(this.gl,this.debug,e,n,this.textureConfig)},t.prototype.createFloat16MatrixTexture=function(e,n){return this.throwIfDisposed(),UX(this.gl,this.debug,e,n,this.textureConfig)},t.prototype.createUnsignedBytesMatrixTexture=function(e,n){return this.throwIfDisposed(),VX(this.gl,this.debug,e,n,this.textureConfig)},t.prototype.uploadPixelDataToTexture=function(e,n){this.throwIfDisposed(),GX(this.gl,this.debug,e,n)},t.prototype.uploadDenseMatrixToTexture=function(e,n,r,a){this.throwIfDisposed(),qX(this.gl,this.debug,e,n,r,a,this.textureConfig)},t.prototype.createFloat16PackedMatrixTexture=function(e,n){return this.throwIfDisposed(),WX(this.gl,this.debug,e,n,this.textureConfig)},t.prototype.createPackedMatrixTexture=function(e,n){return this.throwIfDisposed(),jX(this.gl,this.debug,e,n,this.textureConfig)},t.prototype.deleteMatrixTexture=function(e){var n=this;this.throwIfDisposed(),this.outputTexture===e&&(LR(this.gl,this.debug,this.framebuffer),this.outputTexture=null),rt(this.gl,this.debug,function(){return n.gl.deleteTexture(e)})},t.prototype.downloadByteEncodedFloatMatrixFromOutputTexture=function(e,n,r){var a=this;return this.downloadMatrixDriver(e,function(){return XX(a.gl,a.debug,n,r,a.textureConfig)})},t.prototype.downloadPackedMatrixFromBuffer=function(e,n,r,a,o,i){return QX(this.gl,e,0,0,0,o,i,this.textureConfig)},t.prototype.downloadFloat32MatrixFromBuffer=function(e,n){return YX(this.gl,e,n)},t.prototype.createBufferFromTexture=function(e,n,r){this.bindTextureToFrameBuffer(e);var a=KX(this.gl,this.debug,n,r,this.textureConfig);return this.unbindTextureToFrameBuffer(),a},t.prototype.createAndWaitForFence=function(){var e=this.createFence(this.gl);return this.pollFence(e)},t.prototype.createFence=function(e){var n,r,a=this;if(Ee().getBool("WEBGL_FENCE_API_ENABLED")){var o=e,i=o.fenceSync(o.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),r=function(){var s=o.clientWaitSync(i,0,0);return s===o.ALREADY_SIGNALED||s===o.CONDITION_SATISFIED},n=i}else Ee().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(n=this.beginQuery(),this.endQuery(),r=function(){return a.isQueryAvailable(n,Ee().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):r=function(){return!0};return{query:n,isFencePassed:r}},t.prototype.downloadMatrixFromPackedTexture=function(e,n,r){var a=this;return this.downloadMatrixDriver(e,function(){return ZX(a.gl,a.debug,n,r)})},t.prototype.createProgram=function(e){this.throwIfDisposed();var n=this.gl,r=MK(n,this.debug,e),a=FX(n,this.debug),o=IK(n,this.debug);return rt(n,this.debug,function(){return n.attachShader(o,a)}),rt(n,this.debug,function(){return n.attachShader(o,r)}),LK(n,this.debug,o),this.debug&&i2(n,this.debug,o),this.vertexAttrsAreBound||(this.setProgram(o),this.vertexAttrsAreBound=HX(n,this.debug,this.program,this.vertexBuffer)),o},t.prototype.deleteProgram=function(e){var n=this;this.throwIfDisposed(),e===this.program&&(this.program=null),e!=null&&rt(this.gl,this.debug,function(){return n.gl.deleteProgram(e)})},t.prototype.setProgram=function(e){var n=this;this.throwIfDisposed(),this.program=e,this.program!=null&&this.debug&&i2(this.gl,this.debug,this.program),rt(this.gl,this.debug,function(){return n.gl.useProgram(e)})},t.prototype.getUniformLocation=function(e,n,r){return r===void 0&&(r=!0),this.throwIfDisposed(),r?jK(this.gl,this.debug,e,n):WK(this.gl,e,n)},t.prototype.getAttributeLocation=function(e,n){var r=this;return this.throwIfDisposed(),rt(this.gl,this.debug,function(){return r.gl.getAttribLocation(e,n)})},t.prototype.getUniformLocationNoThrow=function(e,n){return this.throwIfDisposed(),this.gl.getUniformLocation(e,n)},t.prototype.setInputMatrixTexture=function(e,n,r){this.throwIfDisposed(),this.throwIfNoProgram(),HK(this.gl,this.debug,this.program,e,n,r)},t.prototype.setOutputMatrixTexture=function(e,n,r){this.setOutputMatrixTextureDriver(e,r,n)},t.prototype.setOutputPackedMatrixTexture=function(e,n,r){this.throwIfDisposed();var a=Jm(n,r),o=a[0],i=a[1];this.setOutputMatrixTextureDriver(e,o,i)},t.prototype.setOutputMatrixWriteRegion=function(e,n,r,a){this.setOutputMatrixWriteRegionDriver(r,e,a,n)},t.prototype.setOutputPackedMatrixWriteRegion=function(e,n,r,a){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")},t.prototype.debugValidate=function(){this.program!=null&&i2(this.gl,this.debug,this.program),s0(this.gl)},t.prototype.executeProgram=function(){this.throwIfDisposed(),this.throwIfNoProgram();var e=this.gl;this.debug&&this.debugValidate(),rt(e,this.debug,function(){return e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)})},t.prototype.blockUntilAllProgramsCompleted=function(){var e=this;this.throwIfDisposed(),rt(this.gl,this.debug,function(){return e.gl.finish()})},t.prototype.getQueryTimerExtension=function(){return this.disjointQueryTimerExtension==null&&(this.disjointQueryTimerExtension=i0(this.gl,this.debug,Ee().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension},t.prototype.getQueryTimerExtensionWebGL2=function(){return this.getQueryTimerExtension()},t.prototype.getQueryTimerExtensionWebGL1=function(){return this.getQueryTimerExtension()},t.prototype.beginQuery=function(){if(Ee().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){var e=this.gl,n=this.getQueryTimerExtensionWebGL2(),r=e.createQuery();return e.beginQuery(n.TIME_ELAPSED_EXT,r),r}var a=this.getQueryTimerExtensionWebGL1(),o=a.createQueryEXT();return a.beginQueryEXT(a.TIME_ELAPSED_EXT,o),o},t.prototype.endQuery=function(){if(Ee().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")!==2){var e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}else{var n=this.gl,r=this.getQueryTimerExtensionWebGL2();n.endQuery(r.TIME_ELAPSED_EXT)}},t.prototype.waitForQueryAndGetTime=function(e){return Je(this,void 0,void 0,function(){var n=this;return et(this,function(r){switch(r.label){case 0:return[4,kR(function(){return n.disposed||n.isQueryAvailable(e,Ee().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))})];case 1:return r.sent(),[2,this.getQueryTime(e,Ee().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))]}})})},t.prototype.getQueryTime=function(e,n){if(n===0)return null;if(n===2){var r=this.gl;return r.getQueryParameter(e,r.QUERY_RESULT)/1e6}var a=this.getQueryTimerExtensionWebGL1();return a.getQueryObjectEXT(e,a.QUERY_RESULT_EXT)/1e6},t.prototype.isQueryAvailable=function(e,n){if(n===0)return!0;if(n===2){var r=this.gl,a=this.getQueryTimerExtensionWebGL2(),o=r.getQueryParameter(e,r.QUERY_RESULT_AVAILABLE);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(a.GPU_DISJOINT_EXT)),o&&!this.disjoint}return o=(a=this.getQueryTimerExtensionWebGL1()).getQueryObjectEXT(e,a.QUERY_RESULT_AVAILABLE_EXT),this.disjoint==null&&(this.disjoint=this.gl.getParameter(a.GPU_DISJOINT_EXT)),o&&!this.disjoint},t.prototype.pollFence=function(e){var n=this;return new Promise(function(r){n.addItemToPoll(function(){return e.isFencePassed()},function(){return r()})})},t.prototype.pollItems=function(){for(var e=function(r){for(var a=0;a<r.length&&r[a]();++a);return a-1}(this.itemsToPoll.map(function(r){return r.isDoneFn})),n=0;n<=e;++n)(0,this.itemsToPoll[n].resolveFn)();this.itemsToPoll=this.itemsToPoll.slice(e+1)},t.prototype.addItemToPoll=function(e,n){var r=this;this.itemsToPoll.push({isDoneFn:e,resolveFn:n}),this.itemsToPoll.length>1||kR(function(){return r.pollItems(),r.itemsToPoll.length===0})},t.prototype.bindTextureToFrameBuffer=function(e){this.throwIfDisposed(),s2(this.gl,this.debug,e,this.framebuffer),this.debug&&s0(this.gl)},t.prototype.unbindTextureToFrameBuffer=function(){this.outputTexture!=null?(s2(this.gl,this.debug,this.outputTexture,this.framebuffer),this.debug&&s0(this.gl)):LR(this.gl,this.debug,this.framebuffer)},t.prototype.downloadMatrixDriver=function(e,n){this.bindTextureToFrameBuffer(e);var r=n();return this.unbindTextureToFrameBuffer(),r},t.prototype.setOutputMatrixTextureDriver=function(e,n,r){this.throwIfDisposed();var a=this.gl;s2(a,this.debug,e,this.framebuffer),this.debug&&s0(a),this.outputTexture=e,rt(a,this.debug,function(){return a.viewport(0,0,n,r)}),rt(a,this.debug,function(){return a.scissor(0,0,n,r)})},t.prototype.setOutputMatrixWriteRegionDriver=function(e,n,r,a){var o=this;this.throwIfDisposed(),rt(this.gl,this.debug,function(){return o.gl.scissor(e,n,r,a)})},t.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")},t.prototype.throwIfNoProgram=function(){if(this.program==null)throw new Error("No GPU program is currently set.")},t}();function YR(t,e){if(t.length!==e.length)throw Error("Binary was compiled with "+t.length+" inputs, but was executed with "+e.length+" inputs");t.forEach(function(n,r){var a=n.logicalShape,o=e[r],i=o.shape;if(!Fr(a,i))throw Error("Binary was compiled with different shapes than the current args. Shapes "+a+" and "+i+" must match");if(!n.isUniform||!o.isUniform){var s=n.texShape,u=o.isUniform?null:o.texData.texShape;if(!Fr(s,u))throw Error("Binary was compiled with different texture shapes than the current args. Shape "+s+" and "+u+" must match")}})}var eQ=function(t,e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t;for(var r=n.filterWidth,a=n.inChannels,o=n.strideWidth,i=n.strideHeight,s=n.padInfo,u=n.outWidth,c=n.dilationWidth,f=n.dilationHeight,h=n.dataFormat,m=s.left,g=s.top,y=a*r,b=va(),x=h==="channelsLast",S=x?0:1,R=x?1:2,_="",T=0;T<=1;T++)for(var A=0;A<=1;A++)_+=`
          blockIndex = rc.y + `+A+`;
          pos = rc.x + `+T+`;

          if(blockIndex < `+t[1]+" && pos < "+t[0]+`) {
            offsetY = int(blockIndex / (`+u+")) * "+i+" - "+g+`;
            d0 = offsetY + `+f+" * (pos / "+y+`);

            if(d0 < `+e[S]+` && d0 >= 0) {

              offsetX = int(mod(float(blockIndex), `+u+".) * "+o+". - "+m+`.);
              d1 = offsetX + `+c+" * (int(mod(float(pos), "+y+".) / "+a+`.));

              if(d1 < `+e[R]+` && d1 >= 0) {

                ch = int(mod(float(pos), `+a+`.));

                if (`+x+`) {
                  innerDims = vec2(d1, ch);
                  result[`+(2*T+A)+`] = getChannel(
                    getA(d0, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                } else {
                  innerDims = vec2(d0, d1);
                  result[`+(2*T+A)+`] = getChannel(
                    getA(ch, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                }
              }
            }
          }
        `;this.userCode=`
      void main() {
        ivec2 rc = getOutputCoords();

        vec4 result = vec4(0);

        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
        vec2 innerDims;

        `+_+`

        `+b.output+` = result;
      }
    `},tQ=function(t,e,n,r,a){this.variableNames=["x"],this.outputShape=[];var o,i=e,s=t[3]-1;this.outputShape=t;var u="float("+n+") + float("+r+") * sum";o=a===.5?"inversesqrt("+u+")":a===1?"1.0/("+u+")":"exp(log("+u+") * float(-"+a+"));",this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];
        int d = coords[3];
        float x = getX(b, r, c, d);
        float sum = 0.0;
        for (int j = -`+i+"; j <= "+i+`; j++) {
          int idx = d + j;
          if (idx >= 0 && idx <=  `+s+`) {
            float z = getX(b, r, c, idx);
            sum += z * z;
          }
        }
        float val = x * `+o+`;
        setOutput(val);
      }
    `},nQ=function(t,e,n,r,a){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=t,this.depth=t[3],this.depthRadius=e,this.bias=n,this.alpha=r,this.beta=a,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];

        float result = 0.0;
        for (int d = 0; d < `+this.depth+`; ++d) {
          int depthBegin = int(max(0.0, float(d - `+e+`)));
          int depthEnd = int(min(float(`+this.depth+`),
              float(d + `+e+` + 1)));

          const int MIN_DEPTH_BEGIN = 0;
          const int MAX_DEPTH_END = `+this.depth+`;

          float norm = 0.0;
          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd) {
              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);
            }
            else {
              break;
            }
          }

          norm = float(`+r+") * norm + float("+n+`);

          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd){
              float dyi = -2.0 * float(`+r+`)
                * float(`+a+`)
                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)
                / norm;
              if (k == d) {
                dyi += pow(norm, -1.0 * `+a+`);
              }
              if (k == coords[3]) {
                dyi *= getDy(b, r, c, d);
                result += dyi;
              }
            }
            else {
              break;
            }
          }
      }
      setOutput(result);
      }
    `},rQ=function(t,e,n,r,a){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var o,i=e,s=t[3]-1;this.outputShape=t;var u="float("+n+") + float("+r+") * sum";o=a===.5?"inversesqrt("+u+")":a===1?"1.0/("+u+")":"exp(log("+u+") * float(-"+a+"));",this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords.x;
        int r = coords.y;
        int c = coords.z;
        int d = coords.w;

        bool hasNextCol = d < `+this.outputShape[3]+`;
        bool hasNextRow = c < `+this.outputShape[2]+`;

        vec4 sum = vec4(0.);
        vec4 xFragAtOutputCoords = getX(b, r, c, d);

        vec4 xAtOutputCoords = vec4(
          getChannel(xFragAtOutputCoords, vec2(c, d)),
          hasNextCol ?
            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,
          hasNextRow ?
            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,
          (hasNextRow && hasNextCol) ?
            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0
        );

        int firstChannel = d - `+i+`;
        vec2 cache = vec2(0.);
        if(firstChannel >= 0){
          vec4 firstChannelFrag = getX(b, r, c, firstChannel);
          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));
            if(hasNextRow){
              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));
            }
        }

        ivec2 depth = ivec2(d, d + 1);
        for (int j = - `+i+"; j <= "+i+`; j++) {
          ivec2 idx = depth + j;
          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));
          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(`+s+`));

          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;
          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;

          if(depthInRange || depthPlusOneInRange){
            vec4 z = vec4(0.);
            vec4 xFragAtCurrentDepth;
            z.xz = cache.xy;
            if(depthPlusOneInRange && hasNextCol){
              xFragAtCurrentDepth = idx.y != d ?
                getX(b, r, c, idx.y) : xFragAtOutputCoords;
              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));
              if(hasNextRow){
                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));
              }
            }
            cache.xy = z.yw;
            sum += z * z;
          }
        }
        vec4 result = xAtOutputCoords * `+o+`;
        setOutput(result);
      }
    `},aQ=function(t){this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var e=t.strideHeight,n=t.strideWidth,r=t.dilationHeight,a=t.effectiveFilterHeight,o=t.effectiveFilterWidth,i=a-1-t.padInfo.top,s=o-1-t.padInfo.left,u=a*o-1;this.userCode=`
      const ivec2 pads = ivec2(`+i+", "+s+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+a+`;
          wR += `+r+`) {
          float dyR = float(dyRCorner + wR) / `+e+`.0;

          if (dyR < 0.0 || dyR >= `+t.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < `+o+`; wC++) {
            float dyC = float(dyCCorner + wC) / `+n+`.0;

            if (dyC < 0.0 || dyC >= `+t.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);
            int maxPosValue = `+u+` - int(getMaxPos(b, idyR, idyC, d));

            // Get the current value, check it against the value from the
            // position matrix.
            int curPosValue = wR * `+o+` + wC;
            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

            dotProd += dyValue * mask;
          }
        }
        setOutput(dotProd);
      }
    `},oQ=function(t){this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var e=t.strideDepth,n=t.strideHeight,r=t.strideWidth,a=t.dilationDepth,o=t.dilationHeight,i=t.dilationWidth,s=t.effectiveFilterDepth,u=t.effectiveFilterHeight,c=t.effectiveFilterWidth,f=s-1-t.padInfo.front,h=u-1-t.padInfo.top,m=c-1-t.padInfo.left,g=s*u*c-1;this.userCode=`
      const ivec3 pads = ivec3(`+f+", "+h+", "+m+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < `+s+`;
           wD += `+a+`) {
          float dyD = float(dyDCorner + wD) / `+e+`.0;

          if (dyD < 0.0 || dyD >= `+t.outDepth+`.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < `+u+`;
              wR += `+o+`) {
            float dyR = float(dyRCorner + wR) / `+n+`.0;

            if (dyR < 0.0 || dyR >= `+t.outHeight+`.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < `+c+`;
                wC += `+i+`) {
              float dyC = float(dyCCorner + wC) / `+r+`.0;

              if (dyC < 0.0 || dyC >= `+t.outWidth+`.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);
              int maxPosValue = `+g+` -
                  int(getMaxPos(batch, idyD, idyR, idyC, ch));

              // Get the current value, check it against the value from the
              // position matrix.
              int curPosValue =
                  wD * `+u+" * "+c+` +
                  wR * `+c+` + wC;
              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

              dotProd += dyValue * mask;
            }
          }
        }
        setOutput(dotProd);
      }
    `},f2=function(t,e,n,r,a,o,i){n===void 0&&(n=!1),r===void 0&&(r=!1),a===void 0&&(a=!1),o===void 0&&(o=null),i===void 0&&(i=!1),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;var s=n?t[1]:t[2],u=Math.ceil(s/2),c=n?"i * 2, rc.y":"rc.y, i * 2",f=r?"rc.z, i * 2":"i * 2, rc.z",h=n?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],m=r?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],g="",y="";o&&(g=i?`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          `+o+`
        }`:`vec4 activation(vec4 x) {
          `+o+`
        }`,y="result = activation(result);");var b=a?"result += getBiasAtOutCoords();":"";a&&this.variableNames.push("bias"),i&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+g+`

      const float sharedDimension = `+u+`.0;

      vec4 dot2x2ARowBCol(ivec3 rc) {
        vec4 result = vec4(0);
        for (int i = 0; i < `+u+`; i++) {
          vec4 a = getMatrixA(rc.x, `+c+`);
          vec4 b = getMatrixB(rc.x, `+f+`);

          // These swizzled products need to be separately added.
          // See: https://github.com/tensorflow/tfjs/issues/1735
          result += (`+h[0]+" * "+m[0]+`);
          result += (`+h[1]+" * "+m[1]+`);
        }
        return result;
      }

      void main() {
        ivec3 rc = getOutputCoords();
        vec4 result = dot2x2ARowBCol(rc);

        `+b+`

        `+y+`

        setOutput(result);
      }
    `},iQ=function(){function t(e,n,r){this.variableNames=["probs"],this.outputShape=[e,r],this.userCode=`
      uniform float seed;

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];

        float r = random(seed);
        float cdf = 0.0;

        for (int i = 0; i < `+(n-1)+`; i++) {
          cdf += getProbs(batch, i);

          if (r < cdf) {
            setOutput(float(i));
            return;
          }
        }

        // If no other event happened, last event happened.
        setOutput(float(`+(n-1)+`));
      }
    `}return t.prototype.getCustomSetupFunc=function(e){var n=this;return function(r,a){n.seedLoc==null&&(n.seedLoc=r.getUniformLocation(a,"seed")),r.gl.uniform1f(n.seedLoc,e)}},t}(),sQ=function(t,e,n,r){this.variableNames=["indices"],this.outputShape=[t,e],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int index = round(getIndices(coords.x));
        setOutput(mix(float(`+r+"), float("+n+`),
                      float(index == coords.y)));
      }
    `},lQ=function(t){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=t;var e=t.length;if(e===0)this.userCode=`
        void main() {
          setOutput(vec4(getA(), 0., 0., 0.));
        }
      `;else{var n=Ua("rc",e),r=Pn(e),a=function(s,u,c){if(s===1)return"rc > "+u[0];for(var f="",h=s-2;h<s;h++)f+=c[h]+" >= "+u[h],h<s-1&&(f+="||");return f}(e,t,n),o=function(s,u,c,f){if(s===1)return"";var h=f.slice(-2);return`
    int r = `+h[0]+`;
    int c = `+h[1]+`;
    int rp1 = r + 1;
    int cp1 = c + 1;

    bool cEdge = cp1 >= `+u+`;
    bool rEdge = rp1 >= `+c+`;
  `}(e,t[t.length-1],t[t.length-2],n),i=function(s,u){var c=s.length,f=function(h,m){for(var g=[],y=0;y<=1;y++)for(var b=0;b<=1;b++){for(var x=(y===0?"r":"rp1")+", "+(b===0?"c":"cp1"),S=2;S<h;S++)x=m[m.length-1-S]+","+x;g.push(x)}return g}(c,u);return c===1?`getA(rc),
            rc + 1 >= `+s[0]+` ? 0. : getA(rc + 1),
            0, 0`:"getA("+f[0]+`),
          cEdge ? 0. : getA(`+f[1]+`),
          rEdge ? 0. : getA(`+f[2]+`),
          rEdge || cEdge ? 0. : getA(`+f[3]+")"}(t,n);this.userCode=`
        void main() {
          `+r+` rc = getOutputCoords();

          if(`+a+`) {
            setOutput(vec4(0));
          } else {
            `+o+`

            setOutput(vec4(`+i+`));
          }
        }
      `}},uQ=function(t,e,n){this.variableNames=["x"],this.outputShape=e.map(function(u,c){return u[0]+t[c]+u[1]});var r=t.length,a=Pn(r),o=e.map(function(u){return u[0]}).join(","),i=e.map(function(u,c){return u[0]+t[c]}).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=r!==1?`
      `+a+" start = "+a+"("+o+`);
      `+a+" end = "+a+"("+i+`);

      void main() {
        `+a+` outC = getOutputCoords();
        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {
          setOutput(float(`+n+`));
        } else {
          `+a+` coords = outC - start;
          setOutput(getX(`+s+`));
        }
      }
    `:`
        int start = `+o+`;
        int end = `+i+`;

        void main() {
          int outC = getOutputCoords();
          if (outC < start || outC >= end) {
            setOutput(float(`+n+`));
          } else {
            setOutput(getX(outC - start));
          }
        }
      `},cQ=function(t,e,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e.map(function(x,S){return x[0]+t[S]+x[1]});for(var r=t.length,a=Pn(r),o=e.map(function(x){return x[0]}).join(","),i=e.map(function(x,S){return x[0]+t[S]}).join(","),s=Ua("rc",r),u=Ua("source",r),c=s[r-1]+" < "+this.outputShape[r-1],f=r===1?"source":"vec2("+u.slice(-2).join()+")",h=[a+" rc = outputLoc;",s[r-1]+` += 1;
       if(`+c+`) {
      `,r===1?"":`}
       rc = outputLoc;
       `+s[r-2]+` += 1;
       if(`+s[r-2]+" < "+this.outputShape[r-2]+") {",r===1?"":"  "+s[r-1]+` += 1;
         if(`+c+") {"],m=r===1?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",g="",y=0,b=r===1?2:4;y<b;y++)g+=`
        `+h[y]+`
        if (`+m+`) {
          result[`+y+"] = float("+n+`);
        } else {
          `+a+` source = rc - start;
          result[`+y+"] = getChannel(getX("+u.join()+"), "+f+`);
        }
      `;g+=r===1?"} ":"}}",this.userCode=`
      const `+a+" start = "+a+"("+o+`);
      const `+a+" end = "+a+"("+i+`);

      void main() {
        `+a+` outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        `+g+`
        setOutput(result);
      }
    `},h2=function(t,e,n){if(this.variableNames=["x"],e==="avg"&&n)throw new Error("Cannot compute positions for average pool.");var r=t.filterWidth,a=t.strideHeight,o=t.strideWidth,i=t.dilationHeight,s=t.dilationWidth,u=t.effectiveFilterHeight,c=t.effectiveFilterWidth,f=t.padInfo.top,h=t.padInfo.left;this.outputShape=t.outShape;var m=e==="avg",g="0.0";if(m||(g="-1.0 / 1e-20"),n)this.userCode=`
        const ivec2 strides = ivec2(`+a+", "+o+`);
        const ivec2 pads = ivec2(`+f+", "+h+`);

        void main() {
          ivec4 coords = getOutputCoords();
          int batch = coords[0];
          int d = coords[3];

          ivec2 xRCCorner = coords.yz * strides - pads;
          int xRCorner = xRCCorner.x;
          int xCCorner = xRCCorner.y;

          // max/min x(?, ?, d) to get y(yR, yC, d).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;
          float avgValue = 0.0;

          for (int wR = 0; wR < `+u+`;
              wR += `+i+`) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= `+t.inHeight+`) {
              continue;
            }

            for (int wC = 0; wC < `+c+`;
                wC += `+s+`) {
              int xC = xCCorner + wC;

              if (xC < 0 || xC >= `+t.inWidth+`) {
                continue;
              }

              float value = getX(batch, xR, xC, d);

              // If a min / max value has already been found, use it. If not,
              // use the current value.
              float currMinMaxValue = mix(
                  value, minMaxValue, minMaxValueFound);
              if (value >= currMinMaxValue) {
                minMaxValue = value;
                minMaxValueFound = 1.0;
                minMaxPosition = wR * `+c+` + wC;
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;else{var y=e+"("+e+"("+e+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";e==="avg"&&(y="avgValue / count");var b=4*Math.floor(r/4),x=r%4,S=`
      if (`+m+`) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = max(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec2 strides = ivec2(`+a+", "+o+`);
      const ivec2 pads = ivec2(`+f+", "+h+`);
      const float initializationValue = `+g+`;
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xR, int xC, int d) {
        if (xC < 0 || xC >= `+t.inWidth+`) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xR, xC, d);
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d = coords[3];

        ivec2 xRCCorner = coords.yz * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // max/min x(?, ?, d) to get y(yR, yC, d).
        // ? = to be determined
        vec4 minMaxValue = vec4(`+g+`);
        float avgValue = 0.0;
        count = 0.0;

        for (int wR = 0; wR < `+u+`;
            wR += `+i+`) {
          int xR = xRCorner + wR;

          if (xR < 0 || xR >= `+t.inHeight+`) {
            continue;
          }

          for (int wC = 0; wC < `+b+`; wC += 4) {
            int xC = xCCorner + wC * `+s+`;

            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + `+s+`, d),
              getValue(batch, xR, xC + 2 * `+s+`, d),
              getValue(batch, xR, xC + 3 * `+s+`, d)
            );

            `+S+`
          }

          int xC = xCCorner + `+b+`;
          if (`+(x===1)+`) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              initializationValue,
              initializationValue,
              initializationValue
            );

            `+S+`
          } else if (`+(x===2)+`) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + `+s+`, d),
              initializationValue,
              initializationValue
            );

            `+S+`
          } else if (`+(x===3)+`) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + `+s+`, d),
              getValue(batch, xR, xC + 2 * `+s+`, d),
              initializationValue
            );

            `+S+`
          }
        }
        setOutput(`+y+`);
      }
    `}},p2=function(t,e,n){if(this.variableNames=["x"],e==="avg"&&n)throw new Error("Cannot compute positions for average pool.");var r=t.filterWidth,a=t.strideDepth,o=t.strideHeight,i=t.strideWidth,s=t.dilationDepth,u=t.dilationHeight,c=t.dilationWidth,f=t.effectiveFilterDepth,h=t.effectiveFilterHeight,m=t.effectiveFilterWidth,g=t.padInfo.front,y=t.padInfo.top,b=t.padInfo.left;this.outputShape=t.outShape;var x=e==="avg",S="0.0";if(x||(S="-1.0 / 1e-20"),n)this.userCode=`
        const ivec3 strides =
            ivec3(`+a+", "+o+", "+i+`);
        const ivec3 pads = ivec3(`+g+", "+y+", "+b+`);

        void main() {
          ivec5 coords = getOutputCoords();
          int batch = coords.x;
          int ch = coords.u;

          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
          int xDCorner = xCorner.x;
          int xRCorner = xCorner.y;
          int xCCorner = xCorner.z;

          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;

          for (int wD = 0; wD < `+f+`;
              wD += `+s+`) {
            int xD = xDCorner + wD;

            if (xD < 0 || xD >= `+t.inDepth+`) {
              continue;
            }

            for (int wR = 0; wR < `+h+`;
                wR += `+u+`) {
              int xR = xRCorner + wR;

              if (xR < 0 || xR >= `+t.inHeight+`) {
                continue;
              }

              for (int wC = 0; wC < `+m+`;
                  wC += `+c+`) {
                int xC = xCCorner + wC;

                if (xC < 0 || xC >= `+t.inWidth+`) {
                  continue;
                }

                float value = getX(batch, xD, xR, xC, ch);

                // If a min / max value has already been found, use it. If not,
                // use the current value.
                float currMinMaxValue = mix(
                    value, minMaxValue, minMaxValueFound);
                if (value >= currMinMaxValue) {
                  minMaxValue = value;
                  minMaxValueFound = 1.0;
                  minMaxPosition =
                      wD * `+h+" * "+m+` +
                      wR * `+m+` + wC;;
                }
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;else{var R=e+"("+e+"("+e+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";e==="avg"&&(R="avgValue / count");var _=4*Math.floor(r/4),T=r%4,A=`
      if (`+x+`) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = max(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec3 strides =
        ivec3(`+a+", "+o+", "+i+`);
      const ivec3 pads = ivec3(`+g+", "+y+", "+b+`);
      const float initializationValue = `+S+`;
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xD, int xR, int xC, int ch) {
        if (xC < 0 || xC >= `+t.inWidth+`) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xD, xR, xC, ch);
      }

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xDCorner = xCorner.x;
        int xRCorner = xCorner.y;
        int xCCorner = xCorner.z;

        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).
        // ? = to be determined
        vec4 minMaxValue = vec4(`+S+`);
        float avgValue = 0.0;
        count = 0.0;

        for (int wD = 0; wD < `+f+`;
            wD += `+s+`) {
          int xD = xDCorner + wD;

          if (xD < 0 || xD >= `+t.inDepth+`) {
            continue;
          }

          for (int wR = 0; wR < `+h+`;
            wR += `+u+`) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= `+t.inHeight+`) {
              continue;
            }

            for (int wC = 0; wC < `+_+`; wC += 4) {
              int xC = xCCorner + wC * `+c+`;

              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + `+c+`, ch),
                getValue(batch, xD, xR, xC + 2 * `+c+`, ch),
                getValue(batch, xD, xR, xC + 3 * `+c+`, ch)
              );

              `+A+`
            }

            int xC = xCCorner + `+_+`;
            if (`+(T===1)+`) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                initializationValue,
                initializationValue,
                initializationValue
              );

              `+A+`
            } else if (`+(T===2)+`) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + `+c+`, ch),
                initializationValue,
                initializationValue
              );

              `+A+`
            } else if (`+(T===3)+`) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + `+c+`, ch),
                getValue(batch, xD, xR, xC + 2 * `+c+`, ch),
                initializationValue
              );

              `+A+`
            }
          }
          setOutput(`+R+`);
        }
      }
    `}},dQ=function(t,e){this.variableNames=["x"];var n=t.windowSize,r=t.batchSize,a=t.inSize,o=Math.ceil(a/n);this.outputShape=[r,o];var i="0.0",s="";e==="prod"?i="1.0":e==="min"?(i="1.0 / 1e-20",s="min"):e==="max"&&(i="-1.0 / 1e-20",s="max");var u=e+"("+e+"("+e+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";e==="sum"?u="sumValue":e==="prod"?u="prodValue":e==="all"?u="allValue":e==="any"&&(u="anyValue");var c=4*Math.floor(n/4),f=n%4,h=`
      if (`+(e==="sum")+`) {
        sumValue += dot(values, ones);
      } else if (`+(e==="prod")+`) {
        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);
        prodValue *= tmp[0] * tmp[1];
      } else {
        minMaxValue = `+s+`(values, minMaxValue);
      }
    `,m="vec4";e==="all"?(i="1.0",h=`
        bool reducedAllValue = all(values);
        float floatedReducedAllValue = float(reducedAllValue);
        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);
      `,m="bvec4"):e==="any"&&(i="0.0",h=`
        bool reducedAnyValue = any(values);
        float floatedReducedAnyValue = float(reducedAnyValue);
        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);
      `,m="bvec4");var g="";a%n>0&&(g=`
        if (inIdx < 0 || inIdx >= `+a+`) {
          return initializationValue;
        }
      `),this.userCode=`
      const float initializationValue = `+i+`;
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        `+g+`
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * `+n+`;

        vec4 minMaxValue = vec4(`+i+`);
        float prodValue = 1.0;
        float sumValue = 0.0;
        float allValue = 1.0;
        float anyValue = 0.0;

        for (int i = 0; i < `+c+`; i += 4) {
          int inIdx = inOffset + i;
          `+m+" values = "+m+`(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          `+h+`
        }

        int inIdx = inOffset + `+c+`;
        if (`+(f===1)+`) {
          `+m+" values = "+m+`(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          `+h+`
        } else if (`+(f===2)+`) {
          `+m+" values = "+m+`(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          `+h+`
        } else if (`+(f===3)+`) {
          `+m+" values = "+m+`(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          `+h+`
        }
        setOutput(`+u+`);
      }
    `},fQ=function(t,e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t;for(var n="",r=0;r<4;r++){var a="thisRC = rc;";r%2==1&&(a+="thisRC.z += 1;"),r>1&&(a+="thisRC.y += 1;"),n+=`
        `+a+`
        `+(r>0?"if(thisRC.y < rows && thisRC.z < cols){":"")+`
          int flatIndex = getFlatIndex(thisRC);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);
          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[`+r+`] =
            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);
        `+(r>0?"}":"")+`
      `}this.userCode=`
      
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      `+yc(["r","c","d"],e)+`
      return ivec3(r, c, d);
    }
  
      `+T_(t)+`

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.);

        ivec3 thisRC;
        int rows = `+t[1]+`;
        int cols = `+t[2]+`;

        `+n+`

        setOutput(result);
      }
    `},hQ=function(t,e,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=e.shape;var r=e.shape,a=r[1],o=r[2],i=t.shape,s=i[1],u=i[2],c=[n&&s>1?a-1:a,n&&u>1?o-1:o],f=[n&&s>1?s-1:s,n&&u>1?u-1:u],h=c[0]/f[0],m=c[1]/f[1],g=1/h,y=1/m,b=2*Math.ceil(g)+2,x=2*Math.ceil(y)+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(`+h+`);
        const float widthScale = float(`+m+`);

        const float invHeightScale = float(`+g+`);
        const float invWidthScale = float(`+y+`);

        const int winHeight = int(`+b+`);
        const int winWidth = int(`+x+`);

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(startRLerp - float(winHeight / 2));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(startCLerp - float(winWidth / 2));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= `+s+`) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= `+u+`) {
              continue;
            }

            float dxR = float(dyR) * heightScale;
            int topDxRIndex = int(floor(dxR));
            int bottomDxRIndex = int(min(ceil(dxR), `+(a-1)+`.0));
            float dxRLerp = dxR - float(topDxRIndex);
            float inverseDxRLerp = 1.0 - dxRLerp;

            float dxC = float(dyC) * widthScale;
            int leftDxCIndex = int(floor(dxC));
            int rightDxCIndex = int(min(ceil(dxC), `+(o-1)+`.0));
            float dxCLerp = dxC - float(leftDxCIndex);
            float inverseDxCLerp = 1.0 - dxCLerp;

            if (r == topDxRIndex && c == leftDxCIndex) {
              // topLeft
              accumulator +=
                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;
            }

            if (r == topDxRIndex && c == rightDxCIndex) {
              // topRight
              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;
            }

            if (r == bottomDxRIndex && c == leftDxCIndex) {
              // bottomLeft
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;
            }

            if (r == bottomDxRIndex && c == rightDxCIndex) {
              // bottomRight
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `},pQ=function(t,e,n,r){this.variableNames=["A"],this.outputShape=[];var a=t[0],o=t[1],i=t[2],s=t[3];this.outputShape=[a,e,n,s];var u=[r&&e>1?o-1:o,r&&n>1?i-1:i],c=[r&&e>1?e-1:e,r&&n>1?n-1:n];this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          `+u[0]/c[0]+`,
          `+u[1]/c[1]+`);
      const vec2 inputShapeRC = vec2(`+o+".0, "+i+`.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;

        // Compute the four integer indices.
        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);
        ivec2 sourceCeilRC = ivec2(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);
        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);
        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);
        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);

        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);

        float top = topLeft + (topRight - topLeft) * fracRC.y;
        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;
        float newValue = top + (bottom - top) * fracRC.x;

        setOutput(newValue);
      }
    `},mQ=function(t,e,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var a=t[0],o=t[1],i=t[2],s=t[3];this.outputShape=[a,e,n,s];var u=[r&&e>1?o-1:o,r&&n>1?i-1:i],c=[r&&e>1?e-1:e,r&&n>1?n-1:n];this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          `+u[0]/c[0]+`,
          `+u[1]/c[1]+`,
          `+u[1]/c[1]+`);
      const vec3 inputShapeRC = vec3(`+o+".0, "+i+`.0,
                                     `+i+`.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = vec3(yRC) * effectiveInputOverOutputRatioRC;

        // Compute the four integer indices.
        ivec3 sourceFloorRC = ivec3(sourceFracIndexRC);
        ivec3 sourceCeilRC = ivec3(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < `+(s-1)+`;
        bool hasNextRow = coords.z < `+(n-1)+`;

        // In parallel, construct four corners for all four components in
        // packed 2x2 cell.
        vec4 topLeft = vec4(
          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 bottomLeft = vec4(
          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 topRight = vec4(
          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec4 bottomRight = vec4(
          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);

        vec4 top = mix(topLeft, topRight, fracRC.yyzz);
        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);
        vec4 newValue = mix(top, bottom, fracRC.x);

        setOutput(newValue);
      }
    `},gQ=function(t,e,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=e.shape;var r=e.shape,a=r[1],o=r[2],i=t.shape,s=i[1],u=i[2],c=[n&&s>1?a-1:a,n&&u>1?o-1:o],f=[n&&s>1?s-1:s,n&&u>1?u-1:u],h=c[0]/f[0],m=c[1]/f[1],g=1/h,y=1/m,b=2*Math.ceil(g)+2,x=2*Math.ceil(y)+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(`+h+`);
        const float widthScale = float(`+m+`);

        const float invHeightScale = float(`+g+`);
        const float invWidthScale = float(`+y+`);

        const int winHeight = int(`+b+`);
        const int winWidth = int(`+x+`);

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(floor(startRLerp - float(winHeight / 2)));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(floor(startCLerp - float(winWidth / 2)));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= `+s+`) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= `+u+`) {
              continue;
            }

            float sourceFracRow =
              float(`+c[0]+`) *
                (float(dyR) / float(`+f[0]+`));

            float sourceFracCol =
                float(`+c[1]+`) *
                  (float(dyC) / float(`+f[1]+`));

            int sourceNearestRow = int(min(
                float(int(`+a+`) - 1),
                `+n+` ? float(round(sourceFracRow)) :
                                  float(floor(sourceFracRow))));

            int sourceNearestCol = int(min(
                float(int(`+o+`) - 1),
                `+n+` ? float(round(sourceFracCol)) :
                                  float(floor(sourceFracCol))));

            if (r == sourceNearestRow && c == sourceNearestCol) {
              accumulator += getDy(b, dyR, dyC, d);
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `},vQ=function(t,e,n,r){this.variableNames=["A"],this.outputShape=[];var a=t[0],o=t[1],i=t[2],s=t[3];this.outputShape=[a,e,n,s];var u=[r&&e>1?o-1:o,r&&n>1?i-1:i],c=[r&&e>1?e-1:e,r&&n>1?n-1:n],f=r?"0.5":"0.0";this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          `+u[0]/c[0]+`,
          `+u[1]/c[1]+`);
      const vec2 inputShapeRC = vec2(`+o+".0, "+i+`.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;

        // Compute the coordinators of nearest neighbor point.
        ivec2 sourceNearestRC = ivec2(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + `+f+`)));

        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);

        setOutput(newValue);
      }
    `},yQ=function(t,e){this.variableNames=["x"];var n=t.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");if(this.outputShape=t,n!==1){var r=t.map(function(o,i){return function(s){return e.indexOf(s)!==-1&&t[s]!==1?t[s]+" - coords["+s+"] - 1":"coords["+s+"]"}(i)}).join(","),a=Pn(n);this.userCode=`
      void main() {
        `+a+` coords = getOutputCoords();
        setOutput(getX(`+r+`));
      }
    `}else this.userCode=`
        void main() {
          int coord = getOutputCoords();
          setOutput(getX(`+t[0]+` - coord - 1));
        }
      `},bQ=function(t,e){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var n=t.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");this.outputShape=t;var r=Ua("rc",n),a=r[n-1]+" + 1 < "+this.outputShape[n-1],o=r[n-2]+" + 1 < "+this.outputShape[n-2],i=Pn(n);function s(u){var c=t.map(function(f,h){return function(m,g){return e.indexOf(m)!==-1&&t[m]!==1?t[m]+" - "+g[m]+" - 1":""+g[m]}(h,u)});return"getChannel(getX("+c.join(",")+"), vec2("+c.slice(-2).join(",")+"))"}this.userCode=n===1?`
        void main(){
          int rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = getChannel(getX(`+t[0]+` - rc - 1),
            `+t[0]+` - rc - 1);
          if(`+a+`){
              result.g = getChannel(getX(`+t[0]+` - (rc  + 1) - 1),
                `+t[0]+` - (rc  + 1) - 1);
          }
          setOutput(result);
        }
      `:`
        void main() {
          `+i+` rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = `+function(u){return s(u)}(r.slice())+`;
          if(`+a+`){
            result.g = `+function(u){return u[n-1]="("+u[n-1]+" + 1)",s(u)}(r.slice())+`;
          }
          if(`+o+`) {
            result.b = `+function(u){return u[n-2]="("+u[n-2]+" + 1)",s(u)}(r.slice())+`;
            if(`+a+`) {
              result.a = `+function(u){return u[n-1]="("+u[n-1]+" + 1)",u[n-2]="("+u[n-2]+" + 1)",s(u)}(r.slice())+`;
            }
          }
          setOutput(result);
        }
    `},XR=function(t,e,n,r,a,o,i){this.variableNames=["updates","indices","defaultValue"],this.outputShape=o;var s=Pn(a.length),u=Pn(o.length),c="";n===1?c="i":n===2&&(c="i, j");var f="getIndices("+c+")",h="";r===1?h="i":r===2&&(h="i, coords[1]");var m="getUpdates("+h+")",g=e>1?"strides[j]":"strides";this.userCode=`
        `+s+" strides = "+s+"("+a+`);

        void main() {
          `+u+` coords = getOutputCoords();
          float sum = 0.0;
          bool found = false;
          for (int i = 0; i < `+t+`; i++) {
            int flattenedIndex = 0;
            for (int j = 0; j < `+e+`; j++) {
              int index = round(`+f+`);
              flattenedIndex += index * `+g+`;
            }
            if (flattenedIndex == coords[0]) {
              sum += `+m+`;
              found = true;
            }
          }
          setOutput(mix(getDefaultValue(), sum, float(found)));
        }
      `},xQ=function(t,e){this.variableNames=["x","segmentIds"];var n=t.windowSize,r=t.batchSize,a=t.inSize,o=t.numSegments,i=o*Math.ceil(a/n);this.outputShape=[r,i];var s=4*Math.floor(n/4),u=n%4,c=`
        sumValue += dot(values, segFilter);
    `,f="";a%n>0&&(f=`
        if (inIdx < 0 || inIdx >= `+a+`) {
          return initializationValue;
        }
      `);var h="";a%n>0&&(h=`
        if (inIdx < 0 || inIdx >= `+a+`) {
          return -1.0;
        }
      `),this.userCode=`
      const float initializationValue = 0.0;

      float getValue(int batch, int inIdx) {
        `+f+`
        return getX(batch, inIdx);
      }

      float getSegmentIdAtIndex(int inIdx) {
        `+h+`
        return getSegmentIds(inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = int(floor(float(outIdx) / float(
          `+o+")) * float("+n+`));
        int currentSeg = int(mod(float(outIdx), float(`+o+`)));

        float sumValue = 0.0;

        for (int i = 0; i < `+s+`; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0
          );

          `+c+`
        }

        int inIdx = inOffset + `+s+`;
        if (`+(u===1)+`) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            0,
            0,
            0
          );

          `+c+`
        } else if (`+(u===2)+`) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
              0,
              0
          );

          `+c+`
        } else if (`+(u===3)+`) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            0
          );

          `+c+`
        }
        setOutput(sumValue);
      }
    `},wQ=function(t,e,n){var r,a;if(this.variableNames=["c","a","b"],this.outputShape=e,n>4)throw Error("Where for rank "+n+" is not yet supported");if(n===1)a="resRC",r="resRC";else{for(var o=["resRC.x","resRC.y","resRC.z","resRC.w"],i=[],s=[],u=0;u<e.length;u++)s.push(""+o[u]),u<t&&i.push(""+o[u]);r=i.join(),a=s.join()}var c=Pn(n);this.userCode=`
      void main() {
        `+c+` resRC = getOutputCoords();
        float cVal = getC(`+r+`);
        if (cVal >= 1.0) {
          setOutput(getA(`+a+`));
        } else {
          setOutput(getB(`+a+`));
        }
      }
    `},SQ=function(){function t(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;var n,r=Pn(this.rank),a="uniform int start["+this.rank+"];",o=function(i){if(i===1)return"sourceLoc";if(i<=6)return m2.slice(0,i).map(function(s){return"sourceLoc."+s}).join(",");throw Error("Slicing for rank "+i+" is not yet supported")}(this.rank);n=`
        `+r+` sourceLoc;
        `+r+` coords = getOutputCoords();
        `+e.map(function(i,s){return"sourceLoc."+m2[s]+" = start["+s+"] + coords."+m2[s]+";"}).join(`
`)+`
      `,this.userCode=`
      `+a+`
      void main() {
        `+n+`
        setOutput(getSource(`+o+`));
      }
    `}return t.prototype.getCustomSetupFunc=function(e){var n=this;if(e.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+e.length+")");return function(r,a){n.startLoc==null&&(n.startLoc=r.getUniformLocationNoThrow(a,"start"),n.startLoc==null)||r.gl.uniform1iv(n.startLoc,e)}},t}(),m2=["x","y","z","w","u","v"],_Q=function(){function t(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length;var n=Pn(this.rank),r=Ua("coords",this.rank),a=Ua("sourceLoc",this.rank),o=this.rank===1?"sourceLoc":"vec2("+a.slice(-2).join()+")",i="getChannel(getSource("+a.join()+"), "+o+")",s=`
      result.x = `+i+`;
      if (++`+r[this.rank-1]+" < "+e[this.rank-1]+`) {
        ++`+a[this.rank-1]+`;
        result.y = `+i+`;
        --`+a[this.rank-1]+`;
      }
    `,u=this.rank===1?"":`
      --`+r[this.rank-1]+`;
      if (++`+r[this.rank-2]+" < "+e[this.rank-2]+`) {
        ++`+a[this.rank-2]+`;
        result.z = `+i+`;
        if (++`+r[this.rank-1]+" < "+e[this.rank-1]+`) {
          ++`+a[this.rank-1]+`;
          result.w = `+i+`;
        }
      }
    `,c=this.rank<=4?`sourceLoc = coords +
            `+n+"("+e.map(function(f,h){return"start["+h+"]"}).join()+");":e.map(function(f,h){return a[h]+" = "+r[h]+" + start["+h+"];"}).join(`
`);this.userCode=`
      uniform int start[`+this.rank+`];
      void main() {
        `+n+` coords = getOutputCoords();
        `+n+` sourceLoc;
        `+c+`
        vec4 result = vec4(0.);
        `+s+`
        `+u+`
        setOutput(result);
      }
    `}return t.prototype.getCustomSetupFunc=function(e){var n=this;if(e.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+e.length+")");return function(r,a){n.startLoc==null&&(n.startLoc=r.getUniformLocationNoThrow(a,"start"),n.startLoc==null)||r.gl.uniform1iv(n.startLoc,e)}},t}(),CQ=function(t,e,n){this.variableNames=["x"],this.outputShape=n;var r=n.length,a=Pn(n.length),o=Pn(n.length),i="";if(r===1)i="coords * strides + begin";else{var s=0;i=n.map(function(u,c){return s++,n.length===1?"coords * strides["+c+"] + begin["+c+"]":"coords["+(s-1)+"] * strides["+c+"] + begin["+c+"]"}).join(",")}this.userCode=`
      `+a+" begin = "+a+"("+t+`);
      `+a+" strides = "+a+"("+e+`);

      void main() {
        `+o+` coords = getOutputCoords();
        setOutput(getX(`+i+`));
      }
    `},EQ=function(){function t(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return t.prototype.acquireTexture=function(e,n,r){var a,o=QR(n,r),i=ZR(e,o,r);if(i in this.freeTextures||(this.freeTextures[i]=[]),i in this.usedTextures||(this.usedTextures[i]=[]),this.freeTextures[i].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();var s=this.freeTextures[i].shift();return this.usedTextures[i].push(s),s}return this.numUsedTextures++,this.log(),o===lo.PACKED_2X2_FLOAT32?a=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):o===lo.PACKED_2X2_FLOAT16?a=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):o===lo.UNPACKED_FLOAT32?a=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):o===lo.UNPACKED_FLOAT16?a=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):o===lo.PACKED_4X1_UNSIGNED_BYTE&&(a=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[i].push(a),a},t.prototype.releaseTexture=function(e,n,r,a){if(this.freeTextures!=null){var o=ZR(n,QR(r,a),a);o in this.freeTextures||(this.freeTextures[o]=[]),this.freeTextures[o].push(e),this.numFreeTextures++,this.numUsedTextures--;var i=this.usedTextures[o],s=i.indexOf(e);if(s<0)throw new Error("Cannot release a texture that was never provided by this texture manager");i.splice(s,1),this.log()}},t.prototype.log=function(){if(this.logEnabled){var e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+e+")")}},t.prototype.getNumUsedTextures=function(){return this.numUsedTextures},t.prototype.getNumFreeTextures=function(){return this.numFreeTextures},t.prototype.dispose=function(){var e=this;if(this.freeTextures!=null){for(var n in this.freeTextures)this.freeTextures[n].forEach(function(r){e.gpgpu.deleteMatrixTexture(r)});for(var n in this.usedTextures)this.usedTextures[n].forEach(function(a){e.gpgpu.deleteMatrixTexture(a)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}},t}();function QR(t,e){if(t===co.UPLOAD)return lo.PACKED_2X2_FLOAT32;if(t===co.RENDER||t==null)return function(n){return Ee().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?n?lo.PACKED_2X2_FLOAT32:lo.UNPACKED_FLOAT32:n?lo.PACKED_2X2_FLOAT16:lo.UNPACKED_FLOAT16}(e);if(t===co.DOWNLOAD||t===co.PIXELS)return lo.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type "+t)}function ZR(t,e,n){return t[0]+"_"+t[1]+"_"+e+"_"+n}var TQ=function(t,e){this.variableNames=["A"];for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t[r]*e[r];this.outputShape=n,this.rank=n.length;var a=Pn(this.rank),o=function(i){var s=i.length;if(s>5)throw Error("Tile for rank "+s+" is not yet supported");if(s===1)return"imod(resRC, "+i[0]+")";for(var u=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],c=[],f=0;f<i.length;f++)c.push("imod("+u[f]+", "+i[f]+")");return c.join()}(t);this.userCode=`
      void main() {
        `+a+` resRC = getOutputCoords();
        setOutput(getA(`+o+`));
      }
    `},RQ=function(t,e){this.variableNames=["A"];for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t[e[r]];this.outputShape=n,this.rank=n.length;var a=Pn(this.rank),o=function(i){var s=i.length;if(s>6)throw Error("Transpose for rank "+s+" is not yet supported");for(var u=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],c=new Array(s),f=0;f<i.length;f++)c[i[f]]=u[f];return c.join()}(e);this.userCode=`
    void main() {
      `+a+` resRC = getOutputCoords();
      setOutput(getA(`+o+`));
    }
    `},AQ=function(t,e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t[e[r]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error("Packed transpose for rank "+this.rank+" is not yet supported.");var a=Pn(this.rank),o=r5("rc",this.rank),i=new Array(this.rank);for(r=0;r<e.length;r++)i[e[r]]=o[r];var s="vec2("+i.slice(-2).join()+")",u="++"+o[this.rank-1]+" < "+n[this.rank-1],c="getChannel(getA("+i.join()+"), "+s+")";this.userCode=`
    void main() {
      `+a+` rc = getOutputCoords();
      vec4 result = vec4(0.);
      result[0] = `+c+`;
      if(`+u+`) {
        result[1] = `+c+`;
      }
      --`+o[this.rank-1]+`;
      if(++`+o[this.rank-2]+" < "+n[this.rank-2]+`) {
        result[2] = `+c+`;
        if(`+u+`) {
          result[3] = `+c+`;
        }
      }
      setOutput(result);
    }
    `},R_=1.7580993408473768,A_=1.0507009873554805,$t=function(t,e){this.variableNames=["A"],this.outputShape=t,this.userCode=`
      float unaryOperation(float x) {
        `+e+`
      }

      void main() {
        float x = getAAtOutCoords();
        float y = unaryOperation(x);

        setOutput(y);
      }
    `},hi="if (isnan(x)) return x;",kQ="return x;",JR="return abs(x);",l5=hi+`
  return (x < 0.0) ? 0.0 : x;
`,u5=hi+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,c5="return (x >= 0.0) ? x : (exp(x) - 1.0);",NQ=`
  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.
  // see: https://arxiv.org/abs/1706.02515
  float scaleAlpha = `+R_+`;
  float scale = `+A_+`;
  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);
`,eA="return -x;",tA="return ceil(x);",nA="return floor(x);",rA="return exp(x);",aA="return exp(x) - 1.0;",OQ=hi+`
  return sin(x);
`,DQ=hi+`
  return cos(x);
`,MQ=hi+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return asin(x);
`,PQ=hi+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return acos(x);
`,IQ=hi+`
  return atan(x);
`,LQ=hi+"return log(x + sqrt(x * x + 1.0));",FQ=hi+`
  if (x < 1.0) return NAN;
  return log(x + sqrt(x * x - 1.0));`,BQ=hi+`
  if ((x < -1.0) || (x > 1.0)) return NAN;
  return (log(1.0 + x) - log(1.0 - x)) / 2.0;`,d0="return x;",zQ="return x;",d5=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,f5=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,h5=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,Fp=function(t,e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.userCode=`
      vec4 unaryOperation(vec4 x) {
        `+e+`
      }

      void main() {
        vec4 x = getAAtOutCoords();
        vec4 y = unaryOperation(x);

        setOutput(y);
      }
    `},$Q=function(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=t;var e=t.length,n=Ua("rc",e),r=Pn(e),a=function(s,u){if(s===1)return"rc";for(var c="",f=0;f<s;f++)c+=u[f],f<s-1&&(c+=",");return c}(e,n),o=n.slice(-2),i=e<=1?"rc":"vec2("+o.join(",")+")";this.userCode=`
      void main() {
        `+r+` rc = getOutputCoords();
        vec4 packedInput = getA(`+a+`);

        setOutput(getChannel(packedInput, `+i+`));
      }
    `},f0={};function h0(t,e){if(e===void 0&&(e=!1),t==="linear")return e?zQ:kQ;if(t==="relu")return e?d5:l5;if(t==="elu")return e?h5:c5;if(t==="relu6")return e?f5:u5;if(t==="prelu")return e?s5:i5;throw new Error("Activation "+t+" has not been implemented for the WebGL backend.")}var UQ=600,VQ=function(t){function e(n){var r,a=t.call(this)||this;if(a.pendingRead=new WeakMap,a.pendingDisposal=new WeakSet,a.dataRefCount=new WeakMap,a.numBytesInGPU=0,a.uploadWaitMs=0,a.downloadWaitMs=0,a.warnedAboutMemory=!1,a.pendingDeletes=0,a.disposed=!1,!Ee().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(n==null){var o=ds(Ee().getNumber("WEBGL_VERSION"));a.binaryCache=((r=Ee().getNumber("WEBGL_VERSION"))in f0||(f0[r]={}),f0[r]),a.gpgpu=new JX(o),a.canvas=o.canvas,a.gpgpuCreatedLocally=!0}else a.gpgpu=n,a.binaryCache={},a.gpgpuCreatedLocally=!1,a.canvas=n.gl.canvas;return a.textureManager=new EQ(a.gpgpu),a.numMBBeforeWarning=Ee().global.screen==null?1024:Ee().global.screen.height*Ee().global.screen.width*window.devicePixelRatio*UQ/1024/1024,a.texData=new KM(a,se),a}return fi(e,t),e.prototype.numDataIds=function(){return this.texData.numDataIds()+(this.cpuBackend?this.cpuBackend.numDataIds():0)-this.pendingDeletes},e.prototype.write=function(n,r,a){if(Ee().getBool("DEBUG")&&this.checkNumericalProblems(n),a==="complex64"&&n!=null)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var o={};return this.texData.set(o,{shape:r,dtype:a,values:n,usage:co.UPLOAD}),o},e.prototype.move=function(n,r,a,o){if(Ee().getBool("DEBUG")&&this.checkNumericalProblems(r),o==="complex64")throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(n,{shape:a,dtype:o,values:r,usage:co.UPLOAD})},e.prototype.readSync=function(n){var r=this.texData.get(n),a=r.values,o=r.dtype,i=r.complexTensors,s=r.slice,u=r.shape,c=r.isPacked;if(s!=null){var f=void 0;f=c?new Fp(u,d0):new $t(u,d0);var h=this.runWebGLProgram(f,[{dataId:n,shape:u,dtype:o}],o),m=this.readSync(h.dataId);return this.disposeData(h.dataId),m}if(a!=null)return this.convertAndCacheOnCPU(n);if(o==="string")return a;var g,y,b=this.activeTimers!=null;return b&&(g=qi()),o==="complex64"?y=jw(i.real.dataSync(),i.imag.dataSync()):y=this.getValuesFromTexture(n),b&&(this.downloadWaitMs+=qi()-g),this.convertAndCacheOnCPU(n,y)},e.prototype.read=function(n){return Je(this,void 0,void 0,function(){var r,a,o,i,s,u,c,f,h,m,g,y,b,x,S,R,_,T,A,D,N,M;return et(this,function(P){switch(P.label){case 0:if(this.pendingRead.has(n))return r=this.pendingRead.get(n),[2,new Promise(function(I){return r.push(I)})];if(a=this.texData.get(n),o=a.values,i=a.shape,s=a.slice,u=a.dtype,c=a.complexTensors,f=a.isPacked,s!=null)return h=void 0,h=f?new Fp(i,d0):new $t(i,d0),m=this.runWebGLProgram(h,[{dataId:n,shape:i,dtype:u}],u),g=this.read(m.dataId),this.disposeData(m.dataId),[2,g];if(o!=null)return[2,this.convertAndCacheOnCPU(n)];if(!Ee().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&Ee().getNumber("WEBGL_VERSION")===2)throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");return y=null,u!=="complex64"&&Ee().get("WEBGL_BUFFER_SUPPORTED")&&(b=this.decode(n),x=this.texData.get(b.dataId),y=(M=this.gpgpu).createBufferFromTexture.apply(M,[x.texture].concat(Yp(i)))),this.pendingRead.set(n,[]),u==="complex64"?[3,2]:[4,this.gpgpu.createAndWaitForFence()];case 1:P.sent(),P.label=2;case 2:return u!=="complex64"?[3,4]:[4,Promise.all([c.real.data(),c.imag.data()])];case 3:return R=P.sent(),_=R[0],T=R[1],S=jw(_,T),[3,5];case 4:y==null?S=this.getValuesFromTexture(n):(A=nt(i),S=this.gpgpu.downloadFloat32MatrixFromBuffer(y,A)),P.label=5;case 5:return b!=null&&this.disposeData(b.dataId),D=this.convertAndCacheOnCPU(n,S),N=this.pendingRead.get(n),this.pendingRead.delete(n),N.forEach(function(I){return I(D)}),this.pendingDisposal.has(n)&&(this.pendingDisposal.delete(n),this.disposeData(n),this.pendingDeletes--),[2,D]}})})},e.prototype.checkNumericalProblems=function(n){if(n!=null)for(var r=0;r<n.length;r++){var a=n[r];if(!NK(a))throw Ee().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error("The value "+a+" cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'"):Error("The value "+a+" cannot be represented on this device.")}},e.prototype.getValuesFromTexture=function(n){var r,a=this.texData.get(n),o=a.shape,i=a.dtype,s=a.isPacked,u=nt(o);if(Ee().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var c=this.decode(n),f=this.texData.get(c.dataId),h=(r=this.gpgpu).downloadMatrixFromPackedTexture.apply(r,[f.texture].concat(Yp(o))).subarray(0,u);return this.disposeData(c.dataId),h}var m=Ee().getBool("WEBGL_PACK")&&s===!0,g=m?l2(o):o,y=m?new kX(g):new AX(g),b=this.runWebGLProgram(y,[{shape:g,dtype:i,dataId:n}],"float32"),x=this.texData.get(b.dataId),S=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(x.texture,x.texShape[0],x.texShape[1]).subarray(0,u);return this.disposeData(b.dataId),S},e.prototype.time=function(n){return Je(this,void 0,void 0,function(){var r,a,o,i,s,u,c;return et(this,function(f){switch(f.label){case 0:return r=this.activeTimers,a=[],o=!1,this.programTimersStack==null?(this.programTimersStack=a,o=!0):this.activeTimers.push(a),this.activeTimers=a,n(),i=Bf(this.activeTimers.map(function(h){return h.query})).filter(function(h){return h!=null}),s=Bf(this.activeTimers.map(function(h){return h.name})).filter(function(h){return h!=null}),this.activeTimers=r,o&&(this.programTimersStack=null),u={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null},Ee().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[4,Promise.all(i)]:[3,2];case 1:return c=f.sent(),u.kernelMs=cK(c),u.getExtraProfileInfo=function(){return c.map(function(h,m){return{name:s[m],ms:h}}).map(function(h){return h.name+": "+h.ms}).join(", ")},[3,3];case 2:u.kernelMs={error:"WebGL query timers are not supported in this environment."},f.label=3;case 3:return this.uploadWaitMs=0,this.downloadWaitMs=0,[2,u]}})})},e.prototype.memory=function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}},e.prototype.startTimer=function(){return Ee().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:qi(),endMs:null}},e.prototype.endTimer=function(n){return Ee().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),n):(n.endMs=qi(),n)},e.prototype.getQueryTime=function(n){return Je(this,void 0,void 0,function(){var r;return et(this,function(a){return Ee().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[2,this.gpgpu.waitForQueryAndGetTime(n)]:[2,(r=n).endMs-r.startMs]})})},e.prototype.disposeData=function(n){if(!this.pendingDisposal.has(n)){if(this.pendingRead.has(n))return this.pendingDisposal.add(n),void this.pendingDeletes++;if(this.texData.has(n)){this.releaseGPUData(n);var r=this.texData.get(n).complexTensors;r!=null&&(r.real.dispose(),r.imag.dispose()),this.texData.delete(n)}}},e.prototype.releaseGPUData=function(n){var r=this.texData.get(n),a=r.texture,o=r.dtype,i=r.texShape,s=r.usage,u=r.isPacked,c=r.slice,f=c&&c.origDataId||n,h=this.dataRefCount.get(f);h>1?this.dataRefCount.set(f,h-1):(this.dataRefCount.delete(f),a!=null&&(this.numBytesInGPU-=this.computeBytes(i,o),this.textureManager.releaseTexture(a,i,s,u)));var m=this.texData.get(n);m.texture=null,m.texShape=null,m.isPacked=!1,m.slice=null},e.prototype.getTexture=function(n){return this.uploadToGPU(n),this.texData.get(n).texture},e.prototype.getDataInfo=function(n){return this.texData.get(n)},e.prototype.getCPUBackend=function(){return Ee().getBool("WEBGL_CPU_FORWARD")?(this.cpuBackend==null&&(this.cpuBackend=se.findBackend("cpu")),this.cpuBackend):null},e.prototype.shouldExecuteOnCPU=function(n,r){var a=this;return r===void 0&&(r=128),this.getCPUBackend()!=null&&n.every(function(o){return a.texData.get(o.dataId).texture==null&&o.size<r})},e.prototype.getGPGPUContext=function(){return this.gpgpu},e.prototype.complex=function(n,r){var a=this.makeOutput(n.shape,"complex64");return this.texData.get(a.dataId).complexTensors={real:se.keep(n.clone()),imag:se.keep(r.clone())},a},e.prototype.real=function(n){return this.texData.get(n.dataId).complexTensors.real.clone()},e.prototype.imag=function(n){return this.texData.get(n.dataId).complexTensors.imag.clone()},e.prototype.slice=function(n,r,a){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.slice(n,r,a);if(nt(a)===0)return Zr([],a,n.dtype);var o=this.texData.get(n.dataId).isPacked,i=qM(n.shape,r,a);if(o||!i){var s=Ee().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new _Q(a):new SQ(a),u=s.getCustomSetupFunc(r);return this.compileAndRun(s,[n],null,u)}return this.uploadToGPU(n.dataId),this.shallowSlice(n,r,a)},e.prototype.shallowSlice=function(n,r,a){var o=this.texData.get(n.dataId),i=this.makeOutput(a,n.dtype),s=this.texData.get(i.dataId);Object.assign(s,o),s.shape=a,s.dtype=n.dtype;var u=GM(r,n.strides);o.slice&&(u+=o.slice.flatOffset),s.slice={flatOffset:u,origDataId:o.slice&&o.slice.origDataId||n.dataId};var c=this.dataRefCount.get(s.slice.origDataId)||1;return this.dataRefCount.set(s.slice.origDataId,c+1),i},e.prototype.stridedSlice=function(n,r,a,o){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.stridedSlice(n,r,a,o);var i=w_(r,a,o);if(i.some(function(u){return u===0}))return Zr([],i);var s=new CQ(r,o,i);return this.compileAndRun(s,[n])},e.prototype.reverse=function(n,r){var a=Ee().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new bQ(n.shape,r):new yQ(n.shape,r);return this.compileAndRun(a,[n])},e.prototype.concat=function(n,r){if(n[0].dtype==="complex64"){var a=n.map(function(g){return Io(g)}),o=n.map(function(g){return Ki(g)});return Yr(this.concat(a,r),this.concat(o,r))}if(this.shouldExecuteOnCPU(n))return this.cpuBackend.concat(n,r);if(n.length===1)return n[0];if(n.length>Ee().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var i=Math.floor(n.length/2),s=this.concat(n.slice(0,i),r),u=this.concat(n.slice(i),r);return this.concat([s,u],r)}if(Ee().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&n[0].rank>1){var c=new pX(n.map(function(g){return g.shape}),r);return this.compileAndRun(c,n)}var f=$f(n.map(function(g){return g.shape}),r),h=n.map(function(g){return g.as2D(-1,nt(g.shape.slice(r)))}),m=new hX(h.map(function(g){return g.shape}));return this.compileAndRun(m,h).reshape(f)},e.prototype.neg=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.neg(n);if(Ee().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,eA,n.dtype);var r=new $t(n.shape,eA);return this.compileAndRun(r,[n])},e.prototype.batchMatMul=function(n,r,a,o){var i=a?n.shape[2]:n.shape[1],s=o?r.shape[1]:r.shape[2],u=a?n.shape[1]:n.shape[2],c=n.shape[0];if((i===1||s===1)&&u>1e3){a&&(n=n.transpose([0,2,1])),o&&(r=r.transpose([0,2,1]));var f=s===1?n:n.as3D(c,u,1),h=s===1?2:1,m=s===1?r.as3D(c,1,u):r;return this.multiply(f,m).sum(h,!0)}var g=Xr(n.dtype,r.dtype),y=new f2(n.shape,[c,i,s],a,o);return this.compileAndRun(y,[n,r],g)},e.prototype.fusedBatchMatMul=function(n){var r=n.a,a=n.b,o=n.transposeA,i=n.transposeB,s=n.bias,u=n.activation,c=n.preluActivationWeights,f=o?r.shape[2]:r.shape[1],h=i?a.shape[1]:a.shape[2],m=r.shape[0],g=Xr(r.dtype,a.dtype),y=s!=null,b=c!=null,x=u?h0(u,!0):null,S=new f2(r.shape,[m,f,h],o,i,y,x,b),R=[r,a];return s&&R.push(s),c&&R.push(c),this.compileAndRun(S,R,g)},e.prototype.multiply=function(n,r){if(n.dtype==="complex64"){var a=this.texData.get(n.dataId),o=this.texData.get(r.dataId),i=new VR(lX,n.shape,r.shape),s=new VR(uX,n.shape,r.shape),u=[this.makeComplexComponentTensorInfo(n,a.complexTensors.real),this.makeComplexComponentTensorInfo(n,a.complexTensors.imag),this.makeComplexComponentTensorInfo(r,o.complexTensors.real),this.makeComplexComponentTensorInfo(r,o.complexTensors.imag)],c=this.compileAndRun(i,u),f=this.compileAndRun(s,u),h=this.complex(c,f);return c.dispose(),f.dispose(),h}if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.multiply(n,r);if(Ee().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,jR,n.dtype);var m=new tr(jR,n.shape,r.shape);return this.compileAndRun(m,[n,r],n.dtype)},e.prototype.batchNormalization=function(n,r,a,o,i,s){var u=[n,r,a],c=null;s!=null&&(c=s.shape,u.push(s));var f=null;if(i!=null&&(f=i.shape,u.push(i)),Ee().getBool("WEBGL_PACK_NORMALIZATION")){var h=new sX(n.shape,r.shape,a.shape,c,f,o);return this.compileAndRun(h,u)}var m=new iX(n.shape,r.shape,a.shape,c,f,o);return this.compileAndRun(m,u)},e.prototype.localResponseNormalization4D=function(n,r,a,o,i){var s=Ee().getBool("WEBGL_PACK_NORMALIZATION")?new rQ(n.shape,r,a,o,i):new tQ(n.shape,r,a,o,i);return this.compileAndRun(s,[n])},e.prototype.LRNGrad=function(n,r,a,o,i,s,u){var c=new nQ(r.shape,o,i,s,u);return this.compileAndRun(c,[r,a,n])},e.prototype.tile=function(n,r){if(n.dtype==="string"){var a=this.readSync(n.dataId).map(function(i){return by(i)});return t5(Pt(n.shape,n.dtype,a),r)}var o=new TQ(n.shape,r);return this.compileAndRun(o,[n])},e.prototype.pad=function(n,r,a){var o=Ee().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new cQ(n.shape,r,a):new uQ(n.shape,r,a);return this.compileAndRun(o,[n])},e.prototype.transpose=function(n,r){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.transpose(n,r);var a=Ee().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new AQ(n.shape,r):new RQ(n.shape,r);return this.compileAndRun(a,[n])},e.prototype.gather=function(n,r,a){if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.gather(n,r,a);var o=new IX(n.shape,r.size,a);return this.compileAndRun(o,[n,r])},e.prototype.batchToSpaceND=function(n,r,a){ee(n.rank<=4,function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"});var o=r.reduce(function(h,m){return h*m}),i=Ey(n.shape,r,o),s=Ty(i.length,r.length),u=Ry(n.shape,r,o),c=VM(a,r.length),f=jM(u,a,r.length);return n.reshape(i).transpose(s).reshape(u).slice(c,f)},e.prototype.spaceToBatchND=function(n,r,a){ee(n.rank<=4,function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"});var o=r.reduce(function(m,g){return m*g}),i=[[0,0]];i.push.apply(i,a);for(var s=1+r.length;s<n.shape.length;++s)i.push([0,0]);var u=n.pad(i),c=Ey(u.shape,r,o,!1),f=Ty(c.length,r.length,!1),h=Ry(u.shape,r,o,!1);return u.reshape(c).transpose(f).reshape(h)},e.prototype.reduce=function(n,r,a){var o=n.shape[0],i=n.shape[1],s=u2(i),u=new dQ({windowSize:s,inSize:i,batchSize:o},r),c=this.compileAndRun(u,[n],a);return c.shape[1]===1?c:this.reduce(c,r,a)},e.prototype.argReduce=function(n,r,a){a===void 0&&(a=null);var o=n.shape[0],i=n.shape[1];a!=null&&(o=a.shape[0],i=a.shape[1]);var s=u2(i),u=new QY({windowSize:s,inSize:i,batchSize:o},r,a==null),c=[n];a!=null&&c.push(a);var f=this.compileAndRun(u,c,"int32");return f.shape[1]===1?f:this.argReduce(n,r,f)},e.prototype.argReducePacked=function(n,r,a){a===void 0&&(a=null);var o=a!=null?a.shape:n.shape,i=u2(o[o.length-1]),s=new rX(o,i,r,a==null),u=a==null?[n]:[n,a],c=this.compileAndRun(s,u,"int32");return c.rank===n.rank?this.argReducePacked(n,r,c):c},e.prototype.sum=function(n,r){so("sum",r,n.rank);var a=pa(n.shape,r),o=a[0],i=nt(a[1]),s=n.as2D(-1,i),u=t2(n.dtype);return this.reduce(s,"sum",u).reshape(o)},e.prototype.prod=function(n,r){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.prod(n,r);var a=pa(n.shape,r),o=a[0],i=nt(a[1]),s=n.as2D(-1,i),u=t2(n.dtype);return this.reduce(s,"prod",u).reshape(o)},e.prototype.unsortedSegmentSum=function(n,r,a){var o=0,i=fs([o],n.rank),s=n;i!=null&&(s=n.transpose(i),o=hs(1,n.rank)[0]);var u=function(g,y,b){for(var x=[],S=g.length,R=0;R<S;R++)R!==y?x.push(g[R]):x.push(b);return x}(s.shape,o,a),c=nt([s.shape[o]]),f=s.as2D(-1,c),h=t2(n.dtype),m=this.segOpCompute(f,"unsortedSegmentSum",r,h,a).reshape(u);return i!=null&&(m=m.transpose(v_(i))),m},e.prototype.segOpCompute=function(n,r,a,o,i){var s=n.shape[0],u=n.shape[1],c=function(m,g){var y,b=!1;for(m<=HM?(y=m,b=!0):y=Pw(m,Math.floor(Math.sqrt(m)));!b;)y>g||y===m?b=!0:y=Pw(m,y+1);return y}(u,i),f=new xQ({windowSize:c,inSize:u,batchSize:s,numSegments:i}),h=this.compileAndRun(f,[n,a],o);return h.shape[1]===i?h:(a=Cy(0,i).tile([u/c]),this.segOpCompute(h,r,a,o,i))},e.prototype.argMinMaxReduce=function(n,r,a){var o=[r];if(so("arg"+a.charAt(0).toUpperCase()+a.slice(1),o,n.rank),!Ee().getBool("WEBGL_PACK_REDUCE")||n.rank<=2){var i=pa(n.shape,o),s=i[0],u=nt(i[1]),c=n.as2D(-1,u);return this.argReduce(c,a).reshape(s)}return this.argReducePacked(n,a)},e.prototype.argMin=function(n,r){return this.argMinMaxReduce(n,r,"min")},e.prototype.argMax=function(n,r){return this.argMinMaxReduce(n,r,"max")},e.prototype.cumsum=function(n,r,a,o){if(r!==n.rank-1)throw new Error("WebGL cumsum shader expects an inner-most axis="+(n.rank-1)+" but got axis="+r);var i=new _X(n.shape,a,o);return this.compileAndRun(i,[n])},e.prototype.equal=function(n,r){if(Ee().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(equal(a, b));
`,"bool");var a=new tr("return float(a == b);",n.shape,r.shape);return this.compileAndRun(a,[n,r],"bool")},e.prototype.notEqual=function(n,r){if(Ee().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(notEqual(a, b));
`,"bool");var a=new tr("return float(a != b);",n.shape,r.shape);return this.compileAndRun(a,[n,r],"bool")},e.prototype.less=function(n,r){if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.less(n,r);if(Ee().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(lessThan(a, b));
`,"bool");var a=new tr("return float(a < b);",n.shape,r.shape);return this.compileAndRun(a,[n,r],"bool")},e.prototype.lessEqual=function(n,r){if(Ee().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(lessThanEqual(a, b));
`,"bool");var a=new tr("return float(a <= b);",n.shape,r.shape);return this.compileAndRun(a,[n,r],"bool")},e.prototype.greater=function(n,r){if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.greater(n,r);if(Ee().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(greaterThan(a, b));
`,"bool");var a=new tr("return float(a > b);",n.shape,r.shape);return this.compileAndRun(a,[n,r],"bool")},e.prototype.greaterEqual=function(n,r){if(Ee().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(greaterThanEqual(a, b));
`,"bool");var a=new tr("return float(a >= b);",n.shape,r.shape);return this.compileAndRun(a,[n,r],"bool")},e.prototype.logicalNot=function(n){var r=new $t(n.shape,"return float(!(x >= 1.0));");return this.compileAndRun(r,[n])},e.prototype.logicalAnd=function(n,r){if(Ee().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(
    vec4(greaterThanEqual(a, vec4(1.0))) *
    vec4(greaterThanEqual(b, vec4(1.0))));
`,"bool");var a=new tr("return float(a >= 1.0 && b >= 1.0);",n.shape,r.shape);return this.compileAndRun(a,[n,r],"bool")},e.prototype.logicalOr=function(n,r){if(Ee().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return min(
    vec4(greaterThanEqual(a, vec4(1.0))) +
    vec4(greaterThanEqual(b, vec4(1.0))),
    vec4(1.0));
`,"bool");var a=new tr("return float(a >= 1.0 || b >= 1.0);",n.shape,r.shape);return this.compileAndRun(a,[n,r],"bool")},e.prototype.select=function(n,r,a){var o=new wQ(n.rank,r.shape,r.rank);return this.compileAndRun(o,[n,r,a],Xr(r.dtype,a.dtype))},e.prototype.where=function(n){Sy("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var r=n.dataSync();return E_(n.shape,r)},e.prototype.topk=function(n,r,a){return n5(n.dataSync(),n.shape,n.dtype,r)},e.prototype.min=function(n,r){so("min",r,n.rank);var a=pa(n.shape,r),o=a[0],i=nt(a[1]),s=n.as2D(-1,i);return this.reduce(s,"min",s.dtype).reshape(o)},e.prototype.minimum=function(n,r){if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.minimum(n,r);var a=Ee().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new qs(`
  vec4 result = vec4(min(a, b));
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,n.shape,r.shape):new tr(`
  if (isnan(a)) return a;
  if (isnan(b)) return b;

  return min(a, b);
`,n.shape,r.shape);return this.compileAndRun(a,[n,r])},e.prototype.mod=function(n,r){var a=Ee().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new qs(`
  vec4 result = mod(a, b);
  vec4 isNaN = vec4(equal(b, vec4(0.0)));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,n.shape,r.shape):new tr(`if (b == 0.0) return NAN;
  return mod(a, b);`,n.shape,r.shape);return this.compileAndRun(a,[n,r])},e.prototype.max=function(n,r){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.max(n,r);so("max",r,n.rank);var a=pa(n.shape,r),o=a[0],i=nt(a[1]),s=n.as2D(-1,i);return this.reduce(s,"max",s.dtype).reshape(o)},e.prototype.maximum=function(n,r){if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.maximum(n,r);var a=Ee().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new qs(`
  vec4 result = vec4(max(a, b));
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,n.shape,r.shape):new tr(`
  if (isnan(a)) return a;
  if (isnan(b)) return b;

  return max(a, b);
`,n.shape,r.shape);return this.compileAndRun(a,[n,r])},e.prototype.all=function(n,r){so("all",r,n.rank);var a=pa(n.shape,r),o=a[0],i=nt(a[1]),s=n.as2D(-1,i);return this.reduce(s,"all",s.dtype).reshape(o)},e.prototype.any=function(n,r){so("any",r,n.rank);var a=pa(n.shape,r),o=a[0],i=nt(a[1]),s=n.as2D(-1,i);return this.reduce(s,"any",s.dtype).reshape(o)},e.prototype.realDivide=function(n,r){if(Ee().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  // vec4 one = vec4(equal(a, b));
  // return one + (vec4(1.0) - one) * a / b;
  vec4 result = a / b;
  if(a.x == b.x) {
    result.x = 1.;
  }
  if(a.y == b.y) {
    result.y = 1.;
  }
  if(a.z == b.z) {
    result.z = 1.;
  }
  if(a.w == b.w) {
    result.w = 1.;
  }

  return result;
`,"float32",!0);var a=new tr(`
if (a == b) {
  return 1.0;
};
return a / b;`,n.shape,r.shape);return this.compileAndRun(a,[n,r],"float32")},e.prototype.floorDiv=function(n,r){if(Ee().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  ivec4 ia = round(a);
  ivec4 ib = round(b);
  bvec4 cond = notEqual(ib, ivec4(0));
  ivec4 result = ivec4(0);
  vec4 s = sign(a) * sign(b);

  // Windows (D3D) wants guaranteed non-zero int division at compile-time.
  if (cond[0]) {
    result[0] = idiv(ia[0], ib[0], s[0]);
  }
  if (cond[1]) {
    result[1] = idiv(ia[1], ib[1], s[1]);
  }
  if (cond[2]) {
    result[2] = idiv(ia[2], ib[2], s[2]);
  }
  if (cond[3]) {
    result[3] = idiv(ia[3], ib[3], s[3]);
  }
  return vec4(result);
`,"int32");var a=new tr(`
  float s = sign(a) * sign(b);
  int ia = round(a);
  int ib = round(b);
  if (ib != 0) {
    // Windows (D3D) wants guaranteed non-zero int division at compile-time.
    return float(idiv(ia, ib, s));
  } else {
    return NAN;
  }
`,n.shape,r.shape);return this.compileAndRun(a,[n,r],"int32")},e.prototype.add=function(n,r){if(n.dtype==="complex64"&&r.dtype==="complex64")return this.complexSeparableBinaryOp(n,r,c2);if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.add(n,r);var a=Xr(n.dtype,r.dtype);if(Ee().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,c2,a);var o=new tr(c2,n.shape,r.shape);return this.compileAndRun(o,[n,r],a)},e.prototype.packedUnaryOp=function(n,r,a){var o=new Fp(n.shape,r);return this.compileAndRun(o,[n],a)},e.prototype.packedBinaryOp=function(n,r,a,o,i){i===void 0&&(i=!1);var s=new qs(a,n.shape,r.shape,i);return this.compileAndRun(s,[n,r],o)},e.prototype.complexSeparableBinaryOp=function(n,r,a){var o=this,i=this.texData.get(n.dataId),s=this.texData.get(r.dataId),u=[[i.complexTensors.real,s.complexTensors.real],[i.complexTensors.imag,s.complexTensors.imag]].map(function(m){var g=m[0],y=m[1],b=o.makeComplexComponentTensorInfo(n,g),x=o.makeComplexComponentTensorInfo(r,y),S=new tr(a,n.shape,r.shape);return o.compileAndRun(S,[b,x],Xr(g.dtype,y.dtype))}),c=u[0],f=u[1],h=this.complex(c,f);return c.dispose(),f.dispose(),h},e.prototype.makeComplexComponentTensorInfo=function(n,r){return{dataId:r.dataId,dtype:r.dtype,shape:n.shape}},e.prototype.addN=function(n){if(n.length===1)return n[0];if(n.length>Ee().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var r=Math.floor(n.length/2),a=this.addN(n.slice(0,r)),o=this.addN(n.slice(r));return this.addN([a,o])}var i=n.map(function(c){return c.dtype}).reduce(function(c,f){return Xr(c,f)}),s=n.map(function(c){return c.shape}),u=Ee().getBool("WEBGL_PACK")?new XY(n[0].shape,s):new YY(n[0].shape,s);return this.compileAndRun(u,n,i)},e.prototype.subtract=function(n,r){if(n.dtype==="complex64"&&r.dtype==="complex64")return this.complexSeparableBinaryOp(n,r,d2);if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.subtract(n,r);var a=Xr(n.dtype,r.dtype);if(Ee().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,d2,n.dtype);var o=new tr(d2,n.shape,r.shape);return this.compileAndRun(o,[n,r],a)},e.prototype.pow=function(n,r){var a=Ee().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new qs(`
  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.
  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));
  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);
  vec4 result = multiplier * pow(abs(a), b);

  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS
  bvec4 isExpZero = equal(b, vec4(0.0));
  result.r = isExpZero.r ? 1.0 : result.r;
  result.g = isExpZero.g ? 1.0 : result.g;
  result.b = isExpZero.b ? 1.0 : result.b;
  result.a = isExpZero.a ? 1.0 : result.a;

  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,n.shape,r.shape):new tr(`
if(a < 0.0 && floor(b) < b){
  return NAN;
}
if (b == 0.0) {
  return 1.0;
}
return (round(mod(b, 2.0)) != 1) ?
    pow(abs(a), b) : sign(a) * pow(abs(a), b);
`,n.shape,r.shape),o=Xr(n.dtype,r.dtype);return this.compileAndRun(a,[n,r],o)},e.prototype.ceil=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.ceil(n);if(Ee().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,tA,n.dtype);var r=new $t(n.shape,tA);return this.compileAndRun(r,[n])},e.prototype.floor=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.floor(n);if(Ee().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,nA,n.dtype);var r=new $t(n.shape,nA);return this.compileAndRun(r,[n])},e.prototype.sign=function(n){var r=new $t(n.shape,`
  if (isnan(x)) { return 0.0; }
  return sign(x);
`);return this.compileAndRun(r,[n])},e.prototype.isNaN=function(n){var r=new $t(n.shape,"return float(isnan(x));");return this.compileAndRun(r,[n],"bool")},e.prototype.isInf=function(n){var r=new $t(n.shape,"return float(isinf(x));");return this.compileAndRun(r,[n],"bool")},e.prototype.isFinite=function(n){var r=new $t(n.shape,"return float(!isnan(x) && !isinf(x));");return this.compileAndRun(r,[n],"bool")},e.prototype.round=function(n){var r=new $t(n.shape,`
  // OpenGL ES does not support round function.
  // The algorithm is based on banker's rounding.
  float base = floor(x);
  if ((x - base) < 0.5) {
    return floor(x);
  } else if ((x - base) > 0.5) {
    return ceil(x);
  } else {
    if (mod(base, 2.0) == 0.0) {
      return base;
    } else {
      return base + 1.0;
    }
  }
`);return this.compileAndRun(r,[n])},e.prototype.exp=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.exp(n);if(Ee().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,rA,n.dtype);var r=new $t(n.shape,rA);return this.compileAndRun(r,[n])},e.prototype.expm1=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.expm1(n);if(Ee().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,aA,n.dtype);var r=new $t(n.shape,aA);return this.compileAndRun(r,[n])},e.prototype.softmax=function(n,r){var a=Nr([r],n.shape),o=this.max(n,a),i=Xa(o.shape,a),s=this.subtract(n,o.reshape(i)),u=this.exp(s),c=this.sum(u,a).reshape(i);return this.realDivide(u,c)},e.prototype.log=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.log(n);if(Ee().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,`
  vec4 result = log(x);
  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));
  result.r = isNaN.r == 1.0 ? NAN : result.r;
  result.g = isNaN.g == 1.0 ? NAN : result.g;
  result.b = isNaN.b == 1.0 ? NAN : result.b;
  result.a = isNaN.a == 1.0 ? NAN : result.a;

  return result;
`,n.dtype);var r=new $t(n.shape,`if (x < 0.0) return NAN;
  return log(x);`);return this.compileAndRun(r,[n])},e.prototype.log1p=function(n){var r=new $t(n.shape,"return log(1.0 + x);");return this.compileAndRun(r,[n])},e.prototype.sqrt=function(n){var r=new $t(n.shape,"return sqrt(x);");return this.compileAndRun(r,[n])},e.prototype.rsqrt=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.rsqrt(n);var r=new $t(n.shape,"return inversesqrt(x);");return this.compileAndRun(r,[n])},e.prototype.reciprocal=function(n){var r=new $t(n.shape,"return 1.0 / x;");return this.compileAndRun(r,[n])},e.prototype.relu=function(n){var r;return r=Ee().getBool("WEBGL_PACK")?new Fp(n.shape,d5):new $t(n.shape,l5),this.compileAndRun(r,[n])},e.prototype.relu6=function(n){var r;return r=Ee().getBool("WEBGL_PACK")?new Fp(n.shape,f5):new $t(n.shape,u5),this.compileAndRun(r,[n])},e.prototype.prelu=function(n,r){var a=Ee().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new qs(s5,n.shape,r.shape):new tr(i5,n.shape,r.shape);return this.compileAndRun(a,[n,r])},e.prototype.elu=function(n){if(Ee().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,h5,n.dtype);var r=new $t(n.shape,c5);return this.compileAndRun(r,[n])},e.prototype.eluDer=function(n,r){var a=Ee().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new qs(`
  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));
  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));
`,n.shape,r.shape):new tr("return (b >= 1.0) ? a : a * (b + 1.0);",n.shape,r.shape);return this.compileAndRun(a,[n,r])},e.prototype.selu=function(n){var r=new $t(n.shape,NQ);return this.compileAndRun(r,[n])},e.prototype.int=function(n){var r=new $t(n.shape,"return float(int(x));");return this.compileAndRun(r,[n],"int32")},e.prototype.clip=function(n,r,a){var o,i=(o=Ee().getBool("WEBGL_PACK_CLIP")?new dX(n.shape):new cX(n.shape)).getCustomSetupFunc(r,a);return this.compileAndRun(o,[n],null,i)},e.prototype.abs=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.abs(n);if(Ee().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,JR,n.dtype);var r=new $t(n.shape,JR);return this.compileAndRun(r,[n])},e.prototype.complexAbs=function(n){var r=this.texData.get(n.dataId),a=new fX(n.shape),o=[this.makeComplexComponentTensorInfo(n,r.complexTensors.real),this.makeComplexComponentTensorInfo(n,r.complexTensors.imag)];return this.compileAndRun(a,o)},e.prototype.sigmoid=function(n){var r=new $t(n.shape,"return 1.0 / (1.0 + exp(-1.0 * x));");return this.compileAndRun(r,[n])},e.prototype.softplus=function(n){var r=new $t(n.shape,`
  float epsilon = 1.1920928955078125e-7;
  float threshold = log(epsilon) + 2.0;

  bool too_large = x > -threshold;
  bool too_small = x < threshold;

  float result;
  float exp_x = exp(x);

  if (too_large){
    result = x;
  }
  else if (too_small){
    result = exp_x;
  }
  else{
    result = log(exp_x + 1.0);
  }
  return result;
`);return this.compileAndRun(r,[n])},e.prototype.sin=function(n){var r=new $t(n.shape,OQ);return this.compileAndRun(r,[n])},e.prototype.cos=function(n){var r=new $t(n.shape,DQ);return this.compileAndRun(r,[n])},e.prototype.tan=function(n){var r=new $t(n.shape,"return tan(x);");return this.compileAndRun(r,[n])},e.prototype.asin=function(n){var r=new $t(n.shape,MQ);return this.compileAndRun(r,[n])},e.prototype.acos=function(n){var r=new $t(n.shape,PQ);return this.compileAndRun(r,[n])},e.prototype.atan=function(n){var r=new $t(n.shape,IQ);return this.compileAndRun(r,[n])},e.prototype.atan2=function(n,r){var a=Ee().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new qs(`
  vec4 result = atan(a, b);
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,n.shape,r.shape):new tr(`
  if (isnan(a)) return a;
  if (isnan(b)) return b;

  return atan(a, b);
`,n.shape,r.shape);return this.compileAndRun(a,[n,r])},e.prototype.sinh=function(n){var r=new $t(n.shape,`
  float e2x = exp(x);
  return (e2x - 1.0 / e2x) / 2.0;
`);return this.compileAndRun(r,[n])},e.prototype.cosh=function(n){var r=new $t(n.shape,`
  float e2x = exp(-x);
  return (e2x + 1.0 / e2x) / 2.0;
`);return this.compileAndRun(r,[n])},e.prototype.tanh=function(n){var r=new $t(n.shape,`
  float e2x = exp(-2.0 * abs(x));
  return sign(x) * (1.0 - e2x) / (1.0 + e2x);
`);return this.compileAndRun(r,[n])},e.prototype.asinh=function(n){var r=new $t(n.shape,LQ);return this.compileAndRun(r,[n])},e.prototype.acosh=function(n){var r=new $t(n.shape,FQ);return this.compileAndRun(r,[n])},e.prototype.atanh=function(n){var r=new $t(n.shape,BQ);return this.compileAndRun(r,[n])},e.prototype.erf=function(n){var r=new $t(n.shape,`
  // Error function is calculated approximately with elementary function.
  // See "Handbook of Mathematical Functions with Formulas,
  // Graphs, and Mathematical Tables", Abramowitz and Stegun.
  float p = 0.3275911;
  float a1 = 0.254829592;
  float a2 = -0.284496736;
  float a3 = 1.421413741;
  float a4 = -1.453152027;
  float a5 = 1.061405429;

  float sign = sign(x);
  x = abs(x);
  float t = 1.0 / (1.0 + p * x);
  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));
`);return this.compileAndRun(r,[n])},e.prototype.step=function(n,r){var a=new $t(n.shape,function(o){return o===void 0&&(o=0),hi+`
    return x > 0.0 ? 1.0 : float(`+o+`);
  `}(r));return this.compileAndRun(a,[n])},e.prototype.conv2dByMatMul=function(n,r,a,o,i,s){var u=n.shape,c=this.texData.get(n.dataId),f=a.inChannels,h=u[0]*u[1]*u[2],m=a.outChannels,g=a.dataFormat==="channelsLast",y=(h===1||m===1)&&f>1e3,b=u[2]%2!=0&&!!c.isPacked;if(y||!Ee().getBool("WEBGL_LAZILY_UNPACK")||!Ee().getBool("WEBGL_PACK_BINARY_OPERATIONS")||!b){var x=g?u[0]*u[1]*u[2]:u[0]*u[2]*u[3],S=this.reshape(n,[1,x,a.inChannels]),R=this.reshape(r,[1,a.inChannels,a.outChannels]);return this.reshape(this.fusedBatchMatMul({a:S,b:R,transposeA:!1,transposeB:!1,bias:o,activation:i,preluActivationWeights:s}),a.outShape)}var _=g?u[0]*u[1]*(u[2]+1):u[0]*u[2]*(u[3]+1),T={dataId:n.dataId,shape:[1,_,a.inChannels],dtype:n.dtype},A=c.shape;c.shape=c.shape.slice(),c.shape[c.shape.length-2]++,ee(u0(c.shape,T.shape),function(){return"packed reshape "+c.shape+" to "+T.shape+" isn't free"});var D=this.reshape(r,[1,a.inChannels,a.outChannels]),N=this.fusedBatchMatMul({a:T,b:D,transposeA:!1,transposeB:!1,bias:o,activation:i,preluActivationWeights:s}),M=this.texData.get(N.dataId);return ee(M.isPacked,function(){return"batchMatMul result is expected to be packed"}),c.shape=A,M.shape=a.outShape,se.makeTensorFromDataId(N.dataId,a.outShape,N.dtype)},e.prototype.conv2dWithIm2Row=function(n,r,a,o,i,s){var u=a.filterWidth,c=a.filterHeight,f=a.inChannels,h=a.outWidth,m=a.outHeight,g=a.dataFormat==="channelsLast",y=u*c*f,b=m*h,x=[y,b],S=n.squeeze([0]),R=r.reshape([1,y,-1]),_=new eQ(x,S.shape,a),T=this.compileAndRun(_,[S]).reshape([1,x[0],x[1]]),A=o!=null,D=s!=null,N=i?h0(i,!0):null,M=new f2(T.shape,[1,b,a.outChannels],!0,!1,A,N,D),P=[T,R];o&&P.push(o),D&&P.push(s);var I=this.compileAndRun(M,P);return g?I.reshape([1,m,h,a.outChannels]):I.reshape([1,a.outChannels,m,h])},e.prototype.fusedConv2d=function(n){var r=n.input,a=n.filter,o=n.convInfo,i=n.bias,s=n.activation,u=n.preluActivationWeights;if(o.filterHeight===1&&o.filterWidth===1&&o.dilationHeight===1&&o.dilationWidth===1&&o.strideHeight===1&&o.strideWidth===1&&(o.padInfo.type==="SAME"||o.padInfo.type==="VALID"))return this.conv2dByMatMul(r,a,o,i,s,u);if(Ee().getBool("WEBGL_CONV_IM2COL")&&r.shape[0]===1)return this.conv2dWithIm2Row(r,a,o,i,s,u);var c=i!=null,f=u!=null,h=s?h0(s,!1):null,m=new WR(o,c,h,f),g=[r,a];return i&&g.push(i),u&&g.push(u),this.compileAndRun(m,g)},e.prototype.conv2d=function(n,r,a){if(a.filterHeight===1&&a.filterWidth===1&&a.dilationHeight===1&&a.dilationWidth===1&&a.strideHeight===1&&a.strideWidth===1&&(a.padInfo.type==="SAME"||a.padInfo.type==="VALID"))return this.conv2dByMatMul(n,r,a);if(Ee().getBool("WEBGL_CONV_IM2COL")&&n.shape[0]===1)return this.conv2dWithIm2Row(n,r,a);var o=new WR(a);return this.compileAndRun(o,[n,r])},e.prototype.conv2dDerInput=function(n,r,a){var o=new gX(a);return this.compileAndRun(o,[n,r])},e.prototype.conv2dDerFilter=function(n,r,a){var o=new mX(a);return this.compileAndRun(o,[n,r])},e.prototype.fusedDepthwiseConv2D=function(n){var r,a=n.input,o=n.filter,i=n.convInfo,s=n.bias,u=n.activation,c=n.preluActivationWeights,f=Ee().getBool("WEBGL_PACK_DEPTHWISECONV")&&i.strideWidth<=2&&i.outChannels/i.inChannels==1,h=u?h0(u,f):null,m=[a,o],g=s!=null,y=c!=null;return g&&m.push(s),y&&m.push(c),f?(r=new qR(i,g,h,y),this.compileAndRun(r,m)):(r=new HR(i,g,h,y),this.compileAndRun(r,m))},e.prototype.depthwiseConv2D=function(n,r,a){var o;return Ee().getBool("WEBGL_PACK_DEPTHWISECONV")&&a.strideWidth<=2&&a.outChannels/a.inChannels==1?(o=new qR(a),this.compileAndRun(o,[n,r])):(o=new HR(a),this.compileAndRun(o,[n,r]))},e.prototype.depthwiseConv2DDerInput=function(n,r,a){var o=new xX(a);return this.compileAndRun(o,[n,r])},e.prototype.depthwiseConv2DDerFilter=function(n,r,a){var o=new bX(a);return this.compileAndRun(o,[n,r])},e.prototype.conv3d=function(n,r,a){var o=new wX(a);return this.compileAndRun(o,[n,r])},e.prototype.conv3dDerInput=function(n,r,a){var o=new yX(a);return this.compileAndRun(o,[n,r])},e.prototype.conv3dDerFilter=function(n,r,a){var o=new vX(a);return this.compileAndRun(o,[n,r])},e.prototype.maxPool=function(n,r){var a=new h2(r,"max",!1);return this.compileAndRun(a,[n])},e.prototype.avgPool=function(n,r){var a=new h2(r,"avg",!1);return this.compileAndRun(a,[n],"float32")},e.prototype.maxPoolBackprop=function(n,r,a,o){var i=new h2(o,"max",!0),s=this.compileAndRun(i,[r]),u=new aQ(o),c=this.compileAndRun(u,[n,s],r.dtype);return s.dispose(),c},e.prototype.avgPoolBackprop=function(n,r,a){var o=new aX(a);return this.compileAndRun(o,[n],r.dtype)},e.prototype.cast=function(n,r){return QM(n,r,this)},e.prototype.unstack=function(n,r){for(var a=n.shape[r],o=new Array(n.rank-1),i=0,s=0;s<n.rank;s++)s!==r&&(o[i++]=n.shape[s]);var u=new Array(n.rank).fill(0),c=n.shape.slice();c[r]=1;var f=new Array(a);for(s=0;s<f.length;s++)u[r]=s,f[s]=this.slice(n,u,c).reshape(o);return f},e.prototype.avgPool3d=function(n,r){var a=new p2(r,"avg",!1);return this.compileAndRun(a,[n],"float32")},e.prototype.avgPool3dBackprop=function(n,r,a){var o=new oX(a);return this.compileAndRun(o,[n],r.dtype)},e.prototype.maxPool3d=function(n,r){var a=new p2(r,"max",!1);return this.compileAndRun(a,[n],"float32")},e.prototype.maxPool3dBackprop=function(n,r,a,o){var i=new p2(o,"max",!0),s=this.compileAndRun(i,[r]),u=new oQ(o),c=this.compileAndRun(u,[n,s],r.dtype);return s.dispose(),c},e.prototype.reshape=function(n,r){var a=this.texData.get(n.dataId);if(a.isPacked&&!u0(n.shape,r)&&(a.texture===null||!u0(a.shape,r))){var o=this.packedReshape(n,r);return se.makeTensorFromDataId(o.dataId,o.shape,o.dtype)}return Vw(n,r)},e.prototype.resizeBilinear=function(n,r,a,o){var i=Ee().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new mQ(n.shape,r,a,o):new pQ(n.shape,r,a,o);return this.compileAndRun(i,[n],"float32")},e.prototype.resizeBilinearBackprop=function(n,r,a){var o=new hQ(n,r,a);return this.compileAndRun(o,[n])},e.prototype.resizeNearestNeighbor=function(n,r,a,o){var i=new vQ(n.shape,r,a,o);return this.compileAndRun(i,[n])},e.prototype.resizeNearestNeighborBackprop=function(n,r,a){var o=new gQ(n,r,a);return this.compileAndRun(o,[n])},e.prototype.multinomial=function(n,r,a,o){var i=r?n:ol(n),s=i.shape[0],u=i.shape[1],c=new iQ(s,u,a),f=c.getCustomSetupFunc(o);return this.compileAndRun(c,[i],"int32",f)},e.prototype.oneHot=function(n,r,a,o){var i=new sQ(n.size,r,a,o);return this.compileAndRun(i,[n])},e.prototype.diag=function(n){var r=new RX(n.size);return this.compileAndRun(r,[n])},e.prototype.nonMaxSuppression=function(n,r,a,o,i){return Sy("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead"),__(n.dataSync(),r.dataSync(),a,o,i)},e.prototype.cropAndResize=function(n,r,a,o,i,s){var u=new SX(n.shape,r.shape,o,i,s);return this.compileAndRun(u,[n,r,a],"float32")},e.prototype.depthToSpace=function(n,r,a){ee(r>1,function(){return"blockSize should be > 1 for depthToSpace, but was: "+r});var o=n.shape[0],i=a==="NHWC"?n.shape[1]:n.shape[2],s=a==="NHWC"?n.shape[2]:n.shape[3],u=a==="NHWC"?n.shape[3]:n.shape[1],c=i*r,f=s*r,h=u/(r*r),m=new TX(a==="NHWC"?[o,c,f,h]:[o,h,c,f],r,a);return this.compileAndRun(m,[n])},e.prototype.split=function(n,r,a){return e5(n,r,a)},e.prototype.scatterND=function(n,r,a){var o=Ay(0,n,a),i=o.sliceRank,s=o.numUpdates,u=o.sliceSize,c=o.strides,f=o.outputSize,h=[f/u,u],m=n.reshape([s,i]),g=r.reshape([s,u]);if(f===0)return Vw(Zr([]),a);var y=He(0),b=new XR(s,i,m.rank,g.rank,c,h);return this.compileAndRun(b,[g,m,y]).reshape(a)},e.prototype.sparseToDense=function(n,r,a,o){var i=Ay(0,n,a),s=i.sliceRank,u=i.numUpdates,c=i.strides,f=i.outputSize,h=new XR(u,s,n.rank,r.rank,c,[f,1]);return this.compileAndRun(h,[r,n,o]).reshape(a)},e.prototype.fft=function(n){return this.fftImpl(n,!1)},e.prototype.ifft=function(n){return this.fftImpl(n,!0)},e.prototype.fftImpl=function(n,r){var a=this.texData.get(n.dataId),o=new KR(DX,n.shape,r),i=new KR(MX,n.shape,r),s=[this.makeComplexComponentTensorInfo(n,a.complexTensors.real),this.makeComplexComponentTensorInfo(n,a.complexTensors.imag)],u=this.compileAndRun(o,s),c=this.compileAndRun(i,s),f=this.complex(u,c).as2D(n.shape[0],n.shape[1]);return u.dispose(),c.dispose(),f},e.prototype.gatherND=function(n,r){var a=r.shape,o=a[a.length-1],i=WM(n,r),s=i[0],u=i[1],c=i[2],f=i[3],h=r.reshape([u,o]),m=n.reshape([n.size/c,c]),g=new LX(o,f,[u,c]);return this.compileAndRun(g,[m,h]).reshape(s)},e.prototype.fill=function(n,r,a){if((a=a||Qm(r))==="string"){var o=yy(a,nt(n));return o.fill(r),se.makeTensor(o,n,a,this)}var i=new PX(n,r),s=i.getCustomSetupFunc(r);return this.compileAndRun(i,[],a,s)},e.prototype.onesLike=function(n){if(n.dtype==="string")throw new Error("onesLike is not supported under string dtype");return this.fill(n.shape,1,n.dtype)},e.prototype.zerosLike=function(n){return this.fill(n.shape,n.dtype==="string"?"":0,n.dtype)},e.prototype.linspace=function(n,r,a){return ZM(n,r,a)},e.prototype.makeTensorInfo=function(n,r){var a=this.write(null,n,r);return this.texData.get(a).usage=null,{dataId:a,shape:n,dtype:r}},e.prototype.makeOutput=function(n,r){var a=this.makeTensorInfo(n,r).dataId;return se.makeTensorFromDataId(a,n,r,this)},e.prototype.unpackTensor=function(n){var r=new $Q(n.shape);return this.runWebGLProgram(r,[n],n.dtype)},e.prototype.packTensor=function(n){var r=new lQ(n.shape);return this.runWebGLProgram(r,[n],n.dtype,null,!0)},e.prototype.packedReshape=function(n,r){var a=[xy(n.shape)].concat(wy(n.shape)),o={dtype:n.dtype,shape:a,dataId:n.dataId},i=[xy(r)].concat(wy(r)),s=new fQ(i,a),u=this.runWebGLProgram(s,[o],n.dtype,null,!0);return{dataId:u.dataId,shape:r,dtype:u.dtype}},e.prototype.decode=function(n){var r,a=this.texData.get(n),o=a.isPacked,i=a.shape,s=a.dtype,u=l2(i);return r=o?new EX(u):new CX(u),{dtype:s,shape:i,dataId:this.runWebGLProgram(r,[{shape:u,dtype:s,dataId:n}],s,null,!0).dataId}},e.prototype.runWebGLProgram=function(n,r,a,o,i){var s=this;i===void 0&&(i=!1);var u=this.makeTensorInfo(n.outputShape,a),c=this.texData.get(u.dataId);if(n.packedOutput&&(c.isPacked=!0),n.outPackingScheme===vm.DENSE){var f=Yp(n.outputShape);c.texShape=f.map(function(_){return 2*_})}if(n.outTexUsage!=null&&(c.usage=n.outTexUsage),nt(u.shape)===0)return c.values=mm(u.dtype,0),u;var h=[],m=r.map(function(_){if(_.dtype==="complex64")throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var T=s.texData.get(_.dataId);if(T.texture==null){if(!n.packedInputs&&nt(_.shape)<=Ee().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:_.shape,texData:null,isUniform:!0,uniformValues:T.values};n.packedInputs&&(T.isPacked=!0,T.shape=_.shape)}else if(!!T.isPacked!=!!n.packedInputs)_=T.isPacked?s.unpackTensor(_):s.packTensor(_),h.push(_),T=s.texData.get(_.dataId);else if(T.isPacked&&!u0(T.shape,_.shape)){var A=_,D=_.shape;_.shape=T.shape,_=s.packedReshape(_,D),h.push(_),T=s.texData.get(_.dataId),A.shape=D}return s.uploadToGPU(_.dataId),{shape:_.shape,texData:T,isUniform:!1}});this.uploadToGPU(u.dataId);var g,y={shape:u.shape,texData:c,isUniform:!1},b=function(_,T,A){var D="";T.concat(A).forEach(function(P){var I=P.texData!=null&&P.texData.slice!=null&&P.texData.slice.flatOffset>0,$=P.isUniform?"uniform":P.texData.texShape;D+=P.shape+"_"+$+"_"+I});var N=_.userCode,M=_.constructor.name;return M+="_"+D+"_"+N}(n,m,y),x=this.getAndSaveBinary(b,function(){return function(_,T,A,D){var N=T.userCode,M=A.map(function(W,Q){var q={logicalShape:W.shape,texShape:W.isUniform?null:W.texData.texShape,isUniform:W.isUniform,isPacked:!W.isUniform&&W.texData.isPacked,flatOffset:null};return W.texData!=null&&W.texData.slice!=null&&W.texData.slice.flatOffset>0&&(q.flatOffset=W.texData.slice.flatOffset),{name:T.variableNames[Q],shapeInfo:q}}),P=M.map(function(W){return W.shapeInfo}),I={logicalShape:D.shape,texShape:D.texData.texShape,isUniform:!1,isPacked:D.texData.isPacked,flatOffset:null},$=ZY(M,I,N,T.packedInputs),z=_.createProgram($),G=null,V=_.getUniformLocation(z,"NAN",!1);Ee().getNumber("WEBGL_VERSION")===1&&(G=_.getUniformLocation(z,"INFINITY",!1));for(var B={},F=0;F<T.variableNames.length;F++){var U=T.variableNames[F];B[U]=_.getUniformLocation(z,U,!1),B["offset"+U]=_.getUniformLocation(z,"offset"+U,!1)}return{program:T,source:$,webGLProgram:z,uniformLocations:B,inShapeInfos:P,outShapeInfo:I,infLoc:G,nanLoc:V}}(s.gpgpu,n,m,y)}),S=this.activeTimers!=null;if(S&&(g=this.startTimer()),function(_,T,A,D,N){YR(T.inShapeInfos,A),YR([T.outShapeInfo],[D]);var M=D.texData.texture,P=D.texData.texShape;D.texData.isPacked?_.setOutputPackedMatrixTexture(M,P[0],P[1]):_.setOutputMatrixTexture(M,P[0],P[1]),_.setProgram(T.webGLProgram),Ee().getNumber("WEBGL_VERSION")===1&&T.infLoc!==null&&_.gl.uniform1f(T.infLoc,1/0),T.nanLoc!==null&&_.gl.uniform1f(T.nanLoc,NaN),A.forEach(function(I,$){var z=T.program.variableNames[$],G=T.uniformLocations[z],V=T.uniformLocations["offset"+z];if(G!=null)if(I.isUniform)if(nt(I.shape)<2)_.gl.uniform1f(G,I.uniformValues[0]);else{var B=I.uniformValues;B instanceof Float32Array||(B=new Float32Array(B)),_.gl.uniform1fv(G,B)}else I.texData.slice!=null&&V!=null&&_.gl.uniform1i(V,I.texData.slice.flatOffset),_.setInputMatrixTexture(I.texData.texture,G,$)}),N!=null&&N(_,T.webGLProgram),_.executeProgram()}(this.gpgpu,x,m,y,o),h.forEach(function(_){return s.disposeData(_.dataId)}),S&&(g=this.endTimer(g),this.activeTimers.push({name:n.constructor.name,query:this.getQueryTime(g)})),!Ee().getBool("WEBGL_LAZILY_UNPACK")&&c.isPacked&&i===!1){var R=this.unpackTensor(u);return this.disposeData(u.dataId),R}return u},e.prototype.compileAndRun=function(n,r,a,o,i){i===void 0&&(i=!1),a=a||r[0].dtype;var s=this.runWebGLProgram(n,r,a,o,i);return se.makeTensorFromDataId(s.dataId,s.shape,s.dtype)},e.prototype.getAndSaveBinary=function(n,r){return n in this.binaryCache||(this.binaryCache[n]=r()),this.binaryCache[n]},e.prototype.getTextureManager=function(){return this.textureManager},e.prototype.dispose=function(){var n=this;this.disposed||(Ee().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(function(r){n.gpgpu.deleteProgram(n.binaryCache[r].webGLProgram),delete n.binaryCache[r]}),this.textureManager.dispose(),this.canvas!=null&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)},e.prototype.floatPrecision=function(){var n=this;return this.floatPrecisionValue==null&&(this.floatPrecisionValue=Xe(function(){if(!Ee().get("WEBGL_RENDER_FLOAT32_ENABLED")){var r=Ee().getBool("DEBUG");Ee().set("DEBUG",!1);var a=n.abs(He(1e-8)).dataSync()[0];if(Ee().set("DEBUG",r),a>0)return 32}return 16})),this.floatPrecisionValue},e.prototype.epsilon=function(){return this.floatPrecision()===32?1e-7:1e-4},e.prototype.uploadToGPU=function(n){var r,a=this.texData.get(n),o=a.shape,i=a.dtype,s=a.values,u=a.texture,c=a.usage,f=a.isPacked;if(u==null){var h,m=this.activeTimers!=null;m&&(h=qi());var g=a.texShape;if(g==null&&(g=KK(o,f),a.texShape=g),s!=null){var y=l2(o),b=void 0,x=g[1],S=g[0],R=s instanceof Uint8Array;f?(x=(r=Jm(g[0],g[1]))[0],S=r[1],b=new OX(y,[S,x],R)):b=new NX(y,[S,x],R);var _=this.makeTensorInfo([S,x],i);this.texData.get(_.dataId).usage=R?co.PIXELS:co.UPLOAD,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(_.dataId),x,S,s);var T=this.runWebGLProgram(b,[_],i,null,!0),A=this.texData.get(T.dataId);a.texture=A.texture,a.texShape=A.texShape,a.isPacked=A.isPacked,a.usage=A.usage,this.disposeData(_.dataId),this.texData.delete(T.dataId),a.values=null,m&&(this.uploadWaitMs+=qi()-h)}else{var D=this.acquireTexture(g,c,i,f);a.texture=D}}},e.prototype.convertAndCacheOnCPU=function(n,r){var a=this.texData.get(n),o=a.dtype;return this.releaseGPUData(n),r!=null&&(a.values=function(i,s){if(s==="float32"||s==="complex64")return i;if(s==="int32"||s==="bool"){for(var u=s==="int32"?new Int32Array(i.length):new Uint8Array(i.length),c=0;c<u.length;++c)u[c]=Math.round(i[c]);return u}throw new Error("Unknown dtype "+s)}(r,o)),a.values},e.prototype.acquireTexture=function(n,r,a,o){if(this.numBytesInGPU+=this.computeBytes(n,a),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var i=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: "+i+" MB, most likely due to a memory leak")}return this.textureManager.acquireTexture(n,r,o)},e.prototype.computeBytes=function(n,r){return n[0]*n[1]*TM(r)},e}(YM);MM()&&se.registerBackend("webgl",function(){return new VQ},2);var jQ=ae({square_:function(t){var e=Z(t,"x","square"),n=[e];return se.runKernelFunc(function(r,a){return a([e]),r.square(e)},{x:e},null,"Square",{},n,[])}}),bm="SquaredDifference",p5=ae({squaredDifference_:function(t,e){var n,r=Z(t,"a","squaredDifference"),a=Z(e,"b","squaredDifference");n=Xn(r,a),r=n[0],a=n[1],Xt(r.shape,a.shape);var o={a:r,b:a},i=[r,a];return se.runKernelFunc(function(s,u){var c=s.squaredDifference(r,a);return u([r,a]),c},o,function(s,u){var c=u[0],f=u[1],h=He(2);return{a:function(){return s.mul(c.sub(f).mul(h))},b:function(){return s.mul(f.sub(c).mul(h))}}},bm,{},i,[])}}),WQ=ae({abs_:function(t){var e=Z(t,"x","abs");return e.dtype==="complex64"?se.runKernelFunc(function(n){return n.complexAbs(e)},{$x:e}):se.runKernelFunc(function(n,r){var a=n.abs(e);return r([e]),a},{x:e},function(n,r){var a=r[0];return{x:function(){return n.mul(a.toFloat().step(-1))}}},"Abs")}}),HQ=ae({acos_:function(t){var e=Z(t,"x","acos");return se.runKernelFunc(function(n,r){var a=n.acos(e);return r([e]),a},{$x:e},function(n,r){var a=r[0];return{$x:function(){return n.divStrict(He(1).sub(a.toFloat().square()).sqrt()).neg()}}})}}),qQ=ae({acosh_:function(t){var e=Z(t,"x","acosh");return se.runKernelFunc(function(n,r){var a=n.acosh(e);return r([e]),a},{$x:e},function(n,r){var a=r[0];return{$x:function(){return n.divStrict(a.toFloat().square().sub(1).sqrt())}}})}}),GQ=ae({asin_:function(t){var e=Z(t,"x","asin");return se.runKernelFunc(function(n,r){var a=n.asin(e);return r([e]),a},{$x:e},function(n,r){var a=r[0];return{$x:function(){return n.divStrict(He(1).sub(a.toFloat().square()).sqrt())}}})}}),KQ=ae({asinh_:function(t){var e=Z(t,"x","asinh");return se.runKernelFunc(function(n,r){var a=n.asinh(e);return r([e]),a},{$x:e},function(n,r){var a=r[0];return{$x:function(){return n.divStrict(He(1).add(a.toFloat().square()).sqrt())}}})}}),YQ=ae({atan_:function(t){var e=Z(t,"x","atan");return se.runKernelFunc(function(n,r){var a=n.atan(e);return r([e]),a},{$x:e},function(n,r){var a=r[0];return{$x:function(){return n.div(a.toFloat().square().add(1))}}})}}),XQ=ae({atanh_:function(t){var e=Z(t,"x","atanh");return se.runKernelFunc(function(n,r){var a=n.atanh(e);return r([e]),a},{$x:e},function(n,r){var a=r[0];return{$x:function(){return n.div(He(1).sub(a.toFloat().square()))}}})}}),QQ=ae({ceil_:function(t){var e=Z(t,"x","ceil");return se.runKernelFunc(function(n){return n.ceil(e)},{$x:e},function(n){return{$x:function(){return rn(n)}}})}}),k_=ae({clipByValue_:function(t,e,n){var r=Z(t,"x","clipByValue");ee(e<=n,function(){return"Error in clip: min ("+e+") must be less than or equal to max ("+n+")."});var a=[r],o={min:e,max:n};return se.runKernelFunc(function(i,s){var u=i.clip(r,e,n);return s([r]),u},{x:r},function(i,s){var u=s[0];return{x:function(){return i.where(u.greaterEqual(e).logicalAnd(u.lessEqual(n)),rn(i))}}},"ClipByValue",o,a)}}),ZQ=ae({cos_:function(t){var e=Z(t,"x","cos"),n=[e];return se.runKernelFunc(function(r,a){var o=r.cos(e);return a([e]),o},{x:e},function(r,a){var o=a[0];return{x:function(){return o.toFloat().sin().neg().mul(r)}}},"Cos",{},n)}}),JQ=ae({cosh_:function(t){var e=Z(t,"x","cosh");return se.runKernelFunc(function(n,r){var a=n.cosh(e);return r([e]),a},{$x:e},function(n,r){var a=r[0];return{$x:function(){return a.toFloat().sinh().mulStrict(n)}}})}}),eZ=ae({erf_:function(t){var e=Z(t,"x","erf");return ee(e.dtype==="int32"||e.dtype==="float32",function(){return"Input dtype must be `int32` or `float32`."}),e.dtype==="int32"&&(e=e.toFloat()),se.runKernelFunc(function(n,r){var a=n.erf(e);return r([e]),a},{$x:e},function(n,r){var a=r[0];return{$x:function(){return n.mul(a.square().neg().exp().mul(2/Math.sqrt(Math.PI)))}}})}}),Ww=ae({exp_:function(t){var e=Z(t,"x","exp");return se.runKernelFunc(function(n,r){var a=n.exp(e);return r([a]),a},{x:e},function(n,r){return{x:function(){return n.mulStrict(r[0])}}},"Exp",{},[],[!0])}}),tZ=ae({expm1_:function(t){var e=Z(t,"x","expm1");return se.runKernelFunc(function(n,r){var a=n.expm1(e);return r([e]),a},{$x:e},function(n,r){var a=r[0];return{$x:function(){return n.mul(a.exp())}}})}}),nZ=ae({floor_:function(t){var e=Z(t,"x","floor");return se.runKernelFunc(function(n){return n.floor(e)},{$x:e},function(n){return{$x:function(){return rn(n)}}})}}),rZ=ae({log_:function(t){var e=Z(t,"x","log"),n=[e];return se.runKernelFunc(function(r,a){var o=r.log(e);return a([e]),o},{x:e},function(r,a){var o=a[0];return{x:function(){return r.div(o.toFloat())}}},"Log",{},n)}}),aZ=ae({log1p_:function(t){var e=Z(t,"x","log1p");return se.runKernelFunc(function(n,r){var a=n.log1p(e);return r([e]),a},{$x:e},function(n,r){var a=r[0];return{$x:function(){return n.div(a.add(1))}}})}}),oZ=ae({logSigmoid_:function(t){var e=Z(t,"x","logSigmoid");return se.runKernelFunc(function(n,r){var a=n.softplus(e.neg()).neg();return r([e]),a},{$x:e},function(n,r){var a=r[0];return{$x:function(){return n.mul(a.neg().sigmoid())}}})}}),Dy=ae({neg_:function(t){var e=Z(t,"x","neg"),n=[e];return se.runKernelFunc(function(r){return r.neg(e)},{x:e},function(r){return{x:function(){return r.neg()}}},"Neg",{},n)}}),iZ=ae({reciprocal_:function(t){var e=Z(t,"x","reciprocal");return se.runKernelFunc(function(n,r){var a=n.reciprocal(e);return r([e]),a},{$x:e},function(n,r){var a=r[0];return{$x:function(){return n.div(a.square().neg())}}})}}),sZ=ae({round_:function(t){var e=Z(t,"x","round");return se.runKernelFunc(function(n){return n.round(e)},{$x:e},function(n){return{$x:function(){return rn(n)}}})}}),m5=ae({rsqrt_:function(t){var e=Z(t,"x","rsqrt"),n=[e];return se.runKernelFunc(function(r,a){var o=r.rsqrt(e);return a([e]),o},{x:e},function(r,a){var o=a[0];return{x:function(){return r.div(o.pow(1.5).mul(2)).neg()}}},"Rsqrt",{},n)}}),g5=ae({sigmoid_:function(t){var e=Z(t,"x","sigmoid");return se.runKernelFunc(function(n,r){var a=n.sigmoid(e);return r([a]),a},{x:e},function(n,r){var a=r[0];return{x:function(){return n.mul(a.mul(He(1).sub(a)))}}},"Sigmoid")}}),lZ=ae({sign_:function(t){var e=Z(t,"x","sign");return se.runKernelFunc(function(n){return n.sign(e)},{$x:e},function(n){return{$x:function(){return rn(n)}}})}}),uZ=ae({isNaN_:function(t){var e=Z(t,"x","isNaN");return se.runKernelFunc(function(n){return n.isNaN(e)},{$x:e},function(n){return{$x:function(){return rn(n)}}})}}),cZ=ae({isInf_:function(t){var e=Z(t,"x","isInf");return se.runKernelFunc(function(n){return n.isInf(e)},{$x:e},function(n){return{$x:function(){return rn(n)}}})}}),dZ=ae({isFinite_:function(t){var e=Z(t,"x","isFinite");return se.runKernelFunc(function(n){return n.isFinite(e)},{$x:e},function(n){return{$x:function(){return rn(n)}}})}}),fZ=ae({sin_:function(t){var e=Z(t,"x","sin"),n=[e];return se.runKernelFunc(function(r,a){var o=r.sin(e);return a([e]),o},{x:e},function(r,a){var o=a[0];return{x:function(){return o.toFloat().cos().mul(r)}}},"Sin",{},n)}}),hZ=ae({sinh_:function(t){var e=Z(t,"x","sinh");return se.runKernelFunc(function(n,r){var a=n.sinh(e);return r([e]),a},{$x:e},function(n,r){var a=r[0];return{$x:function(){return a.toFloat().cosh().mulStrict(n)}}})}}),pZ=ae({softplus_:function(t){var e=Z(t,"x","softplus");return se.runKernelFunc(function(n,r){var a=n.softplus(e);return r([e]),a},{$x:e},function(n,r){var a=r[0];return{$x:function(){return n.mul(a.sigmoid())}}})}}),mZ=ae({sqrt_:function(t){var e=Z(t,"x","sqrt");return se.runKernelFunc(function(n,r){var a=n.sqrt(e);return r([e]),a},{$x:e},function(n,r){var a=r[0];return{$x:function(){return n.div(a.toFloat().sqrt().mul(2))}}})}}),gZ=ae({step_:function(t,e){e===void 0&&(e=0);var n=Z(t,"x","step");return se.runKernelFunc(function(r){return r.step(n,e)},{$x:n},function(r){return{$x:function(){return rn(r)}}})}}),vZ=ae({tan_:function(t){var e=Z(t,"x","tan");return se.runKernelFunc(function(n,r){var a=n.tan(e);return r([e]),a},{$x:e},function(n,r){var a=r[0];return{$x:function(){return n.div(a.cos().square())}}})}}),yZ=ae({tanh_:function(t){var e=Z(t,"x","tanh");return se.runKernelFunc(function(n,r){var a=n.tanh(e);return r([a]),a},{x:e},function(n,r){var a=r[0];return{x:function(){return He(1).sub(a.square()).mulStrict(n)}}},"Tanh",{},null,[!0])}});function v5(t,e,n,r,a,o){var i,s,u=Z(t,"x","batchNorm"),c=Z(e,"mean","batchNorm"),f=Z(n,"variance","batchNorm");return a!=null&&(i=Z(a,"scale","batchNorm")),r!=null&&(s=Z(r,"offset","batchNorm")),ee(u.rank===2,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+u.rank+"."}),ee(c.rank===2||c.rank===1,function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank "+c.rank+"."}),ee(f.rank===2||f.rank===1,function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank "+f.rank+"."}),i!=null&&ee(i.rank===2||i.rank===1,function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank "+i.rank+"."}),s!=null&&ee(s.rank===2||s.rank===1,function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank "+s.rank+"."}),tg(u,c,f,s,i,o)}function y5(t,e,n,r,a,o){var i,s,u=Z(t,"x","batchNorm"),c=Z(e,"mean","batchNorm"),f=Z(n,"variance","batchNorm");return a!=null&&(i=Z(a,"scale","batchNorm")),r!=null&&(s=Z(r,"offset","batchNorm")),ee(u.rank===3,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+u.rank+"."}),ee(c.rank===3||c.rank===1,function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank "+c.rank+"."}),ee(f.rank===3||f.rank===1,function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank "+f.rank+"."}),i!=null&&ee(i.rank===3||i.rank===1,function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank "+i.rank+"."}),s!=null&&ee(s.rank===3||s.rank===1,function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank "+s.rank+"."}),tg(u,c,f,s,i,o)}function b5(t,e,n,r,a,o){var i,s,u=Z(t,"x","batchNorm"),c=Z(e,"mean","batchNorm"),f=Z(n,"variance","batchNorm");return a!=null&&(i=Z(a,"scale","batchNorm")),r!=null&&(s=Z(r,"offset","batchNorm")),ee(u.rank===4,function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+u.rank+"."}),ee(c.rank===4||c.rank===1,function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank "+c.rank+"."}),ee(f.rank===4||f.rank===1,function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank "+f.rank+"."}),i!=null&&ee(i.rank===4||i.rank===1,function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank "+i.rank+"."}),s!=null&&ee(s.rank===4||s.rank===1,function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank "+s.rank+"."}),tg(u,c,f,s,i,o)}function tg(t,e,n,r,a,o){o==null&&(o=.001);var i,s,u,c=Z(t,"x","batchNorm"),f=Z(e,"mean","batchNorm"),h=Z(n,"variance","batchNorm");a!=null&&(i=Z(a,"scale","batchNorm")),r!=null&&(s=Z(r,"offset","batchNorm")),ee(f.rank===h.rank,function(){return"Batch normalization gradient requires mean and variance to have equal ranks."}),ee(s==null||f.rank===s.rank,function(){return"Batch normalization gradient requires mean and offset to have equal ranks."}),ee(i==null||f.rank===i.rank,function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}),u=c.rank===0||c.rank===1?c.as4D(1,1,1,c.size):c.rank===2?c.as4D(1,1,c.shape[0],c.shape[1]):c.rank===3?c.as4D(1,c.shape[0],c.shape[1],c.shape[2]):c;var m=[c,f,h,i];return se.runKernelFunc(function(g,y){var b=g.batchNormalization(u,p0(f),p0(h),o,p0(i),p0(s));return y([c,f,h,i]),b},{x:c,mean:f,variance:h,scale:i,offset:s},function(g,y){var b=y,x=b[0],S=b[1],R=b[2],_=b[3],T=_??He(1),A=Ar(S.shape,u.shape),D=[];if(S.rank===1){for(var N=0;N<u.shape.length-1;++N)D.push(u.shape[N]);D.push(1)}var M=x.sub(S),P=g.mul(T),I=m5(R.add(He(o))),$=I.mul(I).mul(I).mul(He(-.5));return{x:function(){return S.rank===1?g.mul(hf(I.as4D(1,1,1,S.shape[0]),D)).mul(T).reshape(x.shape):g.mul(I).mul(T).reshape(x.shape)},mean:function(){var z=I.mul(He(-1)).mul(P);return S.rank===1&&(z=z.sum(A)),z.reshape(S.shape)},variance:function(){var z=$.mul(M).mul(P);return S.rank===1&&(z=z.sum(A)),z.reshape(S.shape)},scale:function(){var z=M.mul(I),G=g.mul(z);return S.rank===1&&(G=G.sum(A)),G.reshape(S.shape)},offset:function(){var z=g;return S.rank===1&&(z=z.sum(A)),z.reshape(S.shape)}}},"BatchNormalization",{varianceEpsilon:o},m).reshape(c.shape)}function p0(t){return t==null?null:t.rank===0?t.as1D():t.rank===1?t:t.rank===2?t.as4D(1,1,t.shape[0],t.shape[1]):t.rank===3?t.as4D(1,t.shape[0],t.shape[1],t.shape[2]):t}function Pb(){PM("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon")}var bZ=ae({batchNormalization2d_:function(t,e,n,r,a,o){return r===void 0&&(r=.001),Pb(),v5(t,e,n,o,a,r)}}),xZ=ae({batchNormalization3d_:function(t,e,n,r,a,o){return r===void 0&&(r=.001),Pb(),y5(t,e,n,o,a,r)}}),wZ=ae({batchNormalization4d_:function(t,e,n,r,a,o){return r===void 0&&(r=.001),Pb(),b5(t,e,n,o,a,r)}}),SZ=ae({batchNormalization_:function(t,e,n,r,a,o){return r===void 0&&(r=.001),Pb(),tg(t,e,n,o,a,r)}}),x5=ae({batchNorm_:tg}),_Z=ae({batchNorm2d_:v5}),CZ=ae({batchNorm3d_:y5}),EZ=ae({batchNorm4d_:b5}),Ib=ae({logicalAnd_:function(t,e){var n=Z(t,"a","logicalAnd","bool"),r=Z(e,"b","logicalAnd","bool");return Xt(n.shape,r.shape),se.runKernelFunc(function(a){return a.logicalAnd(n,r)},{a:n,b:r},null,"LogicalAnd")}}),TZ=ae({logicalNot_:function(t){var e=Z(t,"x","logicalNot","bool");return se.runKernelFunc(function(n){return n.logicalNot(e)},{$x:e})}}),w5=ae({logicalOr_:function(t,e){var n=Z(t,"a","logicalOr","bool"),r=Z(e,"b","logicalOr","bool");return Xt(n.shape,r.shape),se.runKernelFunc(function(a){return a.logicalOr(n,r)},{$a:n,$b:r})}}),RZ=ae({logicalXor_:function(t,e){var n=Z(t,"a","logicalXor","bool"),r=Z(e,"b","logicalXor","bool");return Xt(n.shape,r.shape),w5(t,e).logicalAnd(Ib(t,e).logicalNot())}}),Bc=ae({where_:function(t,e,n){var r=Z(e,"a","where"),a=Z(n,"b","where"),o=Z(t,"condition","where","bool");return vn(r.shape,a.shape,"Error in where: "),o.rank===1?ee(o.shape[0]===r.shape[0],function(){return"The first dimension of `a` must match the size of `condition`."}):vn(o.shape,a.shape,"Error in where: "),se.runKernelFunc(function(i,s){var u=i.select(o,r,a);return s([o]),u},{$condition:o,$a:r,$b:a},function(i,s){var u=s[0];return{$condition:function(){return rn(u).toFloat()},$a:function(){return i.mul(u.cast(i.dtype))},$b:function(){return i.mul(u.logicalNot().cast(i.dtype))}}})}}),S5=function(t){return Je(this,void 0,void 0,function(){var e,n,r;return et(this,function(a){switch(a.label){case 0:return[4,(e=Z(t,"condition","whereAsync","bool")).data()];case 1:return n=a.sent(),r=E_(e.shape,n),t!==e&&e.dispose(),[2,r]}})})},Wt=ae({add_:function(t,e){var n,r=Z(t,"a","add"),a=Z(e,"b","add");n=Xn(r,a),r=n[0],a=n[1];var o=Xt(r.shape,a.shape);return se.runKernelFunc(function(i){return i.add(r,a)},{a:r,b:a},function(i){return{a:function(){var s=i,u=Ar(r.shape,o);return u.length>0&&(s=s.sum(u)),s.reshape(r.shape)},b:function(){var s=i,u=Ar(a.shape,o);return u.length>0&&(s=s.sum(u)),s.reshape(a.shape)}}},"Add")}}),AZ=ae({addN_:function(t){ee(Array.isArray(t),function(){return"The argument passed to tf.addN() must be a list of tensors"}),ee(t.length>=1,function(){return"Must pass at least one tensor to tf.addN(), but got "+t.length});var e=t.map(function(a,o){return Z(a,"tensors"+o,"addN")}),n=e[0];e.forEach(function(a){if(a.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),e.forEach(function(a){if(!Fr(a.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});var r=e;return se.runKernelFunc(function(a){return a.addN(e)},r,function(a){var o={};return e.forEach(function(i,s){o[s]=function(){return a.clone()}}),o},"AddN")}}),kZ=ae({addStrict_:function(t,e){var n=Z(t,"a","addStrict"),r=Z(e,"b","addStrict");return vn(n.shape,r.shape,"Error in addStrict: "),n.add(r)}}),NZ=ae({atan2_:function(t,e){var n,r=Z(t,"a","atan2"),a=Z(e,"b","atan2");n=Xn(r,a),r=n[0],a=n[1];var o=Xt(r.shape,a.shape);return se.runKernelFunc(function(i,s){var u=i.atan2(r,a);return s([r,a]),u},{$a:r,$b:a},function(i,s){var u=s[0],c=s[1];return{$a:function(){var f=Wt(u.square(),c.square()),h=i.mul(c.div(f)),m=Ar(u.shape,o);return m.length>0&&(h=h.sum(m)),h.reshape(u.shape)},$b:function(){var f=Wt(u.square(),c.square()),h=Dy(i.mul(u.div(f))),m=Ar(c.shape,o);return m.length>0&&(h=h.sum(m)),h.reshape(c.shape)}}})}}),li=ae({div_:function(t,e){var n,r=Z(t,"a","div"),a=Z(e,"b","div");if(n=Xn(r,a),r=n[0],a=n[1],r.dtype==="int32"&&a.dtype==="int32")return _5(r,a);var o=Xt(r.shape,a.shape);return se.runKernelFunc(function(i,s){var u=i.realDivide(r,a);return s([r,a]),u},{a:r,b:a},function(i,s){var u=s[0],c=s[1];return{a:function(){var f=i.div(c.toFloat()),h=Ar(u.shape,o);return h.length>0?f.sum(h).reshape(u.shape):f},b:function(){var f=i.mul(u.toFloat()),h=Ar(c.shape,o);h.length>0&&(f=f.sum(h).reshape(c.shape));var m=c.square();return f.div(m.toFloat()).neg()}}},"Div")}}),OZ=ae({divNoNan_:function(t,e){var n,r=Z(t,"a","div"),a=Z(e,"b","div");r=(n=Xn(r,a))[0],a=n[1];var o=li(r,a),i=rn(o),s=a.equal(i);return Bc(s,i,o)}}),DZ=ae({divStrict_:function(t,e){var n=Z(t,"a","div"),r=Z(e,"b","div");return vn(n.shape,r.shape,"Error in divideStrict: "),n.div(r)}}),_5=ae({floorDiv_:function(t,e){var n,r=Z(t,"a","floorDiv"),a=Z(e,"b","floorDiv");n=Xn(r,a),r=n[0],a=n[1];var o=Xt(r.shape,a.shape);return se.runKernelFunc(function(i,s){var u=i.floorDiv(r,a);return s([r,a]),u},{a:r,b:a},function(i,s){var u=s[0],c=s[1];return{a:function(){var f=i.div(c.toFloat()),h=Ar(u.shape,o);return h.length>0?f.sum(h).reshape(u.shape):f},b:function(){var f=i.mul(u.toFloat()),h=Ar(c.shape,o);h.length>0&&(f=f.sum(h).reshape(c.shape));var m=c.square();return f.div(m.toFloat()).neg()}}},"FloorDiv")}}),N_=ae({maximum_:function(t,e){var n,r=Z(t,"a","maximum"),a=Z(e,"b","maximum");return n=Xn(r,a),r=n[0],a=n[1],r.dtype==="bool"&&(r=r.toInt(),a=a.toInt()),Xt(r.shape,a.shape),se.runKernelFunc(function(o,i){var s=o.maximum(r,a);return i([r,a]),s},{a:r,b:a},function(o,i){var s=i[0],u=i[1];return{a:function(){return o.mul(s.greaterEqual(u).toFloat())},b:function(){return o.mul(s.less(u).toFloat())}}},"Maximum")}}),MZ=ae({maximumStrict_:function(t,e){var n=Z(t,"a","maximumStrict"),r=Z(e,"b","maximumStrict");return vn(n.shape,r.shape,"Error in maximumStrict: "),n.maximum(r)}}),C5=ae({minimum_:function(t,e){var n,r=Z(t,"a","minimum"),a=Z(e,"b","minimum");return n=Xn(r,a),r=n[0],a=n[1],r.dtype==="bool"&&(r=r.toInt(),a=a.toInt()),Xt(r.shape,a.shape),se.runKernelFunc(function(o,i){var s=o.minimum(r,a);return i([r,a]),s},{a:r,b:a},function(o,i){var s=i[0],u=i[1];return{a:function(){return o.mul(s.lessEqual(u).toFloat())},b:function(){return o.mul(s.greater(u).toFloat())}}},"Minimum")}}),PZ=ae({minimumStrict_:function(t,e){var n=Z(t,"a","minimumStrict"),r=Z(e,"b","minimumStrict");return vn(n.shape,r.shape,"Error in minimumStrict: "),n.minimum(r)}}),IZ=ae({mod_:function(t,e){var n,r=Z(t,"a","mod"),a=Z(e,"b","mod");n=Xn(r,a),r=n[0],a=n[1];var o=Xt(r.shape,a.shape);return se.runKernelFunc(function(i,s){var u=i.mod(r,a);return s([r,a]),u},{$a:r,$b:a},function(i,s){var u=s[0],c=s[1];return{$a:function(){var f=Ar(u.shape,o);return f.length>0?i.sum(f).reshape(u.shape):i},$b:function(){var f=i.mul(u.div(c).floor().neg()),h=Ar(c.shape,o);return h.length>0?f.sum(h).reshape(c.shape):f}}})}}),LZ=ae({modStrict_:function(t,e){var n=Z(t,"a","modStrict"),r=Z(e,"b","modStrict");return vn(n.shape,r.shape,"Error in modStrict: "),n.mod(r)}}),ba=ae({mul_:function(t,e){var n,r=Z(t,"a","mul"),a=Z(e,"b","mul");n=Xn(r,a),r=n[0],a=n[1];var o=Xt(r.shape,a.shape);return se.runKernelFunc(function(i,s){var u=i.multiply(r,a);return s([r,a]),u},{a:r,b:a},function(i,s){var u=s[0],c=s[1];return{a:function(){var f=i.mul(c.toFloat()),h=Ar(u.shape,o);return h.length>0?f.sum(h).reshape(u.shape):f},b:function(){var f=i.mul(u.toFloat()),h=Ar(c.shape,o);return h.length>0?f.sum(h).reshape(c.shape):f}}},"Mul")}}),FZ=ae({mulStrict_:function(t,e){var n=Z(t,"a","mul"),r=Z(e,"b","mul");return vn(n.shape,r.shape,"Error in multiplyStrict: "),n.mul(r)}}),My=ae({pow_:function(t,e){var n,r=Z(t,"base","pow"),a=Z(e,"exp","pow");n=Xn(r,a),r=n[0],a=n[1];var o=Xt(r.shape,a.shape),i=[r,a];return se.runKernelFunc(function(s,u){var c=s.pow(r,a);return u([r,a,c]),c},{a:r,b:a},function(s,u){var c=u[0],f=u[1],h=u[2];return{a:function(){var m=f.toFloat(),g=s.mul(m.mul(c.pow(m.sub(He(1))))),y=Ar(c.shape,o);return y.length>0&&(g=g.sum(y)),g.reshape(c.shape)},b:function(){var m=c.greater(0),g=c.log().where(m,rn(c)),y=s.mul(h.mul(g)),b=Ar(f.shape,o);return b.length>0&&(y=y.sum(b)),y.reshape(f.shape)}}},"Pow",{},i,[!0])}}),BZ=ae({powStrict_:function(t,e){return vn(t.shape,e.shape,"Error in powStrict: "),t.pow(e)}}),zZ=ae({squaredDifferenceStrict_:function(t,e){var n=Z(t,"a","squaredDifferenceStrict"),r=Z(e,"b","squaredDifferenceStrict");return vn(n.shape,r.shape,"Error in squaredDifferenceStrict: "),n.squaredDifference(r)}}),kr=ae({sub_:function(t,e){var n,r=Z(t,"a","sub"),a=Z(e,"b","sub");n=Xn(r,a),r=n[0],a=n[1];var o=Xt(r.shape,a.shape);return se.runKernelFunc(function(i){return i.subtract(r,a)},{a:r,b:a},function(i){return{a:function(){var s=i,u=Ar(r.shape,o);return u.length>0&&(s=s.sum(u)),s.reshape(r.shape)},b:function(){var s=i,u=Ar(a.shape,o);return u.length>0&&(s=s.sum(u)),s.neg().reshape(a.shape)}}},"Sub")}}),$Z=ae({subStrict_:function(t,e){var n=Z(t,"a","subStrict"),r=Z(e,"b","subStrict");return vn(n.shape,r.shape,"Error in subStrict: "),n.sub(r)}}),E5=ae({equal_:function(t,e){var n,r=Z(t,"a","equal"),a=Z(e,"b","equal");return n=Xn(r,a),r=n[0],a=n[1],Xt(r.shape,a.shape),se.runKernelFunc(function(o){return o.equal(r,a)},{$a:r,$b:a})}}),UZ=ae({equalStrict_:function(t,e){var n=Z(t,"a","equalStrict"),r=Z(e,"b","equalStrict");return vn(n.shape,r.shape,"Error in equalStrict: "),n.equal(r)}}),VZ=ae({greater_:function(t,e){var n,r=Z(t,"a","greater"),a=Z(e,"b","greater");return n=Xn(r,a),r=n[0],a=n[1],Xt(r.shape,a.shape),se.runKernelFunc(function(o){return o.greater(r,a)},{a:r,b:a},null,"Greater")}}),T5=ae({greaterEqual_:function(t,e){var n,r=Z(t,"a","greaterEqual"),a=Z(e,"b","greaterEqual");return n=Xn(r,a),r=n[0],a=n[1],Xt(r.shape,a.shape),se.runKernelFunc(function(o,i){var s=o.greaterEqual(r,a);return i([r,a]),s},{a:r,b:a},function(o,i){var s=i[0],u=i[1];return{a:function(){return rn(s)},b:function(){return rn(u)}}},"GreaterEqual")}}),jZ=ae({greaterEqualStrict_:function(t,e){var n=Z(t,"a","greaterEqualStrict"),r=Z(e,"b","greaterEqualStrict");return vn(n.shape,r.shape,"Error in greaterEqualStrict: "),n.greaterEqual(r)}}),WZ=ae({greaterStrict_:function(t,e){var n=Z(t,"a","greaterStrict"),r=Z(e,"b","greaterStrict");return vn(n.shape,r.shape,"Error in greaterStrict: "),n.greater(r)}}),HZ=ae({less_:function(t,e){var n,r=Z(t,"a","less"),a=Z(e,"b","less");return n=Xn(r,a),r=n[0],a=n[1],Xt(r.shape,a.shape),se.runKernelFunc(function(o){return o.less(r,a)},{a:r,b:a},null,"Less")}}),qZ=ae({lessEqual_:function(t,e){var n,r=Z(t,"a","lessEqual"),a=Z(e,"b","lessEqual");return n=Xn(r,a),r=n[0],a=n[1],Xt(r.shape,a.shape),se.runKernelFunc(function(o,i){var s=o.lessEqual(r,a);return i([r,a]),s},{a:r,b:a},null,"LessEqual")}}),GZ=ae({lessEqualStrict_:function(t,e){var n=Z(t,"a","lessEqualStrict"),r=Z(e,"b","lessEqualStrict");return vn(n.shape,r.shape,"Error in lessEqualStrict: "),n.lessEqual(r)}}),KZ=ae({lessStrict_:function(t,e){var n=Z(t,"a","lessStrict"),r=Z(e,"b","lessStrict");return vn(n.shape,r.shape,"Error in lessStrict: "),n.less(r)}}),YZ=ae({notEqual_:function(t,e){var n,r=Z(t,"a","notEqual"),a=Z(e,"b","notEqual");return n=Xn(r,a),r=n[0],a=n[1],Xt(r.shape,a.shape),se.runKernelFunc(function(o){return o.notEqual(r,a)},{a:r,b:a},null,"NotEqual")}}),XZ=ae({notEqualStrict_:function(t,e){var n=Z(t,"a","notEqualStrict"),r=Z(e,"b","notEqualStrict");return vn(n.shape,r.shape,"Error in notEqualStrict: "),n.notEqual(r)}});function oA(t,e){for(var n=[],r=t;r<e;++r)n.push(r);return n}function iA(t){for(var e=[],n=0;n<t.length;++n)for(var r=0;r<t[n].length;++r)e.push(t[n][r]);return e}var O_=ae({gather_:function(t,e,n){n===void 0&&(n=0);var r=Z(t,"x","gather"),a=Z(e,"indices","gather","int32");n=Nr(n,r.shape)[0];var o=function(i,s,u){for(var c=i.shape[u],f=[],h=1,m=1,g=0;g<u;g++)f.push(i.shape[g]),h*=i.shape[g];for(g=0;g<s.rank;g++)f.push(s.shape[g]);for(g=u+1;g<i.rank;g++)f.push(i.shape[g]),m*=i.shape[g];return{batchSize:h,sliceSize:m,dimSize:c,outputShape:f}}(r,a,n);return se.runKernelFunc(function(i,s){var u=i.gather(r,a.flatten(),n);return s([a]),u},{x:r,indices:a},function(i,s){var u=s[0];return{x:function(){var c=r.shape,f=u.size,h=c.slice(0,n),m=h.length,g=c.slice(n,c.length).slice(1),y=g.length,b=oA(0,m),x=oA(m+1,m+1+y),S=iA([h,[f],g]),R=i.reshape(S),_=u.reshape([f]),T=iA([[m],b,x]),A=R.transpose(T),D=R5(A,_,r.shape[n]),N=v_(T);return D=D.transpose(N)},indices:function(){return u}}},"Gather",{axis:n}).reshape(o.outputShape)}}),R5=ae({unsortedSegmentSum_:function(t,e,n){var r=Z(t,"x","unsortedSegmentSum"),a=Z(e,"segmentIds","unsortedSegmentSum","int32");return ee(cr(n),function(){return"numSegments must be of dtype int"}),se.runKernelFunc(function(o,i){var s=o.unsortedSegmentSum(r,a,n);return i([a]),s},{$x:r},function(o,i){var s=i[0];return{$x:function(){return function(u,c){for(var f=N_(c,rn(c)),h=O_(u,f),m=T5(c,He(0,"int32")),g=h.rank-m.rank,y=0;y<g;++y)m=Po(m,y+1);m=Ib(m,eh(h.shape,"bool"));var b=rn(h);return Bc(m,h,b)}(o,s)}}})}}),QZ=function(t,e,n){return Je(this,void 0,void 0,function(){var r,a,o,i,s,u,c,f,h,m,g,y,b;return et(this,function(x){switch(x.label){case 0:for(r=Z(t,"tensor","boolMask"),a=Z(e,"mask","boolMask","bool"),o=n??0,i=a.rank,s=r.shape,ee(i>0,function(){return"mask cannot be scalar"}),vn(s.slice(o,o+i),a.shape,"mask's shape must match the first K dimensions of tensor's shape,"),u=1,c=o;c<o+i;c++)u*=s[c];return f=s.slice(0,o).concat([u],s.slice(o+i)),h=r.reshape(f),m=a.reshape([-1]),[4,S5(m)];case 1:return g=x.sent(),y=g.squeeze([1]),b=O_(h,y,o),t!==r&&r.dispose(),e!==a&&a.dispose(),y.dispose(),h.dispose(),m.dispose(),g.dispose(),[2,b]}})})};function A5(t,e,n,r,a,o,i){o===void 0&&(o="NHWC"),ee(t.length===e.rank,function(){return"Length of inShape ("+t.length+") and rank of dy ("+e.rank+") must match"});var s=t,u=e,c=!1;e.rank===3&&(c=!0,u=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]),s=[1,t[0],t[1],t[2]]),ee(s.length===4,function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+s.length+"."}),ee(u.rank===4,function(){return"Error in conv2dDerInput: dy must be rank 4, but got rank "+u.rank}),ee(n.rank===4,function(){return"Error in conv2dDerInput: filter must be rank 4, but got rank "+n.rank});var f=o==="NHWC"?s[3]:s[1],h=o==="NHWC"?u.shape[3]:u.shape[1];ee(f===n.shape[2],function(){return"Error in conv2dDerInput: depth of input ("+f+") must match input depth for filter "+n.shape[2]+"."}),ee(h===n.shape[3],function(){return"Error in conv2dDerInput: depth of output ("+h+") must match output depth for filter "+n.shape[3]+"."}),i!=null&&ee(cr(a),function(){return"Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+a+"."});var m=S_(o),g=Wc(s,n.shape,r,1,a,i,!1,m),y=se.runKernelFunc(function(b,x){var S=b.conv2dDerInput(u,n,g);return x([n,u]),S},{dy4D:u,filter:n},function(b,x){var S=x[0],R=x[1];return{dy4D:function(){return Vo(b,S,r,a,o,1,i)},filter:function(){return D_(b,R,S.shape,r,a,o,i)}}});return c?y.as3D(y.shape[1],y.shape[2],y.shape[3]):y}function g2(t){var e=function(o){return typeof o=="number"?[o,o,o]:o.length===2?[o[0],o[1],1]:o}(t),n=e[0],r=e[1],a=e[2];return n===1&&r===1&&a===1}function k5(t,e,n,r,a){ee(t.length===e.rank,function(){return"Length of inShape ("+t.length+") and rank of dy ("+e.rank+") must match"});var o=t,i=e,s=!1;e.rank===4&&(s=!0,i=e.as5D(1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]),o=[1,t[0],t[1],t[2],t[3]]);var u=o[4],c=i.shape[4];ee(o.length===5,function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+o.length+"."}),ee(i.rank===5,function(){return"Error in conv3dDerInput: dy must be rank 5, but got rank "+i.rank}),ee(n.rank===5,function(){return"Error in conv3dDerInput: filter must be rank 5, but got rank "+n.rank}),ee(u===n.shape[3],function(){return"Error in conv3dDerInput: depth of input ("+u+") must match input depth for filter "+n.shape[3]+"."}),ee(c===n.shape[4],function(){return"Error in conv3dDerInput: depth of output ("+c+") must match output depth for filter "+n.shape[4]+"."});var f=Ny(o,n.shape,r,1,a),h=se.runKernelFunc(function(m){return m.conv3dDerInput(i,n,f)},{dy5D:i});return s?h.as4D(h.shape[1],h.shape[2],h.shape[3],h.shape[4]):h}var ZZ=ae({conv1d_:function(t,e,n,r,a,o,i){a===void 0&&(a="NWC"),o===void 0&&(o=1);var s=Z(t,"x","conv1d"),u=Z(e,"filter","conv1d"),c=s,f=!1;s.rank===2&&(f=!0,c=s.as3D(1,s.shape[0],s.shape[1])),ee(c.rank===3,function(){return"Error in conv1d: input must be rank 3, but got rank "+c.rank+"."}),ee(u.rank===3,function(){return"Error in conv1d: filter must be rank 3, but got rank "+u.rank+"."}),i!=null&&ee(cr(r),function(){return"Error in conv1d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+r+"."}),ee(c.shape[2]===u.shape[1],function(){return"Error in conv1d: depth of input ("+c.shape[2]+") must match input depth for filter "+u.shape[1]+"."}),ee(Qa(n,o),function(){return"Error in conv1D: Either stride or dilation must be 1. Got stride "+n+" and dilation '"+o+"'"}),ee(a==="NWC",function(){return"Error in conv1d: got dataFormat of "+a+" but only NWC is currently supported."});var h=u.as4D(1,u.shape[0],u.shape[1],u.shape[2]),m=c.as4D(c.shape[0],1,c.shape[1],c.shape[2]),g=Vo(m,h,[1,n],r,"NHWC",[1,o],i);return f?g.as2D(g.shape[2],g.shape[3]):g.as3D(g.shape[0],g.shape[2],g.shape[3])}}),Vo=ae({conv2d_:function(t,e,n,r,a,o,i){a===void 0&&(a="NHWC"),o===void 0&&(o=[1,1]);var s=Z(t,"x","conv2d"),u=Z(e,"filter","conv2d"),c=s,f=!1;s.rank===3&&(f=!0,c=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),ee(c.rank===4,function(){return"Error in conv2d: input must be rank 4, but got rank "+c.rank+"."}),ee(u.rank===4,function(){return"Error in conv2d: filter must be rank 4, but got rank "+u.rank+"."}),i!=null&&ee(cr(r),function(){return"Error in conv2d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+r+"."});var h=a==="NHWC"?c.shape[3]:c.shape[1];ee(h===u.shape[2],function(){return"Error in conv2d: depth of input ("+h+") must match input depth for filter "+u.shape[2]+"."}),ee(Qa(n,o),function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+o+"'"});var m=S_(a),g=Wc(c.shape,u.shape,n,o,r,i,!1,m),y=[u,c],b=se.runKernelFunc(function(x,S){var R=x.conv2d(c,u,g);return S([u,c]),R},{x:c,filter:u},function(x,S){var R=S,_=R[0],T=R[1];return ee(Uf(o),function(){return"Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+o+"'"}),{x:function(){return N5(T.shape,x,_,n,r,a)},filter:function(){return D_(T,x,_.shape,n,r,a)}}},"Conv2D",g,y);return f?b.as3D(b.shape[1],b.shape[2],b.shape[3]):b}}),JZ=ae({conv3d_:function(t,e,n,r,a,o){a===void 0&&(a="NDHWC"),o===void 0&&(o=[1,1,1]);var i=Z(t,"x","conv3d"),s=Z(e,"filter","conv3d"),u=i,c=!1;i.rank===4&&(c=!0,u=i.as5D(1,i.shape[0],i.shape[1],i.shape[2],i.shape[3])),ee(u.rank===5,function(){return"Error in conv3d: input must be rank 5, but got rank "+u.rank+"."}),ee(s.rank===5,function(){return"Error in conv3d: filter must be rank 5, but got rank "+s.rank+"."}),ee(u.shape[4]===s.shape[3],function(){return"Error in conv3d: depth of input ("+u.shape[4]+") must match input depth for filter "+s.shape[3]+"."}),ee(function(m,g){return g2(m)||g2(g)}(n,o),function(){return"Error in conv3D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+o+"'"}),ee(a==="NDHWC",function(){return"Error in conv3d: got dataFormat of "+a+" but only NDHWC is currently supported."});var f=Ny(u.shape,s.shape,n,o,r),h=se.runKernelFunc(function(m,g){var y=m.conv3d(u,s,f);return g([u,s]),y},{x:u,$filter:s},function(m,g){ee(g2(o),function(){return"Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+o+"'"});var y=g[0],b=g[1];return{x:function(){return k5(y.shape,m,b,n,r)},$filter:function(){return function(x,S,R,_,T){var A=x;x.rank===4&&(A=x.as5D(1,x.shape[0],x.shape[1],x.shape[2],x.shape[3]));var D=S;D.rank===4&&(D=S.as5D(1,S.shape[0],S.shape[1],S.shape[2],S.shape[3])),ee(A.rank===5,function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape "+A.shape+"."}),ee(D.rank===5,function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape "+D.shape+"."}),ee(R.length===5,function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got "+R+"."}),ee(A.shape[4]===R[3],function(){return"Error in conv3dDerFilter: depth of input "+A.shape[4]+") must match input depth in filter ("+R[3]+"."}),ee(D.shape[4]===R[4],function(){return"Error in conv3dDerFilter: depth of dy ("+D.shape[4]+") must match output depth for filter ("+R[4]+")."});var N=Ny(A.shape,R,_,1,T);return se.runKernelFunc(function(M){return M.conv3dDerFilter(A,D,N)},{x5D:A,dy5D:D})}(y,m,b.shape,n,r)}}});return c?h.as4D(h.shape[1],h.shape[2],h.shape[3],h.shape[4]):h}}),D_=ae({conv2dDerFilter_:function(t,e,n,r,a,o,i){o===void 0&&(o="NHWC");var s=t;t.rank===3&&(s=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var u=e;u.rank===3&&(u=e.as4D(1,e.shape[0],e.shape[1],e.shape[2])),ee(s.rank===4,function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+s.shape+"."}),ee(u.rank===4,function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+u.shape+"."}),ee(n.length===4,function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+n+"."});var c=o==="NHWC"?s.shape[3]:s.shape[1],f=o==="NHWC"?u.shape[3]:u.shape[1];ee(c===n[2],function(){return"Error in conv2dDerFilter: depth of input "+c+") must match input depth in filter ("+n[2]+"."}),ee(f===n[3],function(){return"Error in conv2dDerFilter: depth of dy ("+f+") must match output depth for filter ("+n[3]+")."}),i!=null&&ee(cr(a),function(){return"Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+a+"."});var h=S_(o),m=Wc(s.shape,n,r,1,a,i,!1,h);return se.runKernelFunc(function(g){return g.conv2dDerFilter(s,u,m)},{x4D:s,dy4D:u})}}),N5=ae({conv2dDerInput_:A5}),Lb=ae({depthwiseConv2d_:function(t,e,n,r,a,o,i){o===void 0&&(o=[1,1]);var s=Z(t,"x","depthwiseConv2d"),u=Z(e,"filter","depthwiseConv2d"),c=s,f=!1;s.rank===3&&(f=!0,c=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),ee(c.rank===4,function(){return"Error in depthwiseConv2d: input must be rank 4, but got rank "+c.rank+"."}),ee(u.rank===4,function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+u.rank+"."}),ee(c.shape[3]===u.shape[2],function(){return"Error in depthwiseConv2d: number of input channels ("+c.shape[3]+") must match the inChannels dimension in filter "+u.shape[2]+"."}),o==null&&(o=[1,1]),ee(Qa(n,o),function(){return"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+o+"'"}),i!=null&&ee(cr(r),function(){return"Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+r+"."});var h=Wc(c.shape,u.shape,n,o,r,i,!0),m=[c,u],g=se.runKernelFunc(function(y,b){var x=y.depthwiseConv2D(c,u,h);return b([c,u]),x},{x:c,filter:u},function(y,b){ee(Uf(o),function(){return"Error in gradient of depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+o+"'"});var x=b[0],S=b[1];return{x:function(){return O5(x.shape,y,S,h)},filter:function(){return D5(x,y,S.shape,h)}}},"DepthwiseConv2dNative",h,m);return f?g.as3D(g.shape[1],g.shape[2],g.shape[3]):g}}),O5=ae({depthwiseConv2dDerInput_:function(t,e,n,r){var a=e,o=!1;e.rank===3&&(o=!0,a=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var i=se.runKernelFunc(function(s){return s.depthwiseConv2DDerInput(a,n,r)},{dy4D:a});return o?i.as3D(i.shape[1],i.shape[2],i.shape[3]):i}}),D5=ae({depthwiseConv2dDerFilter_:function(t,e,n,r){var a=t;t.rank===3&&(a=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var o=e;return o.rank===3&&(o=e.as4D(1,e.shape[0],e.shape[1],e.shape[2])),se.runKernelFunc(function(i){return i.depthwiseConv2DDerFilter(a,o,r)},{x4D:a,dy4D:o})}}),M_=ae({separableConv2d_:function(t,e,n,r,a,o,i){o===void 0&&(o=[1,1]),i===void 0&&(i="NHWC");var s=Z(t,"x","separableConv2d"),u=Z(e,"depthwiseFilter","separableConv2d"),c=Z(n,"pointwiseFilter","separableConv2d"),f=s,h=!1;if(s.rank===3&&(h=!0,f=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),i==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");ee(f.rank===4,function(){return"Error in separableConv2d: input must be rank 4, but got rank "+f.rank+"."}),ee(u.rank===4,function(){return"Error in separableConv2d: depthwise filter must be rank 4, but got rank "+u.rank+"."}),ee(c.rank===4,function(){return"Error in separableConv2d: pointwise filter must be rank 4, but got rank "+u.rank+"."}),ee(c.shape[0]===1,function(){return"Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got "+c.shape[0]+"."}),ee(c.shape[1]===1,function(){return"Error in separableConv2d: the second dimension of pointwise filter must be 1, but got "+c.shape[1]+"."});var m=u.shape[2],g=u.shape[3];ee(c.shape[2]===m*g,function(){return"Error in separableConv2d: the third dimension of pointwise filter must be "+m*g+", but got "+c.shape[2]+"."});var y=Lb(f,u,r,a,i,o),b=Vo(y,c,1,"valid",i);return h?b.as3D(b.shape[1],b.shape[2],b.shape[3]):b}}),eJ=ae({conv2dTranspose_:function(t,e,n,r,a,o){return A5(n,Z(t,"x","conv2dTranspose"),Z(e,"filter","conv2dTranspose"),r,a,"NHWC",o)}}),tJ=ae({conv3dTranspose_:function(t,e,n,r,a){return k5(n,Z(t,"x","conv3dTranspose"),Z(e,"filter","conv3dTranspose"),r,a)}}),Fb=ae({matMul_:function(t,e,n,r){var a;n===void 0&&(n=!1),r===void 0&&(r=!1);var o=Z(t,"a","matMul"),i=Z(e,"b","matMul");a=Xn(o,i),o=a[0],i=a[1];var s=n?o.shape[o.rank-2]:o.shape[o.rank-1],u=r?i.shape[i.rank-1]:i.shape[i.rank-2],c=n?o.shape[o.rank-1]:o.shape[o.rank-2],f=r?i.shape[i.rank-2]:i.shape[i.rank-1],h=o.shape.slice(0,-2),m=i.shape.slice(0,-2),g=nt(h),y=nt(m);ee(o.rank>=2&&i.rank>=2&&o.rank===i.rank,function(){return"Error in matMul: inputs must have the same rank of at least 2, got ranks "+o.rank+" and "+i.rank+"."}),ee(Fr(h,m),function(){return"Error in matMul: outer dimensions ("+h+") and ("+m+") of Tensors with shapes "+o.shape+" and "+i.shape+" must match."}),ee(s===u,function(){return"Error in matMul: inner shapes ("+s+") and ("+u+") of Tensors with shapes "+o.shape+" and "+i.shape+" and transposeA="+n+" and transposeB="+r+" must match."});var b=o.shape.slice(0,-2).concat([c,f]),x=n?o.as3D(g,s,c):o.as3D(g,c,s),S=r?i.as3D(y,f,u):i.as3D(y,u,f),R={transposeA:n,transposeB:r};return se.runKernelFunc(function(_,T){var A=_.batchMatMul(x,S,n,r);return T([x,S]),A},{a:x,b:S},function(_,T){var A=T,D=A[0],N=A[1];return n||r?!n&&r?{a:function(){return _.matMul(N,!1,!1)},b:function(){return _.matMul(D,!0,!1)}}:n&&!r?{a:function(){return N.matMul(_,!1,!0)},b:function(){return D.matMul(_,!1,!1)}}:{a:function(){return N.matMul(_,!0,!0)},b:function(){return _.matMul(D,!0,!0)}}:{a:function(){return _.matMul(N,!1,!0)},b:function(){return D.matMul(_,!0,!1)}}},"BatchMatMul",R).reshape(b)}}),nJ=ae({dot_:function(t,e){var n=Z(t,"t1","dot"),r=Z(e,"t2","dot");ee(!(n.rank!==1&&n.rank!==2||r.rank!==1&&r.rank!==2),function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+n.rank+" and "+r.rank+"."});var a=n.rank===1?n.size:n.shape[1],o=r.rank===1?r.size:r.shape[0];return ee(a===o,function(){return"Error in dot: inner dimensions of inputs must match, but got "+a+" and "+o+"."}),n.rank===1&&r.rank===1?n.as2D(1,-1).matMul(r.as2D(-1,1)).asScalar():n.rank===1&&r.rank===2?n.as2D(1,-1).matMul(r.as2D(r.shape[0],r.shape[1])).as1D():n.rank===2&&r.rank===1?n.matMul(r.as2D(-1,1)).as1D():n.matMul(r.as2D(r.shape[0],r.shape[1]))}}),rJ=ae({outerProduct_:function(t,e){var n=Z(t,"v1","outerProduct"),r=Z(e,"v2","outerProduct");return ee(n.rank===1&&r.rank===1,function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+n.rank+" and "+r.rank+"."}),n.as2D(-1,1).matMul(r.as2D(1,-1))}}),ng=ae({reverse_:function(t,e){var n=Z(t,"x","reverse");if(n.rank===0)return n.clone();var r=Nr(e,n.shape);return se.runKernelFunc(function(a){return a.reverse(n,r)},{$x:n},function(a){return{$x:function(){return a.reverse(r)}}}).reshapeAs(n)}}),aJ=ae({reverse1d_:function(t){var e=Z(t,"x","reverse");return ee(e.rank===1,function(){return"Error in reverse1D: x must be rank 1 but got rank "+e.rank+"."}),ng(e,0)}}),oJ=ae({reverse2d_:function(t,e){var n=Z(t,"x","reverse");return ee(n.rank===2,function(){return"Error in reverse2D: x must be rank 2 but got rank "+n.rank+"."}),ng(n,e)}}),iJ=ae({reverse3d_:function(t,e){var n=Z(t,"x","reverse");return ee(n.rank===3,function(){return"Error in reverse3D: x must be rank 3 but got rank "+n.rank+"."}),ng(n,e)}}),sJ=ae({reverse4d_:function(t,e){var n=Z(t,"x","reverse");return ee(n.rank===4,function(){return"Error in reverse4D: x must be rank 4 but got rank "+n.rank+"."}),ng(n,e)}});function M5(t,e,n,r,a,o){var i=Z(t,"x","maxPool"),s=i,u=!1;i.rank===3&&(u=!0,s=i.as4D(1,i.shape[0],i.shape[1],i.shape[2])),ee(s.rank===4,function(){return"Error in maxPool: input must be rank 4 but got rank "+s.rank+"."}),ee(Qa(n,r),function(){return"Error in maxPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"}),o!=null&&ee(cr(a),function(){return"Error in maxPool: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+a+"."});var c=ym(s.shape,e,n,r,a,o);if(c.filterWidth===1&&c.filterHeight===1&&Fr(c.inShape,c.outShape))return i.clone();var f=[s],h=se.runKernelFunc(function(m,g){var y=m.maxPool(s,c);return g([s,y]),y},{x:s},function(m,g){var y=g[0],b=g[1];return{x:function(){return function(x,S,R,_,T,A,D,N){var M=Z(x,"dy","maxPoolBackprop"),P=Z(S,"input","maxPoolBackprop"),I=Z(R,"output","maxPoolBackprop");ee(P.rank===M.rank,function(){return"Rank of input ("+P.rank+") does not match rank of dy ("+M.rank+")"}),ee(Qa(T,A),function(){return"Error in maxPoolBackProp: Either strides or dilations must be 1. Got strides "+T+" and dilations '"+A+"'"}),ee(M.rank===4,function(){return"Error in maxPoolBackprop: dy must be rank 4 but got rank "+M.rank+"."}),ee(P.rank===4,function(){return"Error in maxPoolBackprop: input must be rank 4 but got rank "+P.rank+"."});var $=ym(P.shape,_,T,A,D,N);return se.runKernelFunc(function(z){return z.maxPoolBackprop(M,P,I,$)},{$dy:M,$input:P})}(m,y,b,e,n,r,a)}}},"MaxPool",c,f);return u?h.as3D(h.shape[1],h.shape[2],h.shape[3]):h}function P5(t,e,n,r,a,o){var i=Z(t,"x","avgPool","float32");ee(Qa(n,r),function(){return"Error in avgPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"});var s=i,u=!1;i.rank===3&&(u=!0,s=i.as4D(1,i.shape[0],i.shape[1],i.shape[2])),ee(s.rank===4,function(){return"Error in avgPool: x must be rank 4 but got rank "+s.rank+"."}),o!=null&&ee(cr(a),function(){return"Error in avgPool: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+a+"."});var c=ym(s.shape,e,n,r,a,o);if(c.filterWidth===1&&c.filterHeight===1&&Fr(c.inShape,c.outShape))return i.clone();var f=se.runKernelFunc(function(h){return h.avgPool(s,c)},{x:s},function(h){return{x:function(){return function(m,g,y,b,x,S){var R=Z(m,"dy","avgPoolBackprop"),_=Z(g,"input","avgPoolBackprop");ee(_.rank===R.rank,function(){return"Rank of input ("+_.rank+") does not match rank of dy ("+R.rank+")"}),ee(Qa(b,x),function(){return"Error in avgPoolBackprop: Either strides or dilations must be 1. Got strides "+b+" and dilations '"+x+"'"});var T=_,A=R,D=!1;_.rank===3&&(D=!0,T=_.as4D(1,_.shape[0],_.shape[1],_.shape[2]),A=R.as4D(1,R.shape[0],R.shape[1],R.shape[2])),ee(A.rank===4,function(){return"Error in avgPoolBackprop: dy must be rank 4 but got rank "+A.rank+"."}),ee(T.rank===4,function(){return"Error in avgPoolBackprop: input must be rank 4 but got rank "+T.rank+"."});var N=ym(T.shape,y,b,x,S),M=se.runKernelFunc(function(P){return P.avgPoolBackprop(A,T,N)},{dy4D:A,input4D:T});return D?M.as3D(M.shape[1],M.shape[2],M.shape[3]):M}(h,s,e,n,r,a)}}},"AvgPool",c);return f=f.cast(i.dtype),u?f.as3D(f.shape[1],f.shape[2],f.shape[3]):f}var Lr=ae({maxPool_:function(t,e,n,r,a){return M5(t,e,n,1,r,a)}}),rg=ae({avgPool_:function(t,e,n,r,a){return P5(t,e,n,1,r,a)}}),lJ=ae({pool_:function(t,e,n,r,a,o){a==null&&(a=[1,1]),o==null&&(o=1),r===0&&(r="valid");var i=Z(t,"x","maxPool"),s=i,u=!1;i.rank===3&&(u=!0,s=i.as4D(1,i.shape[0],i.shape[1],i.shape[2])),ee(Qa(o,a),function(){return"Error in pool: Either strides or dilations must be 1. Got strides "+o+" and dilations '"+a+"'"});var c,f=ym(s.shape,e,o,a,r),h=[f.dilationHeight,f.dilationWidth];c=r==="same"?function(T,A){var D=T.map(function(P,I){return P+(P-1)*(A[I]-1)}).map(function(P){return P-1}),N=D.map(function(P){return Math.floor(P/2)}),M=D.map(function(P,I){return P-N[I]});return D.map(function(P,I){return[N[I],M[I]]})}([f.filterHeight,f.filterWidth],h):[[0,0],[0,0]];var m=h[0]===1&&h[1]===1,g=function(T,A,D){var N=D.map(function(V){return V[0]}),M=D.map(function(V){return V[1]}),P=T.concat(N,M),I=A.map(function(V,B){return(V-P[B]%V)%V}),$=M.map(function(V,B){return V+I[B]}),z=A.map(function(V,B){return[N[B],$[B]]}),G=A.map(function(V,B){return[0,I[B]]});return[z,G]}([f.inHeight,f.inWidth],h,c),y=g[0],b=g[1],x=m?r:"valid",S=m?s:$M(s,h,y),R=(n==="avg"?function(){return P5(S,e,o,1,x)}:function(){return M5(S,e,o,1,x)})(),_=m?R:FM(R,h,b);return u?_.as3D(_.shape[1],_.shape[2],_.shape[3]):_}}),uJ=ae({maxPool3d_:function(t,e,n,r,a,o,i){o===void 0&&(o="NDHWC");var s=Z(t,"x","maxPool3d"),u=s,c=!1;s.rank===4&&(c=!0,u=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),i==null&&(i=[1,1,1]),ee(u.rank===5,function(){return"Error in maxPool3d: x must be rank 5 but got rank "+u.rank+"."}),ee(o==="NDHWC",function(){return"Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of "+o}),ee(Qa(n,i),function(){return"Error in maxPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+i+"'"}),a!=null&&ee(cr(r),function(){return"Error in maxPool3d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."});var f=ky(u.shape,e,n,i,r,a,o),h=se.runKernelFunc(function(m,g){var y=m.maxPool3d(u,f);return g([u,y]),y},{x:u},function(m,g){var y=g[0],b=g[1];return{x:function(){return function(x,S,R,_,T,A,D,N){var M=Z(x,"dy","maxPool3dBackprop"),P=Z(S,"input","maxPool3dBackprop"),I=Z(R,"output","maxPool3dBackprop"),$=M,z=P,G=I,V=!1;P.rank===4&&(V=!0,$=M.as5D(1,M.shape[0],M.shape[1],M.shape[2],M.shape[3]),z=P.as5D(1,P.shape[0],P.shape[1],P.shape[2],P.shape[3]),G=I.as5D(1,I.shape[0],I.shape[1],I.shape[2],I.shape[3])),ee($.rank===5,function(){return"Error in maxPool3dBackprop: dy must be rank 5 but got rank "+$.rank+"."}),ee(z.rank===5,function(){return"Error in maxPool3dBackprop: input must be rank 5 but got rank "+z.rank+"."}),ee(G.rank===5,function(){return"Error in maxPool3dBackprop: output must be rank 5 but got rank "+G.rank+"."}),A==null&&(A=[1,1,1]),ee(Qa(T,A),function(){return"Error in maxPool3dBackprop: Either strides or dilations must be 1. Got strides "+T+" and dilations '"+A+"'"}),N!=null&&ee(cr(D),function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+N+" but got pad "+D+"."});var B=ky(z.shape,_,T,A,D,N),F=se.runKernelFunc(function(U){return U.maxPool3dBackprop($,z,G,B)},{dy5D:$,input5D:z});return V?F.as4D(F.shape[1],F.shape[2],F.shape[3],F.shape[4]):F}(m,y,b,e,n,i,r,a)}}});return c?h.as4D(h.shape[1],h.shape[2],h.shape[3],h.shape[4]):h}}),cJ=ae({avgPool3d_:function(t,e,n,r,a,o,i){o===void 0&&(o="NDHWC");var s=Z(t,"x","avgPool3d","float32"),u=s,c=!1;s.rank===4&&(c=!0,u=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),i==null&&(i=[1,1,1]),ee(u.rank===5,function(){return"Error in avgPool3d: x must be rank 5 but got rank "+u.rank+"."}),ee(o==="NDHWC",function(){return"Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of "+o}),ee(Qa(n,i),function(){return"Error in avgPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+i+"'"}),a!=null&&ee(cr(r),function(){return"Error in avgPool3d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."});var f=ky(u.shape,e,n,i,r,a,o),h=se.runKernelFunc(function(m){return m.avgPool3d(u,f)},{x:u},function(m){return{x:function(){return function(g,y,b,x,S,R,_){var T=Z(g,"dy","avgPool3dBackprop"),A=Z(y,"input","avgPool3dBackprop"),D=T,N=A,M=!1;A.rank===4&&(M=!0,D=T.as5D(1,T.shape[0],T.shape[1],T.shape[2],T.shape[3]),N=A.as5D(1,A.shape[0],A.shape[1],A.shape[2],A.shape[3])),ee(D.rank===5,function(){return"Error in avgPool3dBackprop: dy must be rank 5 but got rank "+D.rank+"."}),ee(N.rank===5,function(){return"Error in avgPool3dBackprop: input must be rank 5 but got rank "+N.rank+"."}),S==null&&(S=[1,1,1]),ee(Qa(x,S),function(){return"Error in avgPool3dBackprop: Either strides or dilations must be 1. Got strides "+x+" and dilations '"+S+"'"}),_!=null&&ee(cr(R),function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+_+" but got pad "+R+"."});var P=ky(N.shape,b,x,S,R,_),I=se.runKernelFunc(function($){return $.avgPool3dBackprop(D,N,P)},{dy5D:D,input5D:N});return M?I.as4D(I.shape[1],I.shape[2],I.shape[3],I.shape[4]):I}(m,u,e,n,i,r,a)}}});return h=h.cast(u.dtype),c?h.as4D(h.shape[1],h.shape[2],h.shape[3],h.shape[4]):h}}),ss=ae({slice_:function(t,e,n){var r,a,o=Z(t,"x","slice");if(o.rank===0)throw new Error("Slicing scalar is not possible");(r=typeof e=="number"?[e].concat(new Array(o.rank-1).fill(0)):e.length<o.rank?e.concat(new Array(o.rank-e.length).fill(0)):e.slice()).forEach(function(u){ee(u!==-1,function(){return"slice() does not support negative begin indexing."})}),a=(a=n==null?new Array(o.rank).fill(-1):typeof n=="number"?[n].concat(new Array(o.rank-1).fill(-1)):n.length<o.rank?n.concat(new Array(o.rank-n.length).fill(-1)):n).map(function(u,c){return u>=0?u:(ee(u===-1,function(){return"Negative size values should be exactly -1 but got "+u+" for the slice() size at index "+c+"."}),o.shape[c]-r[c])}),BY(o,r,a);var i=o.shape,s={begin:r,size:a};return se.runKernelFunc(function(u){return u.slice(o,r,a)},{x:o},function(u){for(var c=[],f=0;f<u.rank;f++)c.push([r[f],i[f]-r[f]-a[f]]);return{x:function(){return u.pad(c)}}},"Slice",s)}}),dJ=ae({slice1d_:function(t,e,n){var r=Z(t,"x","slice1d");return ee(r.rank===1,function(){return"slice1d expects a rank-1 tensor, but got a rank-"+r.rank+" tensor"}),ss(r,[e],[n])}}),fJ=ae({slice2d_:function(t,e,n){var r=Z(t,"x","slice2d");return ee(r.rank===2,function(){return"slice2d expects a rank-2 tensor, but got a rank-"+r.rank+" tensor"}),ss(r,e,n)}}),I5=ae({slice3d_:function(t,e,n){var r=Z(t,"x","slice3d");return ee(r.rank===3,function(){return"slice3d expects a rank-3 tensor, but got a rank-"+r.rank+" tensor"}),ss(r,e,n)}}),hJ=ae({slice4d_:function(t,e,n){var r=Z(t,"x","slice4d");return ee(r.rank===4,function(){return"slice4d expects a rank-4 tensor, but got a rank-"+r.rank+" tensor"}),ss(r,e,n)}});function L5(t,e,n,r,a){return e.rank<n.rank&&(e=e.reshape(Xa(e.shape,r))),t.rank<n.rank&&(t=t.reshape(Xa(t.shape,r))),{x:function(){var o=t.mul(n.equal(e).cast(t.dtype));return a==null?o:o.transpose(a)}}}var pJ=ae({all_:function(t,e,n){e===void 0&&(e=null),n===void 0&&(n=!1);var r=Z(t,"x","all","bool"),a=Nr(e,r.shape),o=a,i=fs(o,r.rank);i!=null&&(r=r.transpose(i),o=hs(o.length,r.rank));var s=se.runKernelFunc(function(c){return c.all(r,o)},{$x:r});if(n){var u=Xa(s.shape,a);return s.reshape(u)}return s}}),mJ=ae({any_:function(t,e,n){e===void 0&&(e=null),n===void 0&&(n=!1);var r=Z(t,"x","any","bool"),a=Nr(e,r.shape),o=a,i=fs(o,r.rank);i!=null&&(r=r.transpose(i),o=hs(o.length,r.rank));var s=se.runKernelFunc(function(c){return c.any(r,o)},{$x:r});if(n){var u=Xa(s.shape,a);return s.reshape(u)}return s}}),gJ=ae({argMax_:function(t,e){e===void 0&&(e=0);var n=Z(t,"x","argMax");e==null&&(e=0);var r=Nr(e,n.shape),a=fs(r,n.rank);a!=null&&(n=n.transpose(a),r=hs(r.length,n.rank));var o={axis:r[0]},i=[n];return se.runKernelFunc(function(s,u){var c=s.argMax(n,r[0]);return u([n]),c},{x:n},function(s,u){var c=u[0];return{x:function(){return rn(c)}}},"ArgMax",o,i)}}),vJ=ae({argMin_:function(t,e){e===void 0&&(e=0);var n=Z(t,"x","argMin");e==null&&(e=0);var r=Nr(e,n.shape),a=fs(r,n.rank);return a!=null&&(n=n.transpose(a),r=hs(r.length,n.rank)),se.runKernelFunc(function(o,i){var s=o.argMin(n,r[0]);return i([n]),s},{$x:n},function(o,i){var s=i[0];return{$x:function(){return rn(s)}}})}}),yJ=ae({logSumExp_:function(t,e,n){e===void 0&&(e=null),n===void 0&&(n=!1);var r=Z(t,"x","logSumExp"),a=Nr(e,r.shape),o=r.max(a,!0),i=r.sub(o).exp().sum(a).log(),s=o.reshape(i.shape).add(i);if(n){var u=Xa(s.shape,a);return s.reshape(u)}return s}}),Bb=ae({max_:function(t,e,n){e===void 0&&(e=null),n===void 0&&(n=!1);var r=Z(t,"x","max"),a=r,o=Nr(e,r.shape),i=o,s=fs(i,r.rank);s!=null&&(r=r.transpose(s),i=hs(i.length,r.rank));var u=[r],c=se.runKernelFunc(function(h,m){var g=h.max(r,i);return m([a,g]),g},{x:r},function(h,m){return L5(h,m[1],m[0],o,s)},"Max",{axes:i},u,[!0]);if(n){var f=Xa(c.shape,o);c=c.reshape(f)}return c}}),bJ=ae({mean_:function(t,e,n){e===void 0&&(e=null),n===void 0&&(n=!1);var r=Z(t,"x","mean"),a=Nr(e,r.shape),o=nt(pa(r.shape,a)[1]);return Mb(function(i){var s=He(o);return{value:(s.dtype===i.dtype?i:i.cast(s.dtype)).div(s).sum(e,n),gradFunc:function(u){var c=i.shape.slice();return a.forEach(function(f){c[f]=1}),u.reshape(c).mul(eh(i.shape,"float32")).div(o)}}})(r)}}),xJ=ae({min_:function(t,e,n){e===void 0&&(e=null),n===void 0&&(n=!1);var r=Z(t,"x","min"),a=r,o=Nr(e,r.shape),i=o,s=fs(i,r.rank);s!=null&&(r=r.transpose(s),i=hs(i.length,r.rank));var u=[r],c=se.runKernelFunc(function(h,m){var g=h.min(r,i);return m([a,g]),g},{x:r},function(h,m){return L5(h,m[1],m[0],o,s)},"Min",{axes:i},u,[!0]);if(n){var f=Xa(c.shape,o);c=c.reshape(f)}return c}}),wJ=ae({moments_:function(t,e,n){e===void 0&&(e=null),n===void 0&&(n=!1);var r=Nr(e,(t=Z(t,"x","moments")).shape),a=t.mean(r,n),o=a.shape;n||(o=Xa(a.shape,r));var i=t.toFloat().sub(a.reshape(o)).square();return{mean:a,variance:i.mean(r,n)}}}),F5=ae({sum_:function(t,e,n){e===void 0&&(e=null),n===void 0&&(n=!1);var r=Z(t,"x","sum");r.dtype==="bool"&&(r=r.toInt());var a=Nr(e,r.shape);return Mb(function(o){var i=fs(a,o.rank),s=a,u=o;i!=null&&(u=o.transpose(i),s=hs(s.length,o.rank));var c=function(g){var y=o.shape.slice();return a.forEach(function(b){y[b]=1}),g.reshape(y).mul(eh(o.shape,"float32"))},f={axes:s},h=se.runKernelFunc(function(g){return g.sum(u,s)},{x:u},function(g){return{x:function(){return c(g)}}},"Sum",f);if(n){var m=Xa(h.shape,a);h=h.reshape(m)}return{value:h,gradFunc:c}})(r)}}),SJ=ae({prod_:function(t,e,n){e===void 0&&(e=null),n===void 0&&(n=!1);var r=Z(t,"x","prod");r.dtype==="bool"&&(r=r.toInt());var a=Nr(e,r.shape),o=fs(a,r.rank),i=a,s=r;o!=null&&(s=r.transpose(o),i=hs(i.length,r.rank));var u=se.runKernelFunc(function(f){return f.prod(s,i)},{permutedX:s});if(n){var c=Xa(u.shape,a);u=u.reshape(c)}return u}}),B5=ae({elu_:function(t){var e=Z(t,"x","elu");return se.runKernelFunc(function(n,r){var a=n.elu(e);return r([a]),a},{$x:e},function(n,r){var a=r[0];return{$x:function(){return se.runKernelFunc(function(o){return o.eluDer(n,a)},{dy:n,y:a})}}})}}),_J=ae({leakyRelu_:function(t,e){e===void 0&&(e=.2);var n=Z(t,"x","leakyRelu");return N_(He(e).mul(n),n)}}),z5=ae({prelu_:function(t,e){var n=Z(t,"x","prelu"),r=Z(e,"alpha","prelu");return se.runKernelFunc(function(a,o){var i=a.prelu(n,r);return o([n,r]),i},{x:n,alpha:r},function(a,o){var i=o[0],s=o[1],u=i.greater(0);return{x:function(){return Bc(u,a,a.mul(s))},alpha:function(){var c=Bc(u,rn(a),a.mul(i)),f=Ar(s.shape,a.shape);return f.length>0&&(c=c.sum(f)),c.reshape(s.shape)}}},"Prelu")}}),Kn=ae({relu_:function(t){var e=Z(t,"x","relu");return e.dtype==="bool"?e.toInt():se.runKernelFunc(function(n,r){var a=n.relu(e);return r([e]),a},{x:e},function(n,r){var a=r[0];return{x:function(){return n.mulStrict(a.step().toFloat())}}},"Relu")}}),$5=ae({relu6_:function(t){var e=Z(t,"x","relu6");return e.dtype==="bool"?e.toInt():se.runKernelFunc(function(n,r){var a=n.relu6(e);return r([e]),a},{x:e},function(n,r){var a=r[0],o=a.lessEqual(6).mul(a.step());return{x:function(){return n.mulStrict(o.toFloat())}}},"Relu6")}}),CJ=ae({selu_:function(t){var e=Z(t,"x","selu");return se.runKernelFunc(function(n,r){var a=n.selu(e);return r([e]),a},{$x:e},function(n,r){var a=r[0];return{$x:function(){var o=a.greater(He(0)),i=He(R_),s=He(A_),u=n.mul(s),c=n.mul(i).mul(a.toFloat().exp());return Bc(o,u,c)}}})}}),xu=ae({transpose_:function(t,e){var n=Z(t,"x","transpose");if(e==null&&(e=n.shape.map(function(a,o){return o}).reverse()),ee(n.rank===e.length,function(){return"Error in transpose: rank of input "+n.rank+" must match length of perm "+e+"."}),e.forEach(function(a){ee(a>=0&&a<n.rank,function(){return"All entries in 'perm' must be between 0 and "+(n.rank-1)+" but got "+e})}),n.rank<=1)return n.clone();var r={perm:e};return se.runKernelFunc(function(a){return a.transpose(n,e)},{x:n},function(a){var o=v_(e);return{x:function(){return a.transpose(o)}}},"Transpose",r)}}),EJ=ae({localResponseNormalization_:function(t,e,n,r,a){e===void 0&&(e=5),n===void 0&&(n=1),r===void 0&&(r=1),a===void 0&&(a=.5);var o=Z(t,"x","localResponseNormalization");ee(o.rank===4||o.rank===3,function(){return`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank `+o.rank+"."}),ee(cr(e),function(){return"Error in localResponseNormalization: depthRadius must be an integer but got depthRadius "+e+"."});var i=o,s=!1;o.rank===3&&(s=!0,i=o.as4D(1,o.shape[0],o.shape[1],o.shape[2]));var u=se.runKernelFunc(function(c,f){var h=c.localResponseNormalization4D(i,e,n,r,a);return f([i,h]),h},{x4D:i},function(c,f){var h=f[0],m=f[1];return{x4D:function(){return se.runKernelFunc(function(g){return g.LRNGrad(c,h,m,e,n,r,a)},{})}}});return s?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),U5=ae({norm_:function(t,e,n,r){e===void 0&&(e="euclidean"),n===void 0&&(n=null),r===void 0&&(r=!1);var a=function s(u,c,f){if(f===void 0&&(f=null),u.rank===0)return u.abs();if(u.rank!==1&&f===null)return s(u.reshape([-1]),c,f);if(u.rank===1||typeof f=="number"||Array.isArray(f)&&f.length===1){if(c===1)return u.abs().sum(f);if(c===1/0)return u.abs().max(f);if(c===-1/0)return u.abs().min(f);if(c==="euclidean"||c===2)return u.abs().pow(He(2,"int32")).sum(f).sqrt();throw new Error("Error in norm: invalid ord value: "+c)}if(Array.isArray(f)&&f.length===2){if(c===1)return u.abs().sum(f[0]).max(f[1]-1);if(c===1/0)return u.abs().sum(f[1]).max(f[0]);if(c===-1/0)return u.abs().sum(f[1]).min(f[0]);if(c==="fro"||c==="euclidean")return u.square().sum(f).sqrt();throw new Error("Error in norm: invalid ord value: "+c)}throw new Error("Error in norm: invalid axis: "+f)}(t=Z(t,"x","norm"),e,n),o=a.shape;if(r){var i=Nr(n,t.shape);o=Xa(a.shape,i)}return a.reshape(o)}}),TJ=ae({basicLSTMCell_:function(t,e,n,r,a,o){var i=Z(t,"forgetBias","basicLSTMCell"),s=Z(e,"lstmKernel","basicLSTMCell"),u=Z(n,"lstmBias","basicLSTMCell"),c=Z(r,"data","basicLSTMCell"),f=Z(a,"c","basicLSTMCell"),h=Z(o,"h","basicLSTMCell"),m=c.concat(h,1).matMul(s).add(u),g=m.shape[0],y=m.shape[1]/4,b=[g,y],x=m.slice([0,0],b),S=m.slice([0,y],b),R=m.slice([0,2*y],b),_=m.slice([0,3*y],b),T=x.sigmoid().mulStrict(S.tanh()).addStrict(f.mulStrict(i.add(R).sigmoid())),A=T.tanh().mulStrict(_.sigmoid());return[T,A]}}),RJ=ae({multiRNNCell_:function(t,e,n,r){for(var a=Z(e,"data","multiRNNCell"),o=_y(n,"c","multiRNNCell"),i=_y(r,"h","multiRNNCell"),s=a,u=[],c=0;c<t.length;c++){var f=t[c](s,o[c],i[c]);u.push(f[0]),u.push(f[1]),s=f[1]}var h=[],m=[];for(c=0;c<u.length;c+=2)h.push(u[c]),m.push(u[c+1]);return[h,m]}}),AJ=ae({movingAverage_:function(t,e,n,r,a){a===void 0&&(a=!0);var o=Z(t,"v","movingAverage"),i=Z(e,"x","movingAverage"),s=Z(n,"decay","movingAverage");EK(o,i),ee(Fr(o.shape,i.shape),function(){return"Shape mismatch in v and x"});var u=He(1),c=u.sub(s),f=i.sub(o).mul(c);if(a){ee(r!=null,function(){return"When using zeroDebias: true, step is required."});var h=Z(r,"step","movingAverage");f=f.div(u.sub(My(s,h)))}return o.add(f)}}),kJ=ae({stridedSlice_:function(t,e,n,r,a,o,i,s,u){if(a===void 0&&(a=0),o===void 0&&(o=0),i===void 0&&(i=0),s===void 0&&(s=0),u===void 0&&(u=0),r==null&&(r=new Array(e.length)),i!==0)throw new Error("ellipsis mask is not yet supported");var c=Z(t,"x","stridedSlice"),f=zR(s),h=c.shape.slice();f.forEach(function(x){e[x]=0,n[x]=1,h.splice(x,0,1)}),c=c.reshape(h);for(var m=0;m<c.rank;m++)e[m]=zY(a,e,r,c.shape,m),n[m]=$Y(o,n,r,c.shape,m),r[m]=r[m]||1;var g=zR(u);g.forEach(function(x){n[x]=e[x]+1,r[x]=1});var y=w_(e,n,r),b=y.filter(function(x,S){return g.indexOf(S)===-1});return r.every(function(x){return x===1})?ss(c,e,y).reshape(b):se.runKernelFunc(function(x){return x.stridedSlice(c,e,n,r)},{$x:c}).reshape(b)}}),NJ=ae({topk_:function(t,e,n){e===void 0&&(e=1),n===void 0&&(n=!0);var r=Z(t,"x","topk");if(r.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");var a=r.shape[r.shape.length-1];if(e>a)throw new Error("'k' passed to topk() must be <= the last dimension ("+a+") but got "+e);var o=se.runKernelFunc(function(i){return i.topk(r,e,n)},{$x:r});return{values:o[0],indices:o[1]}}}),OJ=ae({scatterND_:function(t,e,n){var r=Z(t,"indices","scatterND","int32"),a=Z(e,"updates","scatterND");return FY(a,r,n),se.runKernelFunc(function(o){return o.scatterND(r,a,n)},{indices:r,updates:a},null,"ScatterNd",{shape:n})}}),P_=ae({fft_:function(t){ee(t.dtype==="complex64",function(){return"The dtype for tf.spectral.fft() must be complex64 but got "+t.dtype+"."});var e=t.shape[t.shape.length-1],n=t.size/e,r=t.as2D(n,e);return se.runKernelFunc(function(a){return a.fft(r)},{input:t}).reshape(t.shape)}}),Py=ae({ifft_:function(t){ee(t.dtype==="complex64",function(){return"The dtype for tf.spectral.ifft() must be complex64 but got "+t.dtype+"."});var e=t.shape[t.shape.length-1],n=t.size/e,r=t.as2D(n,e);return se.runKernelFunc(function(a){return a.ifft(r)},{input:t}).reshape(t.shape)}}),I_=ae({rfft_:function(t,e){ee(t.dtype==="float32",function(){return"The dtype for rfft() must be real value but got "+t.dtype});var n,r=t.shape[t.shape.length-1],a=t.size/r;if(e!=null&&e<r){var o=t.shape.map(function(S){return 0}),i=t.shape.map(function(S){return S});i[t.shape.length-1]=e,n=t.slice(o,i),r=e}else if(e!=null&&e>r){var s=t.shape.map(function(S){return S});s[t.shape.length-1]=e-r,n=t.concat(In(s),t.shape.length-1),r=e}else n=t;var u=n.zerosLike(),c=Yr(n,u).as2D(a,r),f=P_(c),h=Math.floor(r/2)+1,m=Io(f),g=Ki(f),y=m.split([h,r-h],m.shape.length-1),b=g.split([h,r-h],g.shape.length-1),x=n.shape.slice();return x[n.shape.length-1]=h,Yr(y[0],b[0]).reshape(x)}}),V5=ae({irfft_:function(t){var e=t.shape[t.shape.length-1],n=t.size/e;if(e<=2){var r=t.as2D(n,e),a=Py(r);return Io(a)}var o=[n,2*(e-1)],i=Io(t).as2D(n,e),s=Ki(t).as2D(n,e),u=i.slice([0,1],[n,e-2]).reverse(1),c=s.slice([0,1],[n,e-2]).reverse(1).mul(He(-1)),f=i.concat(u,1),h=s.concat(c,1);return r=Yr(f,h).as2D(o[0],o[1]),a=Py(r),Io(a)}}),DJ=Object.freeze({fft:P_,ifft:Py,rfft:I_,irfft:V5}),MJ=ae({sparseToDense_:function(t,e,n,r){r===void 0&&(r=0);var a=Z(t,"sparseIndices","sparseToDense","int32"),o=Z(e,"sparseValues","sparseToDense"),i=Z(r,"defaultValue","sparseToDense",o.dtype);return function(s,u,c,f){if(s.dtype!=="int32")throw new Error("tf.sparseToDense() expects the indices to be int32 type, but the dtype was "+s.dtype+".");if(s.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix, but got shape "+s.shape+".");var h=s.rank>0?s.shape[0]:1,m=s.rank>1?s.shape[1]:1;if(c.length!==m)throw new Error("outputShape has incorrect number of elements:, "+c.length+", should be: "+m+".");var g=u.size;if(u.rank!==0&&(u.rank!==1||g!==h))throw new Error("sparseValues has incorrect shape "+u.shape+", should be [] or ["+h+"]");if(u.dtype!==f.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(a,o,n,i),se.runKernelFunc(function(s){return s.sparseToDense(a,o,n,i)},{$sparseIndices:a,$sparseValues:o,$defaultValue:i})}}),PJ=ae({gatherND_:function(t,e){var n=Z(e,"indices","gatherND","int32"),r=Z(t,"x","gatherND");return se.runKernelFunc(function(a){return a.gatherND(r,n)},{x:r,indices:n},null,"GatherNd")}}),IJ=ae({diag_:function(t){var e=Z(t,"x","diag").flatten(),n=t.shape.concat(t.shape);return se.runKernelFunc(function(r){return r.diag(e)},{$x:e}).reshape(n)}}),LJ=ae({dropout_:function(t,e,n,r){var a=Z(t,"x","dropout");if(ee(a.dtype==="float32",function(){return"x has to be a floating point tensor since it's going to be scaled, but got a "+a.dtype+" tensor instead."}),ee(e>=0&&e<1,function(){return"rate must be a float in the range [0, 1), but got "+e+"."}),e===0)return t instanceof qn?a.clone():a;var o=function(u,c){if(c==null)return u.shape.slice();if(Fr(u.shape,c))return c;if(u.shape.length===c.length){for(var f=[],h=0;h<u.shape.length;h++)c[h]==null&&u.shape[h]!=null?f.push(u.shape[h]):f.push(c[h]);return f}return c}(a,n),i=1-e,s=zM(o,0,1,"float32",r).add(i).floor().div(i);return a.mul(s)}});function j5(t,e,n){for(var r=1-t%2,a=new Float32Array(t),o=0;o<t;++o){var i=2*Math.PI*o/(t+r-1);a[o]=e-n*Math.cos(i)}return yr(a,"float32")}var L_=ae({hannWindow_:function(t){return j5(t,.5,.5)}}),W5=ae({hammingWindow_:function(t){return j5(t,.54,.46)}}),F_=ae({frame_:function(t,e,n,r,a){r===void 0&&(r=!1),a===void 0&&(a=0);for(var o=0,i=[];o+e<=t.size;)i.push(ss(t,o,e)),o+=n;if(r)for(;o<t.size;){var s=o+e-t.size,u=Tr([ss(t,o,e-s),ns([s],a)]);i.push(u),o+=n}return i.length===0?pu([],[0,e]):Tr(i).as2D(i.length,e)}}),H5=ae({stft_:function(t,e,n,r,a){var o;a===void 0&&(a=L_),r==null&&(o=e,r=Math.floor(Math.pow(2,Math.ceil(Math.log(o)/Math.log(2)))));for(var i=F_(t,e,n),s=ba(i,a(e)),u=[],c=0;c<i.shape[0];c++)u.push(I_(s.slice([c,0],[1,e]),r));return Tr(u)}}),FJ=Object.freeze({hannWindow:L_,hammingWindow:W5,frame:F_,stft:H5}),ya,BJ=function(t,e,n){return n===void 0&&(n=1),Je(this,void 0,void 0,function(){var r,a,o,i,s,u,c,f,h,m,g,y,b,x;return et(this,function(S){switch(S.label){case 0:return r=Z(t,"predictions","inTopK"),a=Z(e,"targets","inTopK"),ee(r.rank>1,function(){return"inTopK() expects the predictions to be of rank 2 or higher, but got "+r.rank}),ee(r.rank-1===a.rank,function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+r.rank+" and targets rank "+a.rank}),vn(r.shape.slice(0,r.shape.length-1),a.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),o=r.shape[r.shape.length-1],ee(n>0&&n<=o,function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last dimension ("+o+"), but got "+n}),[4,r.data()];case 1:return i=S.sent(),[4,a.data()];case 2:for(s=S.sent(),u=[i.length/o,o],f=u[1],h=mm("bool",c=u[0]),m=0;m<c;m++){for(g=m*f,y=i.subarray(g,g+f),b=[],x=0;x<y.length;x++)b.push({value:y[x],index:x});for(b.sort(function(R,_){return _.value-R.value}),h[m]=0,x=0;x<n;x++)if(b[x].index===s[m]){h[m]=1;break}}return t!==r&&r.dispose(),e!==a&&a.dispose(),[2,Zr(h,a.shape,"bool")]}})})};(function(t){t[t.NONE=0]="NONE",t[t.MEAN=1]="MEAN",t[t.SUM=2]="SUM",t[t.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(ya||(ya={}));var zJ=ae({absoluteDifference_:function(t,e,n,r){r===void 0&&(r=ya.SUM_BY_NONZERO_WEIGHTS);var a=Z(t,"labels","absoluteDifference"),o=Z(e,"predictions","absoluteDifference"),i=null;n!=null&&(i=Z(n,"weights","absoluteDifference")),vn(a.shape,o.shape,"Error in absoluteDifference: ");var s=a.sub(o).abs();return il(s,i,r)}}),il=ae({computeWeightedLoss_:function(t,e,n){n===void 0&&(n=ya.SUM_BY_NONZERO_WEIGHTS);var r=Z(t,"losses","computeWeightedLoss"),a=null;e!=null&&(a=Z(e,"weights","computeWeightedLoss"));var o=a==null?r:r.mul(a);if(n===ya.NONE)return o;if(n===ya.SUM)return o.sum();if(n===ya.MEAN){if(a==null)return o.mean();var i=r.size/a.size,s=o.sum().div(a.sum());return i>1?s.div(He(i)):s}if(n===ya.SUM_BY_NONZERO_WEIGHTS){if(a==null)return o.sum().div(He(r.size));var u=a.mul(eh(r.shape)).notEqual(He(0)).sum().toFloat();return o.sum().div(u)}throw Error("Unknown reduction: "+n)}}),$J=ae({cosineDistance_:function(t,e,n,r,a){a===void 0&&(a=ya.SUM_BY_NONZERO_WEIGHTS);var o=Z(t,"labels","cosineDistance"),i=Z(e,"predictions","cosineDistance"),s=null;r!=null&&(s=Z(r,"weights","cosineDistance")),vn(o.shape,i.shape,"Error in cosineDistance: ");var u=He(1).sub(o.mul(i).sum(n,!0));return il(u,s,a)}}),UJ=ae({hingeLoss_:function(t,e,n,r){r===void 0&&(r=ya.SUM_BY_NONZERO_WEIGHTS);var a=Z(t,"labels","hingeLoss"),o=Z(e,"predictions","hingeLoss"),i=null;n!=null&&(i=Z(n,"weights","hingeLoss")),vn(a.shape,o.shape,"Error in hingeLoss: ");var s=He(1);a=He(2).mul(a).sub(s);var u=s.sub(a.mul(o)).relu();return il(u,i,r)}}),VJ=ae({huberLoss_:function(t,e,n,r,a){r===void 0&&(r=1),a===void 0&&(a=ya.SUM_BY_NONZERO_WEIGHTS);var o=Z(t,"labels","huberLoss"),i=Z(e,"predictions","huberLoss"),s=null;n!=null&&(s=Z(n,"weights","huberLoss")),vn(o.shape,i.shape,"Error in huberLoss: ");var u=He(r),c=i.sub(o).abs(),f=C5(c,u),h=c.sub(f),m=He(.5).mul(f.square()).add(u.mul(h));return il(m,s,a)}}),jJ=ae({logLoss_:function(t,e,n,r,a){r===void 0&&(r=1e-7),a===void 0&&(a=ya.SUM_BY_NONZERO_WEIGHTS);var o=Z(t,"labels","logLoss"),i=Z(e,"predictions","logLoss"),s=null;n!=null&&(s=Z(n,"weights","logLoss")),vn(o.shape,i.shape,"Error in logLoss: ");var u=He(1),c=He(r),f=o.mul(i.add(c).log()).neg().sub(u.sub(o).mul(u.sub(i).add(c).log()));return il(f,s,a)}}),WJ=ae({meanSquaredError_:function(t,e,n,r){r===void 0&&(r=ya.SUM_BY_NONZERO_WEIGHTS);var a=Z(t,"labels","meanSquaredError"),o=Z(e,"predictions","meanSquaredError"),i=null;n!=null&&(i=Z(n,"weights","meanSquaredError")),vn(a.shape,o.shape,"Error in meanSquaredError: ");var s=a.squaredDifference(o);return il(s,i,r)}}),HJ=ae({sigmoidCrossEntropy_:function(t,e,n,r,a){r===void 0&&(r=0),a===void 0&&(a=ya.SUM_BY_NONZERO_WEIGHTS);var o=Z(t,"multiClassLabels","sigmoidCrossEntropy"),i=Z(e,"logits","sigmoidCrossEntropy"),s=null;if(n!=null&&(s=Z(n,"weights","sigmoidCrossEntropy")),vn(o.shape,i.shape,"Error in sigmoidCrossEntropy: "),r>0){var u=He(r),c=He(1),f=He(.5);o=o.mul(c.sub(u)).add(f.mul(u))}var h=function(m,g){var y=Z(m,"labels","sigmoidCrossEntropyWithLogits"),b=Z(g,"logits","sigmoidCrossEntropyWithLogits");vn(y.shape,b.shape,"Error in sigmoidCrossEntropyWithLogits: ");var x=b.relu(),S=b.mul(y),R=b.abs().neg().exp().log1p();return x.sub(S).add(R)}(o,i);return il(h,s,a)}}),qJ=ae({softmaxCrossEntropy_:function(t,e,n,r,a){r===void 0&&(r=0),a===void 0&&(a=ya.SUM_BY_NONZERO_WEIGHTS);var o=Z(t,"onehotLabels","softmaxCrossEntropy"),i=Z(e,"logits","softmaxCrossEntropy"),s=null;if(n!=null&&(s=Z(n,"weights","softmaxCrossEntropy")),vn(o.shape,i.shape,"Error in softmaxCrossEntropy: "),r>0){var u=He(r),c=He(1),f=He(o.shape[1]);o=o.mul(c.sub(u)).add(u.div(f))}var h=function(m,g,y){if(y===void 0&&(y=-1),y===-1&&(y=g.rank-1),y!==g.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank "+g.rank+" and dim was "+y);return Mb(function(b,x,S){var R=x.logSumExp([y],!0),_=x.toFloat().sub(R);return S([b,_]),{value:_.mul(b).neg().sum([y]),gradFunc:function(T,A){var D=A[0],N=A[1],M=Xa(T.shape,[y]);return[T.reshape(M).mul(D.toFloat().sub(N.exp())),T.reshape(M).mul(N.exp().sub(D.toFloat()))]}}})(m,g)}(o,i);return il(h,s,a)}}),GJ=Object.freeze({get Reduction(){return ya},absoluteDifference:zJ,computeWeightedLoss:il,cosineDistance:$J,hingeLoss:UJ,huberLoss:VJ,logLoss:jJ,meanSquaredError:WJ,sigmoidCrossEntropy:HJ,softmaxCrossEntropy:qJ});function sA(t,e){return e===void 0&&(e=!1),se.tidy(function(){if(t.shape.length!==2)throw new Error("qr2d() requires a 2D Tensor, but got a "+t.shape.length+"D Tensor.");for(var n=t.shape[0],r=t.shape[1],a=BM(n),o=t.clone(),i=pu([[1]],[1,1]),s=i.clone(),u=n>=r?r:n,c=function(h){var m,g=o,y=s,b=a;m=se.tidy(function(){var x=o.slice([h,h],[n-h,1]),S=x.norm(),R=o.slice([h,h],[1,1]),_=pu([[-1]]).where(R.greater(0),pu([[1]])),T=R.sub(_.mul(S)),A=x.div(T);s=A.shape[0]===1?i.clone():i.concat(A.slice([1,0],[A.shape[0]-1,A.shape[1]]),0);var D=_.matMul(T).div(S).neg(),N=o.slice([h,0],[n-h,r]),M=D.mul(s);if(h===0)o=N.sub(M.matMul(s.transpose().matMul(N)));else{var P=N.sub(M.matMul(s.transpose().matMul(N)));o=o.slice([0,0],[h,r]).concat(P,0)}var I=a.slice([0,h],[n,a.shape[1]-h]);if(h===0)a=I.sub(I.matMul(s).matMul(M.transpose()));else{var $=I.sub(I.matMul(s).matMul(M.transpose()));a=a.slice([0,0],[n,h]).concat($,1)}return[s,o,a]}),s=m[0],o=m[1],a=m[2],Ka([g,y,b])},f=0;f<u;++f)c(f);return!e&&n>r&&(a=a.slice([0,0],[n,r]),o=o.slice([0,0],[r,r])),[a,o]})}var KJ=ae({bandPart_:function(t,e,n){if(e%1!=0)throw new Error("bandPart(): numLower must be an integer, got "+e+".");if(n%1!=0)throw new Error("bandPart(): numUpper must be an integer, got "+n+".");var r=Z(t,"a","bandPart");if(r.rank<2)throw new Error("bandPart(): Rank must be at least 2, got "+r.rank+".");var a=r.shape,o=r.shape.slice(-2),i=o[0],s=o[1];if(!(e<=i))throw new Error("bandPart(): numLower ("+e+") must not be greater than the number of rows ("+i+").");if(!(n<=s))throw new Error("bandPart(): numUpper ("+n+") must not be greater than the number of columns ("+s+").");e<0&&(e=i),n<0&&(n=s);var u=Cy(0,i,1,"int32").reshape([-1,1]),c=Cy(0,s,1,"int32"),f=kr(u,c),h=Ib(f.lessEqual(He(+e,"int32")),f.greaterEqual(He(-n,"int32"))),m=In([i,s],r.dtype);return go(Rr(r.reshape([-1,i,s])).map(function(g){return Bc(h,g,m)})).reshape(a)}}),YJ=ae({gramSchmidt_:function(t){var e;if(Array.isArray(t)){e=!1,ee(t!=null&&t.length>0,function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"});for(var n=t[0].shape[0],r=function(u){ee(t[u].shape[0]===n,function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: ("+t[u].shape[0]+" vs. "+n+")"})},a=1;a<t.length;++a)r(a)}else e=!0,t=b_(t,t.shape[0],0).map(function(u){return UM(u,[0])});ee(t.length<=t[0].shape[0],function(){return"Gram-Schmidt: Number of vectors ("+t.length+") exceeds number of dimensions ("+t[0].shape[0]+")."});var o=[],i=t,s=function(u){o.push(se.tidy(function(){var c=i[u];if(u>0)for(var f=0;f<u;++f){var h=F5(o[f].mulStrict(c)).mul(o[f]);c=c.sub(h)}return c.div(U5(c,"euclidean"))}))};for(a=0;a<t.length;++a)s(a);return e?go(o,0):o}}),XJ=ae({qr_:function(t,e){if(e===void 0&&(e=!1),t.rank<2)throw new Error("qr() requires input tensor to have a rank >= 2, but got rank "+t.rank);if(t.rank===2)return sA(t,e);var n=t.shape.slice(0,t.shape.length-2).reduce(function(i,s){return i*s}),r=Rr(t.reshape([n,t.shape[t.shape.length-2],t.shape[t.shape.length-1]]),0),a=[],o=[];return r.forEach(function(i){var s=sA(i,e),u=s[0],c=s[1];a.push(u),o.push(c)}),[go(a,0).reshape(t.shape),go(o,0).reshape(t.shape)]}}),QJ=Object.freeze({bandPart:KJ,gramSchmidt:YJ,qr:XJ});function zb(t,e,n,r,a,o){r==null&&(r=.5),a==null&&(a=Number.NEGATIVE_INFINITY),o==null&&(o=0);var i=t.shape[0];return n=Math.min(n,i),ee(0<=r&&r<=1,function(){return"iouThreshold must be in [0, 1], but was '"+r+"'"}),ee(t.rank===2,function(){return"boxes must be a 2D tensor, but was of rank '"+t.rank+"'"}),ee(t.shape[1]===4,function(){return"boxes must have 4 columns, but 2nd dimension was "+t.shape[1]}),ee(e.rank===1,function(){return"scores must be a 1D tensor"}),ee(e.shape[0]===i,function(){return"scores has incompatible shape with boxes. Expected "+i+", but was "+e.shape[0]}),ee(0<=o&&o<=1,function(){return"softNmsSigma must be in [0, 1], but was '"+o+"'"}),{maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:o}}var ZJ=ae({resizeBilinear_:function(t,e,n){n===void 0&&(n=!1);var r=Z(t,"images","resizeBilinear");ee(r.rank===3||r.rank===4,function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got rank "+r.rank+"."}),ee(e.length===2,function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+e+"."});var a=r,o=!1;r.rank===3&&(o=!0,a=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var i=e[0],s=e[1],u=se.runKernelFunc(function(c,f){return f([a]),c.resizeBilinear(a,i,s,n)},{x:a},function(c,f){return{x:function(){return se.runKernelFunc(function(h){return h.resizeBilinearBackprop(c,f[0],n)},{})}}},"ResizeBilinear",{alignCorners:n,newHeight:i,newWidth:s});return o?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),JJ=ae({resizeNearestNeighbor_:function(t,e,n){n===void 0&&(n=!1);var r=Z(t,"images","resizeNearestNeighbor");ee(r.rank===3||r.rank===4,function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank "+r.rank+"."}),ee(e.length===2,function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+e+"."}),ee(r.dtype==="float32"||r.dtype==="int32",function(){return"`images` must have `int32` or `float32` as dtype"});var a=r,o=!1;r.rank===3&&(o=!0,a=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var i=e[0],s=e[1],u=se.runKernelFunc(function(c,f){return f([a]),c.resizeNearestNeighbor(a,i,s,n)},{batchImages:a},function(c,f){return{batchImages:function(){return se.runKernelFunc(function(h){return h.resizeNearestNeighborBackprop(c,f[0],n)},{})}}});return o?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),eee=ae({nonMaxSuppression_:function(t,e,n,r,a){r===void 0&&(r=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY);var o=Z(t,"boxes","nonMaxSuppression"),i=Z(e,"scores","nonMaxSuppression"),s=zb(o,i,n,r,a);n=s.maxOutputSize,r=s.iouThreshold,a=s.scoreThreshold;var u={maxOutputSize:n,iouThreshold:r,scoreThreshold:a};return se.runKernelFunc(function(c){return c.nonMaxSuppression(o,i,n,r,a)},{boxes:o,scores:i},null,"NonMaxSuppressionV3",u)}}),tee=function(t,e,n,r,a){return r===void 0&&(r=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY),Je(this,void 0,void 0,function(){var o,i,s,u,c,f,h;return et(this,function(m){switch(m.label){case 0:return o=Z(t,"boxes","nonMaxSuppressionAsync"),i=Z(e,"scores","nonMaxSuppressionAsync"),s=zb(o,i,n,r,a),n=s.maxOutputSize,r=s.iouThreshold,a=s.scoreThreshold,[4,Promise.all([o.data(),i.data()])];case 1:return u=m.sent(),c=u[0],f=u[1],h=__(c,f,n,r,a),o!==t&&o.dispose(),i!==e&&i.dispose(),[2,h]}})})},nee=ae({nonMaxSuppressionWithScore_:function(t,e,n,r,a,o){r===void 0&&(r=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY),o===void 0&&(o=0);var i=Z(t,"boxes","nonMaxSuppression"),s=Z(e,"scores","nonMaxSuppression"),u=zb(i,s,n,r,a,o),c={maxOutputSize:n=u.maxOutputSize,iouThreshold:r=u.iouThreshold,scoreThreshold:a=u.scoreThreshold,softNmsSigma:o=u.softNmsSigma},f=se.runKernel("NonMaxSuppressionV5",{boxes:i,scores:s},c);return{selectedIndices:f[0],selectedScores:f[1]}}}),ree=function(t,e,n,r,a,o){return r===void 0&&(r=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY),o===void 0&&(o=0),Je(this,void 0,void 0,function(){var i,s,u,c,f,h,m;return et(this,function(g){switch(g.label){case 0:return i=Z(t,"boxes","nonMaxSuppressionAsync"),s=Z(e,"scores","nonMaxSuppressionAsync"),u=zb(i,s,n,r,a,o),n=u.maxOutputSize,r=u.iouThreshold,a=u.scoreThreshold,o=u.softNmsSigma,[4,Promise.all([i.data(),s.data()])];case 1:return c=g.sent(),f=c[0],h=c[1],m=C_(f,h,n,r,a,o),i!==t&&i.dispose(),s!==e&&s.dispose(),[2,m]}})})},aee=ae({cropAndResize_:function(t,e,n,r,a,o){var i=Z(t,"image","cropAndResize"),s=Z(e,"boxes","cropAndResize","float32"),u=Z(n,"boxInd","cropAndResize","int32");a=a||"bilinear",o=o||0;var c=s.shape[0];return ee(i.rank===4,function(){return"Error in cropAndResize: image must be rank 4,but got rank "+i.rank+"."}),ee(s.rank===2&&s.shape[1]===4,function(){return"Error in cropAndResize: boxes must be have size ["+c+",4] but had shape "+s.shape+"."}),ee(u.rank===1&&u.shape[0]===c,function(){return"Error in cropAndResize: boxInd must be have size ["+c+"] but had shape "+s.shape+"."}),ee(r.length===2,function(){return"Error in cropAndResize: cropSize must be of length 2, but got length "+r.length+"."}),ee(r[0]>=1&&r[1]>=1,function(){return"cropSize must be atleast [1,1], but was "+r}),ee(a==="bilinear"||a==="nearest",function(){return"method must be bilinear or nearest, but was "+a}),se.runKernelFunc(function(f,h){return f.cropAndResize(i,s,u,r,a,o)},{images:i,boxes:s,boxInd:u},null,"CropAndResize",{method:a,extrapolationValue:o,cropSize:r})}}),B_=Object.freeze({resizeBilinear:ZJ,resizeNearestNeighbor:JJ,nonMaxSuppression:eee,nonMaxSuppressionAsync:tee,nonMaxSuppressionWithScore:nee,nonMaxSuppressionWithScoreAsync:ree,cropAndResize:aee}),z_=function(t,e){return!(t>0)||e==="linear"},$_=function(t,e,n){if(n==null||n==="linear")return t;if(n==="relu")return t.mul(e.step());throw new Error("Gradient for activation "+n+" has not been implemented yet.")},U_=function(t,e){var n=e,r=Ar(t.shape,e.shape);return r.length>0&&(n=n.sum(r)),n.reshape(t.shape)},V_=function(t,e,n){if(e==="linear")return t;if(e==="relu")return Kn(t);if(e==="elu")return B5(t);if(e==="relu6")return $5(t);if(e==="prelu")return z5(t,n);throw new Error("Unknown fused activation "+e+".")},oee=ae({fusedMatMul_:function(t){var e,n=t.a,r=t.b,a=t.transposeA,o=a!==void 0&&a,i=t.transposeB,s=i!==void 0&&i,u=t.bias,c=t.activation,f=c===void 0?"linear":c,h=t.preluActivationWeights;if(z_(se.state.gradientDepth,f)===!1){var m=Fb(n,r,o,s);return u!=null&&(m=Wt(m,u)),V_(m,f,h)}var g=Z(n,"a","fused matMul"),y=Z(r,"b","fused matMul");e=Xn(g,y),g=e[0],y=e[1];var b=o?g.shape[g.rank-2]:g.shape[g.rank-1],x=s?y.shape[y.rank-1]:y.shape[y.rank-2],S=o?g.shape[g.rank-1]:g.shape[g.rank-2],R=s?y.shape[y.rank-2]:y.shape[y.rank-1],_=g.shape.slice(0,-2),T=y.shape.slice(0,-2),A=nt(_),D=nt(T);ee(g.rank>=2&&y.rank>=2&&g.rank===y.rank,function(){return"Error in fused matMul: inputs must have the same rank of at least 2, got ranks "+g.rank+" and "+y.rank+"."}),ee(Fr(_,T),function(){return"Error in fused matMul: outer dimensions ("+_+") and ("+T+") of Tensors with shapes "+g.shape+" and "+y.shape+" must match."}),ee(b===x,function(){return"Error in fused matMul: inner shapes ("+b+") and ("+x+") of Tensors with shapes "+g.shape+" and "+y.shape+" and transposeA="+o+" and transposeB="+s+" must match."});var N,M,P=g.shape.slice(0,-2).concat([S,R]),I=o?g.as3D(A,b,S):g.as3D(A,S,b),$=s?y.as3D(D,R,x):y.as3D(D,x,R);u!=null&&Xt(P,(N=Xn(N=Z(u,"bias","fused matMul"),g)[0]).shape),h!=null&&(M=Z(h,"prelu weights","fused matMul"));var z={a:I,b:$};u!=null&&(z.bias=N),h!=null&&(z.preluActivationWeights=M);var G=[I,$];return se.runKernelFunc(function(V,B){var F=V.fusedBatchMatMul({a:I,b:$,transposeA:o,transposeB:s,bias:N,activation:f,preluActivationWeights:M});return B([I,$,F]),F},z,function(V,B){var F=B[0],U=B[1],W=B[2],Q=$_(V,W,f),q={};return u!=null&&(q={bias:function(){return U_(N,Q)}}),Object.assign(o||s?!o&&s?{a:function(){return Q.matMul(U,!1,!1)},b:function(){return Q.matMul(F,!0,!1)}}:o&&!s?{a:function(){return U.matMul(Q,!1,!0)},b:function(){return F.matMul(Q,!1,!1)}}:{a:function(){return U.matMul(Q,!0,!0)},b:function(){return Q.matMul(F,!0,!0)}}:{a:function(){return Q.matMul(U,!1,!0)},b:function(){return F.matMul(Q,!0,!1)}},q)},"_FusedMatMul",{transposeA:o,transposeB:s,activation:f},G,[!0]).reshape(P)}}),iee=ae({fusedConv2d_:function(t){var e=t.x,n=t.filter,r=t.strides,a=t.pad,o=t.dataFormat,i=o===void 0?"NHWC":o,s=t.dilations,u=s===void 0?[1,1]:s,c=t.dimRoundingMode,f=t.bias,h=t.activation,m=h===void 0?"linear":h,g=t.preluActivationWeights;if(m=m||"linear",z_(se.state.gradientDepth,m)===!1){var y=Vo(e,n,r,a,i,u,c);return f!=null&&(y=Wt(y,f)),V_(y,m,g)}var b=Z(e,"x","conv2d"),x=Z(n,"filter","conv2d"),S=b,R=!1;b.rank===3&&(R=!0,S=b.as4D(1,b.shape[0],b.shape[1],b.shape[2])),ee(S.rank===4,function(){return"Error in fused conv2d: input must be rank 4, but got rank "+S.rank+"."}),ee(x.rank===4,function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+x.rank+"."}),c!=null&&ee(cr(a),function(){return"Error in fused conv2d: pad must be an integer when using, dimRoundingMode "+c+" but got pad "+a+"."}),ee(S.shape[3]===x.shape[2],function(){return"Error in conv2d: depth of input ("+S.shape[3]+") must match input depth for filter "+x.shape[2]+"."}),ee(Qa(r,u),function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+u+"'"}),ee(i==="NHWC",function(){return"Error in conv2d: got dataFormat of "+i+" but only NHWC is currently supported."});var _,T,A=Wc(S.shape,x.shape,r,u,a,c);f!=null&&(_=Xn(_=Z(f,"bias","fused conv2d"),b)[0],Xt(A.outShape,_.shape)),g!=null&&(T=Z(g,"prelu weights","fused conv2d"));var D={x:S,filter:x};f!=null&&(D.bias=_),g!=null&&(D.preluActivationWeights=T);var N=[x,S],M=se.runKernelFunc(function(P,I){var $=P.fusedConv2d({input:S,filter:x,convInfo:A,bias:_,activation:m,preluActivationWeights:T});return I([x,S,$]),$},D,function(P,I){var $=I,z=$[0],G=$[1],V=$[2],B=$_(P,V,m);ee(Uf(u),function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+u+"'"});var F={};return f!=null&&(F={bias:function(){return U_(_,B)}}),Object.assign({x:function(){return N5(G.shape,B,z,r,a)},filter:function(){return D_(G,B,z.shape,r,a)}},F)},"FusedConv2D",{convInfo:A,activation:m},N,[!0]);return R?M.as3D(M.shape[1],M.shape[2],M.shape[3]):M}}),see=ae({fusedDepthwiseConv2d_:function(t){var e=t.x,n=t.filter,r=t.strides,a=t.pad,o=t.dataFormat,i=o===void 0?"NHWC":o,s=t.dilations,u=s===void 0?[1,1]:s,c=t.dimRoundingMode,f=t.bias,h=t.activation,m=h===void 0?"linear":h,g=t.preluActivationWeights;if(z_(se.state.gradientDepth,m)===!1){var y=Lb(e,n,r,a,i,u,c);return f!=null&&(y=Wt(y,f)),V_(y,m,g)}var b=Z(e,"x","depthwiseConv2d"),x=Z(n,"filter","depthwiseConv2d"),S=b,R=!1;b.rank===3&&(R=!0,S=b.as4D(1,b.shape[0],b.shape[1],b.shape[2])),ee(S.rank===4,function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got rank "+S.rank+"."}),ee(x.rank===4,function(){return"Error in fused depthwiseConv2d: filter must be rank 4, but got rank "+x.rank+"."}),ee(S.shape[3]===x.shape[2],function(){return"Error in fused depthwiseConv2d: number of input channels ("+S.shape[3]+") must match the inChannels dimension in filter "+x.shape[2]+"."}),u==null&&(u=[1,1]),ee(Qa(r,u),function(){return"Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+u+"'"}),c!=null&&ee(cr(a),function(){return"Error in fused depthwiseConv2d: pad must be an integer when using dimRoundingMode "+c+" but got pad "+a+"."});var _,T,A=Wc(S.shape,x.shape,r,u,a,c,!0);f!=null&&(_=Xn(_=Z(f,"bias","fused conv2d"),b)[0],Xt(A.outShape,_.shape)),g!=null&&(T=Z(g,"prelu weights","fused depthwiseConv2d"));var D={x:S,filter:x};f!=null&&(D.bias=_),g!=null&&(D.preluActivationWeights=T);var N=[x,S],M=se.runKernelFunc(function(P,I){var $=P.fusedDepthwiseConv2D({input:S,filter:x,convInfo:A,bias:_,activation:m,preluActivationWeights:T});return I([x,S,$]),$},D,function(P,I){ee(Uf(u),function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+u+"'"});var $=I[0],z=I[1],G=I[2],V=$_(P,G,m),B={};return f!=null&&(B={bias:function(){return U_(_,V)}}),Object.assign({x:function(){return O5(z.shape,V,$,A)},filter:function(){return D5(z,V,$.shape,A)}},B)},"FusedDepthwiseConv2D",{convInfo:A,activation:m},N,[!0]);return R?M.as3D(M.shape[1],M.shape[2],M.shape[3]):M}}),lee=Object.freeze({matMul:oee,conv2d:iee,depthwiseConv2d:see}),uee=Object.freeze({image:B_,linalg:QJ,losses:GJ,spectral:DJ,fused:lee,signal:FJ,square:jQ,squaredDifference:p5,conv1d:ZZ,conv2d:Vo,conv3d:JZ,depthwiseConv2d:Lb,separableConv2d:M_,conv2dTranspose:eJ,conv3dTranspose:tJ,op:ae,batchNormalization2d:bZ,batchNormalization3d:xZ,batchNormalization4d:wZ,batchNormalization:SZ,batchNorm:x5,batchNorm2d:_Z,batchNorm3d:CZ,batchNorm4d:EZ,booleanMaskAsync:QZ,complex:Yr,real:Io,imag:Ki,concat:Tr,concat1d:lY,concat2d:uY,concat3d:cY,concat4d:dY,split:b_,matMul:Fb,dot:nJ,outerProduct:rJ,reverse:ng,reverse1d:aJ,reverse2d:oJ,reverse3d:iJ,reverse4d:sJ,maxPool:Lr,avgPool:rg,pool:lJ,maxPool3d:uJ,avgPool3d:cJ,slice:ss,slice1d:dJ,slice2d:fJ,slice3d:I5,slice4d:hJ,abs:WQ,acos:HQ,acosh:qQ,asin:GQ,asinh:KQ,atan:YQ,atanh:XQ,ceil:QQ,clipByValue:k_,cos:ZQ,cosh:JQ,erf:eZ,exp:Ww,expm1:tZ,floor:nZ,log:rZ,log1p:aZ,logSigmoid:oZ,neg:Dy,reciprocal:iZ,round:sZ,rsqrt:m5,sigmoid:g5,sign:lZ,isNaN:uZ,isInf:cZ,isFinite:dZ,sin:fZ,sinh:hZ,softplus:pZ,sqrt:mZ,step:gZ,tan:vZ,tanh:yZ,all:pJ,any:mJ,argMax:gJ,argMin:vJ,logSumExp:yJ,max:Bb,mean:bJ,min:xJ,moments:wJ,sum:F5,prod:SJ,equal:E5,equalStrict:UZ,greater:VZ,greaterEqual:T5,greaterEqualStrict:jZ,greaterStrict:WZ,less:HZ,lessEqual:qZ,lessEqualStrict:GZ,lessStrict:KZ,notEqual:YZ,notEqualStrict:XZ,add:Wt,addN:AZ,addStrict:kZ,atan2:NZ,div:li,divNoNan:OZ,divStrict:DZ,floorDiv:_5,maximum:N_,maximumStrict:MZ,minimum:C5,minimumStrict:PZ,mod:IZ,modStrict:LZ,mul:ba,mulStrict:FZ,pow:My,powStrict:BZ,squaredDifferenceStrict:zZ,sub:kr,subStrict:$Z,elu:B5,leakyRelu:_J,prelu:z5,relu:Kn,relu6:$5,selu:CJ,logicalAnd:Ib,logicalNot:TZ,logicalOr:w5,logicalXor:RZ,where:Bc,whereAsync:S5,buffer:Pt,print:xY,batchToSpaceND:FM,broadcastTo:wY,cast:SY,clone:_Y,cumsum:CY,depthToSpace:EY,expandDims:Po,eye:BM,multinomial:TY,oneHot:$w,pad:jc,pad1d:RY,pad2d:AY,pad3d:kY,pad4d:NY,rand:OY,randomNormal:DY,randomGamma:MY,randomUniform:zM,reshape:ui,spaceToBatchND:$M,squeeze:UM,stack:go,tile:hf,truncatedNormal:PY,unstack:Rr,setdiff1dAsync:IY,fill:ns,linspace:sY,ones:eh,range:Cy,scalar:He,tensor:Zr,tensor1d:yr,tensor2d:pu,tensor3d:y_,tensor4d:$a,tensor5d:aY,tensor6d:oY,variable:iY,zeros:In,onesLike:LM,zerosLike:rn,transpose:xu,softmax:ol,logSoftmax:VY,localResponseNormalization:EJ,norm:U5,gather:O_,unsortedSegmentSum:R5,basicLSTMCell:TJ,multiRNNCell:RJ,movingAverage:AJ,stridedSlice:kJ,topk:NJ,scatterND:OJ,fft:P_,ifft:Py,rfft:I_,irfft:V5,sparseToDense:MJ,gatherND:PJ,diag:IJ,dropout:LJ,hannWindow:L_,hammingWindow:W5,frame:F_,stft:H5,inTopKAsync:BJ});function Me(t,e){Array.isArray(t)||(t=[t]),t.forEach(function(n){n!=null&&ee(n.dtype!=="complex64",function(){return e+" does not support complex64 tensors."})})}function v2(t,e,n,r){if(n==="linear")return t.linear(e);if(n==="relu")return t.relu(e);if(n==="elu")return t.elu(e);if(n==="relu6")return t.relu6(e);if(n==="prelu")return t.prelu(e,r);throw new Error("Activation "+n+" has not been implemented for the CPU backend.")}var cee=function(t){function e(){var n=t.call(this)||this;return n.blockSize=48,n.firstUse=!0,n.data=new KM(n,se),n}return fi(e,t),e.prototype.write=function(n,r,a){this.firstUse&&(this.firstUse=!1,Ee().get("IS_NODE")&&Sy(`
============================
Hi there 👋. Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.
============================`));var o={};return this.data.set(o,{values:n,dtype:a}),o},e.prototype.move=function(n,r,a,o){this.data.set(n,{values:r,dtype:o})},e.prototype.numDataIds=function(){return this.data.numDataIds()},e.prototype.read=function(n){return Je(this,void 0,void 0,function(){return et(this,function(r){return[2,this.readSync(n)]})})},e.prototype.readSync=function(n){var r=this.data.get(n),a=r.dtype,o=r.complexTensors;return a==="complex64"?jw(this.readSync(o.real.dataId),this.readSync(o.imag.dataId)):this.data.get(n).values},e.prototype.bufferSync=function(n){var r=this.readSync(n.dataId),a=r;if(n.dtype==="string")try{a=r.map(function(o){return by(o)})}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return Pt(n.shape,n.dtype,a)},e.prototype.makeOutput=function(n,r,a){var o=this.write(n,r,a);return se.makeTensorFromDataId(o,r,a,this)},e.prototype.disposeData=function(n){if(this.data.has(n)){var r=this.data.get(n).complexTensors;r!=null&&(r.real.dispose(),r.imag.dispose()),this.data.delete(n)}},e.prototype.time=function(n){return Je(this,void 0,void 0,function(){var r;return et(this,function(a){return r=qi(),n(),[2,{kernelMs:qi()-r}]})})},e.prototype.memory=function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}},e.prototype.complex=function(n,r){var a=this.makeOutput(null,n.shape,"complex64");return this.data.get(a.dataId).complexTensors={real:se.keep(n.clone()),imag:se.keep(r.clone())},a},e.prototype.real=function(n){return this.data.get(n.dataId).complexTensors.real.clone()},e.prototype.imag=function(n){return this.data.get(n.dataId).complexTensors.imag.clone()},e.prototype.slice=function(n,r,a){if(Me(n,"slice"),qM(n.shape,r,a)){var o=GM(r,n.strides),i=nt(a);return Zr(this.readSync(n.dataId).subarray(o,o+i),a,n.dtype)}for(var s=Pt(a,n.dtype),u=this.bufferSync(n),c=0;c<s.size;++c){var f=s.indexToLoc(c).map(function(h,m){return h+r[m]});s.values[c]=u.get.apply(u,f)}return s.toTensor()},e.prototype.stridedSlice=function(n,r,a,o){Me(n,"stridedSlice");var i=w_(r,a,o);if(i.some(function(g){return g===0}))return Zr([],i);for(var s=Pt(i,n.dtype),u=this.bufferSync(n),c=0;c<s.size;c++){for(var f=s.indexToLoc(c),h=new Array(f.length),m=0;m<h.length;m++)h[m]=f[m]*o[m]+r[m];s.set.apply(s,[u.get.apply(u,h)].concat(f))}return s.toTensor()},e.prototype.diag=function(n){for(var r=this.readSync(n.dataId),a=Pt([n.size,n.size],n.dtype),o=a.values,i=0;i<r.length;i++)o[i*n.size+i]=r[i];return a.toTensor()},e.prototype.unstack=function(n,r){for(var a=n.shape[r],o=new Array(n.rank-1),i=0,s=0;s<n.rank;s++)s!==r&&(o[i++]=n.shape[s]);var u=new Array(n.rank).fill(0),c=n.shape.slice();c[r]=1;var f=new Array(a);for(s=0;s<f.length;s++)u[r]=s,f[s]=this.slice(n,u,c).reshape(o);return f},e.prototype.reverse=function(n,r){Me(n,"reverse");for(var a=Pt(n.shape,n.dtype),o=this.bufferSync(n),i=function(u){var c=a.indexToLoc(u),f=c.slice();r.forEach(function(h){return f[h]=n.shape[h]-1-f[h]}),a.set.apply(a,[o.get.apply(o,f)].concat(c))},s=0;s<a.size;s++)i(s);return a.toTensor()},e.prototype.concat=function(n,r){var a=this;if(n[0].dtype==="complex64"){var o=n.map(function(g){return Io(g)}),i=n.map(function(g){return Ki(g)});return Yr(this.concat(o,r),this.concat(i,r))}var s=n.map(function(g){var y=nt(g.shape.slice(r));return g.as2D(-1,y)}),u=$f(s.map(function(g){return g.shape}),1),c=Pt(u,n[0].dtype).values;if(s[0].shape[0]===1){var f=0;s.forEach(function(g){c.set(a.readSync(g.dataId),f),f+=g.size})}else{var h=0;s.forEach(function(g){for(var y=a.readSync(g.dataId),b=0,x=0;x<g.shape[0];++x)for(var S=x*u[1]+h,R=0;R<g.shape[1];++R)c[S+R]=y[b++];h+=g.shape[1]})}var m=$f(n.map(function(g){return g.shape}),r);return Zr(c,m,n[0].dtype)},e.prototype.neg=function(n){return Me(n,"neg"),this.multiply(He(-1),n)},e.prototype.add=function(n,r){return n.dtype==="complex64"||r.dtype==="complex64"?this.broadcastedBinaryComplexOp(n.cast("complex64"),r.cast("complex64"),function(a,o,i,s){return{real:a+i,imag:o+s}}):this.broadcastedBinaryOp(n,r,Xr(n.dtype,r.dtype),function(a,o){return a+o})},e.prototype.addN=function(n){var r=this;Me(n,"addN");for(var a=n.map(function(f){return r.readSync(f.dataId)}),o=Pt(n[0].shape,n[0].dtype),i=o.values,s=0;s<n.length;s++)for(var u=a[s],c=0;c<i.length;c++)i[c]+=u[c];return o.toTensor()},e.prototype.softmax=function(n,r){var a=Nr([r],n.shape),o=this.max(n,a),i=Xa(o.shape,a),s=this.subtract(n,o.reshape(i)),u=this.exp(s),c=this.sum(u,a).reshape(i);return this.realDivide(u,c)},e.prototype.subtract=function(n,r){return n.dtype==="complex64"||r.dtype==="complex64"?this.broadcastedBinaryComplexOp(n.cast("complex64"),r.cast("complex64"),function(a,o,i,s){return{real:a-i,imag:o-s}}):this.broadcastedBinaryOp(n,r,Xr(n.dtype,r.dtype),function(a,o){return a-o})},e.prototype.pow=function(n,r){return Me([n,r],"pow"),this.broadcastedBinaryOp(n,r,n.dtype,function(a,o){return Math.pow(a,o)})},e.prototype.batchMatMul=function(n,r,a,o){Me([n,r],"matMul");for(var i=a?n.shape[1]:n.shape[2],s=a?n.shape[2]:n.shape[1],u=o?r.shape[1]:r.shape[2],c=n.shape[0],f=this.readSync(n.dataId),h=this.readSync(r.dataId),m=a?[n.strides[0],1,n.strides[1]]:[n.strides[0],n.strides[1],1],g=m[0],y=m[1],b=m[2],x=o?[1,r.strides[1],r.strides[0]]:[r.strides[1],1,r.strides[0]],S=x[0],R=x[1],_=x[2],T=s*u,A=Pt([c,s,u],n.dtype),D=A.values,N=this.blockSize,M=0;M<c;M++)for(var P=0;P<s;P+=N)for(var I=0;I<u;I+=N)for(var $=0;$<i;$+=N)for(var z=Math.min(P+N,s),G=Math.min(I+N,u),V=Math.min($+N,i),B=P;B<z;B++)for(var F=I;F<G;F++){for(var U=0,W=$;W<V;W++)U+=f[M*g+B*y+W*b]*h[W*S+F*R+M*_];D[M*T+(B*u+F)]+=U}return A.toTensor()},e.prototype.fusedBatchMatMul=function(n){var r=n.a,a=n.b,o=n.transposeA,i=n.transposeB,s=n.bias,u=n.activation,c=n.preluActivationWeights,f=this.batchMatMul(r,a,o,i);return s&&(f=this.add(f,s)),u&&(f=v2(this,f,u,c)),f},e.prototype.multiply=function(n,r){return n.dtype==="complex64"||r.dtype==="complex64"?this.broadcastedBinaryComplexOp(n.cast("complex64"),r.cast("complex64"),function(a,o,i,s){return{real:a*i-o*s,imag:a*s+o*i}}):this.broadcastedBinaryOp(n,r,Xr(n.dtype,r.dtype),function(a,o){return a*o})},e.prototype.realDivide=function(n,r){return Me([n,r],"realDivide"),this.broadcastedBinaryOp(n,r,"float32",function(a,o){return a/o})},e.prototype.floorDiv=function(n,r){return Me([n,r],"floorDiv"),this.broadcastedBinaryOp(n,r,"int32",function(a,o){return Math.floor(a/o)})},e.prototype.sum=function(n,r){Me(n,"sum"),so("sum",r,n.rank);for(var a=pa(n.shape,r),o=a[0],i=a[1],s=In(o,Xr(n.dtype,"int32")),u=nt(i),c=this.readSync(s.dataId),f=this.readSync(n.dataId),h=0;h<c.length;++h){for(var m=h*u,g=0,y=0;y<u;++y)g+=f[m+y];c[h]=g}return s},e.prototype.prod=function(n,r){Me(n,"sum");for(var a=pa(n.shape,r),o=a[0],i=a[1],s=In(o,Xr(n.dtype,"int32")),u=nt(i),c=this.readSync(s.dataId),f=this.readSync(n.dataId),h=0;h<c.length;++h){for(var m=h*u,g=1,y=0;y<u;++y)g*=f[m+y];c[h]=g}return s},e.prototype.unsortedSegmentSum=function(n,r,a){Me(n,"unsortedSegmentSum");for(var o=[],i=n.rank-r.rank,s=0;s<i;++s)r=r.expandDims(s+1);for(s=0;s<a;++s){var u=He(s,"int32"),c=E5(u,r).asType("float32").mul(n).sum(0);o.push(c)}return go(o)},e.prototype.argMin=function(n,r){Me(n,"argMin");var a=[r];so("argMin",a,n.rank);for(var o=pa(n.shape,a),i=o[0],s=o[1],u=In(i,"int32"),c=nt(s),f=this.readSync(u.dataId),h=this.readSync(n.dataId),m=0;m<f.length;++m){for(var g=m*c,y=h[g],b=0,x=0;x<c;++x){var S=h[g+x];S<y&&(y=S,b=x)}f[m]=b}return u},e.prototype.argMax=function(n,r){Me(n,"argMax");var a=[r];so("argMax",a,n.rank);for(var o=pa(n.shape,a),i=o[0],s=o[1],u=In(i,"int32"),c=nt(s),f=this.readSync(u.dataId),h=this.readSync(n.dataId),m=0;m<f.length;++m){for(var g=m*c,y=h[g],b=0,x=0;x<c;++x){var S=h[g+x];S>y&&(y=S,b=x)}f[m]=b}return u},e.prototype.cumsum=function(n,r,a,o){if(Me(n,"cumsum"),r!==n.rank-1)throw new Error("backend.cumsum in CPU expects an inner-most axis="+(n.rank-1)+" but got axis="+r);for(var i=Xr(n.dtype,"int32"),s=In(n.shape,i),u=this.readSync(s.dataId),c=this.readSync(n.dataId),f=n.shape[n.rank-1],h=o?function(x,S){return x+f-S-1}:function(x,S){return x+S},m=0;m<c.length;m+=f)for(var g=0;g<f;g++){var y=h(m,g);if(g===0)u[y]=a?0:c[y];else{var b=h(m,g-1);u[y]=a?c[b]+u[b]:c[y]+u[b]}}return s},e.prototype.equal=function(n,r){return Me([n,r],"equal"),this.broadcastedBinaryOp(n,r,"bool",function(a,o){return a===o?1:0})},e.prototype.notEqual=function(n,r){return Me([n,r],"notEqual"),this.broadcastedBinaryOp(n,r,"bool",function(a,o){return a!==o?1:0})},e.prototype.less=function(n,r){return Me([n,r],"less"),this.broadcastedBinaryOp(n,r,"bool",function(a,o){return a<o?1:0})},e.prototype.lessEqual=function(n,r){return Me([n,r],"lessEqual"),this.broadcastedBinaryOp(n,r,"bool",function(a,o){return a<=o?1:0})},e.prototype.greater=function(n,r){return Me([n,r],"greater"),this.broadcastedBinaryOp(n,r,"bool",function(a,o){return a>o?1:0})},e.prototype.greaterEqual=function(n,r){return Me([n,r],"greaterEqual"),this.broadcastedBinaryOp(n,r,"bool",function(a,o){return a>=o?1:0})},e.prototype.logicalNot=function(n){Me(n,"logicalNot");for(var r=this.readSync(n.dataId),a=new Uint8Array(r.length),o=0;o<r.length;++o)a[o]=r[o]?0:1;return this.makeOutput(a,n.shape,"bool")},e.prototype.logicalAnd=function(n,r){return Me([n,r],"logicalAnd"),this.broadcastedBinaryOp(n,r,"bool",function(a,o){return a&&o})},e.prototype.logicalOr=function(n,r){return Me([n,r],"logicalOr"),this.broadcastedBinaryOp(n,r,"bool",function(a,o){return a||o})},e.prototype.select=function(n,r,a){Me([n,r,a],"select");for(var o=this.readSync(n.dataId),i=this.readSync(r.dataId),s=this.readSync(a.dataId),u=In(r.shape,Xr(r.dtype,a.dtype)),c=this.readSync(u.dataId),f=0,h=n.rank===0||n.rank>1||r.rank===1?1:nt(r.shape.slice(1)),m=0;m<o.length;m++)for(var g=0;g<h;g++)o[m]===1?c[f++]=i[m]:c[f++]=s[m];return u},e.prototype.where=function(n){Me([n],"where");var r=this.readSync(n.dataId);return E_(n.shape,r)},e.prototype.topk=function(n,r,a){return Me(n,"topk"),n5(this.readSync(n.dataId),n.shape,n.dtype,r)},e.prototype.min=function(n,r){Me(n,"min"),so("min",r,n.rank);for(var a=pa(n.shape,r),o=a[0],i=a[1],s=In(o,n.dtype),u=nt(i),c=this.readSync(s.dataId),f=this.readSync(n.dataId),h=0;h<c.length;++h){for(var m=h*u,g=f[m],y=0;y<u;++y){var b=f[m+y];b<g&&(g=b)}c[h]=g}return s},e.prototype.minimum=function(n,r){return Me([n,r],"minimum"),this.broadcastedBinaryOp(n,r,n.dtype,function(a,o){return Math.min(a,o)})},e.prototype.mod=function(n,r){return Me([n,r],"mod"),this.broadcastedBinaryOp(n,r,n.dtype,function(a,o){var i=a%o;return a<0&&o<0||a>=0&&o>=0?i:(i+o)%o})},e.prototype.max=function(n,r){Me(n,"max"),so("max",r,n.rank);for(var a=pa(n.shape,r),o=a[0],i=a[1],s=In(o,n.dtype),u=nt(i),c=this.readSync(s.dataId),f=this.readSync(n.dataId),h=0;h<c.length;++h){for(var m=h*u,g=f[m],y=0;y<u;++y){var b=f[m+y];b>g&&(g=b)}c[h]=g}return s},e.prototype.maximum=function(n,r){return Me([n,r],"maximum"),this.broadcastedBinaryOp(n,r,n.dtype,function(a,o){return Math.max(a,o)})},e.prototype.all=function(n,r){Me(n,"all"),so("all",r,n.rank);for(var a=pa(n.shape,r),o=a[0],i=a[1],s=In(o,n.dtype),u=nt(i),c=this.readSync(s.dataId),f=this.readSync(n.dataId),h=0;h<c.length;++h){for(var m=h*u,g=f[m],y=0;y<u;++y){var b=f[m+y];g=g&&b}c[h]=g}return s},e.prototype.any=function(n,r){Me(n,"any"),so("any",r,n.rank);for(var a=pa(n.shape,r),o=a[0],i=a[1],s=In(o,n.dtype),u=nt(i),c=this.readSync(s.dataId),f=this.readSync(n.dataId),h=0;h<c.length;++h){for(var m=h*u,g=f[m],y=0;y<u;++y){var b=f[m+y];g=g||b}c[h]=g}return s},e.prototype.squaredDifference=function(n,r){return Me([n,r],"squaredDifference"),this.broadcastedBinaryOp(n,r,n.dtype,function(a,o){var i=a-o;return i*i})},e.prototype.ceil=function(n){Me(n,"ceil");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),o=0;o<r.length;++o)a[o]=Math.ceil(r[o]);return this.makeOutput(a,n.shape,"float32")},e.prototype.floor=function(n){Me(n,"floor");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),o=0;o<r.length;++o)a[o]=Math.floor(r[o]);return this.makeOutput(a,n.shape,"float32")},e.prototype.sign=function(n){Me(n,"x");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),o=0;o<r.length;++o)r[o]<0?a[o]=-1:r[o]>0?a[o]=1:a[o]=0;return this.makeOutput(a,n.shape,"float32")},e.prototype.isNaN=function(n){Me(n,"x");for(var r=this.readSync(n.dataId),a=new Uint8Array(r.length),o=0;o<r.length;++o)Number.isNaN(r[o])&&(a[o]=1);return this.makeOutput(a,n.shape,"bool")},e.prototype.isInf=function(n){Me(n,"x");for(var r=this.readSync(n.dataId),a=new Uint8Array(r.length),o=0;o<r.length;++o)Math.abs(r[o])===1/0&&(a[o]=1);return this.makeOutput(a,n.shape,"bool")},e.prototype.isFinite=function(n){Me(n,"x");for(var r=this.readSync(n.dataId),a=new Uint8Array(r.length),o=0;o<r.length;++o)Number.isFinite(r[o])&&(a[o]=1);return this.makeOutput(a,n.shape,"bool")},e.prototype.round=function(n){Me(n,"round");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),o=0;o<r.length;++o){var i=Math.floor(r[o]);r[o]-i<.5?a[o]=Math.floor(r[o]):r[o]-i>.5?a[o]=Math.ceil(r[o]):a[o]=i%2==0?i:i+1}return this.makeOutput(a,n.shape,"float32")},e.prototype.exp=function(n){Me(n,"exp");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),o=0;o<r.length;++o)a[o]=Math.exp(r[o]);return this.makeOutput(a,n.shape,"float32")},e.prototype.expm1=function(n){Me(n,"expm1");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),o=0;o<r.length;++o)a[o]=Math.expm1(r[o]);return this.makeOutput(a,n.shape,"float32")},e.prototype.log=function(n){Me(n,"log");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),o=0;o<r.length;++o){var i=r[o];a[o]=Math.log(i)}return this.makeOutput(a,n.shape,"float32")},e.prototype.log1p=function(n){Me(n,"log1p");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),o=0;o<r.length;++o){var i=r[o];a[o]=Math.log1p(i)}return this.makeOutput(a,n.shape,"float32")},e.prototype.sqrt=function(n){Me(n,"sqrt");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),o=0;o<r.length;++o){var i=r[o];a[o]=Math.sqrt(i)}return this.makeOutput(a,n.shape,"float32")},e.prototype.rsqrt=function(n){Me(n,"rsqrt");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),o=0;o<r.length;++o){var i=r[o];a[o]=1/Math.sqrt(i)}return this.makeOutput(a,n.shape,"float32")},e.prototype.reciprocal=function(n){Me(n,"reciprocal");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),o=0;o<r.length;++o)a[o]=1/r[o];return this.makeOutput(a,n.shape,"float32")},e.prototype.linear=function(n){return n},e.prototype.relu=function(n){Me(n,"relu");for(var r=In(n.shape,n.dtype),a=this.readSync(r.dataId),o=this.readSync(n.dataId),i=0;i<o.length;++i)a[i]=Math.max(0,o[i]);return r},e.prototype.relu6=function(n){Me(n,"relu");for(var r=In(n.shape,n.dtype),a=this.readSync(r.dataId),o=this.readSync(n.dataId),i=0;i<o.length;++i)a[i]=Math.min(Math.max(0,o[i]),6);return r},e.prototype.prelu=function(n,r){return Me([n,r],"prelu"),this.broadcastedBinaryOp(n,r,n.dtype,function(a,o){return a<0?o*a:a})},e.prototype.elu=function(n){Me(n,"elu");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),o=0;o<a.length;++o){var i=a[o];r[o]=i>=0?i:Math.exp(i)-1}return this.makeOutput(r,n.shape,"float32")},e.prototype.eluDer=function(n,r){Me([n,r],"eluDer");for(var a=new Float32Array(r.size),o=this.readSync(r.dataId),i=this.readSync(n.dataId),s=0;s<o.length;++s){var u=o[s];a[s]=u>=1?i[s]:i[s]*(u+1)}return this.makeOutput(a,r.shape,"float32")},e.prototype.selu=function(n){Me(n,"selu");for(var r=R_,a=A_,o=new Float32Array(n.size),i=this.readSync(n.dataId),s=0;s<i.length;++s){var u=i[s];o[s]=u>=0?a*u:r*(Math.exp(u)-1)}return this.makeOutput(o,n.shape,"float32")},e.prototype.clip=function(n,r,a){Me(n,"clip");for(var o=new Float32Array(n.size),i=this.readSync(n.dataId),s=0;s<i.length;++s){var u=i[s];o[s]=u>a?a:u<r?r:u}return this.makeOutput(o,n.shape,"float32")},e.prototype.abs=function(n){for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),o=0;o<a.length;++o)r[o]=Math.abs(a[o]);return this.makeOutput(r,n.shape,"float32")},e.prototype.complexAbs=function(n){for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),o=0;o<n.size;++o){var i=a[2*o],s=a[2*o+1];r[o]=Math.hypot(i,s)}return this.makeOutput(r,n.shape,"float32")},e.prototype.int=function(n){Me(n,"int");for(var r=new Int32Array(n.size),a=this.readSync(n.dataId),o=0;o<a.length;++o)r[o]=a[o];return this.makeOutput(r,n.shape,"int32")},e.prototype.sigmoid=function(n){Me(n,"sigmoid");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),o=0;o<a.length;++o)r[o]=1/(1+Math.exp(-a[o]));return this.makeOutput(r,n.shape,"float32")},e.prototype.softplus=function(n){Me(n,"softplus");for(var r=Math.log(11920928955078125e-23)+2,a=new Float32Array(n.size),o=this.readSync(n.dataId),i=0;i<o.length;++i){var s=o[i]>-r,u=o[i]<r,c=Math.exp(o[i]),f=void 0;f=u?c:s?o[i]:Math.log(1+c),a[i]=f}return this.makeOutput(a,n.shape,"float32")},e.prototype.sin=function(n){Me(n,"sin");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),o=0;o<a.length;++o)r[o]=Math.sin(a[o]);return this.makeOutput(r,n.shape,"float32")},e.prototype.cos=function(n){Me(n,"cos");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),o=0;o<a.length;++o)r[o]=Math.cos(a[o]);return this.makeOutput(r,n.shape,"float32")},e.prototype.tan=function(n){Me(n,"tan");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),o=0;o<a.length;++o)r[o]=Math.tan(a[o]);return this.makeOutput(r,n.shape,"float32")},e.prototype.asin=function(n){Me(n,"asin");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),o=0;o<a.length;++o)r[o]=Math.asin(a[o]);return this.makeOutput(r,n.shape,"float32")},e.prototype.acos=function(n){Me(n,"acos");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),o=0;o<a.length;++o)r[o]=Math.acos(a[o]);return this.makeOutput(r,n.shape,"float32")},e.prototype.atan=function(n){Me(n,"atan");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),o=0;o<a.length;++o)r[o]=Math.atan(a[o]);return this.makeOutput(r,n.shape,"float32")},e.prototype.atan2=function(n,r){return Me([n,r],"atan2"),this.broadcastedBinaryOp(n,r,n.dtype,function(a,o){return Math.atan2(a,o)})},e.prototype.sinh=function(n){Me(n,"sinh");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),o=0;o<a.length;++o)r[o]=Math.sinh(a[o]);return this.makeOutput(r,n.shape,"float32")},e.prototype.cosh=function(n){Me(n,"cosh");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),o=0;o<a.length;++o)r[o]=Math.cosh(a[o]);return this.makeOutput(r,n.shape,"float32")},e.prototype.tanh=function(n){Me(n,"tanh");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),o=0;o<a.length;++o)r[o]=dK(a[o]);return this.makeOutput(r,n.shape,"float32")},e.prototype.asinh=function(n){Me(n,"asinh");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),o=0;o<a.length;++o)r[o]=Math.asinh(a[o]);return this.makeOutput(r,n.shape,"float32")},e.prototype.acosh=function(n){Me(n,"acosh");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),o=0;o<a.length;++o)r[o]=Math.acosh(a[o]);return this.makeOutput(r,n.shape,"float32")},e.prototype.atanh=function(n){Me(n,"atanh");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),o=0;o<a.length;++o)r[o]=Math.atanh(a[o]);return this.makeOutput(r,n.shape,"float32")},e.prototype.erf=function(n){Me(n,"erf");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),o=0;o<a.length;++o){var i=Math.sign(a[o]),s=Math.abs(a[o]),u=1/(1+.3275911*s);r[o]=i*(1-((((1.061405429*u-1.453152027)*u+1.421413741)*u-.284496736)*u+.254829592)*u*Math.exp(-s*s))}return this.makeOutput(r,n.shape,"float32")},e.prototype.step=function(n,r){r===void 0&&(r=0),Me(n,"step");for(var a=new Float32Array(n.size),o=this.readSync(n.dataId),i=0;i<o.length;++i){var s=o[i];isNaN(s)?a[i]=NaN:a[i]=s>0?1:r}return this.makeOutput(a,n.shape,"float32")},e.prototype.fusedConv2d=function(n){var r=n.input,a=n.filter,o=n.convInfo,i=n.bias,s=n.activation,u=n.preluActivationWeights,c=this.conv2d(r,a,o);return i&&(c=this.add(c,i)),s&&(c=v2(this,c,s,u)),c},e.prototype.conv2d=function(n,r,a){Me([n,r],"conv2d");for(var o=a.filterHeight,i=a.filterWidth,s=a.dilationHeight,u=a.dilationWidth,c=a.padInfo.left,f=a.padInfo.top,h=a.dataFormat==="channelsLast",m=Pt(a.outShape,n.dtype),g=n.strides[0],y=h?n.strides[1]:n.strides[2],b=h?n.strides[2]:1,x=h?1:n.strides[1],S=m.strides[0],R=h?m.strides[1]:m.strides[2],_=h?m.strides[2]:1,T=h?1:m.strides[1],A=this.readSync(n.dataId),D=this.readSync(r.dataId),N=m.values,M=0;M<a.batchSize;++M)for(var P=M*g,I=M*S,$=0;$<a.outHeight;++$)for(var z=I+$*R,G=$*a.strideHeight-f,V=0;V<o;V++){var B=G+V*s;if(!(B<0||B>=a.inHeight))for(var F=V*r.strides[0],U=P+B*y,W=0;W<a.outWidth;++W)for(var Q=z+W*_,q=W*a.strideWidth-c,le=0;le<i;le++){var J=q+le*u;if(!(J<0||J>=a.inWidth))for(var oe=U+J*b,re=F+le*r.strides[1],we=0;we<a.inChannels;++we){for(var be=A[oe+we*x],Oe=0;Oe<a.outChannels;++Oe)N[Q+Oe*T]+=be*D[re+Oe];re+=a.outChannels}}}return m.toTensor()},e.prototype.conv3d=function(n,r,a){for(var o=a.filterDepth,i=a.filterHeight,s=a.filterWidth,u=a.dilationDepth,c=a.dilationHeight,f=a.dilationWidth,h=a.padInfo.front,m=a.padInfo.left,g=a.padInfo.top,y=Pt(a.outShape,n.dtype),b=this.readSync(n.dataId),x=this.readSync(r.dataId),S=y.values,R=0;R<a.batchSize;++R)for(var _=R*n.strides[0],T=R*y.strides[0],A=0;A<a.outDepth;++A)for(var D=T+A*y.strides[1],N=A*a.strideDepth-h,M=0;M<o;M++){var P=N+M*u;if(!(P<0||P>=a.inDepth))for(var I=M*r.strides[0],$=_+P*n.strides[1],z=0;z<a.outHeight;++z)for(var G=D+z*y.strides[2],V=z*a.strideHeight-g,B=0;B<i;B++){var F=V+B*c;if(!(F<0||F>=a.inHeight))for(var U=I+B*r.strides[1],W=$+F*n.strides[2],Q=0;Q<a.outWidth;++Q)for(var q=G+Q*a.outChannels,le=Q*a.strideWidth-m,J=0;J<s;J++){var oe=le+J*f;if(!(oe<0||oe>=a.inWidth))for(var re=U+J*r.strides[2],we=W+oe*a.inChannels,be=re,Oe=0;Oe<a.inChannels;++Oe){for(var pe=b[we+Oe],De=0;De<a.outChannels;++De)S[q+De]+=pe*x[be+De];be+=a.outChannels}}}}return y.toTensor()},e.prototype.conv2dDerInput=function(n,r,a){Me([n,r],"conv2dDerInput");for(var o=Pt(a.inShape,"float32"),i=o.values,s=this.readSync(n.dataId),u=this.readSync(r.dataId),c=r.strides,f=c[0],h=c[1],m=c[2],g=a.batchSize,y=a.filterHeight,b=a.filterWidth,x=a.inChannels,S=a.inHeight,R=a.inWidth,_=a.outChannels,T=a.outHeight,A=a.outWidth,D=a.strideHeight,N=a.strideWidth,M=a.dataFormat,P=y-1-a.padInfo.top,I=b-1-a.padInfo.left,$=M==="channelsLast",z=o.strides[0],G=$?o.strides[1]:o.strides[2],V=$?o.strides[2]:1,B=$?1:o.strides[1],F=n.strides[0],U=$?n.strides[1]:n.strides[2],W=$?n.strides[2]:1,Q=$?1:n.strides[1],q=0;q<g;++q)for(var le=0;le<x;++le)for(var J=0;J<S;++J)for(var oe=J-P,re=Math.max(0,Math.ceil(oe/D)),we=Math.min(T,(y+oe)/D),be=0;be<R;++be){for(var Oe=be-I,pe=Math.max(0,Math.ceil(Oe/N)),De=Math.min(A,(b+Oe)/N),Ve=0,Pe=re;Pe<we;++Pe)for(var ze=Pe*D-oe,Ce=pe;Ce<De;++Ce)for(var Ie=F*q+U*Pe+W*Ce,Ue=f*(y-1-ze)+h*(b-1-(Ce*N-Oe))+m*le,st=0;st<_;++st)Ve+=s[Ie+Q*st]*u[Ue+st];i[z*q+G*J+V*be+B*le]=Ve}return o.toTensor()},e.prototype.conv3dDerInput=function(n,r,a){for(var o=Pt(a.inShape,"float32"),i=o.values,s=o.strides,u=s[0],c=s[1],f=s[2],h=s[3],m=this.readSync(n.dataId),g=n.strides,y=g[0],b=g[1],x=g[2],S=g[3],R=this.readSync(r.dataId),_=r.strides,T=_[0],A=_[1],D=_[2],N=_[3],M=a.batchSize,P=a.filterDepth,I=a.filterHeight,$=a.filterWidth,z=a.inChannels,G=a.inDepth,V=a.inHeight,B=a.inWidth,F=a.outChannels,U=a.outDepth,W=a.outHeight,Q=a.outWidth,q=a.strideDepth,le=a.strideHeight,J=a.strideWidth,oe=P-1-a.padInfo.front,re=I-1-a.padInfo.top,we=$-1-a.padInfo.left,be=0;be<M;++be)for(var Oe=0;Oe<z;++Oe)for(var pe=0;pe<G;++pe)for(var De=pe-oe,Ve=Math.max(0,Math.ceil(De/q)),Pe=Math.min(U,(P+De)/q),ze=0;ze<V;++ze)for(var Ce=ze-re,Ie=Math.max(0,Math.ceil(Ce/le)),Ue=Math.min(W,(I+Ce)/le),st=0;st<B;++st){for(var mt=st-we,Jt=Math.max(0,Math.ceil(mt/J)),Ht=Math.min(Q,($+mt)/J),Ut=0,yt=Ve;yt<Pe;++yt)for(var Vt=yt*q-De,qt=Ie;qt<Ue;++qt)for(var fe=qt*le-Ce,$e=Jt;$e<Ht;++$e)for(var je=y*be+b*yt+x*qt+S*$e,Ge=T*(P-1-Vt)+A*(I-1-fe)+D*($-1-($e*J-mt))+N*Oe,Fe=0;Fe<F;++Fe)Ut+=m[je+Fe]*R[Ge+Fe];i[u*be+c*pe+f*ze+h*st+Oe]=Ut}return o.toTensor()},e.prototype.conv2dDerFilter=function(n,r,a){Me([n,r],"conv2dDerFilter");for(var o=a.strideHeight,i=a.strideWidth,s=a.filterHeight,u=a.filterWidth,c=a.dataFormat==="channelsLast",f=Pt(a.filterShape,"float32"),h=a.padInfo.left,m=a.padInfo.top,g=this.bufferSync(n),y=this.bufferSync(r),b=0;b<s;++b)for(var x=Math.max(0,Math.ceil((m-b)/o)),S=Math.min(a.outHeight,(a.inHeight+m-b)/o),R=0;R<u;++R)for(var _=Math.max(0,Math.ceil((h-R)/i)),T=Math.min(a.outWidth,(a.inWidth+h-R)/i),A=0;A<a.inChannels;++A)for(var D=0;D<a.outChannels;++D){for(var N=0,M=0;M<a.batchSize;++M)for(var P=x;P<S;++P)for(var I=b+P*o-m,$=_;$<T;++$){var z=R+$*i-h;N+=c?g.get(M,I,z,A)*y.get(M,P,$,D):g.get(M,A,I,z)*y.get(M,D,P,$)}f.set(N,b,R,A,D)}return f.toTensor()},e.prototype.conv3dDerFilter=function(n,r,a){for(var o=a.strideDepth,i=a.strideHeight,s=a.strideWidth,u=a.filterDepth,c=a.filterHeight,f=a.filterWidth,h=Pt(a.filterShape,"float32"),m=h.values,g=h.strides,y=g[0],b=g[1],x=g[2],S=g[3],R=this.readSync(r.dataId),_=r.strides,T=_[0],A=_[1],D=_[2],N=_[3],M=this.readSync(n.dataId),P=n.strides,I=P[0],$=P[1],z=P[2],G=P[3],V=a.padInfo.front,B=a.padInfo.left,F=a.padInfo.top,U=0;U<u;++U)for(var W=Math.max(0,Math.ceil((V-U)/o)),Q=Math.min(a.outDepth,(a.inDepth+V-U)/o),q=U*y,le=0;le<c;++le)for(var J=Math.max(0,Math.ceil((F-le)/i)),oe=Math.min(a.outHeight,(a.inHeight+F-le)/i),re=le*b+q,we=0;we<f;++we)for(var be=Math.max(0,Math.ceil((B-we)/s)),Oe=Math.min(a.outWidth,(a.inWidth+B-we)/s),pe=we*x+re,De=0;De<a.inChannels;++De)for(var Ve=De*S+pe,Pe=0;Pe<a.outChannels;++Pe){for(var ze=0,Ce=0;Ce<a.batchSize;++Ce)for(var Ie=Ce*I,Ue=Ce*T,st=W;st<Q;++st)for(var mt=(U+st*o-V)*$+Ie,Jt=st*A+Ue,Ht=J;Ht<oe;++Ht)for(var Ut=(le+Ht*i-F)*z+mt,yt=Ht*D+Jt,Vt=be;Vt<Oe;++Vt){var qt=Vt*N+yt;ze+=M[(we+Vt*s-B)*G+Ut+De]*R[qt+Pe]}m[Ve+Pe]=ze}return h.toTensor()},e.prototype.fusedDepthwiseConv2D=function(n){var r=n.input,a=n.filter,o=n.convInfo,i=n.bias,s=n.activation,u=n.preluActivationWeights,c=this.depthwiseConv2D(r,a,o);return i&&(c=this.add(c,i)),s&&(c=v2(this,c,s,u)),c},e.prototype.depthwiseConv2D=function(n,r,a){Me([n,r],"depthwiseConv2D");for(var o=a.filterHeight,i=a.filterWidth,s=a.dilationHeight,u=a.dilationWidth,c=a.padInfo.left,f=a.padInfo.top,h=a.outChannels/a.inChannels,m=Pt(a.outShape,n.dtype),g=this.readSync(n.dataId),y=this.readSync(r.dataId),b=m.values,x=0;x<a.batchSize;++x)for(var S=x*n.strides[0],R=x*m.strides[0],_=0;_<a.outHeight;++_)for(var T=R+_*m.strides[1],A=_*a.strideHeight-c,D=0;D<o;++D){var N=A+D*s;if(!(N<0||N>=a.inHeight))for(var M=D*r.strides[0],P=S+N*n.strides[1],I=0;I<a.outWidth;++I)for(var $=T+I*m.strides[2],z=I*a.strideWidth-f,G=0;G<i;++G){var V=z+G*u;if(!(V<0||V>=a.inWidth))for(var B=M+G*r.strides[1],F=P+V*a.inChannels,U=$,W=B,Q=0;Q<a.inChannels;++Q){for(var q=g[F+Q],le=0;le<h;++le)b[U+le]+=q*y[W+le];U+=h,W+=h}}}return m.toTensor()},e.prototype.depthwiseConv2DDerInput=function(n,r,a){Me([n,r],"depthwiseConv2DDerInput");for(var o=Pt(a.inShape,"float32"),i=o.values,s=o.strides,u=s[0],c=s[1],f=s[2],h=this.readSync(n.dataId),m=n.strides,g=m[0],y=m[1],b=m[2],x=this.readSync(r.dataId),S=r.strides,R=S[0],_=S[1],T=S[2],A=a.batchSize,D=a.filterHeight,N=a.filterWidth,M=a.inChannels,P=a.inHeight,I=a.inWidth,$=a.outChannels,z=a.outHeight,G=a.outWidth,V=a.strideHeight,B=a.strideWidth,F=D-1-a.padInfo.top,U=N-1-a.padInfo.left,W=$/M,Q=0;Q<A;++Q)for(var q=0;q<M;++q)for(var le=0;le<P;++le)for(var J=le-F,oe=Math.max(0,Math.ceil(J/V)),re=Math.min(z,(D+J)/V),we=0;we<I;++we){for(var be=we-U,Oe=Math.max(0,Math.ceil(be/B)),pe=Math.min(G,(N+be)/B),De=0,Ve=oe;Ve<re;++Ve)for(var Pe=Ve*V-J,ze=Oe;ze<pe;++ze)for(var Ce=g*Q+y*Ve+b*ze,Ie=R*(D-1-Pe)+_*(N-1-(ze*B-be))+T*q,Ue=0;Ue<W;++Ue)De+=h[Ce+(q*W+Ue)]*x[Ie+Ue];i[u*Q+c*le+f*we+q]=De}return o.toTensor()},e.prototype.depthwiseConv2DDerFilter=function(n,r,a){Me([n,r],"depthwiseConv2DDerFilter");for(var o=a.strideHeight,i=a.strideWidth,s=a.filterHeight,u=a.filterWidth,c=Pt(a.filterShape,"float32"),f=a.padInfo.left,h=a.padInfo.top,m=a.outChannels/a.inChannels,g=this.bufferSync(n),y=this.bufferSync(r),b=0;b<s;++b)for(var x=Math.max(0,Math.ceil((h-b)/o)),S=Math.min(a.outHeight,(a.inHeight+h-b)/o),R=0;R<u;++R)for(var _=Math.max(0,Math.ceil((f-R)/i)),T=Math.min(a.outWidth,(a.inWidth+f-R)/i),A=0;A<a.outChannels;++A){for(var D=Math.trunc(A/m),N=A%m,M=0,P=0;P<a.batchSize;++P)for(var I=x;I<S;++I)for(var $=b+I*o-h,z=_;z<T;++z){var G=R+z*i-f;M+=g.get(P,$,G,D)*y.get(P,I,z,A)}c.set(M,b,R,D,N)}return c.toTensor()},e.prototype.tile=function(n,r){return Me(n,"tile"),t5(this.bufferSync(n),r)},e.prototype.pad=function(n,r,a){Me(n,"pad");var o=r.map(function(m,g){return m[0]+n.shape[g]+m[1]}),i=r.map(function(m){return m[0]}),s=this.bufferSync(n),u=Pt(o,n.dtype);a!==0&&u.values.fill(a);for(var c=0;c<n.size;c++){var f=s.indexToLoc(c),h=f.map(function(m,g){return m+i[g]});u.set.apply(u,[s.get.apply(s,f)].concat(h))}return u.toTensor()},e.prototype.transpose=function(n,r){Me(n,"transpose");for(var a=new Array(n.rank),o=0;o<a.length;o++)a[o]=n.shape[r[o]];var i=this.readSync(n.dataId),s=Pt(a,n.dtype),u=this.bufferSync(n);for(o=0;o<n.size;++o){for(var c=u.indexToLoc(o),f=new Array(c.length),h=0;h<f.length;h++)f[h]=c[r[h]];var m=s.locToIndex(f);s.values[m]=i[o]}return s.toTensor()},e.prototype.gather=function(n,r,a){Me([n,r],"gather");var o=n.shape.slice(),i=this.readSync(r.dataId);o[a]=i.length;for(var s=Pt(o,n.dtype),u=this.bufferSync(n),c=0;c<s.size;++c){var f=s.indexToLoc(c),h=f.slice();h[a]=i[f[a]];var m=u.locToIndex(h);s.values[c]=u.values[m]}return s.toTensor()},e.prototype.batchToSpaceND=function(n,r,a){Me([n],"batchToSpaceND");var o=r.reduce(function(h,m){return h*m}),i=Ey(n.shape,r,o),s=Ty(i.length,r.length),u=Ry(n.shape,r,o),c=VM(a,r.length),f=jM(u,a,r.length);return n.reshape(i).transpose(s).reshape(u).slice(c,f)},e.prototype.spaceToBatchND=function(n,r,a){Me([n],"spaceToBatchND");var o=r.reduce(function(m,g){return m*g}),i=[[0,0]];i.push.apply(i,a);for(var s=1+r.length;s<n.shape.length;++s)i.push([0,0]);var u=n.pad(i),c=Ey(u.shape,r,o,!1),f=Ty(c.length,r.length,!1),h=Ry(u.shape,r,o,!1);return u.reshape(c).transpose(f).reshape(h)},e.prototype.pool=function(n,r,a){Me(n,"pool");for(var o=r.strideHeight,i=r.strideWidth,s=r.dilationHeight,u=r.dilationWidth,c=r.effectiveFilterHeight,f=r.effectiveFilterWidth,h=r.padInfo.top,m=r.padInfo.left,g=a==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,y=this.readSync(n.dataId),b=Pt(r.outShape,n.dtype),x=b.values,S=r.outShape[1]*r.outShape[2]*r.outShape[3],R=r.outShape[2]*r.outShape[3],_=r.outShape[3],T=0;T<r.batchSize;++T)for(var A=T*S,D=T*n.strides[0],N=0;N<r.inChannels;++N)for(var M=0;M<r.outHeight;++M)for(var P=M*o-h,I=Math.max(0,P),$=Math.min(r.inHeight,c+P),z=A+M*R,G=0;G<r.outWidth;++G){for(var V=G*i-m,B=Math.max(0,V),F=Math.min(r.inWidth,f+V),U=g,W=0,Q=0,q=I;q<$;q+=s){for(var le=D+q*n.strides[1],J=B;J<F;J+=u){var oe=y[le+J*n.strides[2]+N];a==="max"&&oe>U?U=oe:a==="avg"&&(W+=oe,Q++)}if(isNaN(U))break}x[z+G*_+N]=a==="avg"?W/Q:U}return b.toTensor()},e.prototype.maxPool=function(n,r){return this.pool(n,r,"max")},e.prototype.maxPoolPositions=function(n,r){for(var a=Pt(r.outShape,"int32"),o=r.strideHeight,i=r.strideWidth,s=r.dilationHeight,u=r.dilationWidth,c=r.effectiveFilterHeight,f=r.effectiveFilterWidth,h=r.padInfo.top,m=r.padInfo.left,g=this.bufferSync(n),y=0;y<r.batchSize;++y)for(var b=0;b<r.inChannels;++b)for(var x=0;x<r.outHeight;++x){for(var S=x*o-h,R=S;R<0;)R+=s;for(var _=Math.min(r.inHeight,c+S),T=0;T<r.outWidth;++T){for(var A=T*i-m,D=A;D<0;)D+=u;for(var N=Math.min(r.inWidth,f+A),M=Number.NEGATIVE_INFINITY,P=-1,I=R;I<_;I+=s)for(var $=I-S,z=D;z<N;z+=u){var G=z-A,V=g.get(y,I,z,b);V>M&&(M=V,P=$*f+G)}a.set(P,y,x,T,b)}}return a.toTensor()},e.prototype.maxPoolBackprop=function(n,r,a,o){Me([r,a],"maxPoolBackprop");for(var i=this.maxPoolPositions(r,o),s=o.strideHeight,u=o.strideWidth,c=o.dilationHeight,f=o.dilationWidth,h=o.effectiveFilterHeight,m=o.effectiveFilterWidth,g=m-1-o.padInfo.left,y=h-1-o.padInfo.top,b=Pt(r.shape,"float32"),x=this.bufferSync(i),S=this.bufferSync(n),R=0;R<o.batchSize;++R)for(var _=0;_<o.inChannels;++_)for(var T=0;T<o.inHeight;++T)for(var A=0;A<o.inWidth;++A){for(var D=T-y,N=A-g,M=0,P=0;P<h;P+=c){var I=(D+P)/s;if(!(I<0||I>=o.outHeight||Math.floor(I)!==I))for(var $=0;$<m;$+=f){var z=(N+$)/u;if(!(z<0||z>=o.outWidth||Math.floor(z)!==z)){var G=h*m-1-x.get(R,I,z,_)===P*m+$?1:0;G!==0&&(M+=S.get(R,I,z,_)*G)}}}b.set(M,R,T,A,_)}return b.toTensor()},e.prototype.avgPoolBackprop=function(n,r,a){Me([n,r],"avgPoolBackprop");for(var o=a.strideHeight,i=a.strideWidth,s=a.filterHeight,u=a.filterWidth,c=a.dilationHeight,f=a.dilationWidth,h=a.effectiveFilterHeight,m=a.effectiveFilterWidth,g=m-1-a.padInfo.left,y=h-1-a.padInfo.top,b=Pt(r.shape,"float32"),x=1/(s*u),S=this.bufferSync(n),R=0;R<a.batchSize;++R)for(var _=0;_<a.inChannels;++_)for(var T=0;T<a.inHeight;++T)for(var A=0;A<a.inWidth;++A){for(var D=T-y,N=A-g,M=0,P=0;P<h;P+=c){var I=(D+P)/o;if(!(I<0||I>=a.outHeight||Math.floor(I)!==I))for(var $=0;$<m;$+=f){var z=(N+$)/i;z<0||z>=a.outWidth||Math.floor(z)!==z||(M+=S.get(R,I,z,_))}}b.set(M*x,R,T,A,_)}return b.toTensor()},e.prototype.pool3d=function(n,r,a){Me(n,"pool3d");for(var o=r.strideDepth,i=r.strideHeight,s=r.strideWidth,u=r.dilationDepth,c=r.dilationHeight,f=r.dilationWidth,h=r.effectiveFilterDepth,m=r.effectiveFilterHeight,g=r.effectiveFilterWidth,y=r.padInfo.front,b=r.padInfo.top,x=r.padInfo.left,S=a==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,R=this.readSync(n.dataId),_=Pt(r.outShape,n.dtype),T=_.values,A=r.outShape[1]*r.outShape[2]*r.outShape[3]*r.outShape[4],D=r.outShape[2]*r.outShape[3]*r.outShape[4],N=r.outShape[3]*r.outShape[4],M=r.outShape[4],P=0;P<r.batchSize;++P)for(var I=P*A,$=P*n.strides[0],z=0;z<r.inChannels;++z)for(var G=0;G<r.outDepth;++G){for(var V=G*o-y,B=V;B<0;)B+=u;for(var F=Math.min(r.inDepth,h+V),U=I+G*D,W=0;W<r.outHeight;++W){for(var Q=W*i-b,q=Q;q<0;)q+=c;for(var le=Math.min(r.inHeight,m+Q),J=U+W*N,oe=0;oe<r.outWidth;++oe){for(var re=oe*s-x,we=re;we<0;)we+=f;for(var be=Math.min(r.inWidth,g+re),Oe=J+oe*M,pe=S,De=0,Ve=0,Pe=B;Pe<F;Pe+=u){for(var ze=$+Pe*n.strides[1],Ce=q;Ce<le;Ce+=c){for(var Ie=ze+Ce*n.strides[2],Ue=we;Ue<be;Ue+=f){var st=R[Ie+Ue*n.strides[3]+z];if(a==="max"&&st>pe?pe=st:a==="avg"&&(De+=st,Ve++),isNaN(pe))break}if(isNaN(pe))break}if(isNaN(pe))break}T[Oe+z]=a==="avg"?De/Ve:pe}}}return _.toTensor()},e.prototype.avgPool3d=function(n,r){return Me(n,"avgPool3d"),this.pool3d(n,r,"avg").toFloat()},e.prototype.avgPool3dBackprop=function(n,r,a){Me([n,r],"avgPool3dBackprop");for(var o=a.strideDepth,i=a.strideHeight,s=a.strideWidth,u=a.filterDepth,c=a.filterHeight,f=a.filterWidth,h=a.dilationDepth,m=a.dilationHeight,g=a.dilationWidth,y=a.effectiveFilterDepth,b=a.effectiveFilterHeight,x=a.effectiveFilterWidth,S=y-1-a.padInfo.front,R=x-1-a.padInfo.left,_=b-1-a.padInfo.top,T=Pt(r.shape,"float32"),A=1/(u*c*f),D=this.bufferSync(n),N=0;N<a.batchSize;++N)for(var M=0;M<a.inChannels;++M)for(var P=0;P<a.inDepth;++P)for(var I=0;I<a.inHeight;++I)for(var $=0;$<a.inWidth;++$){for(var z=P-S,G=I-_,V=$-R,B=0,F=0;F<y;F+=h){var U=(z+F)/o;if(!(U<0||U>=a.outDepth||Math.floor(U)!==U))for(var W=0;W<b;W+=m){var Q=(G+W)/i;if(!(Q<0||Q>=a.outHeight||Math.floor(Q)!==Q))for(var q=0;q<x;q+=g){var le=(V+q)/s;le<0||le>=a.outWidth||Math.floor(le)!==le||(B+=D.get(N,U,Q,le,M))}}}T.set(B*A,N,P,I,$,M)}return T.toTensor()},e.prototype.maxPool3d=function(n,r){return Me(n,"maxPool3d"),this.pool3d(n,r,"max").toFloat()},e.prototype.maxPool3dPositions=function(n,r){for(var a=Pt(r.outShape,"int32"),o=r.strideDepth,i=r.strideHeight,s=r.strideWidth,u=r.dilationDepth,c=r.dilationHeight,f=r.dilationWidth,h=r.effectiveFilterDepth,m=r.effectiveFilterHeight,g=r.effectiveFilterWidth,y=r.padInfo.front,b=r.padInfo.top,x=r.padInfo.left,S=this.bufferSync(n),R=0;R<r.batchSize;++R)for(var _=0;_<r.inChannels;++_)for(var T=0;T<r.outDepth;++T){for(var A=T*o-y,D=A;D<0;)D+=u;for(var N=Math.min(r.inDepth,h+A),M=0;M<r.outHeight;++M){for(var P=M*i-b,I=P;I<0;)I+=c;for(var $=Math.min(r.inHeight,m+P),z=0;z<r.outWidth;++z){for(var G=z*s-x,V=G;V<0;)V+=f;for(var B=Math.min(r.inWidth,g+G),F=Number.NEGATIVE_INFINITY,U=-1,W=D;W<N;W+=u)for(var Q=W-A,q=I;q<$;q+=c)for(var le=q-P,J=V;J<B;J+=f){var oe=J-G,re=S.get(R,W,q,J,_);re>=F&&(F=re,U=Q*m*g+le*m+oe)}a.set(U,R,T,M,z,_)}}}return a.toTensor()},e.prototype.maxPool3dBackprop=function(n,r,a,o){Me([r,a],"maxPool3dBackprop");for(var i=this.maxPool3dPositions(r,o),s=o.strideDepth,u=o.strideHeight,c=o.strideWidth,f=o.dilationDepth,h=o.dilationHeight,m=o.dilationWidth,g=o.effectiveFilterDepth,y=o.effectiveFilterHeight,b=o.effectiveFilterWidth,x=g-1-o.padInfo.front,S=b-1-o.padInfo.left,R=y-1-o.padInfo.top,_=Pt(r.shape,"float32"),T=this.bufferSync(i),A=this.bufferSync(n),D=0;D<o.batchSize;++D)for(var N=0;N<o.inChannels;++N)for(var M=0;M<o.inDepth;++M)for(var P=0;P<o.inHeight;++P)for(var I=0;I<o.inWidth;++I){for(var $=M-x,z=P-R,G=I-S,V=0,B=0;B<g;B+=f){var F=($+B)/s;if(!(F<0||F>=o.outDepth||Math.floor(F)!==F))for(var U=0;U<y;U+=h){var W=(z+U)/u;if(!(W<0||W>=o.outHeight||Math.floor(W)!==W))for(var Q=0;Q<b;Q+=m){var q=(G+Q)/c;if(!(q<0||q>=o.outWidth||Math.floor(q)!==q)){var le=g*y*b-1-T.get(D,F,W,q,N)===B*y*b+U*b+Q?1:0;le!==0&&(V+=A.get(D,F,W,q,N)*le)}}}}_.set(V,D,M,P,I,N)}return _.toTensor()},e.prototype.cast=function(n,r){return QM(n,r,this)},e.prototype.reshape=function(n,r){return Vw(n,r)},e.prototype.avgPool=function(n,r){return Me(n,"avgPool"),this.pool(n,r,"avg").toFloat()},e.prototype.resizeBilinear=function(n,r,a,o){Me(n,"resizeBilinear");for(var i=n.shape,s=i[0],u=i[1],c=i[2],f=i[3],h=this.readSync(n.dataId),m=new Float32Array(nt([s,r,a,f])),g=[o&&r>1?u-1:u,o&&a>1?c-1:c],y=[o&&r>1?r-1:r,o&&a>1?a-1:a],b=0,x=g[0]/y[0],S=g[1]/y[1],R=0;R<s;R++)for(var _=0;_<r;_++)for(var T=x*_,A=Math.floor(T),D=T-A,N=Math.min(u-1,Math.ceil(T)),M=R*n.strides[0]+A*n.strides[1],P=R*n.strides[0]+N*n.strides[1],I=0;I<a;I++)for(var $=S*I,z=Math.floor($),G=$-z,V=Math.min(c-1,Math.ceil($)),B=M+z*n.strides[2],F=P+z*n.strides[2],U=M+V*n.strides[2],W=P+V*n.strides[2],Q=0;Q<f;Q++){var q=h[B+Q],le=h[F+Q],J=q+(h[U+Q]-q)*G,oe=J+(le+(h[W+Q]-le)*G-J)*D;m[b++]=oe}return Zr(m,[s,r,a,f])},e.prototype.resizeBilinearBackprop=function(n,r,a){Me([n,r],"resizeBilinearBackprop");for(var o=r.shape,i=o[0],s=o[1],u=o[2],c=o[3],f=n.shape,h=f[1],m=f[2],g=new Float32Array(i*s*u*c),y=[a&&h>1?s-1:s,a&&m>1?u-1:u],b=[a&&h>1?h-1:h,a&&m>1?m-1:m],x=y[0]/b[0],S=y[1]/b[1],R=this.readSync(n.dataId),_=0,T=0;T<i;T++)for(var A=T*r.strides[0],D=0;D<h;D++)for(var N=D*x,M=Math.floor(N),P=Math.min(Math.ceil(N),s-1),I=A+M*r.strides[1],$=A+P*r.strides[1],z=N-M,G=1-z,V=0;V<m;V++)for(var B=V*S,F=Math.floor(B),U=Math.min(Math.ceil(B),u-1),W=B-F,Q=1-W,q=I+F*r.strides[2],le=I+U*r.strides[2],J=$+F*r.strides[2],oe=$+U*r.strides[2],re=G*Q,we=G*W,be=z*Q,Oe=z*W,pe=0;pe<c;pe++){var De=R[_++];g[q+pe]+=De*re,g[le+pe]+=De*we,g[J+pe]+=De*be,g[oe+pe]+=De*Oe}return $a(g,[i,u,s,c],r.dtype)},e.prototype.resizeNearestNeighbor=function(n,r,a,o){Me(n,"resizeNearestNeighbor");for(var i=n.shape,s=i[0],u=i[1],c=i[2],f=i[3],h=this.readSync(n.dataId),m=new Float32Array(s*r*a*f),g=[o&&r>1?u-1:u,o&&a>1?c-1:c],y=[o&&r>1?r-1:r,o&&a>1?a-1:a],b=g[0]/y[0],x=g[1]/y[1],S=0,R=0;R<s;R++)for(var _=R*n.strides[0],T=0;T<r;T++)for(var A=b*T,D=_+Math.min(u-1,o?Math.round(A):Math.floor(A))*n.strides[1],N=0;N<a;N++)for(var M=x*N,P=D+Math.min(c-1,o?Math.round(M):Math.floor(M))*n.strides[2],I=0;I<f;I++){var $=h[P+I];m[S++]=$}return Zr(m,[s,r,a,f],n.dtype)},e.prototype.resizeNearestNeighborBackprop=function(n,r,a){Me([n,r],"resizeNearestNeighborBackprop");for(var o=r.shape,i=o[0],s=o[1],u=o[2],c=o[3],f=n.shape,h=f[1],m=f[2],g=new Float32Array(i*s*u*c),y=this.readSync(n.dataId),b=[a&&h>1?s-1:s,a&&m>1?u-1:u],x=[a&&h>1?h-1:h,a&&m>1?m-1:m],S=b[0]/x[0],R=b[1]/x[1],_=1/S,T=1/R,A=2*Math.ceil(_)+2,D=2*Math.ceil(T)+2,N=0;N<i;N++)for(var M=N*r.strides[0],P=0;P<s;P++)for(var I=M+P*r.strides[1],$=Math.floor(P*_),z=Math.floor($-A/2),G=0;G<u;G++)for(var V=I+G*r.strides[2],B=Math.floor(G*T),F=Math.floor(B-D/2),U=0;U<c;U++){for(var W=0,Q=0;Q<A;Q++){var q=Q+z;if(!(q<0||q>=h)){var le=M+q*n.strides[1],J=q*S;if(P===Math.min(s-1,a?Math.round(J):Math.floor(J)))for(var oe=0;oe<D;oe++){var re=oe+F;if(!(re<0||re>=m)){var we=le+re*n.strides[2],be=re*R;G===Math.min(u-1,a?Math.round(be):Math.floor(be))&&(W+=y[we+U])}}}}g[V+U]=W}return $a(g,r.shape,r.dtype)},e.prototype.batchNormalization=function(n,r,a,o,i,s){Me([n,r,a,i,s],"batchNorm");for(var u=this.readSync(n.dataId),c=this.readSync(r.dataId),f=this.readSync(a.dataId),h=i?this.readSync(i.dataId):new Float32Array([1]),m=s?this.readSync(s.dataId):new Float32Array([0]),g=new Float32Array(u.length),y=m.length,b=h.length,x=f.length,S=c.length,R=0,_=0,T=0,A=0,D=0;D<u.length;++D)g[D]=m[R++]+(u[D]-c[_++])*h[T++]/Math.sqrt(f[A++]+o),R>=y&&(R=0),_>=S&&(_=0),T>=b&&(T=0),A>=x&&(A=0);return $a(g,n.shape)},e.prototype.localResponseNormalization4D=function(n,r,a,o,i){Me(n,"localResponseNormalization4D");var s=n.shape[3],u=s-1,c=this.readSync(n.dataId),f=n.size,h=new Float32Array(f);function m(x){for(var S=x%s,R=x-S+Math.max(0,S-r),_=x-S+Math.min(S+r,u),T=0;R<=_;R++){var A=c[R];T+=A*A}return T}for(var g=0;g<f;g++){var y=m(g),b=c[g]*Math.pow(a+o*y,-i);h[g]=b}return $a(h,n.shape)},e.prototype.LRNGrad=function(n,r,a,o,i,s,u){Me(n,"LRNGrad");for(var c=n.shape[3],f=this.readSync(n.dataId),h=this.readSync(r.dataId),m=this.readSync(a.dataId),g=new Float32Array(n.size),y=n.size,b=0;b<y;b++){for(var x=b%c,S=b-x+Math.max(0,x-o),R=b-x+Math.min(c,x+o+1),_=0,T=S;T<R;T++)_+=Math.pow(h[T],2);for(_=s*_+i,T=S;T<R;T++){var A=-2*s*u*h[T]*m[b]/_;b===T&&(A+=Math.pow(_,-u)),A*=f[b],g[T]+=A}}return $a(g,n.shape)},e.prototype.multinomial=function(n,r,a,o){Me(n,"multinomial");for(var i=r?n:ol(n),s=i.shape[0],u=i.shape[1],c=In([s,a],"int32"),f=this.readSync(c.dataId),h=this.readSync(i.dataId),m=0;m<s;++m){var g=m*u,y=new Float32Array(u-1);y[0]=h[g];for(var b=1;b<y.length;++b)y[b]=y[b-1]+h[g+b];for(var x=Db(o.toString()),S=m*a,R=0;R<a;++R){var _=x();f[S+R]=y.length;for(var T=0;T<y.length;T++)if(_<y[T]){f[S+R]=T;break}}}return c},e.prototype.oneHot=function(n,r,a,o){Me(n,"oneHot");var i=new Float32Array(n.size*r);i.fill(o);for(var s=this.readSync(n.dataId),u=0;u<n.size;++u)s[u]>=0&&s[u]<r&&(i[u*r+s[u]]=a);return pu(i,[n.size,r],"int32")},e.prototype.nonMaxSuppression=function(n,r,a,o,i){return Me(n,"nonMaxSuppression"),__(this.readSync(n.dataId),this.readSync(r.dataId),a,o,i)},e.prototype.fft=function(n){return this.fftBatch(n,!1)},e.prototype.ifft=function(n){return this.fftBatch(n,!0)},e.prototype.fftBatch=function(n,r){for(var a=n.shape[0],o=n.shape[1],i=Pt(n.shape,"float32"),s=Pt(n.shape,"float32"),u=Io(n).as2D(a,o),c=Ki(n).as2D(a,o),f=0;f<a;f++)for(var h=u.slice([f,0],[1,o]),m=c.slice([f,0],[1,o]),g=Yr(h,m),y=this.readSync(this.fftImpl(g,r).dataId),b=0;b<o;b++){var x=$R(y,b);i.values[f*o+b]=x.real,s.values[f*o+b]=x.imag}return Yr(i.toTensor(),s.toTensor()).as2D(a,o)},e.prototype.fftImpl=function(n,r){var a=n.as1D(),o=a.size;if(this.isExponentOf2(o)){var i=this.fftRadix2(a,o,r).as2D(n.shape[0],n.shape[1]);return r&&(i=Yr(Io(i).div(He(o)),Ki(i).div(He(o)))),i}var s=this.readSync(n.dataId),u=function(c){for(var f=new Float32Array(c.length/2),h=new Float32Array(c.length/2),m=0;m<c.length;m+=2)f[m/2]=c[m],h[m/2]=c[m+1];return{real:f,imag:h}}(this.fourierTransformByMatmul(s,o,r));return Yr(u.real,u.imag).as2D(n.shape[0],n.shape[1])},e.prototype.isExponentOf2=function(n){return(n&n-1)==0},e.prototype.fftRadix2=function(n,r,a){if(r===1)return n;var o=this.readSync(n.dataId),i=r/2,s=function(S){for(var R=Math.ceil(S.length/4),_=new Float32Array(R),T=new Float32Array(R),A=0;A<S.length;A+=4)_[Math.floor(A/4)]=S[A],T[Math.floor(A/4)]=S[A+1];return{real:_,imag:T}}(o),u=Yr(s.real,s.imag).as1D(),c=function(S){for(var R=Math.floor(S.length/4),_=new Float32Array(R),T=new Float32Array(R),A=2;A<S.length;A+=4)_[Math.floor(A/4)]=S[A],T[Math.floor(A/4)]=S[A+1];return{real:_,imag:T}}(o),f=Yr(c.real,c.imag).as1D();u=this.fftRadix2(u,i,a),f=this.fftRadix2(f,i,a);var h=function(S,R){for(var _=new Float32Array(S/2),T=new Float32Array(S/2),A=0;A<Math.ceil(S/2);A++){var D=(R?2:-2)*Math.PI*(A/S);_[A]=Math.cos(D),T[A]=Math.sin(D)}return{real:_,imag:T}}(r,a),m=Yr(h.real,h.imag).mul(f),g=u.add(m),y=u.sub(m),b=Io(g).concat(Io(y)),x=Ki(g).concat(Ki(y));return Yr(b,x).as1D()},e.prototype.fourierTransformByMatmul=function(n,r,a){for(var o=new Float32Array(2*r),i=0;i<r;i++){for(var s=0,u=0,c=0;c<r;c++){var f=WY(i*c,r,a),h=$R(n,c);s+=h.real*f.real-h.imag*f.imag,u+=h.real*f.imag+h.imag*f.real}a&&(s/=r,u/=r),jY(o,s,u,i)}return o},e.prototype.depthToSpace=function(n,r,a){ee(a==="NHWC",function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got "+a}),ee(r>1,function(){return"blockSize should be > 1 for depthToSpace, but was: "+r});for(var o=n.shape[0],i=n.shape[1],s=n.shape[2],u=n.shape[3],c=i*r,f=s*r,h=u/(r*r),m=this.readSync(n.dataId),g=new Float32Array(o*c*f*h),y=0,b=0;b<o;++b)for(var x=0;x<c;++x)for(var S=Math.floor(x/r),R=x%r,_=0;_<f;++_)for(var T=Math.floor(_/r),A=(R*r+_%r)*h,D=0;D<h;++D){var N=D+A+u*(T+s*(S+i*b));g[y++]=m[N]}return $a(g,[o,c,f,h])},e.prototype.broadcastedBinaryOp=function(n,r,a,o){var i=Xt(n.shape,r.shape),s=Pt(i,a),u=this.readSync(n.dataId),c=this.readSync(r.dataId),f=fu(n.shape,i),h=fu(r.shape,i),m=s.values;if(f.length+h.length===0)for(var g=0;g<m.length;++g)m[g]=o(u[g%u.length],c[g%c.length]);else{var y=this.bufferSync(n),b=this.bufferSync(r),x=function(S){var R=s.indexToLoc(S),_=R.slice(-n.rank);f.forEach(function(N){return _[N]=0});var T=y.locToIndex(_),A=R.slice(-r.rank);h.forEach(function(N){return A[N]=0});var D=b.locToIndex(A);m[S]=o(u[T],c[D])};for(g=0;g<m.length;++g)x(g)}return s.toTensor()},e.prototype.broadcastedBinaryComplexOp=function(n,r,a){var o=Xt(n.shape,r.shape),i=Pt(o,"float32"),s=Pt(o,"float32"),u=this.readSync(n.dataId),c=this.readSync(r.dataId),f=fu(n.shape,o),h=fu(r.shape,o),m=i.values,g=s.values;if(f.length+h.length===0)for(var y=0;y<m.length;y++){var b=y%u.length,x=y%c.length,S=a(u[2*b],u[2*b+1],c[2*x],c[2*x+1]);m[y]=S.real,g[y]=S.imag}else{var R=this.bufferSync(this.data.get(n.dataId).complexTensors.real),_=this.bufferSync(this.data.get(r.dataId).complexTensors.real),T=function(A){var D=i.indexToLoc(A),N=D.slice(-n.rank);f.forEach(function(z){return N[z]=0});var M=R.locToIndex(N),P=D.slice(-r.rank);h.forEach(function(z){return P[z]=0});var I=_.locToIndex(P),$=a(u[2*M],u[2*M+1],c[2*I],c[2*I+1]);m[A]=$.real,g[A]=$.imag};for(y=0;y<m.length;y++)T(y)}return this.complex(i.toTensor(),s.toTensor())},e.prototype.split=function(n,r,a){return e5(n,r,a)},e.prototype.dispose=function(){},e.prototype.floatPrecision=function(){return 32},e.prototype.epsilon=function(){return 1e-7},e.prototype.cropAndResize=function(n,r,a,o,i,s){for(var u=n.shape,c=u[0],f=u[1],h=u[2],m=u[3],g=r.shape[0],y=o[0],b=o[1],x=Pt([g,y,b,m],"float32"),S=this.readSync(r.dataId),R=this.readSync(a.dataId),_=this.readSync(n.dataId),T=n.strides,A=x.strides,D=0;D<g;D++){var N=4*D,M=S[N],P=S[N+1],I=S[N+2],$=S[N+3],z=R[D];if(!(z>=c))for(var G=y>1?(I-M)*(f-1)/(y-1):0,V=b>1?($-P)*(h-1)/(b-1):0,B=0;B<y;B++){var F=y>1?M*(f-1)+B*G:.5*(M+I)*(f-1);if(F<0||F>f-1)for(var U=0;U<b;U++)for(var W=0;W<m;W++){var Q=W+U*A[2]+B*A[1]+D*A[0];x.values[Q]=s}else if(i==="bilinear"){var q=Math.floor(F),le=Math.ceil(F),J=F-q;for(U=0;U<b;U++)if((Pe=b>1?P*(h-1)+U*V:.5*(P+$)*(h-1))<0||Pe>h-1)for(W=0;W<m;W++)Q=W+U*A[2]+B*A[1]+D*A[0],x.values[Q]=s;else{var oe=Math.floor(Pe),re=Math.ceil(Pe),we=Pe-oe;for(W=0;W<m;W++){var be=_[Q=W+oe*T[2]+q*T[1]+z*T[0]],Oe=_[Q=W+re*T[2]+q*T[1]+z*T[0]],pe=_[Q=W+oe*T[2]+le*T[1]+z*T[0]],De=be+(Oe-be)*we,Ve=pe+(_[Q=W+re*T[2]+le*T[1]+z*T[0]]-pe)*we;Q=W+U*A[2]+B*A[1]+D*A[0],x.values[Q]=De+(Ve-De)*J}}}else for(U=0;U<b;++U){var Pe;if((Pe=b>1?P*(h-1)+U*V:.5*(P+$)*(h-1))<0||Pe>h-1)for(W=0;W<m;W++)Q=W+U*A[2]+B*A[1]+D*A[0],x.values[Q]=s;else{var ze=Math.round(Pe),Ce=Math.round(F);for(W=0;W<m;W++){var Ie=W+ze*T[2]+Ce*T[1]+z*T[0],Ue=W+U*A[2]+B*A[1]+D*A[0];x.values[Ue]=_[Ie]}}}}}return x.toTensor()},e.prototype.sparseToDense=function(n,r,a,o){var i=Ay(0,n,a),s=i.sliceRank,u=i.numUpdates,c=i.sliceSize,f=i.strides,h=i.outputSize;return this.scatter(n,r,a,h,c,u,s,f,o,!1)},e.prototype.gatherND=function(n,r){var a=r.shape,o=a[a.length-1],i=WM(n,r),s=i[0],u=i[1],c=i[2],f=i[3];if(u===0)return Zr([],s,n.dtype);for(var h=new gm([u,c],n.dtype),m=this.readSync(r.dataId),g=this.readSync(n.dataId),y=0;y<u;y++){for(var b=[],x=0,S=0;S<o;S++){var R=m[y*o+S];x+=R*f[S],b.push(R)}if(x<0||x>=n.size/c)throw new Error("Invalid indices: "+b+" does not index into "+n.shape);for(var _=0;_<c;_++)h.values[y*c+_]=g[x*c+_]}return h.toTensor().reshape(s)},e.prototype.scatterND=function(n,r,a){var o=Ay(0,n,a),i=o.sliceRank,s=o.numUpdates,u=o.sliceSize,c=o.strides,f=o.outputSize,h=He(0);return this.scatter(n,r,a,f,u,s,i,c,h,!0)},e.prototype.fill=function(n,r,a){var o=yy(a=a||Qm(r),nt(n));return o.fill(r),se.makeTensor(o,n,a,this)},e.prototype.onesLike=function(n){if(n.dtype==="string")throw new Error("onesLike is not supported for string tensors");return this.fill(n.shape,1,n.dtype)},e.prototype.zerosLike=function(n){var r=yy(n.dtype,nt(n.shape));return this.makeOutput(r,n.shape,n.dtype)},e.prototype.linspace=function(n,r,a){return ZM(n,r,a)},e.prototype.scatter=function(n,r,a,o,i,s,u,c,f,h){var m=[o/i,i],g=this.readSync(n.dataId),y=this.readSync(r.dataId);if(o===0)return Zr([],a,r.dtype);var b=new gm(m,r.dtype);b.values.fill(this.readSync(f.dataId)[0]);for(var x=0;x<s;x++){for(var S=[],R=0,_=0;_<u;_++){var T=g[x*u+_];S.push(T),R+=T*c[_]}if(R<0||R>=o/i)throw new Error("Invalid indices: "+S+" does not index into "+a);for(var A=0;A<i;A++)h?b.values[R*i+A]+=y[x*i+A]:b.values[R*i+A]=r.rank===0?y[0]:y[x*i+A]}return b.toTensor().reshape(a)},e}(YM);se.registerBackend("cpu",function(){return new cee},1);for(var y2=0,lA=[{kernelName:"NonMaxSuppressionV5",backendName:"cpu",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=t.attrs,a=e,o=a.boxes,i=a.scores,s=r,u=s.maxOutputSize,c=s.iouThreshold,f=s.scoreThreshold,h=s.softNmsSigma,m=n;Me(o,"NonMaxSuppressionWithScore");var g=C_(m.data.get(o.dataId).values,m.data.get(i.dataId).values,u,c,f,h);return[g.selectedIndices,g.selectedScores]}},{kernelName:"Square",backendName:"cpu",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=e.x,a=n;Me(r,"square");for(var o=a.data.get(r.dataId).values,i=new Float32Array(o.length),s=0;s<o.length;++s){var u=o[s];i[s]=u*u}return{dataId:a.write(i,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},{kernelName:bm,backendName:"cpu",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=e,a=r.a,o=r.b,i=n;Me([a,o],bm);var s=i.data.get(a.dataId).values,u=i.data.get(o.dataId).values,c=function(m,g,y,b,x,S){var R=Xt(m,g),_=R.length,T=ts(R),A=mm(x,nt(R)),D=m.length,N=g.length,M=ts(m),P=ts(g),I=fu(m,R),$=fu(g,R);if(I.length+$.length===0)for(var z=0;z<A.length;++z)A[z]=S(y[z%y.length],b[z%b.length]);else{var G=function(V){var B=xK(V,_,T),F=B.slice(-D);I.forEach(function(q){return F[q]=0});var U=OR(F,D,M),W=B.slice(-N);$.forEach(function(q){return W[q]=0});var Q=OR(W,N,P);A[V]=S(y[U],b[Q])};for(z=0;z<A.length;++z)G(z)}return[A,R]}(a.shape,o.shape,s,u,a.dtype,function(m,g){var y=m-g;return y*y}),f=c[0],h=c[1];return{dataId:i.write(f,h,a.dtype),shape:h,dtype:a.dtype}}}];y2<lA.length;y2++)_M(lA[y2]);var Wd,dee=function(t){this.variableNames=["A"];var e=va(),n=t[0],r=t[1];this.outputShape=t,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(`+r+".0, "+n+`.0);

        vec4 values = `+e.texture2D+`(A, uv);
        float value;
        if (depth == 0) {
          value = values.r;
        } else if (depth == 1) {
          value = values.g;
        } else if (depth == 2) {
          value = values.b;
        } else if (depth == 3) {
          value = values.a;
        }

        setOutput(floor(value * 255.0 + 0.5));
      }
    `},fee=function(t){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var e=va(),n=t[0],r=t[1];this.outputShape=t,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];

        vec4 result = vec4(0.);

        for(int row=0; row<=1; row++) {
          for(int col=0; col<=1; col++) {
            texC = coords[1] + row;
            depth = coords[2] + col;

            vec2 uv = (vec2(texC, texR) + halfCR) /
                       vec2(`+r+".0, "+n+`.0);
            vec4 values = `+e.texture2D+`(A, uv);
            float value;
            if (depth == 0) {
              value = values.r;
            } else if (depth == 1) {
              value = values.g;
            } else if (depth == 2) {
              value = values.b;
            } else if (depth == 3) {
              value = values.a;
            }

            result[row * 2 + col] = floor(value * 255.0 + 0.5);
          }
        }

        `+e.output+` = result;
      }
    `};for(var b2=0,uA=[{kernelName:"FromPixels",backendName:"webgl",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=t.attrs,a=e.pixels,o=r.numChannels,i=typeof HTMLVideoElement<"u"&&a instanceof HTMLVideoElement,s=typeof HTMLImageElement<"u"&&a instanceof HTMLImageElement,u=i?[a.videoWidth,a.videoHeight]:[a.width,a.height],c=u[0],f=u[1],h=[f,c],m=[f,c,o];(s||i)&&(Wd==null&&(Wd=document.createElement("canvas").getContext("2d")),Wd.canvas.width=c,Wd.canvas.height=f,Wd.drawImage(a,0,0,c,f),a=Wd.canvas);var g=n.makeTensorInfo(h,"int32");n.texData.get(g.dataId).usage=co.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(g.dataId),a);var y=Ee().getBool("WEBGL_PACK")?new fee(m):new dee(m),b=n.runWebGLProgram(y,[g],"int32");return n.disposeData(g.dataId),b}},{kernelName:"NonMaxSuppressionV5",backendName:"webgl",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=t.attrs;Sy("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var a=e,o=a.boxes,i=a.scores,s=r,u=s.maxOutputSize,c=s.iouThreshold,f=s.scoreThreshold,h=s.softNmsSigma,m=n,g=C_(m.readSync(o.dataId),m.readSync(i.dataId),u,c,f,h);return[g.selectedIndices,g.selectedScores]}},{kernelName:"Square",backendName:"webgl",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=e.x,a=n,o=new $t(r.shape,"return x * x;");return a.runWebGLProgram(o,[r],r.dtype)}},{kernelName:bm,backendName:"webgl",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=e,a=r.a,o=r.b,i=n,s=Ee().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new qs("return (a - b) * (a - b);",a.shape,o.shape):new tr("return (a - b) * (a - b);",a.shape,o.shape);return i.compileAndRun(s,[a,o])}}];b2<uA.length;b2++)_M(uA[b2]);for(var x2=0,cA=[{kernelName:"Square",gradFunc:function(t,e){var n=e[0];return{x:function(){return t.mul(n.toFloat().mul(2))}}}},{kernelName:bm,gradFunc:function(t,e){var n=e[0],r=e[1],a=He(2);return{a:function(){return ba(t,ba(a,kr(n,r)))},b:function(){return ba(t,ba(a,kr(r,n)))}}}}];x2<cA.length;x2++)uK(cA[x2]);var hee=function(){function t(){}return t.prototype.fetch=function(e,n){return fetch(e,n)},t.prototype.now=function(){return performance.now()},t.prototype.encode=function(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error("Browser's encoder only supports utf-8, but got "+n);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)},t.prototype.decode=function(e,n){return new TextDecoder(n).decode(e)},t}();Ee().get("IS_BROWSER")&&Ee().setPlatform("browser",new hee);var w2,pee=function(){return require("node-fetch")},mee=function(){function t(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}return t.prototype.fetch=function(e,n){return Ee().global.fetch!=null?Ee().global.fetch(e,n):(w2==null&&(w2=pee()),w2(e,n))},t.prototype.now=function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6},t.prototype.encode=function(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error("Node built-in encoder only supports utf-8, but got "+n);return this.textEncoder.encode(e)},t.prototype.decode=function(e,n){return e.length===0?"":new this.util.TextDecoder(n).decode(e)},t}();Ee().get("IS_NODE")&&Ee().setPlatform("node",new mee);var Hw={float32:4,int32:4,uint16:2,uint8:1,bool:1},Iy=4;function q5(t,e){for(var n={},r=0,a=function(s){var u=s.name,c=s.dtype,f=s.shape,h=nt(f),m=void 0;if("quantization"in s){var g=s.quantization;if(g.dtype!=="uint8"&&g.dtype!=="uint16")throw new Error("Weight "+s.name+" has unknown quantization dtype "+g.dtype+". Supported quantization dtypes are: 'uint8' and 'uint16'.");var y=Hw[g.dtype],b=t.slice(r,r+h*y),x=g.dtype==="uint8"?new Uint8Array(b):new Uint16Array(b);if(c==="float32")m=Float32Array.from(x,function(D){return D*g.scale+g.min});else{if(c!=="int32")throw new Error("Unsupported dtype in weight '"+u+"': "+c);m=Int32Array.from(x,function(D){return Math.round(D*g.scale+g.min)})}r+=h*y}else if(c==="string"){var S=nt(s.shape);m=[];for(var R=0;R<S;R++){var _=new Uint32Array(t.slice(r,r+Iy))[0];r+=Iy;var T=new Uint8Array(t.slice(r,r+_));m.push(T),r+=_}}else{var A=Hw[c];if(b=t.slice(r,r+h*A),c==="float32")m=new Float32Array(b);else if(c==="int32")m=new Int32Array(b);else{if(c!=="bool")throw new Error("Unsupported dtype in weight '"+u+"': "+c);m=new Uint8Array(b)}r+=h*A}n[u]=Zr(m,f,c)},o=0,i=e;o<i.length;o++)a(i[o]);return n}function gee(t){if(t===null)throw new Error("Invalid input value: "+JSON.stringify(t));var e=0,n=[];t.forEach(function(o){if(e+=o.byteLength,n.push(o.byteLength===o.buffer.byteLength?o:new o.constructor(o)),!(o instanceof Float32Array||o instanceof Int32Array||o instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+o.constructor.name)});var r=new Uint8Array(e),a=0;return n.forEach(function(o){r.set(new Uint8Array(o.buffer),a),a+=o.byteLength}),r.buffer}var qw=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function dA(t){return qw?Buffer.byteLength(t):new Blob([t]).size}function j_(t){var e=0;t.forEach(function(a){e+=a.byteLength});var n=new Uint8Array(e),r=0;return t.forEach(function(a){n.set(new Uint8Array(a),r),r+=a.byteLength}),n.buffer}function fA(t){for(t=t.trim();t.endsWith("/");)t=t.slice(0,t.length-1);var e=t.split("/");return e[e.length-1]}function ag(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:t.modelTopology==null?0:dA(JSON.stringify(t.modelTopology)),weightSpecsBytes:t.weightSpecs==null?0:dA(JSON.stringify(t.weightSpecs)),weightDataBytes:t.weightData==null?0:t.weightData.byteLength}}var fo=function(){function t(){this.saveRouters=[],this.loadRouters=[]}return t.getInstance=function(){return t.instance==null&&(t.instance=new t),t.instance},t.registerSaveRouter=function(e){t.getInstance().saveRouters.push(e)},t.registerLoadRouter=function(e){t.getInstance().loadRouters.push(e)},t.getSaveHandlers=function(e){return t.getHandlers(e,"save")},t.getLoadHandlers=function(e,n){return t.getHandlers(e,"load",n)},t.getHandlers=function(e,n,r){var a=[];return(n==="load"?t.getInstance().loadRouters:t.getInstance().saveRouters).forEach(function(o){var i=o(e,r);i!==null&&a.push(i)}),a},t}(),mf="://",mu=function(){function t(){this.managers={}}return t.getInstance=function(){return t.instance==null&&(t.instance=new t),t.instance},t.registerManager=function(e,n){ee(e!=null,function(){return"scheme must not be undefined or null."}),e.endsWith(mf)&&(e=e.slice(0,e.indexOf(mf))),ee(e.length>0,function(){return"scheme must not be an empty string."});var r=t.getInstance();ee(r.managers[e]==null,function(){return"A model store manager is already registered for scheme '"+e+"'."}),r.managers[e]=n},t.getManager=function(e){var n=this.getInstance().managers[e];if(n==null)throw new Error("Cannot find model manager for scheme '"+e+"'");return n},t.getSchemes=function(){return Object.keys(this.getInstance().managers)},t}();function K0(t){if(t.indexOf(mf)===-1)throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+mu.getSchemes().join(","));return{scheme:t.split(mf)[0],path:t.split(mf)[1]}}function hA(t,e,n){return n===void 0&&(n=!1),Je(this,void 0,void 0,function(){var r,a,o,i,s,u,c,f,h;return et(this,function(m){switch(m.label){case 0:return ee(t!==e,function(){return"Old path and new path are the same: '"+t+"'"}),ee((r=fo.getLoadHandlers(t)).length>0,function(){return"Copying failed because no load handler is found for source URL "+t+"."}),ee(r.length<2,function(){return"Copying failed because more than one ("+r.length+") load handlers for source URL "+t+"."}),a=r[0],ee((o=fo.getSaveHandlers(e)).length>0,function(){return"Copying failed because no save handler is found for destination URL "+e+"."}),ee(o.length<2,function(){return"Copying failed because more than one ("+r.length+") save handlers for destination URL "+e+"."}),i=o[0],s=K0(t).scheme,u=K0(t).path,c=s===K0(t).scheme,[4,a.load()];case 1:return f=m.sent(),n&&c?[4,mu.getManager(s).removeModel(u)]:[3,3];case 2:m.sent(),m.label=3;case 3:return[4,i.save(f)];case 4:return h=m.sent(),!n||c?[3,6]:[4,mu.getManager(s).removeModel(u)];case 5:m.sent(),m.label=6;case 6:return[2,h.modelArtifactsInfo]}})})}var bc="models_store",hu="model_info_store";function G5(){if(!Ee().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var t=window||self,e=t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB||t.shimIndexedDB;if(e==null)throw new Error("The current browser does not appear to support IndexedDB.");return e}function Gw(t){var e=t.result;e.createObjectStore(bc,{keyPath:"modelPath"}),e.createObjectStore(hu,{keyPath:"modelPath"})}var gf=function(){function t(e){if(this.indexedDB=G5(),e==null||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}return t.prototype.save=function(e){return Je(this,void 0,void 0,function(){return et(this,function(n){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,e)]})})},t.prototype.load=function(){return Je(this,void 0,void 0,function(){return et(this,function(e){return[2,this.databaseAction(this.modelPath)]})})},t.prototype.databaseAction=function(e,n){var r=this;return new Promise(function(a,o){var i=r.indexedDB.open("tensorflowjs",1);i.onupgradeneeded=function(){return Gw(i)},i.onsuccess=function(){var s=i.result;if(n==null){var u=s.transaction(bc,"readonly"),c=u.objectStore(bc).get(r.modelPath);c.onsuccess=function(){if(c.result==null)return s.close(),o(new Error("Cannot find model with path '"+r.modelPath+"' in IndexedDB."));a(c.result.modelArtifacts)},c.onerror=function(b){return s.close(),o(c.error)},u.oncomplete=function(){return s.close()}}else{var f,h=ag(n),m=s.transaction(hu,"readwrite"),g=m.objectStore(hu),y=g.put({modelPath:r.modelPath,modelArtifactsInfo:h});y.onsuccess=function(){var b=(f=s.transaction(bc,"readwrite")).objectStore(bc).put({modelPath:r.modelPath,modelArtifacts:n,modelArtifactsInfo:h});b.onsuccess=function(){return a({modelArtifactsInfo:h})},b.onerror=function(x){var S=(g=m.objectStore(hu)).delete(r.modelPath);S.onsuccess=function(){return s.close(),o(b.error)},S.onerror=function(R){return s.close(),o(b.error)}}},y.onerror=function(b){return s.close(),o(y.error)},m.oncomplete=function(){f==null?s.close():f.oncomplete=function(){return s.close()}}}},i.onerror=function(s){return o(i.error)}})},t.URL_SCHEME="indexeddb://",t}(),pA=function(t){return Ee().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(gf.URL_SCHEME)?(e=t.slice(gf.URL_SCHEME.length),new gf(e)):null;var e};fo.registerSaveRouter(pA),fo.registerLoadRouter(pA);var vee=function(){function t(){this.indexedDB=G5()}return t.prototype.listModels=function(){return Je(this,void 0,void 0,function(){var e=this;return et(this,function(n){return[2,new Promise(function(r,a){var o=e.indexedDB.open("tensorflowjs",1);o.onupgradeneeded=function(){return Gw(o)},o.onsuccess=function(){var i=o.result,s=i.transaction(hu,"readonly"),u=s.objectStore(hu).getAll();u.onsuccess=function(){for(var c={},f=0,h=u.result;f<h.length;f++){var m=h[f];c[m.modelPath]=m.modelArtifactsInfo}r(c)},u.onerror=function(c){return i.close(),a(u.error)},s.oncomplete=function(){return i.close()}},o.onerror=function(i){return a(o.error)}})]})})},t.prototype.removeModel=function(e){return Je(this,void 0,void 0,function(){var n=this;return et(this,function(r){var a;return e=(a=e).startsWith(gf.URL_SCHEME)?a.slice(gf.URL_SCHEME.length):a,[2,new Promise(function(o,i){var s=n.indexedDB.open("tensorflowjs",1);s.onupgradeneeded=function(){return Gw(s)},s.onsuccess=function(){var u,c=s.result,f=c.transaction(hu,"readwrite"),h=f.objectStore(hu),m=h.get(e);m.onsuccess=function(){if(m.result==null)return c.close(),i(new Error("Cannot find model with path '"+e+"' in IndexedDB."));var g=h.delete(e),y=function(){var b=(u=c.transaction(bc,"readwrite")).objectStore(bc).delete(e);b.onsuccess=function(){return o(m.result.modelArtifactsInfo)},b.onerror=function(x){return i(m.error)}};g.onsuccess=y,g.onerror=function(b){return y(),c.close(),i(m.error)}},m.onerror=function(g){return c.close(),i(m.error)},f.oncomplete=function(){u==null?c.close():u.oncomplete=function(){return c.close()}}},s.onerror=function(u){return i(s.error)}})]})})},t}();if(Ee().getBool("IS_BROWSER"))try{mu.registerManager(gf.URL_SCHEME,new vee)}catch{}var Ys="/",rf="tensorflowjs_models",K5="info",yee="model_topology",bee="weight_specs",xee="weight_data",wee="model_metadata";function Y5(t){return{info:[rf,t,K5].join(Ys),topology:[rf,t,yee].join(Ys),weightSpecs:[rf,t,bee].join(Ys),weightData:[rf,t,xee].join(Ys),modelMetadata:[rf,t,wee].join(Ys)}}function See(t){var e=t.split(Ys);if(e.length<3)throw new Error("Invalid key format: "+t);return e.slice(1,e.length-1).join(Ys)}var vf=function(){function t(e){if(!Ee().getBool("IS_BROWSER")||typeof window>"u"||window.localStorage===void 0)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,e==null||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=Y5(this.modelPath)}return t.prototype.save=function(e){return Je(this,void 0,void 0,function(){var n,r,a;return et(this,function(o){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");n=JSON.stringify(e.modelTopology),r=JSON.stringify(e.weightSpecs),a=ag(e);try{return this.LS.setItem(this.keys.info,JSON.stringify(a)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,function(i){if(qw)return Buffer.from(i).toString("base64");for(var s=new Uint8Array(i),u="",c=0,f=s.length;c<f;c++)u+=String.fromCharCode(s[c]);return btoa(u)}(e.weightData)),this.LS.setItem(this.keys.modelMetadata,JSON.stringify({format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,userDefinedMetadata:e.userDefinedMetadata})),[2,{modelArtifactsInfo:a}]}catch{throw this.LS.removeItem(this.keys.info),this.LS.removeItem(this.keys.topology),this.LS.removeItem(this.keys.weightSpecs),this.LS.removeItem(this.keys.weightData),this.LS.removeItem(this.keys.modelMetadata),new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes="+a.modelTopologyBytes+", weightSpecsBytes="+a.weightSpecsBytes+", weightDataBytes="+a.weightDataBytes+".")}return[2]})})},t.prototype.load=function(){return Je(this,void 0,void 0,function(){var e,n,r,a,o,i,s;return et(this,function(u){if((e=JSON.parse(this.LS.getItem(this.keys.info)))==null)throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if(e.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(n={},(r=JSON.parse(this.LS.getItem(this.keys.topology)))==null)throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(n.modelTopology=r,(a=JSON.parse(this.LS.getItem(this.keys.weightSpecs)))==null)throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(n.weightSpecs=a,(o=this.LS.getItem(this.keys.modelMetadata))!=null&&(i=JSON.parse(o),n.format=i.format,n.generatedBy=i.generatedBy,n.convertedBy=i.convertedBy,n.userDefinedMetadata=i.userDefinedMetadata),(s=this.LS.getItem(this.keys.weightData))==null)throw new Error("In local storage, the binary weight values of model '"+this.modelPath+"' are missing.");return n.weightData=function(c){if(qw){var f=Buffer.from(c,"base64");return f.buffer.slice(f.byteOffset,f.byteOffset+f.byteLength)}for(var h=atob(c),m=new Uint8Array(h.length),g=0;g<h.length;++g)m.set([h.charCodeAt(g)],g);return m.buffer}(s),[2,n]})})},t.URL_SCHEME="localstorage://",t}(),mA=function(t){return Ee().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(vf.URL_SCHEME)?(e=t.slice(vf.URL_SCHEME.length),new vf(e)):null;var e};fo.registerSaveRouter(mA),fo.registerLoadRouter(mA);var _ee=function(){function t(){ee(Ee().getBool("IS_BROWSER"),function(){return"Current environment is not a web browser"}),ee(typeof window>"u"||window.localStorage!==void 0,function(){return"Current browser does not appear to support localStorage"}),this.LS=window.localStorage}return t.prototype.listModels=function(){return Je(this,void 0,void 0,function(){var e,n,r,a,o,i;return et(this,function(s){for(e={},n=rf+Ys,r=Ys+K5,a=0;a<this.LS.length;++a)(o=this.LS.key(a)).startsWith(n)&&o.endsWith(r)&&(i=See(o),e[i]=JSON.parse(this.LS.getItem(o)));return[2,e]})})},t.prototype.removeModel=function(e){return Je(this,void 0,void 0,function(){var n,r;return et(this,function(a){var o;if(e=(o=e).startsWith(vf.URL_SCHEME)?o.slice(vf.URL_SCHEME.length):o,n=Y5(e),this.LS.getItem(n.info)==null)throw new Error("Cannot find model at path '"+e+"'");return r=JSON.parse(this.LS.getItem(n.info)),this.LS.removeItem(n.info),this.LS.removeItem(n.topology),this.LS.removeItem(n.weightSpecs),this.LS.removeItem(n.weightData),[2,r]})})},t}();if(Ee().getBool("IS_BROWSER"))try{mu.registerManager(vf.URL_SCHEME,new _ee)}catch{}var Cee="model",Eee=".json",Tee=".weights.bin";function gA(t){return new Promise(function(e){return setTimeout(e)}).then(t)}var S2=function(){function t(e){if(!Ee().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(t.URL_SCHEME)&&(e=e.slice(t.URL_SCHEME.length)),e!=null&&e.length!==0||(e=Cee),this.modelTopologyFileName=e+Eee,this.weightDataFileName=e+Tee}return t.prototype.save=function(e){return Je(this,void 0,void 0,function(){var n,r,a,o,i,s;return et(this,function(u){switch(u.label){case 0:if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");if(n=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"})),!(e.modelTopology instanceof ArrayBuffer))return[3,1];throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 1:return r=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],a={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:r},o=window.URL.createObjectURL(new Blob([JSON.stringify(a)],{type:"application/json"})),(i=this.jsonAnchor==null?document.createElement("a"):this.jsonAnchor).download=this.modelTopologyFileName,i.href=o,[4,gA(function(){return i.dispatchEvent(new MouseEvent("click"))})];case 2:return u.sent(),e.weightData==null?[3,4]:((s=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,s.href=n,[4,gA(function(){return s.dispatchEvent(new MouseEvent("click"))})]);case 3:u.sent(),u.label=4;case 4:return[2,{modelArtifactsInfo:ag(e)}]}})})},t.URL_SCHEME="downloads://",t}(),Ree=function(){function t(e){if(e==null||e.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received "+e);this.files=e}return t.prototype.load=function(){return Je(this,void 0,void 0,function(){var e,n,r=this;return et(this,function(a){return e=this.files[0],n=this.files.slice(1),[2,new Promise(function(o,i){var s=new FileReader;s.onload=function(u){var c=JSON.parse(u.target.result),f=c.modelTopology;if(f!=null){n.length===0&&o({modelTopology:f});var h=c.weightsManifest;if(h!=null){var m;try{m=r.checkManifestAndWeightFiles(h,n)}catch(x){return void i(x)}var g=[],y=[],b=[];h.forEach(function(x){x.paths.forEach(function(S){y.push(S),b.push(null)}),g.push.apply(g,x.weights)}),h.forEach(function(x){x.paths.forEach(function(S){var R=new FileReader;R.onload=function(_){var T=_.target.result,A=y.indexOf(S);b[A]=T,b.indexOf(null)===-1&&o({modelTopology:f,weightSpecs:g,weightData:j_(b),format:c.format,generatedBy:c.generatedBy,convertedBy:c.convertedBy,userDefinedMetadata:c.userDefinedMetadata})},R.onerror=function(_){return i("Failed to weights data from file of path '"+S+"'.")},R.readAsArrayBuffer(m[S])})})}else i(new Error("weightManifest field is missing from file "+e.name))}else i(new Error("modelTopology field is missing from file "+e.name))},s.onerror=function(u){return i("Failed to read model topology and weights manifest JSON from file '"+e.name+"'. BrowserFiles supports loading Keras-style tf.Model artifacts only.")},s.readAsText(e)})]})})},t.prototype.checkManifestAndWeightFiles=function(e,n){for(var r=[],a=n.map(function(u){return fA(u.name)}),o={},i=0,s=e;i<s.length;i++)s[i].paths.forEach(function(u){var c=fA(u);if(r.indexOf(c)!==-1)throw new Error("Duplicate file basename found in weights manifest: '"+c+"'");if(r.push(c),a.indexOf(c)===-1)throw new Error("Weight file with basename '"+c+"' is not provided.");o[u]=n[a.indexOf(c)]});if(r.length!==n.length)throw new Error("Mismatch in the number of files in weights manifest ("+r.length+") and the number of weight files provided ("+n.length+").");return o},t}();function vA(t,e,n,r){(function(o){ee(o!=null&&Array.isArray(o)&&o.length>0,function(){return"promises must be a none empty array"})})(t),function(o,i){ee(o>=0&&o<=1,function(){return"Progress fraction must be in range [0, 1], but got startFraction "+o}),ee(i>=0&&i<=1,function(){return"Progress fraction must be in range [0, 1], but got endFraction "+i}),ee(i>=o,function(){return"startFraction must be no more than endFraction, but got startFraction "+o+" and endFraction "+i})}(n=n??0,r=r??1);var a=0;return Promise.all(t.map(function(o){return o.then(function(i){var s=n+ ++a/t.length*(r-n);return e(s),i}),o}))}function X5(t,e){return Je(this,void 0,void 0,function(){var n,r,a,o,i,s,u,c,f;return et(this,function(h){switch(h.label){case 0:return e==null&&(e={}),n=e.fetchFunc==null?Ee().platform.fetch:e.fetchFunc,r=t.map(function(m){return n(m,e.requestInit,{isBinary:!0})}),a=0,o=.5,e.onProgress!=null?[3,2]:[4,Promise.all(r)];case 1:return i=h.sent(),[3,4];case 2:return[4,vA(r,e.onProgress,a,o)];case 3:i=h.sent(),h.label=4;case 4:return s=i.map(function(m){return m.arrayBuffer()}),u=.5,c=1,e.onProgress!=null?[3,6]:[4,Promise.all(s)];case 5:return f=h.sent(),[3,8];case 6:return[4,vA(s,e.onProgress,u,c)];case 7:f=h.sent(),h.label=8;case 8:return[2,f]}})})}function yA(t){var e=this;return function(n,r,a){return r===void 0&&(r=""),Je(e,void 0,void 0,function(){var o,i,s,u,c,f,h,m,g,y;return et(this,function(b){switch(b.label){case 0:if(o=n.map(function(){return!1}),i={},s=a!=null?a.map(function(){return!1}):[],u=[],n.forEach(function(x,S){var R=0;x.weights.forEach(function(_){var T="quantization"in _?_.quantization.dtype:_.dtype,A=Hw[T]*nt(_.shape),D=function(){o[S]=!0,i[S]==null&&(i[S]=[]),i[S].push({manifestEntry:_,groupOffset:R,sizeBytes:A})};a!=null?a.forEach(function(N,M){N===_.name&&(D(),s[M]=!0)}):D(),u.push(_.name),R+=A})}),!s.every(function(x){return x}))throw c=a.filter(function(x,S){return!s[S]}),new Error("Could not find weights in manifest with names: "+c.join(", ")+`. 
Manifest JSON has weights with names: `+u.join(", ")+".");return f=o.reduce(function(x,S,R){return S&&x.push(R),x},[]),h=[],f.forEach(function(x){n[x].paths.forEach(function(S){var R=r+(r.endsWith("/")?"":"/")+S;h.push(R)})}),[4,t(h)];case 1:return m=b.sent(),g={},y=0,f.forEach(function(x){for(var S=n[x].paths.length,R=0,_=0;_<S;_++)R+=m[y+_].byteLength;for(var T=new ArrayBuffer(R),A=new Uint8Array(T),D=0,N=0;N<S;N++){var M=new Uint8Array(m[y+N]);A.set(M,D),D+=M.byteLength}i[x].forEach(function(P){var I=q5(T.slice(P.groupOffset,P.groupOffset+P.sizeBytes),[P.manifestEntry]);for(var $ in I)g[$]=I[$]}),y+=S}),[2,g]}})})}}fo.registerSaveRouter(function(t){return Ee().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(S2.URL_SCHEME)?function(e){return e===void 0&&(e="model"),new S2(e)}(t.slice(S2.URL_SCHEME.length)):null});var Q5=function(){function t(e,n){if(this.DEFAULT_METHOD="POST",n==null&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.onProgress=n.onProgress,n.fetchFunc!=null?(ee(typeof n.fetchFunc=="function",function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"}),this.fetch=n.fetchFunc):this.fetch=Ee().platform.fetch,ee(e!=null&&e.length>0,function(){return"URL path for http must not be null, undefined or empty."}),Array.isArray(e)&&ee(e.length===2,function(){return"URL paths for http must have a length of 2, (actual length is "+e.length+")."}),this.path=e,n.requestInit!=null&&n.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{}}return t.prototype.save=function(e){return Je(this,void 0,void 0,function(){var n,r,a,o;return et(this,function(i){switch(i.label){case 0:if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return(n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,r=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],a={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,userDefinedMetadata:e.userDefinedMetadata,weightsManifest:r},n.body.append("model.json",new Blob([JSON.stringify(a)],{type:"application/json"}),"model.json"),e.weightData!=null&&n.body.append("model.weights.bin",new Blob([e.weightData],{type:"application/octet-stream"}),"model.weights.bin"),[4,this.fetch(this.path,n)];case 1:if((o=i.sent()).ok)return[2,{modelArtifactsInfo:ag(e),responses:[o]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+o.status+".")}})})},t.prototype.load=function(){return Je(this,void 0,void 0,function(){var e,n,r,a,o,i,s,u,c,f,h,m;return et(this,function(g){switch(g.label){case 0:return[4,this.fetch(this.path,this.requestInit)];case 1:if(!(e=g.sent()).ok)throw new Error("Request to "+this.path+" failed with status code "+e.status+". Please verify this URL points to the model JSON of the model to load.");g.label=2;case 2:return g.trys.push([2,4,,5]),[4,e.json()];case 3:return n=g.sent(),[3,5];case 4:throw g.sent(),r="Failed to parse model JSON of response from "+this.path+".",this.path.endsWith(".pb")?r+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":r+=" Please make sure the server is serving valid JSON for this request.",new Error(r);case 5:if(a=n.modelTopology,o=n.weightsManifest,i=n.generatedBy,s=n.convertedBy,u=n.format,c=n.userDefinedMetadata,a==null&&o==null)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");return o==null?[3,7]:[4,this.loadWeights(o)];case 6:m=g.sent(),f=m[0],h=m[1],g.label=7;case 7:return[2,{modelTopology:a,weightSpecs:f,weightData:h,userDefinedMetadata:c,generatedBy:i,convertedBy:s,format:u}]}})})},t.prototype.loadWeights=function(e){return Je(this,void 0,void 0,function(){var n,r,a,o,i,s,u,c,f,h,m;return et(this,function(g){switch(g.label){case 0:for(n=Array.isArray(this.path)?this.path[1]:this.path,r=function(y){var b=y.lastIndexOf("/"),x=y.lastIndexOf("?"),S=y.substring(0,b),R=x>b?y.substring(x):"";return[S+"/",R]}(n),a=r[0],o=r[1],i=this.weightPathPrefix||a,s=[],u=0,c=e;u<c.length;u++)f=c[u],s.push.apply(s,f.weights);return h=[],e.forEach(function(y){y.paths.forEach(function(b){h.push(i+b+o)})}),[4,X5(h,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress})];case 1:return m=g.sent(),[2,[s,j_(m)]]}})})},t.URL_SCHEME_REGEX=/^https?:\/\//,t}();function Kw(t){return t.match(Q5.URL_SCHEME_REGEX)!=null}var bA=function(t,e){return typeof fetch>"u"?null:(Array.isArray(t)?t.every(function(n){return Kw(n)}):Kw(t))?Yw(t,{onProgress:e}):null};function Yw(t,e){return new Q5(t,e)}fo.registerSaveRouter(bA),fo.registerLoadRouter(bA);var _2=function(){function t(e){this.modelArtifacts=e}return t.prototype.load=function(){return Je(this,void 0,void 0,function(){return et(this,function(e){return[2,this.modelArtifacts]})})},t}(),Aee=function(){function t(e){this.saveHandler=e}return t.prototype.save=function(e){return Je(this,void 0,void 0,function(){return et(this,function(n){return[2,this.saveHandler(e)]})})},t}(),Z5=Object.freeze({browserFiles:function(t){return new Ree(t)},browserHTTPRequest:function(t,e){return Yw(t,e)},concatenateArrayBuffers:j_,decodeWeights:q5,encodeWeights:function(t,e){return Je(this,void 0,void 0,function(){var n,r,a,o,i,s=this;return et(this,function(u){switch(u.label){case 0:for(n=[],r=[],a=Array.isArray(t)?t.map(function(c){return c.name}):Object.keys(t),o=function(c){var f=a[c],h=Array.isArray(t)?t[c].tensor:t[f];if(h.dtype!=="float32"&&h.dtype!=="int32"&&h.dtype!=="bool"&&h.dtype!=="string")throw new Error("Unsupported dtype in weight '"+f+"': "+h.dtype);var m={name:f,shape:h.shape,dtype:h.dtype};if(h.dtype==="string"){var g=new Promise(function(y){return Je(s,void 0,void 0,function(){var b,x,S,R,_,T,A;return et(this,function(D){switch(D.label){case 0:return[4,h.bytes()];case 1:for(b=D.sent(),x=b.reduce(function(N,M){return N+M.length},0)+Iy*b.length,S=new Uint8Array(x),R=0,_=0;_<b.length;_++)T=b[_],A=new Uint8Array(new Uint32Array([T.length]).buffer),S.set(A,R),R+=Iy,S.set(T,R),R+=T.length;return y(S),[2]}})})});r.push(g)}else r.push(h.data());e!=null&&(m.group=e),n.push(m)},i=0;i<a.length;++i)o(i);return[4,Promise.all(r)];case 1:return[2,{data:gee(u.sent()),specs:n}]}})})},fromMemory:function(t,e,n,r){return arguments.length===1?t.modelTopology!=null||t.weightSpecs!=null?new _2(t):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new _2({modelTopology:t})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new _2({modelTopology:t,weightSpecs:e,weightData:n,trainingConfig:r}))},getLoadHandlers:function(t,e){return fo.getLoadHandlers(t,e)},getModelArtifactsInfoForJSON:ag,getSaveHandlers:function(t){return fo.getSaveHandlers(t)},http:Yw,isHTTPScheme:Kw,loadWeights:function(t,e,n,r){return e===void 0&&(e=""),Je(this,void 0,void 0,function(){return et(this,function(a){return[2,yA(function(o){return X5(o,{requestInit:r})})(t,e,n)]})})},registerLoadRouter:function(t){return fo.registerLoadRouter(t)},registerSaveRouter:function(t){return fo.registerSaveRouter(t)},weightsLoaderFactory:yA,withSaveHandler:function(t){return new Aee(t)},copyModel:function(t,e){return Je(this,void 0,void 0,function(){return et(this,function(n){return[2,hA(t,e,!1)]})})},listModels:function(){return Je(this,void 0,void 0,function(){var t,e,n,r,a,o,i;return et(this,function(s){switch(s.label){case 0:t=mu.getSchemes(),e={},n=0,r=t,s.label=1;case 1:return n<r.length?(a=r[n],[4,mu.getManager(a).listModels()]):[3,4];case 2:for(i in o=s.sent())e[a+mf+i]=o[i];s.label=3;case 3:return n++,[3,1];case 4:return[2,e]}})})},moveModel:function(t,e){return Je(this,void 0,void 0,function(){return et(this,function(n){return[2,hA(t,e,!0)]})})},removeModel:function(t){return Je(this,void 0,void 0,function(){var e;return et(this,function(n){return e=K0(t),[2,mu.getManager(e.scheme).removeModel(e.path)]})})}}),Hd;ae({confusionMatrix_:function(t,e,n){var r=Z(t,"labels","confusionMatrix"),a=Z(e,"predictions","confusionMatrix");ee(n==null||n>0&&Number.isInteger(n),function(){return"If provided, numClasses must be a positive integer, but got "+n}),ee(r.rank===1,function(){return"Expected the rank of labels to be 1, but got "+r.rank}),ee(a.rank===1,function(){return"Expected the rank of predictions to be 1, but got "+a.rank}),ee(r.shape[0]===a.shape[0],function(){return"Mismatch in the number of examples: "+r.shape[0]+" vs. "+a.shape[0]+". Labels and predictions should have the same number of elements."}),ee(n>0&&Number.isInteger(n),function(){return"numClasses is required to be a positive integer, but got "+n});var o=$w(r.asType("int32"),n),i=$w(a.asType("int32"),n);return o.transpose().matMul(i).asType("int32")}});var kee=ae({fromPixels_:function(t,e){if(e===void 0&&(e=3),e>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(t==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var n=!1,r=!1,a=!1,o=!1,i=!1;if(t.data instanceof Uint8Array)n=!0;else if(typeof ImageData<"u"&&t instanceof ImageData)r=!0;else if(typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement)a=!0;else if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement)o=!0;else{if(t.getContext==null)throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was "+t.constructor.name);i=!0}if(a&&a&&t.readyState<2)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.");if(SM("FromPixels",se.backendName)!=null)return se.runKernel("FromPixels",{pixels:t},{numChannels:e});var s,u,c=a?[t.videoWidth,t.videoHeight]:[t.width,t.height],f=c[0],h=c[1];if(i?s=t.getContext("2d").getImageData(0,0,f,h).data:r||n?s=t.data:(o||a)&&(Hd==null&&(Hd=document.createElement("canvas").getContext("2d")),Hd.canvas.width=f,Hd.canvas.height=h,Hd.drawImage(t,0,0,f,h),s=Hd.getImageData(0,0,f,h).data),e===4)u=new Int32Array(s);else{var m=f*h;u=new Int32Array(m*e);for(var g=0;g<m;g++)for(var y=0;y<e;++y)u[g*e+y]=s[4*g+y]}return y_(u,[h,f,e],"int32")}}),W_=Object.freeze({toPixels:function(t,e){return Je(this,void 0,void 0,function(){var n,r,a,o,i,s,u,c,f,h,m,g,y,b,x,S,R,_,T,A,D,N,M;return et(this,function(P){switch(P.label){case 0:if(n=Z(t,"img","toPixels"),t instanceof qn||(n=n.toInt()),n.rank!==2&&n.rank!==3)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+n.rank+".");if(r=n.shape.slice(0,2),a=r[0],o=r[1],(i=n.rank===2?1:n.shape[2])>4||i===2)throw new Error("toPixels only supports depth of size 1, 3 or 4 but got "+i);return[4,n.data()];case 1:return s=P.sent(),u=n.min(),c=n.max(),[4,Promise.all([u.data(),c.data()])];case 2:if(f=P.sent(),h=f[0],m=f[1],g=h[0],y=m[0],u.dispose(),c.dispose(),n.dtype==="float32"){if(g<0||y>1)throw new Error("Tensor values for a float32 Tensor must be in the range [0 - 1] but got range ["+g+" - "+y+"].")}else{if(n.dtype!=="int32")throw new Error("Unsupported type for toPixels: "+n.dtype+". Please use float32 or int32 tensors.");if(g<0||y>255)throw new Error("Tensor values for a int32 Tensor must be in the range [0 - 255] but got range ["+g+" - "+y+"].")}for(b=n.dtype==="float32"?255:1,x=new Uint8ClampedArray(o*a*4),S=0;S<a*o;++S)R=void 0,_=void 0,T=void 0,A=void 0,i===1?(R=s[S]*b,_=s[S]*b,T=s[S]*b,A=255):i===3?(R=s[3*S]*b,_=s[3*S+1]*b,T=s[3*S+2]*b,A=255):i===4&&(R=s[4*S]*b,_=s[4*S+1]*b,T=s[4*S+2]*b,A=s[4*S+3]*b),x[(D=4*S)+0]=Math.round(R),x[D+1]=Math.round(_),x[D+2]=Math.round(T),x[D+3]=Math.round(A);return e!=null&&(e.width=o,e.height=a,N=e.getContext("2d"),M=new ImageData(x,o,a),N.putImageData(M,0,0)),n!==t&&n.dispose(),[2,x]}})})},fromPixels:kee}),Nee=function(){function t(){}return t.prototype.getClassName=function(){return this.constructor.className},t.fromConfig=function(e,n){return new e(n)},t}(),Oee=function(){function t(){this.classNameMap={}}return t.getMap=function(){return t.instance==null&&(t.instance=new t),t.instance},t.register=function(e){t.getMap().classNameMap[e.className]=[e,e.fromConfig]},t}();function Hc(t){ee(t.className!=null,function(){return"Class being registered does not have the static className property defined."}),ee(typeof t.className=="string",function(){return"className is required to be a string, but got type "+typeof t.className}),ee(t.className.length>0,function(){return"Class being registered has an empty-string as its className, which is disallowed."}),Oee.register(t)}var qc=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return fi(e,t),e.prototype.minimize=function(n,r,a){r===void 0&&(r=!1);var o=this.computeGradients(n,a),i=o.value,s=o.grads;if(a!=null){var u=a.map(function(c){return{name:c.name,tensor:s[c.name]}});this.applyGradients(u)}else this.applyGradients(s);return Ka(s),r?i:(i.dispose(),null)},Object.defineProperty(e.prototype,"iterations",{get:function(){return this.iterations_==null&&(this.iterations_=0),this.iterations_},enumerable:!0,configurable:!0}),e.prototype.incrementIterations=function(){this.iterations_=this.iterations+1},e.prototype.computeGradients=function(n,r){return UY(n,r)},e.prototype.dispose=function(){this.iterations_!=null&&Ka(this.iterations_)},e.prototype.saveIterations=function(){return Je(this,void 0,void 0,function(){return et(this,function(n){return this.iterations_==null&&(this.iterations_=0),[2,{name:"iter",tensor:He(this.iterations_,"int32")}]})})},e.prototype.getWeights=function(){return Je(this,void 0,void 0,function(){return et(this,function(n){throw new Error("getWeights() is not implemented for this optimizer yet.")})})},e.prototype.setWeights=function(n){return Je(this,void 0,void 0,function(){return et(this,function(r){throw new Error("setWeights() is not implemented for this optimizer class "+this.getClassName())})})},e.prototype.extractIterations=function(n){return Je(this,void 0,void 0,function(){var r;return et(this,function(a){switch(a.label){case 0:return r=this,[4,n[0].tensor.data()];case 1:return r.iterations_=a.sent()[0],[2,n.slice(1)]}})})},e}(Nee);Object.defineProperty(qc,Symbol.hasInstance,{value:function(t){return t.minimize!=null&&t.computeGradients!=null&&t.applyGradients!=null}});var Dee=function(t){function e(n,r,a){a===void 0&&(a=null);var o=t.call(this)||this;return o.learningRate=n,o.rho=r,o.epsilon=a,o.accumulatedGrads=[],o.accumulatedUpdates=[],a==null&&(o.epsilon=se.backend.epsilon()),o}return fi(e,t),e.prototype.applyGradients=function(n){var r=this;(Array.isArray(n)?n.map(function(a){return a.name}):Object.keys(n)).forEach(function(a,o){var i=se.registeredVariables[a];r.accumulatedGrads[o]==null&&(r.accumulatedGrads[o]={originalName:a+"/accum_grad",variable:Xe(function(){return rn(i).variable(!1)})}),r.accumulatedUpdates[o]==null&&(r.accumulatedUpdates[o]={originalName:a+"/accum_var",variable:Xe(function(){return rn(i).variable(!1)})});var s=Array.isArray(n)?n[o].tensor:n[a];if(s!=null){var u=r.accumulatedGrads[o].variable,c=r.accumulatedUpdates[o].variable;Xe(function(){var f=u.mul(r.rho).add(s.square().mul(1-r.rho)),h=c.add(r.epsilon).sqrt().div(u.add(r.epsilon).sqrt()).mul(s),m=c.mul(r.rho).add(h.square().mul(1-r.rho));u.assign(f),c.assign(m);var g=h.mul(-r.learningRate).add(i);i.assign(g)})}}),this.incrementIterations()},e.prototype.dispose=function(){this.accumulatedUpdates!=null&&(Ka(this.accumulatedGrads.map(function(n){return n.variable})),Ka(this.accumulatedUpdates.map(function(n){return n.variable})))},e.prototype.getWeights=function(){return Je(this,void 0,void 0,function(){var n;return et(this,function(r){switch(r.label){case 0:return n=this.accumulatedGrads.concat(this.accumulatedUpdates),[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(n.map(function(a){return{name:a.originalName,tensor:a.variable}}))]}})})},e.prototype.setWeights=function(n){return Je(this,void 0,void 0,function(){var r;return et(this,function(a){switch(a.label){case 0:return[4,this.extractIterations(n)];case 1:return n=a.sent(),r=n.length/2,this.accumulatedGrads=n.slice(0,r).map(function(o){return{originalName:o.name,variable:o.tensor.variable(!1)}}),this.accumulatedUpdates=n.slice(r,2*r).map(function(o){return{originalName:o.name,variable:o.tensor.variable(!1)}}),[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},e.fromConfig=function(n,r){return new n(r.learningRate,r.rho,r.epsilon)},e.className="Adadelta",e}(qc);Hc(Dee);var Mee=function(t){function e(n,r){r===void 0&&(r=.1);var a=t.call(this)||this;return a.learningRate=n,a.initialAccumulatorValue=r,a.accumulatedGrads=[],a}return fi(e,t),e.prototype.applyGradients=function(n){var r=this;(Array.isArray(n)?n.map(function(a){return a.name}):Object.keys(n)).forEach(function(a,o){var i=se.registeredVariables[a];r.accumulatedGrads[o]==null&&(r.accumulatedGrads[o]={originalName:a+"/accumulator",variable:Xe(function(){return ns(i.shape,r.initialAccumulatorValue).variable(!1)})});var s=Array.isArray(n)?n[o].tensor:n[a];if(s!=null){var u=r.accumulatedGrads[o].variable;Xe(function(){var c=u.add(s.square());u.assign(c);var f=s.div(c.add(se.backend.epsilon()).sqrt()).mul(-r.learningRate).add(i);i.assign(f)})}}),this.incrementIterations()},e.prototype.dispose=function(){this.accumulatedGrads!=null&&Ka(this.accumulatedGrads.map(function(n){return n.variable}))},e.prototype.getWeights=function(){return Je(this,void 0,void 0,function(){return et(this,function(n){switch(n.label){case 0:return[4,this.saveIterations()];case 1:return[2,[n.sent()].concat(this.accumulatedGrads.map(function(r){return{name:r.originalName,tensor:r.variable}}))]}})})},e.prototype.setWeights=function(n){return Je(this,void 0,void 0,function(){return et(this,function(r){switch(r.label){case 0:return[4,this.extractIterations(n)];case 1:return n=r.sent(),this.accumulatedGrads=n.map(function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}}),[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},e.fromConfig=function(n,r){return new n(r.learningRate,r.initialAccumulatorValue)},e.className="Adagrad",e}(qc);Hc(Mee);var Pee=function(t){function e(n,r,a,o){o===void 0&&(o=null);var i=t.call(this)||this;return i.learningRate=n,i.beta1=r,i.beta2=a,i.epsilon=o,i.accumulatedFirstMoment=[],i.accumulatedSecondMoment=[],Xe(function(){i.accBeta1=He(r).variable(),i.accBeta2=He(a).variable()}),o==null&&(i.epsilon=se.backend.epsilon()),i}return fi(e,t),e.prototype.applyGradients=function(n){var r=this,a=Array.isArray(n)?n.map(function(o){return o.name}):Object.keys(n);Xe(function(){var o=kr(1,r.accBeta1),i=kr(1,r.accBeta2);a.forEach(function(s,u){var c=se.registeredVariables[s];r.accumulatedFirstMoment[u]==null&&(r.accumulatedFirstMoment[u]={originalName:s+"/m",variable:Xe(function(){return rn(c).variable(!1)})}),r.accumulatedSecondMoment[u]==null&&(r.accumulatedSecondMoment[u]={originalName:s+"/v",variable:Xe(function(){return rn(c).variable(!1)})});var f=Array.isArray(n)?n[u].tensor:n[s];if(f!=null){var h=r.accumulatedFirstMoment[u].variable,m=r.accumulatedSecondMoment[u].variable,g=h.mul(r.beta1).add(f.mul(1-r.beta1)),y=m.mul(r.beta2).add(f.square().mul(1-r.beta2)),b=g.div(o),x=y.div(i);h.assign(g),m.assign(y);var S=b.div(x.sqrt().add(r.epsilon)).mul(-r.learningRate).add(c);c.assign(S)}}),r.accBeta1.assign(r.accBeta1.mul(r.beta1)),r.accBeta2.assign(r.accBeta2.mul(r.beta2))}),this.incrementIterations()},e.prototype.dispose=function(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&Ka(this.accumulatedFirstMoment.map(function(n){return n.variable})),this.accumulatedSecondMoment!=null&&Ka(this.accumulatedSecondMoment.map(function(n){return n.variable}))},e.prototype.getWeights=function(){return Je(this,void 0,void 0,function(){var n;return et(this,function(r){switch(r.label){case 0:return n=this.accumulatedFirstMoment.concat(this.accumulatedSecondMoment),[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(n.map(function(a){return{name:a.originalName,tensor:a.variable}}))]}})})},e.prototype.setWeights=function(n){return Je(this,void 0,void 0,function(){var r,a=this;return et(this,function(o){switch(o.label){case 0:return[4,this.extractIterations(n)];case 1:return n=o.sent(),Xe(function(){a.accBeta1.assign(My(a.beta1,a.iterations_+1)),a.accBeta2.assign(My(a.beta2,a.iterations_+1))}),r=n.length/2,this.accumulatedFirstMoment=n.slice(0,r).map(function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}}),this.accumulatedSecondMoment=n.slice(r,2*r).map(function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}}),[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},e.fromConfig=function(n,r){return new n(r.learningRate,r.beta1,r.beta2,r.epsilon)},e.className="Adam",e}(qc);Hc(Pee);var Iee=function(t){function e(n,r,a,o,i){o===void 0&&(o=null),i===void 0&&(i=0);var s=t.call(this)||this;return s.learningRate=n,s.beta1=r,s.beta2=a,s.epsilon=o,s.decay=i,s.accumulatedFirstMoment=[],s.accumulatedWeightedInfNorm=[],Xe(function(){s.iteration=He(0).variable(),s.accBeta1=He(r).variable()}),o==null&&(s.epsilon=se.backend.epsilon()),s}return fi(e,t),e.prototype.applyGradients=function(n){var r=this,a=Array.isArray(n)?n.map(function(o){return o.name}):Object.keys(n);Xe(function(){var o=kr(1,r.accBeta1),i=li(-r.learningRate,r.iteration.mul(r.decay).add(1));a.forEach(function(s,u){var c=se.registeredVariables[s];r.accumulatedFirstMoment[u]==null&&(r.accumulatedFirstMoment[u]={originalName:s+"/m",variable:rn(c).variable(!1)}),r.accumulatedWeightedInfNorm[u]==null&&(r.accumulatedWeightedInfNorm[u]={originalName:s+"/v",variable:rn(c).variable(!1)});var f=Array.isArray(n)?n[u].tensor:n[s];if(f!=null){var h=r.accumulatedFirstMoment[u].variable,m=r.accumulatedWeightedInfNorm[u].variable,g=h.mul(r.beta1).add(f.mul(1-r.beta1)),y=m.mul(r.beta2),b=f.abs(),x=y.maximum(b);h.assign(g),m.assign(x);var S=i.div(o).mul(g.div(x.add(r.epsilon))).add(c);c.assign(S)}}),r.iteration.assign(r.iteration.add(1)),r.accBeta1.assign(r.accBeta1.mul(r.beta1))}),this.incrementIterations()},e.prototype.dispose=function(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&Ka(this.accumulatedFirstMoment.map(function(n){return n.variable})),this.accumulatedWeightedInfNorm!=null&&Ka(this.accumulatedWeightedInfNorm.map(function(n){return n.variable}))},e.prototype.getWeights=function(){return Je(this,void 0,void 0,function(){return et(this,function(n){throw new Error("getWeights() is not implemented for Adamax yet.")})})},e.prototype.setWeights=function(n){return Je(this,void 0,void 0,function(){return et(this,function(r){throw new Error("setWeights() is not implemented for Adamax yet.")})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},e.fromConfig=function(n,r){return new n(r.learningRate,r.beta1,r.beta2,r.epsilon,r.decay)},e.className="Adamax",e}(qc);Hc(Iee);var J5=function(t){function e(n){var r=t.call(this)||this;return r.learningRate=n,r.setLearningRate(n),r}return fi(e,t),e.prototype.applyGradients=function(n){var r=this;(Array.isArray(n)?n.map(function(a){return a.name}):Object.keys(n)).forEach(function(a,o){var i=Array.isArray(n)?n[o].tensor:n[a];if(i!=null){var s=se.registeredVariables[a];Xe(function(){var u=r.c.mul(i).add(s);s.assign(u)})}}),this.incrementIterations()},e.prototype.setLearningRate=function(n){this.learningRate=n,this.c!=null&&this.c.dispose(),this.c=tY(He(-n))},e.prototype.dispose=function(){this.c.dispose()},e.prototype.getWeights=function(){return Je(this,void 0,void 0,function(){return et(this,function(n){switch(n.label){case 0:return[4,this.saveIterations()];case 1:return[2,[n.sent()]]}})})},e.prototype.setWeights=function(n){return Je(this,void 0,void 0,function(){return et(this,function(r){switch(r.label){case 0:return[4,this.extractIterations(n)];case 1:if((n=r.sent()).length!==0)throw new Error("SGD optimizer does not have settable weights.");return[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate}},e.fromConfig=function(n,r){return new n(r.learningRate)},e.className="SGD",e}(qc);Hc(J5);var Lee=function(t){function e(n,r,a){a===void 0&&(a=!1);var o=t.call(this,n)||this;return o.learningRate=n,o.momentum=r,o.useNesterov=a,o.accumulations=[],o.m=He(o.momentum),o}return fi(e,t),e.prototype.applyGradients=function(n){var r=this;(Array.isArray(n)?n.map(function(a){return a.name}):Object.keys(n)).forEach(function(a,o){var i=se.registeredVariables[a];r.accumulations[o]==null&&(r.accumulations[o]={originalName:a+"/momentum",variable:Xe(function(){return rn(i).variable(!1)})});var s=r.accumulations[o].variable,u=Array.isArray(n)?n[o].tensor:n[a];u!=null&&Xe(function(){var c,f=r.m.mul(s).add(u);c=r.useNesterov?r.c.mul(u.add(f.mul(r.m))).add(i):r.c.mul(f).add(i),s.assign(f),i.assign(c)})}),this.incrementIterations()},e.prototype.dispose=function(){this.m.dispose(),this.accumulations!=null&&Ka(this.accumulations.map(function(n){return n.variable}))},e.prototype.setMomentum=function(n){this.momentum=n},e.prototype.getWeights=function(){return Je(this,void 0,void 0,function(){return et(this,function(n){switch(n.label){case 0:return[4,this.saveIterations()];case 1:return[2,[n.sent()].concat(this.accumulations.map(function(r){return{name:r.originalName,tensor:r.variable}}))]}})})},e.prototype.setWeights=function(n){return Je(this,void 0,void 0,function(){return et(this,function(r){switch(r.label){case 0:return[4,this.extractIterations(n)];case 1:return n=r.sent(),this.accumulations=n.map(function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}}),[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},e.fromConfig=function(n,r){return new n(r.learningRate,r.momentum,r.useNesterov)},e.className="Momentum",e}(J5);Hc(Lee);var Fee=function(t){function e(n,r,a,o,i){r===void 0&&(r=.9),a===void 0&&(a=0),o===void 0&&(o=null),i===void 0&&(i=!1);var s=t.call(this)||this;if(s.learningRate=n,s.decay=r,s.momentum=a,s.epsilon=o,s.accumulatedMeanSquares=[],s.accumulatedMoments=[],s.accumulatedMeanGrads=[],s.centered=i,o==null&&(s.epsilon=se.backend.epsilon()),n==null)throw new Error("learningRate for RMSPropOptimizer must be defined.");return s}return fi(e,t),e.prototype.applyGradients=function(n){var r=this;(Array.isArray(n)?n.map(function(a){return a.name}):Object.keys(n)).forEach(function(a,o){var i=se.registeredVariables[a];r.accumulatedMeanSquares[o]==null&&(r.accumulatedMeanSquares[o]={originalName:a+"/rms",variable:Xe(function(){return rn(i).variable(!1)})}),r.accumulatedMoments[o]==null&&(r.accumulatedMoments[o]={originalName:a+"/momentum",variable:Xe(function(){return rn(i).variable(!1)})}),r.accumulatedMeanGrads[o]==null&&r.centered&&(r.accumulatedMeanGrads[o]={originalName:a+"/mg",variable:Xe(function(){return rn(i).variable(!1)})});var s=Array.isArray(n)?n[o].tensor:n[a];if(s!=null){var u=r.accumulatedMeanSquares[o].variable,c=r.accumulatedMoments[o].variable;Xe(function(){var f=u.mul(r.decay).add(s.square().mul(1-r.decay));if(r.centered){var h=r.accumulatedMeanGrads[o].variable,m=h.mul(r.decay).add(s.mul(1-r.decay)),g=c.mul(r.momentum).add(s.mul(r.learningRate).div(f.sub(m.square().add(r.epsilon)).sqrt()));u.assign(f),h.assign(m),c.assign(g);var y=i.sub(g);i.assign(y)}else{var b=u.mul(r.decay).add(s.square().mul(1-r.decay));g=c.mul(r.momentum).add(s.mul(r.learningRate).div(b.add(r.epsilon).sqrt())),u.assign(b),c.assign(g),y=i.sub(g),i.assign(y)}})}}),this.incrementIterations()},e.prototype.dispose=function(){this.accumulatedMeanSquares!=null&&Ka(this.accumulatedMeanSquares.map(function(n){return n.variable})),this.accumulatedMeanGrads!=null&&this.centered&&Ka(this.accumulatedMeanGrads.map(function(n){return n.variable})),this.accumulatedMoments!=null&&Ka(this.accumulatedMoments.map(function(n){return n.variable}))},e.prototype.getWeights=function(){return Je(this,void 0,void 0,function(){var n;return et(this,function(r){switch(r.label){case 0:return n=this.accumulatedMeanSquares.concat(this.accumulatedMoments),this.centered&&n.push.apply(n,this.accumulatedMeanGrads),[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(n.map(function(a){return{name:a.originalName,tensor:a.variable}}))]}})})},e.prototype.setWeights=function(n){return Je(this,void 0,void 0,function(){var r;return et(this,function(a){switch(a.label){case 0:return[4,this.extractIterations(n)];case 1:return n=a.sent(),r=this.centered?n.length/3:n.length/2,this.accumulatedMeanSquares=n.slice(0,r).map(function(o){return{originalName:o.name,variable:o.tensor.variable(!1)}}),this.accumulatedMoments=n.slice(r,2*r).map(function(o){return{originalName:o.name,variable:o.tensor.variable(!1)}}),this.centered&&(this.accumulatedMeanGrads=n.slice(2*r,3*r).map(function(o){return{originalName:o.name,variable:o.tensor.variable(!1)}})),[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},e.fromConfig=function(n,r){return new n(r.learningRate,r.decay,r.momentum,r.epsilon,r.centered)},e.className="RMSProp",e}(qc);Hc(Fee);qn.prototype.squaredDifference=function(t){return p5(this,t)},xe=uee;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Xw=function(t,e){return Xw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a])},Xw(t,e)};function Ot(t,e){Xw(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ma=function(){return ma=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ma.apply(this,arguments)};function ot(t,e,n,r){function a(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function s(f){try{c(r.next(f))}catch(h){i(h)}}function u(f){try{c(r.throw(f))}catch(h){i(h)}}function c(f){f.done?o(f.value):a(f.value).then(s,u)}c((r=r.apply(t,[])).next())})}function it(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,a,o,i;return i={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function s(c){return function(f){return u([c,f])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,a&&(o=c[0]&2?a.return:c[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,c[1])).done)return o;switch(a=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,a=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(f){c=[6,f],a=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Qp(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var o=arguments[e],i=0,s=o.length;i<s;i++,a++)r[a]=o[i];return r}var yf=function(){function t(e,n){if(!Nc(e)||!Nc(n))throw new Error("Dimensions.constructor - expected width and height to be valid numbers, instead have "+JSON.stringify({width:e,height:n}));this._width=e,this._height=n}return Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),t.prototype.reverse=function(){return new t(1/this.width,1/this.height)},t}();function $b(t,e){return t instanceof qn&&t.shape.length===e}function Bee(t){return $b(t,2)}function Ub(t){return $b(t,3)}function gu(t){return $b(t,4)}function zee(t){return t%1!==0}function xA(t){return t%2===0}function $ee(t,e){e===void 0&&(e=2);var n=Math.pow(10,e);return Math.floor(t*n)/n}function wA(t){return t&&t.width&&t.height}function Uee(t,e){var n=t.width,r=t.height,a=e/Math.max(r,n);return new yf(Math.round(n*a),Math.round(r*a))}function H_(t){return t.reduce(function(e,n){return e.add(n)},new pn(0,0)).div(new pn(t.length,t.length))}function xm(t,e,n){return Array(t).fill(0).map(function(r,a){return e+a*n})}function Nc(t){return!!t&&t!==1/0&&t!==-1/0&&!isNaN(t)||t===0}function SA(t){return Nc(t)&&0<=t&&t<=1}var pn=function(){function t(e,n){this._x=e,this._y=n}return Object.defineProperty(t.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),t.prototype.add=function(e){return new t(this.x+e.x,this.y+e.y)},t.prototype.sub=function(e){return new t(this.x-e.x,this.y-e.y)},t.prototype.mul=function(e){return new t(this.x*e.x,this.y*e.y)},t.prototype.div=function(e){return new t(this.x/e.x,this.y/e.y)},t.prototype.abs=function(){return new t(Math.abs(this.x),Math.abs(this.y))},t.prototype.magnitude=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))},t.prototype.floor=function(){return new t(Math.floor(this.x),Math.floor(this.y))},t}(),wu=function(){function t(e,n){n===void 0&&(n=!0);var r=e||{},a=[r.left,r.top,r.right,r.bottom].every(Nc),o=[r.x,r.y,r.width,r.height].every(Nc);if(!o&&!a)throw new Error("Box.constructor - expected box to be IBoundingBox | IRect, instead have "+JSON.stringify(r));var i=o?[r.x,r.y,r.width,r.height]:[r.left,r.top,r.right-r.left,r.bottom-r.top],s=i[0],u=i[1],c=i[2],f=i[3];t.assertIsValidBox({x:s,y:u,width:c,height:f},"Box.constructor",n),this._x=s,this._y=u,this._width=c,this._height=f}return t.isRect=function(e){return!!e&&[e.x,e.y,e.width,e.height].every(Nc)},t.assertIsValidBox=function(e,n,r){if(r===void 0&&(r=!1),!t.isRect(e))throw new Error(n+" - invalid box: "+JSON.stringify(e)+", expected object with properties x, y, width, height");if(!r&&(e.width<0||e.height<0))throw new Error(n+" - width ("+e.width+") and height ("+e.height+") must be positive numbers")},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"area",{get:function(){return this.width*this.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topLeft",{get:function(){return new pn(this.left,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topRight",{get:function(){return new pn(this.right,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomLeft",{get:function(){return new pn(this.left,this.bottom)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomRight",{get:function(){return new pn(this.right,this.bottom)},enumerable:!0,configurable:!0}),t.prototype.round=function(){var e=[this.x,this.y,this.width,this.height].map(function(i){return Math.round(i)}),n=e[0],r=e[1],a=e[2],o=e[3];return new t({x:n,y:r,width:a,height:o})},t.prototype.floor=function(){var e=[this.x,this.y,this.width,this.height].map(function(i){return Math.floor(i)}),n=e[0],r=e[1],a=e[2],o=e[3];return new t({x:n,y:r,width:a,height:o})},t.prototype.toSquare=function(){var e=this,n=e.x,r=e.y,a=e.width,o=e.height,i=Math.abs(a-o);return a<o&&(n-=i/2,a+=i),o<a&&(r-=i/2,o+=i),new t({x:n,y:r,width:a,height:o})},t.prototype.rescale=function(e){var n=wA(e)?e.width:e,r=wA(e)?e.height:e;return new t({x:this.x*n,y:this.y*r,width:this.width*n,height:this.height*r})},t.prototype.pad=function(e,n){var r=[this.x-e/2,this.y-n/2,this.width+e,this.height+n],a=r[0],o=r[1],i=r[2],s=r[3];return new t({x:a,y:o,width:i,height:s})},t.prototype.clipAtImageBorders=function(e,n){var r=this,a=r.x,o=r.y,i=r.right,s=r.bottom,u=Math.max(a,0),c=Math.max(o,0),f=i-u,h=s-c,m=Math.min(f,e-u),g=Math.min(h,n-c);return new t({x:u,y:c,width:m,height:g}).floor()},t.prototype.shift=function(e,n){var r=this,a=r.width,o=r.height,i=this.x+e,s=this.y+n;return new t({x:i,y:s,width:a,height:o})},t.prototype.padAtBorders=function(e,n){var r=this.width+1,a=this.height+1,o=1,i=1,s=r,u=a,c=this.left,f=this.top,h=this.right,m=this.bottom;return h>n&&(s=-h+n+r,h=n),m>e&&(u=-m+e+a,m=e),c<1&&(u=2-c,c=1),f<1&&(u=2-f,f=1),{dy:i,edy:u,dx:o,edx:s,y:f,ey:m,x:c,ex:h,w:r,h:a}},t.prototype.calibrate=function(e){return new t({left:this.left+e.left*this.width,top:this.top+e.top*this.height,right:this.right+e.right*this.width,bottom:this.bottom+e.bottom*this.height}).toSquare().round()},t}(),Vb=function(t){Ot(e,t);function e(n,r,a,o,i){return i===void 0&&(i=!1),t.call(this,{left:n,top:r,right:a,bottom:o},i)||this}return e}(wu),eP=function(){function t(e,n,r,a,o){this._imageDims=new yf(o.width,o.height),this._score=e,this._classScore=n,this._className=r,this._box=new wu(a).rescale(this._imageDims)}return Object.defineProperty(t.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return this._className},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"box",{get:function(){return this._box},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageDims",{get:function(){return this._imageDims},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageWidth",{get:function(){return this.imageDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageHeight",{get:function(){return this.imageDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeBox",{get:function(){return new wu(this._box).rescale(this.imageDims.reverse())},enumerable:!0,configurable:!0}),t.prototype.forSize=function(e,n){return new t(this.score,this.classScore,this.className,this.relativeBox,{width:e,height:n})},t}(),ps=function(t){Ot(e,t);function e(n,r,a){return t.call(this,n,n,"",r,a)||this}return e.prototype.forSize=function(n,r){var a=t.prototype.forSize.call(this,n,r),o=a.score,i=a.relativeBox,s=a.imageDims;return new e(o,i,s)},e}(eP);function Vee(t,e,n){n===void 0&&(n=!0);var r=Math.max(0,Math.min(t.right,e.right)-Math.max(t.left,e.left)),a=Math.max(0,Math.min(t.bottom,e.bottom)-Math.max(t.top,e.top)),o=r*a;return n?o/(t.area+e.area-o):o/Math.min(t.area,e.area)}function jee(t){var e=t.map(function(s){return s.x}),n=t.map(function(s){return s.y}),r=e.reduce(function(s,u){return u<s?u:s},1/0),a=n.reduce(function(s,u){return u<s?u:s},1/0),o=e.reduce(function(s,u){return s<u?u:s},0),i=n.reduce(function(s,u){return s<u?u:s},0);return new Vb(r,a,o,i)}function wm(t,e,n,r){r===void 0&&(r=!0);for(var a=e.map(function(s,u){return{score:s,boxIndex:u}}).sort(function(s,u){return s.score-u.score}).map(function(s){return s.boxIndex}),o=[],i=function(){var s=a.pop();o.push(s);for(var u=a,c=[],f=0;f<u.length;f++){var h=u[f],m=t[s],g=t[h];c.push(Vee(m,g,r))}a=a.filter(function(y,b){return c[b]<=n})};a.length>0;)i();return o}function og(t,e){return Xe(function(){var n=e[0],r=e[1],a=e[2],o=ns(Qp(t.shape.slice(0,3),[1]),n),i=ns(Qp(t.shape.slice(0,3),[1]),r),s=ns(Qp(t.shape.slice(0,3),[1]),a),u=Tr([o,i,s],3);return kr(t,u)})}function Wee(t,e){return e===void 0&&(e=!1),Xe(function(){var n=t.shape.slice(1),r=n[0],a=n[1];if(r===a)return t;var o=Math.abs(r-a),i=Math.round(o*(e?.5:1)),s=r>a?2:1,u=function(g){var y=t.shape.slice();return y[s]=g,ns(y,0)},c=u(i),f=o-c.shape[s],h=e&&f?u(f):null,m=[h,t,c].filter(function(g){return!!g}).map(function(g){return g.toFloat()});return Tr(m,s)})}function C2(t){return 1/(1+Math.exp(-t))}var q_=function(t){Ot(e,t);function e(n,r,a,o,i){return i===void 0&&(i=!1),t.call(this,{x:n,y:r,width:a,height:o},i)||this}return e}(wu),Hee=.5,qee=.43,Gee=.45,Ly=function(){function t(e,n,r){r===void 0&&(r=new pn(0,0));var a=n.width,o=n.height;this._imgDims=new yf(a,o),this._shift=r,this._positions=e.map(function(i){return i.mul(new pn(a,o)).add(r)})}return Object.defineProperty(t.prototype,"shift",{get:function(){return new pn(this._shift.x,this._shift.y)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageWidth",{get:function(){return this._imgDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageHeight",{get:function(){return this._imgDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"positions",{get:function(){return this._positions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativePositions",{get:function(){var e=this;return this._positions.map(function(n){return n.sub(e._shift).div(new pn(e.imageWidth,e.imageHeight))})},enumerable:!0,configurable:!0}),t.prototype.forSize=function(e,n){return new this.constructor(this.relativePositions,{width:e,height:n})},t.prototype.shiftBy=function(e,n){return new this.constructor(this.relativePositions,this._imgDims,new pn(e,n))},t.prototype.shiftByPoint=function(e){return this.shiftBy(e.x,e.y)},t.prototype.align=function(e,n){if(n===void 0&&(n={}),e){var r=e instanceof ps?e.box.floor():new wu(e);return this.shiftBy(r.x,r.y).align(null,n)}var a=Object.assign({},{useDlibAlignment:!1,minBoxPadding:.2},n),o=a.useDlibAlignment,i=a.minBoxPadding;return o?this.alignDlib():this.alignMinBbox(i)},t.prototype.alignDlib=function(){var e=this.getRefPointsForAlignment(),n=e[0],r=e[1],a=e[2],o=function(h){return a.sub(h).magnitude()},i=(o(n)+o(r))/2,s=Math.floor(i/Gee),u=H_(e),c=Math.floor(Math.max(0,u.x-Hee*s)),f=Math.floor(Math.max(0,u.y-qee*s));return new q_(c,f,Math.min(s,this.imageWidth+c),Math.min(s,this.imageHeight+f))},t.prototype.alignMinBbox=function(e){var n=jee(this.positions);return n.pad(n.width*e,n.height*e)},t.prototype.getRefPointsForAlignment=function(){throw new Error("getRefPointsForAlignment not implemented by base class")},t}(),Kee=function(t){Ot(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getRefPointsForAlignment=function(){var n=this.positions;return[n[0],n[1],H_([n[3],n[4]])]},e}(Ly),Yee=function(t){Ot(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getJawOutline=function(){return this.positions.slice(0,17)},e.prototype.getLeftEyeBrow=function(){return this.positions.slice(17,22)},e.prototype.getRightEyeBrow=function(){return this.positions.slice(22,27)},e.prototype.getNose=function(){return this.positions.slice(27,36)},e.prototype.getLeftEye=function(){return this.positions.slice(36,42)},e.prototype.getRightEye=function(){return this.positions.slice(42,48)},e.prototype.getMouth=function(){return this.positions.slice(48,68)},e.prototype.getRefPointsForAlignment=function(){return[this.getLeftEye(),this.getRightEye(),this.getMouth()].map(H_)},e}(Ly),_A=function(){function t(e,n){this._label=e,this._distance=n}return Object.defineProperty(t.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"distance",{get:function(){return this._distance},enumerable:!0,configurable:!0}),t.prototype.toString=function(e){return e===void 0&&(e=!0),""+this.label+(e?" ("+$ee(this.distance)+")":"")},t}(),CA=function(t){Ot(e,t);function e(n,r){var a=t.call(this,n)||this;return a._label=r,a}return e.assertIsValidLabeledBox=function(n,r){if(wu.assertIsValidBox(n,r),!Nc(n.label))throw new Error(r+" - expected property label ("+n.label+") to be a number")},Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),e}(wu),m0=function(){function t(e,n){if(typeof e!="string")throw new Error("LabeledFaceDescriptors - constructor expected label to be a string");if(!Array.isArray(n)||n.some(function(r){return!(r instanceof Float32Array)}))throw new Error("LabeledFaceDescriptors - constructor expected descriptors to be an array of Float32Array");this._label=e,this._descriptors=n}return Object.defineProperty(t.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"descriptors",{get:function(){return this._descriptors},enumerable:!0,configurable:!0}),t.prototype.toJSON=function(){return{label:this.label,descriptors:this.descriptors.map(function(e){return Array.from(e)})}},t.fromJSON=function(e){var n=e.descriptors.map(function(r){return new Float32Array(r)});return new t(e.label,n)},t}();(function(t){Ot(e,t);function e(n,r,a,o){var i=t.call(this,n,r)||this;return i._score=a,i._classScore=o,i}return e.assertIsValidPredictedBox=function(n,r){if(CA.assertIsValidLabeledBox(n,r),!SA(n.score)||!SA(n.classScore))throw new Error(r+" - expected properties score ("+n.score+") and ("+n.classScore+") to be a number between [0, 1]")},Object.defineProperty(e.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),e})(CA);function Xee(t){return t.detection instanceof ps}function G_(t,e){var n={detection:e};return Object.assign({},t,n)}function tP(){var t=window.fetch||function(){throw new Error("fetch - missing fetch implementation for browser environment")},e=function(){throw new Error("readFile - filesystem not available for browser environment")};return{Canvas:HTMLCanvasElement,CanvasRenderingContext2D,Image:HTMLImageElement,ImageData,Video:HTMLVideoElement,createCanvasElement:function(){return document.createElement("canvas")},createImageElement:function(){return document.createElement("img")},fetch:t,readFile:e}}var EA={},TA;function Qee(){return TA||(TA=1),EA}var nP=Qee();function rP(){var t=global.Canvas||global.HTMLCanvasElement,e=global.Image||global.HTMLImageElement,n=function(){if(t)return new t;throw new Error("createCanvasElement - missing Canvas implementation for nodejs environment")},r=function(){if(e)return new e;throw new Error("createImageElement - missing Image implementation for nodejs environment")},a=global.fetch||function(){throw new Error("fetch - missing fetch implementation for nodejs environment")},o=nP.createFileSystem();return ma({Canvas:t||function(){function i(){}return i}(),CanvasRenderingContext2D:global.CanvasRenderingContext2D||function(){function i(){}return i}(),Image:e||function(){function i(){}return i}(),ImageData:global.ImageData||function(){function i(){}return i}(),Video:global.HTMLVideoElement||function(){function i(){}return i}(),createCanvasElement:n,createImageElement:r,fetch:a},o)}function aP(){return typeof window=="object"&&typeof document<"u"&&typeof HTMLImageElement<"u"&&typeof HTMLCanvasElement<"u"&&typeof HTMLVideoElement<"u"&&typeof ImageData<"u"&&typeof CanvasRenderingContext2D<"u"}function oP(){return typeof global=="object"&&typeof require=="function"&&typeof module<"u"&&typeof process<"u"&&!!process.version}var Er;function Zee(){if(!Er)throw new Error("getEnv - environment is not defined, check isNodejs() and isBrowser()");return Er}function Qw(t){Er=t}function K_(){aP()&&Qw(tP()),oP()&&Qw(rP())}function Jee(t){if(Er||K_(),!Er)throw new Error("monkeyPatch - environment is not defined, check isNodejs() and isBrowser()");var e=t.Canvas,n=e===void 0?Er.Canvas:e,r=t.Image,a=r===void 0?Er.Image:r;Er.Canvas=n,Er.Image=a,Er.createCanvasElement=t.createCanvasElement||function(){return new n},Er.createImageElement=t.createImageElement||function(){return new a},Er.ImageData=t.ImageData||Er.ImageData,Er.Video=t.Video||Er.Video,Er.fetch=t.fetch||Er.fetch,Er.readFile=t.readFile||Er.readFile}var ta={getEnv:Zee,setEnv:Qw,initialize:K_,createBrowserEnv:tP,createFileSystem:nP.createFileSystem,createNodejsEnv:rP,monkeyPatch:Jee,isBrowser:aP,isNodejs:oP};K_();function iP(t){return!ta.isNodejs()&&typeof t=="string"?document.getElementById(t):t}function zc(t){var e=ta.getEnv(),n=e.Canvas,r=e.CanvasRenderingContext2D;if(t instanceof r)return t;var a=iP(t);if(!(a instanceof n))throw new Error("resolveContext2d - expected canvas to be of instance of Canvas");var o=a.getContext("2d");if(!o)throw new Error("resolveContext2d - canvas 2d context is null");return o}var RA;(function(t){t.TOP_LEFT="TOP_LEFT",t.TOP_RIGHT="TOP_RIGHT",t.BOTTOM_LEFT="BOTTOM_LEFT",t.BOTTOM_RIGHT="BOTTOM_RIGHT"})(RA||(RA={}));function sP(t){var e=ta.getEnv(),n=e.Image,r=e.Video;return t instanceof n&&t.complete||t instanceof r&&t.readyState>=3}function ete(t){return new Promise(function(e,n){if(t instanceof ta.getEnv().Canvas||sP(t))return e();function r(o){o.currentTarget&&(o.currentTarget.removeEventListener("load",r),o.currentTarget.removeEventListener("error",a),e(o))}function a(o){o.currentTarget&&(o.currentTarget.removeEventListener("load",r),o.currentTarget.removeEventListener("error",a),n(o))}t.addEventListener("load",r),t.addEventListener("error",a)})}function tte(t){return new Promise(function(e,n){if(!(t instanceof Blob))return n("bufferToImage - expected buf to be of type: Blob");var r=new FileReader;r.onload=function(){if(typeof r.result!="string")return n("bufferToImage - expected reader.result to be a string, in onload");var a=ta.getEnv().createImageElement();a.onload=function(){return e(a)},a.onerror=n,a.src=r.result},r.onerror=n,r.readAsDataURL(t)})}function lP(t){var e=ta.getEnv(),n=e.Image,r=e.Video;return t instanceof n?new yf(t.naturalWidth,t.naturalHeight):t instanceof r?new yf(t.videoWidth,t.videoHeight):new yf(t.width,t.height)}function jb(t){var e=t.width,n=t.height,r=ta.getEnv().createCanvasElement,a=r();return a.width=e,a.height=n,a}function Y_(t,e){var n=ta.getEnv().ImageData;if(!(t instanceof n)&&!sP(t))throw new Error("createCanvasFromMedia - media has not finished loading yet");var r=lP(t),a=r.width,o=r.height,i=jb({width:a,height:o});return t instanceof n?zc(i).putImageData(t,0,0):zc(i).drawImage(t,0,0,a,o),i}function nte(t,e){return ot(this,void 0,void 0,function(){var n,r,a,o,i,s;return it(this,function(u){switch(u.label){case 0:return n=ta.getEnv().createCanvasElement(),r=t.shape.slice(gu(t)?1:0),a=r[0],o=r[1],i=r[2],s=Xe(function(){return t.as3D(a,o,i).toInt()}),[4,W_.toPixels(s,n)];case 1:return u.sent(),s.dispose(),[2,n]}})})}function AA(t){var e=ta.getEnv(),n=e.Image,r=e.Canvas,a=e.Video;return t instanceof n||t instanceof r||t instanceof a}function rte(t,e,n){n===void 0&&(n=!1);var r=ta.getEnv(),a=r.Image,o=r.Canvas;if(!(t instanceof a||t instanceof o))throw new Error("imageToSquare - expected arg0 to be HTMLImageElement | HTMLCanvasElement");var i=lP(t),s=e/Math.max(i.height,i.width),u=s*i.width,c=s*i.height,f=jb({width:e,height:e}),h=t instanceof o?t:Y_(t),m=Math.abs(u-c)/2,g=n&&u<c?m:0,y=n&&c<u?m:0;return zc(f).drawImage(h,g,y,u,c),f}var Fy=function(){function t(e,n){var r=this;if(n===void 0&&(n=!1),this._imageTensors=[],this._canvases=[],this._treatAsBatchInput=!1,this._inputDimensions=[],!Array.isArray(e))throw new Error("NetInput.constructor - expected inputs to be an Array of TResolvedNetInput or to be instanceof tf.Tensor4D, instead have "+e);this._treatAsBatchInput=n,this._batchSize=e.length,e.forEach(function(a,o){if(Ub(a)){r._imageTensors[o]=a,r._inputDimensions[o]=a.shape;return}if(gu(a)){var i=a.shape[0];if(i!==1)throw new Error("NetInput - tf.Tensor4D with batchSize "+i+" passed, but not supported in input array");r._imageTensors[o]=a,r._inputDimensions[o]=a.shape.slice(1);return}var s=a instanceof ta.getEnv().Canvas?a:Y_(a);r._canvases[o]=s,r._inputDimensions[o]=[s.height,s.width,3]})}return Object.defineProperty(t.prototype,"imageTensors",{get:function(){return this._imageTensors},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canvases",{get:function(){return this._canvases},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isBatchInput",{get:function(){return this.batchSize>1||this._treatAsBatchInput},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"batchSize",{get:function(){return this._batchSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputDimensions",{get:function(){return this._inputDimensions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reshapedInputDimensions",{get:function(){var e=this;return xm(this.batchSize,0,1).map(function(n,r){return e.getReshapedInputDimensions(r)})},enumerable:!0,configurable:!0}),t.prototype.getInput=function(e){return this.canvases[e]||this.imageTensors[e]},t.prototype.getInputDimensions=function(e){return this._inputDimensions[e]},t.prototype.getInputHeight=function(e){return this._inputDimensions[e][0]},t.prototype.getInputWidth=function(e){return this._inputDimensions[e][1]},t.prototype.getReshapedInputDimensions=function(e){if(typeof this.inputSize!="number")throw new Error("getReshapedInputDimensions - inputSize not set, toBatchTensor has not been called yet");var n=this.getInputWidth(e),r=this.getInputHeight(e);return Uee({width:n,height:r},this.inputSize)},t.prototype.toBatchTensor=function(e,n){var r=this;return n===void 0&&(n=!0),this._inputSize=e,Xe(function(){var a=xm(r.batchSize,0,1).map(function(i){var s=r.getInput(i);if(s instanceof qn){var u=gu(s)?s:s.expandDims();return u=Wee(u,n),(u.shape[1]!==e||u.shape[2]!==e)&&(u=B_.resizeBilinear(u,[e,e])),u.as3D(e,e,3)}if(s instanceof ta.getEnv().Canvas)return W_.fromPixels(rte(s,e,n));throw new Error("toBatchTensor - at batchIdx "+i+", expected input to be instanceof tf.Tensor or instanceof HTMLCanvasElement, instead have "+s)}),o=go(a.map(function(i){return i.toFloat()})).as4D(r.batchSize,e,e,3);return o})},t}();function Br(t){return ot(this,void 0,void 0,function(){var e,n,r;return it(this,function(a){switch(a.label){case 0:if(t instanceof Fy)return[2,t];if(e=Array.isArray(t)?t:[t],!e.length)throw new Error("toNetInput - empty array passed as input");return n=function(o){return Array.isArray(t)?" at input index "+o+":":""},r=e.map(iP),r.forEach(function(o,i){if(!AA(o)&&!Ub(o)&&!gu(o))throw typeof e[i]=="string"?new Error("toNetInput -"+n(i)+" string passed, but could not resolve HTMLElement for element id "+e[i]):new Error("toNetInput -"+n(i)+" expected media to be of type HTMLImageElement | HTMLVideoElement | HTMLCanvasElement | tf.Tensor3D, or to be an element id");if(gu(o)){var s=o.shape[0];if(s!==1)throw new Error("toNetInput -"+n(i)+" tf.Tensor4D with batchSize "+s+" passed, but not supported in input array")}}),[4,Promise.all(r.map(function(o){return AA(o)&&ete(o)}))];case 1:return a.sent(),[2,new Fy(r,Array.isArray(t))]}})})}function X_(t,e){return ot(this,void 0,void 0,function(){var n,r,a,o,i,s,u;return it(this,function(c){switch(c.label){case 0:return n=ta.getEnv().Canvas,r=t,t instanceof n?[3,5]:[4,Br(t)];case 1:if(a=c.sent(),a.batchSize>1)throw new Error("extractFaces - batchSize > 1 not supported");return o=a.getInput(0),o instanceof n?(i=o,[3,4]):[3,2];case 2:return[4,nte(o)];case 3:i=c.sent(),c.label=4;case 4:r=i,c.label=5;case 5:return s=zc(r),u=e.map(function(f){return f instanceof ps?f.forSize(r.width,r.height).box.floor():f}).map(function(f){return f.clipAtImageBorders(r.width,r.height)}),[2,u.map(function(f){var h=f.x,m=f.y,g=f.width,y=f.height,b=jb({width:g,height:y});return zc(b).putImageData(s.getImageData(h,m,g,y),0,0),b})]}})})}function Q_(t,e){return ot(this,void 0,void 0,function(){return it(this,function(n){if(!Ub(t)&&!gu(t))throw new Error("extractFaceTensors - expected image tensor to be 3D or 4D");if(gu(t)&&t.shape[0]>1)throw new Error("extractFaceTensors - batchSize > 1 not supported");return[2,Xe(function(){var r=t.shape.slice(gu(t)?1:0),a=r[0],o=r[1],i=r[2],s=e.map(function(c){return c instanceof ps?c.forSize(o,a).box:c}).map(function(c){return c.clipAtImageBorders(o,a)}),u=s.map(function(c){var f=c.x,h=c.y,m=c.width,g=c.height;return I5(t.as3D(a,o,i),[h,f,0],[g,m,i])});return u})]})})}function ate(t,e){return ot(this,void 0,void 0,function(){var n,r;return it(this,function(a){switch(a.label){case 0:return n=ta.getEnv().fetch,[4,n(t,e)];case 1:if(r=a.sent(),!(r.status<400))throw new Error("failed to fetch: ("+r.status+") "+r.statusText+", from url: "+r.url);return[2,r]}})})}function ote(t){return ot(this,void 0,void 0,function(){return it(this,function(e){switch(e.label){case 0:return[4,ate(t)];case 1:return[2,e.sent().json()]}})})}function uP(t,e){var n=e+"-weights_manifest.json";if(!t)return{modelBaseUri:"",manifestUri:n};if(t==="/")return{modelBaseUri:"/",manifestUri:"/"+n};var r=t.startsWith("http://")?"http://":t.startsWith("https://")?"https://":"";t=t.replace(r,"");var a=t.split("/").filter(function(s){return s}),o=t.endsWith(".json")?a[a.length-1]:n,i=r+(t.endsWith(".json")?a.slice(0,a.length-1):a).join("/");return i=t.startsWith("/")?"/"+i:i,{modelBaseUri:i,manifestUri:i==="/"?"/"+o:i+"/"+o}}function ite(t,e){return ot(this,void 0,void 0,function(){var n,r,a,o;return it(this,function(i){switch(i.label){case 0:return n=uP(t,e),r=n.manifestUri,a=n.modelBaseUri,[4,ote(r)];case 1:return o=i.sent(),[2,Z5.loadWeights(o,a)]}})})}var sl=function(){function t(e){this._name=e,this._params=void 0,this._paramMappings=[]}return Object.defineProperty(t.prototype,"params",{get:function(){return this._params},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMappings",{get:function(){return this._paramMappings},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isLoaded",{get:function(){return!!this.params},enumerable:!0,configurable:!0}),t.prototype.getParamFromPath=function(e){var n=this.traversePropertyPath(e),r=n.obj,a=n.objProp;return r[a]},t.prototype.reassignParamFromPath=function(e,n){var r=this.traversePropertyPath(e),a=r.obj,o=r.objProp;a[o].dispose(),a[o]=n},t.prototype.getParamList=function(){var e=this;return this._paramMappings.map(function(n){var r=n.paramPath;return{path:r,tensor:e.getParamFromPath(r)}})},t.prototype.getTrainableParams=function(){return this.getParamList().filter(function(e){return e.tensor instanceof zf})},t.prototype.getFrozenParams=function(){return this.getParamList().filter(function(e){return!(e.tensor instanceof zf)})},t.prototype.variable=function(){var e=this;this.getFrozenParams().forEach(function(n){var r=n.path,a=n.tensor;e.reassignParamFromPath(r,a.variable())})},t.prototype.freeze=function(){var e=this;this.getTrainableParams().forEach(function(n){var r=n.path,a=n.tensor,o=Zr(a.dataSync());a.dispose(),e.reassignParamFromPath(r,o)})},t.prototype.dispose=function(e){e===void 0&&(e=!0),this.getParamList().forEach(function(n){if(e&&n.tensor.isDisposed)throw new Error("param tensor has already been disposed for path "+n.path);n.tensor.dispose()}),this._params=void 0},t.prototype.serializeParams=function(){return new Float32Array(this.getParamList().map(function(e){var n=e.tensor;return Array.from(n.dataSync())}).reduce(function(e,n){return e.concat(n)}))},t.prototype.load=function(e){return ot(this,void 0,void 0,function(){return it(this,function(n){switch(n.label){case 0:return e instanceof Float32Array?(this.extractWeights(e),[2]):[4,this.loadFromUri(e)];case 1:return n.sent(),[2]}})})},t.prototype.loadFromUri=function(e){return ot(this,void 0,void 0,function(){var n;return it(this,function(r){switch(r.label){case 0:if(e&&typeof e!="string")throw new Error(this._name+".loadFromUri - expected model uri");return[4,ite(e,this.getDefaultModelName())];case 1:return n=r.sent(),this.loadFromWeightMap(n),[2]}})})},t.prototype.loadFromDisk=function(e){return ot(this,void 0,void 0,function(){var n,r,a,o,i,s,u,c,f,h;return it(this,function(m){switch(m.label){case 0:if(e&&typeof e!="string")throw new Error(this._name+".loadFromDisk - expected model file path");return n=ta.getEnv().readFile,r=uP(e,this.getDefaultModelName()),a=r.manifestUri,o=r.modelBaseUri,i=function(g){return Promise.all(g.map(function(y){return n(y).then(function(b){return b.buffer})}))},s=Z5.weightsLoaderFactory(i),f=(c=JSON).parse,[4,n(a)];case 1:return u=f.apply(c,[m.sent().toString()]),[4,s(u,o)];case 2:return h=m.sent(),this.loadFromWeightMap(h),[2]}})})},t.prototype.loadFromWeightMap=function(e){var n=this.extractParamsFromWeigthMap(e),r=n.paramMappings,a=n.params;this._paramMappings=r,this._params=a},t.prototype.extractWeights=function(e){var n=this.extractParams(e),r=n.paramMappings,a=n.params;this._paramMappings=r,this._params=a},t.prototype.traversePropertyPath=function(e){if(!this.params)throw new Error("traversePropertyPath - model has no loaded params");var n=e.split("/").reduce(function(o,i){if(!o.nextObj.hasOwnProperty(i))throw new Error("traversePropertyPath - object does not have property "+i+", for path "+e);return{obj:o.nextObj,objProp:i,nextObj:o.nextObj[i]}},{nextObj:this.params}),r=n.obj,a=n.objProp;if(!r||!a||!(r[a]instanceof qn))throw new Error("traversePropertyPath - parameter is not a tensor, for path "+e);return{obj:r,objProp:a}},t}();function ho(t,e,n){return Xe(function(){var r=M_(t,e.depthwise_filter,e.pointwise_filter,n,"same");return r=Wt(r,e.bias),r})}function E2(t,e,n){return n===void 0&&(n=!1),Xe(function(){var r=Kn(n?Wt(Vo(t,e.conv0.filters,[2,2],"same"),e.conv0.bias):ho(t,e.conv0,[2,2])),a=ho(r,e.conv1,[1,1]),o=Kn(Wt(r,a)),i=ho(o,e.conv2,[1,1]);return Kn(Wt(r,Wt(a,i)))})}function g0(t,e,n,r){return n===void 0&&(n=!1),r===void 0&&(r=!0),Xe(function(){var a=Kn(n?Wt(Vo(t,e.conv0.filters,r?[2,2]:[1,1],"same"),e.conv0.bias):ho(t,e.conv0,r?[2,2]:[1,1])),o=ho(a,e.conv1,[1,1]),i=Kn(Wt(a,o)),s=ho(i,e.conv2,[1,1]),u=Kn(Wt(a,Wt(o,s))),c=ho(u,e.conv3,[1,1]);return Kn(Wt(a,Wt(o,Wt(s,c))))})}function ci(t,e,n,r){return n===void 0&&(n="same"),r===void 0&&(r=!1),Xe(function(){var a=Wt(Vo(t,e.filters,[1,1],n),e.bias);return r?Kn(a):a})}function ll(t,e){Object.keys(t).forEach(function(n){e.some(function(r){return r.originalPath===n})||t[n].dispose()})}function Wb(t,e){return function(n,r,a,o){var i=$a(t(n*r*a*a),[a,a,n,r]),s=yr(t(r));return e.push({paramPath:o+"/filters"},{paramPath:o+"/bias"}),{filters:i,bias:s}}}function Z_(t,e){return function(n,r,a){var o=pu(t(n*r),[n,r]),i=yr(t(r));return e.push({paramPath:a+"/weights"},{paramPath:a+"/bias"}),{weights:o,bias:i}}}var cP=function(){function t(e,n,r){this.depthwise_filter=e,this.pointwise_filter=n,this.bias=r}return t}();function J_(t,e){return function(n,r,a){var o=$a(t(9*n),[3,3,n,1]),i=$a(t(n*r),[1,1,n,r]),s=yr(t(r));return e.push({paramPath:a+"/depthwise_filter"},{paramPath:a+"/pointwise_filter"},{paramPath:a+"/bias"}),new cP(o,i,s)}}function eC(t){return function(e){var n=t(e+"/depthwise_filter",4),r=t(e+"/pointwise_filter",4),a=t(e+"/bias",1);return new cP(n,r,a)}}function ku(t,e){return function(n,r,a){var o=t[n];if(!$b(o,r))throw new Error("expected weightMap["+n+"] to be a Tensor"+r+"D, instead have "+o);return e.push({originalPath:n,paramPath:a||n}),o}}function ul(t){var e=t;function n(a){var o=e.slice(0,a);return e=e.slice(a),o}function r(){return e}return{extractWeights:n,getRemainingWeights:r}}function dP(t,e){var n=Wb(t,e),r=J_(t,e);function a(i,s,u,c){c===void 0&&(c=!1);var f=c?n(i,s,3,u+"/conv0"):r(i,s,u+"/conv0"),h=r(s,s,u+"/conv1"),m=r(s,s,u+"/conv2");return{conv0:f,conv1:h,conv2:m}}function o(i,s,u,c){c===void 0&&(c=!1);var f=a(i,s,u,c),h=f.conv0,m=f.conv1,g=f.conv2,y=r(s,s,u+"/conv3");return{conv0:h,conv1:m,conv2:g,conv3:y}}return{extractDenseBlock3Params:a,extractDenseBlock4Params:o}}function ste(t){var e=[],n=ul(t),r=n.extractWeights,a=n.getRemainingWeights,o=dP(r,e).extractDenseBlock4Params,i=o(3,32,"dense0",!0),s=o(32,64,"dense1"),u=o(64,128,"dense2"),c=o(128,256,"dense3");if(a().length!==0)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:e,params:{dense0:i,dense1:s,dense2:u,dense3:c}}}function fP(t){return function(e){var n=t(e+"/filters",4),r=t(e+"/bias",1);return{filters:n,bias:r}}}function hP(t,e){var n=ku(t,e),r=fP(n),a=eC(n);function o(s,u){u===void 0&&(u=!1);var c=u?r(s+"/conv0"):a(s+"/conv0"),f=a(s+"/conv1"),h=a(s+"/conv2");return{conv0:c,conv1:f,conv2:h}}function i(s,u){u===void 0&&(u=!1);var c=u?r(s+"/conv0"):a(s+"/conv0"),f=a(s+"/conv1"),h=a(s+"/conv2"),m=a(s+"/conv3");return{conv0:c,conv1:f,conv2:h,conv3:m}}return{extractDenseBlock3Params:o,extractDenseBlock4Params:i}}function lte(t){var e=[],n=hP(t,e).extractDenseBlock4Params,r={dense0:n("dense0",!0),dense1:n("dense1"),dense2:n("dense2"),dense3:n("dense3")};return ll(t,e),{params:r,paramMappings:e}}var pP=function(t){Ot(e,t);function e(){return t.call(this,"FaceFeatureExtractor")||this}return e.prototype.forwardInput=function(n){var r=this.params;if(!r)throw new Error("FaceFeatureExtractor - load model before inference");return Xe(function(){var a=n.toBatchTensor(112,!0),o=[122.782,117.001,104.298],i=og(a,o).div(He(255)),s=g0(i,r.dense0,!0);return s=g0(s,r.dense1),s=g0(s,r.dense2),s=g0(s,r.dense3),s=rg(s,[7,7],[2,2],"valid"),s})},e.prototype.forward=function(n){return ot(this,void 0,void 0,function(){var r;return it(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,Br(n)];case 1:return[2,r.apply(this,[a.sent()])]}})})},e.prototype.getDefaultModelName=function(){return"face_feature_extractor_model"},e.prototype.extractParamsFromWeigthMap=function(n){return lte(n)},e.prototype.extractParams=function(n){return ste(n)},e}(sl);function Yi(t,e){return Xe(function(){return Wt(Fb(t,e.weights),e.bias)})}function ute(t,e,n){var r=[],a=ul(t),o=a.extractWeights,i=a.getRemainingWeights,s=Z_(o,r),u=s(e,n,"fc");if(i().length!==0)throw new Error("weights remaing after extract: "+i().length);return{paramMappings:r,params:{fc:u}}}function cte(t){var e=[],n=ku(t,e);function r(o){var i=n(o+"/weights",2),s=n(o+"/bias",1);return{weights:i,bias:s}}var a={fc:r("fc")};return ll(t,e),{params:a,paramMappings:e}}function mP(t){var e={},n={};return Object.keys(t).forEach(function(r){var a=r.startsWith("fc")?n:e;a[r]=t[r]}),{featureExtractorMap:e,classifierMap:n}}var gP=function(t){Ot(e,t);function e(n,r){var a=t.call(this,n)||this;return a._faceFeatureExtractor=r,a}return Object.defineProperty(e.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),e.prototype.runNet=function(n){var r=this,a=this.params;if(!a)throw new Error(this._name+" - load model before inference");return Xe(function(){var o=n instanceof Fy?r.faceFeatureExtractor.forwardInput(n):n;return Yi(o.as2D(o.shape[0],-1),a.fc)})},e.prototype.dispose=function(n){n===void 0&&(n=!0),this.faceFeatureExtractor.dispose(n),t.prototype.dispose.call(this,n)},e.prototype.loadClassifierParams=function(n){var r=this.extractClassifierParams(n),a=r.params,o=r.paramMappings;this._params=a,this._paramMappings=o},e.prototype.extractClassifierParams=function(n){return ute(n,this.getClassifierChannelsIn(),this.getClassifierChannelsOut())},e.prototype.extractParamsFromWeigthMap=function(n){var r=mP(n),a=r.featureExtractorMap,o=r.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(a),cte(o)},e.prototype.extractParams=function(n){var r=this.getClassifierChannelsIn(),a=this.getClassifierChannelsOut(),o=a*r+a,i=n.slice(0,n.length-o),s=n.slice(n.length-o);return this.faceFeatureExtractor.extractWeights(i),this.extractClassifierParams(s)},e}(sl),kA=["neutral","happy","sad","angry","fearful","disgusted","surprised"],dte=function(){function t(e){var n=this;if(e.length!==7)throw new Error("FaceExpressions.constructor - expected probabilities.length to be 7, have: "+e.length);kA.forEach(function(r,a){n[r]=e[a]})}return t.prototype.asSortedArray=function(){var e=this;return kA.map(function(n){return{expression:n,probability:e[n]}}).sort(function(n,r){return r.probability-n.probability})},t}(),fte=function(t){Ot(e,t);function e(n){return n===void 0&&(n=new pP),t.call(this,"FaceExpressionNet",n)||this}return e.prototype.forwardInput=function(n){var r=this;return Xe(function(){return ol(r.runNet(n))})},e.prototype.forward=function(n){return ot(this,void 0,void 0,function(){var r;return it(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,Br(n)];case 1:return[2,r.apply(this,[a.sent()])]}})})},e.prototype.predictExpressions=function(n){return ot(this,void 0,void 0,function(){var r,a,o,i,s=this;return it(this,function(u){switch(u.label){case 0:return[4,Br(n)];case 1:return r=u.sent(),[4,this.forwardInput(r)];case 2:return a=u.sent(),[4,Promise.all(Rr(a).map(function(c){return ot(s,void 0,void 0,function(){var f;return it(this,function(h){switch(h.label){case 0:return[4,c.data()];case 1:return f=h.sent(),c.dispose(),[2,f]}})})}))];case 3:return o=u.sent(),a.dispose(),i=o.map(function(c){return new dte(c)}),[2,r.isBatchInput?i:i[0]]}})})},e.prototype.getDefaultModelName=function(){return"face_expression_model"},e.prototype.getClassifierChannelsIn=function(){return 256},e.prototype.getClassifierChannelsOut=function(){return 7},e}(gP);function vP(t,e){var n={expressions:e};return Object.assign({},t,n)}function hte(t){return Xee(t)&&t.landmarks instanceof Ly&&t.unshiftedLandmarks instanceof Ly&&t.alignedRect instanceof ps}function tC(t,e){var n=t.detection.box,r=e.shiftBy(n.x,n.y),a=r.align(),o=t.detection.imageDims,i=new ps(t.detection.score,a.rescale(o.reverse()),o),s={landmarks:r,unshiftedLandmarks:e,alignedRect:i};return Object.assign({},t,s)}function pte(t,e){var n=Wb(t,e),r=J_(t,e);function a(i,s,u){var c=r(i,s,u+"/separable_conv0"),f=r(s,s,u+"/separable_conv1"),h=n(i,s,1,u+"/expansion_conv");return{separable_conv0:c,separable_conv1:f,expansion_conv:h}}function o(i,s){var u=r(i,i,s+"/separable_conv0"),c=r(i,i,s+"/separable_conv1"),f=r(i,i,s+"/separable_conv2");return{separable_conv0:u,separable_conv1:c,separable_conv2:f}}return{extractConvParams:n,extractSeparableConvParams:r,extractReductionBlockParams:a,extractMainBlockParams:o}}function mte(t,e){var n=[],r=ul(t),a=r.extractWeights,o=r.getRemainingWeights,i=pte(a,n),s=i.extractConvParams,u=i.extractSeparableConvParams,c=i.extractReductionBlockParams,f=i.extractMainBlockParams,h=s(3,32,3,"entry_flow/conv_in"),m=c(32,64,"entry_flow/reduction_block_0"),g=c(64,128,"entry_flow/reduction_block_1"),y={conv_in:h,reduction_block_0:m,reduction_block_1:g},b={};xm(e,0,1).forEach(function(_){b["main_block_"+_]=f(128,"middle_flow/main_block_"+_)});var x=c(128,256,"exit_flow/reduction_block"),S=u(256,512,"exit_flow/separable_conv"),R={reduction_block:x,separable_conv:S};if(o().length!==0)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:n,params:{entry_flow:y,middle_flow:b,exit_flow:R}}}function gte(t,e){var n=ku(t,e),r=fP(n),a=eC(n);function o(s){var u=a(s+"/separable_conv0"),c=a(s+"/separable_conv1"),f=r(s+"/expansion_conv");return{separable_conv0:u,separable_conv1:c,expansion_conv:f}}function i(s){var u=a(s+"/separable_conv0"),c=a(s+"/separable_conv1"),f=a(s+"/separable_conv2");return{separable_conv0:u,separable_conv1:c,separable_conv2:f}}return{extractConvParams:r,extractSeparableConvParams:a,extractReductionBlockParams:o,extractMainBlockParams:i}}function vte(t,e){var n=[],r=gte(t,n),a=r.extractConvParams,o=r.extractSeparableConvParams,i=r.extractReductionBlockParams,s=r.extractMainBlockParams,u=a("entry_flow/conv_in"),c=i("entry_flow/reduction_block_0"),f=i("entry_flow/reduction_block_1"),h={conv_in:u,reduction_block_0:c,reduction_block_1:f},m={};xm(e,0,1).forEach(function(x){m["main_block_"+x]=s("middle_flow/main_block_"+x)});var g=i("exit_flow/reduction_block"),y=o("exit_flow/separable_conv"),b={reduction_block:g,separable_conv:y};return ll(t,n),{params:{entry_flow:h,middle_flow:m,exit_flow:b},paramMappings:n}}function yP(t,e,n){return Wt(Vo(t,e.filters,n,"same"),e.bias)}function T2(t,e,n){n===void 0&&(n=!0);var r=n?Kn(t):t;return r=ho(r,e.separable_conv0,[1,1]),r=ho(Kn(r),e.separable_conv1,[1,1]),r=Lr(r,[3,3],[2,2],"same"),r=Wt(r,yP(t,e.expansion_conv,[2,2])),r}function yte(t,e){var n=ho(Kn(t),e.separable_conv0,[1,1]);return n=ho(Kn(n),e.separable_conv1,[1,1]),n=ho(Kn(n),e.separable_conv2,[1,1]),n=Wt(n,t),n}var bte=function(t){Ot(e,t);function e(n){var r=t.call(this,"TinyXception")||this;return r._numMainBlocks=n,r}return e.prototype.forwardInput=function(n){var r=this,a=this.params;if(!a)throw new Error("TinyXception - load model before inference");return Xe(function(){var o=n.toBatchTensor(112,!0),i=[122.782,117.001,104.298],s=og(o,i).div(He(256)),u=Kn(yP(s,a.entry_flow.conv_in,[2,2]));return u=T2(u,a.entry_flow.reduction_block_0,!1),u=T2(u,a.entry_flow.reduction_block_1),xm(r._numMainBlocks,0,1).forEach(function(c){u=yte(u,a.middle_flow["main_block_"+c])}),u=T2(u,a.exit_flow.reduction_block),u=Kn(ho(u,a.exit_flow.separable_conv,[1,1])),u})},e.prototype.forward=function(n){return ot(this,void 0,void 0,function(){var r;return it(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,Br(n)];case 1:return[2,r.apply(this,[a.sent()])]}})})},e.prototype.getDefaultModelName=function(){return"tiny_xception_model"},e.prototype.extractParamsFromWeigthMap=function(n){return vte(n,this._numMainBlocks)},e.prototype.extractParams=function(n){return mte(n,this._numMainBlocks)},e}(sl);function xte(t){var e=[],n=ul(t),r=n.extractWeights,a=n.getRemainingWeights,o=Z_(r,e),i=o(512,1,"fc/age"),s=o(512,2,"fc/gender");if(a().length!==0)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:e,params:{fc:{age:i,gender:s}}}}function wte(t){var e=[],n=ku(t,e);function r(o){var i=n(o+"/weights",2),s=n(o+"/bias",1);return{weights:i,bias:s}}var a={fc:{age:r("fc/age"),gender:r("fc/gender")}};return ll(t,e),{params:a,paramMappings:e}}var By;(function(t){t.FEMALE="female",t.MALE="male"})(By||(By={}));var Ste=function(t){Ot(e,t);function e(n){n===void 0&&(n=new bte(2));var r=t.call(this,"AgeGenderNet")||this;return r._faceFeatureExtractor=n,r}return Object.defineProperty(e.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),e.prototype.runNet=function(n){var r=this,a=this.params;if(!a)throw new Error(this._name+" - load model before inference");return Xe(function(){var o=n instanceof Fy?r.faceFeatureExtractor.forwardInput(n):n,i=rg(o,[7,7],[2,2],"valid").as2D(o.shape[0],-1),s=Yi(i,a.fc.age).as1D(),u=Yi(i,a.fc.gender);return{age:s,gender:u}})},e.prototype.forwardInput=function(n){var r=this;return Xe(function(){var a=r.runNet(n),o=a.age,i=a.gender;return{age:o,gender:ol(i)}})},e.prototype.forward=function(n){return ot(this,void 0,void 0,function(){var r;return it(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,Br(n)];case 1:return[2,r.apply(this,[a.sent()])]}})})},e.prototype.predictAgeAndGender=function(n){return ot(this,void 0,void 0,function(){var r,a,o,i,s,u,c=this;return it(this,function(f){switch(f.label){case 0:return[4,Br(n)];case 1:return r=f.sent(),[4,this.forwardInput(r)];case 2:return a=f.sent(),o=Rr(a.age),i=Rr(a.gender),s=o.map(function(h,m){return{ageTensor:h,genderTensor:i[m]}}),[4,Promise.all(s.map(function(h){var m=h.ageTensor,g=h.genderTensor;return ot(c,void 0,void 0,function(){var y,b,x,S,R;return it(this,function(_){switch(_.label){case 0:return[4,m.data()];case 1:return y=_.sent()[0],[4,g.data()];case 2:return b=_.sent()[0],x=b>.5,S=x?By.MALE:By.FEMALE,R=x?b:1-b,m.dispose(),g.dispose(),[2,{age:y,gender:S,genderProbability:R}]}})})}))];case 3:return u=f.sent(),a.age.dispose(),a.gender.dispose(),[2,r.isBatchInput?u:u[0]]}})})},e.prototype.getDefaultModelName=function(){return"age_gender_model"},e.prototype.dispose=function(n){n===void 0&&(n=!0),this.faceFeatureExtractor.dispose(n),t.prototype.dispose.call(this,n)},e.prototype.loadClassifierParams=function(n){var r=this.extractClassifierParams(n),a=r.params,o=r.paramMappings;this._params=a,this._paramMappings=o},e.prototype.extractClassifierParams=function(n){return xte(n)},e.prototype.extractParamsFromWeigthMap=function(n){var r=mP(n),a=r.featureExtractorMap,o=r.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(a),wte(o)},e.prototype.extractParams=function(n){var r=1539,a=n.slice(0,n.length-r),o=n.slice(n.length-r);return this.faceFeatureExtractor.extractWeights(a),this.extractClassifierParams(o)},e}(sl),bP=function(t){Ot(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.postProcess=function(n,r,a){var o=a.map(function(s){var u=s.width,c=s.height,f=r/Math.max(c,u);return{width:u*f,height:c*f}}),i=o.length;return Xe(function(){var s=function(m,g){return go([ns([68],m),ns([68],g)],1).as2D(1,136).as1D()},u=function(m,g){var y=o[m],b=y.width,x=y.height;return g(b,x)?Math.abs(b-x)/2:0},c=function(m){return u(m,function(g,y){return g<y})},f=function(m){return u(m,function(g,y){return y<g})},h=n.mul(ns([i,136],r)).sub(go(Array.from(Array(i),function(m,g){return s(c(g),f(g))}))).div(go(Array.from(Array(i),function(m,g){return s(o[g].width,o[g].height)})));return h})},e.prototype.forwardInput=function(n){var r=this;return Xe(function(){var a=r.runNet(n);return r.postProcess(a,n.inputSize,n.inputDimensions.map(function(o){var i=o[0],s=o[1];return{height:i,width:s}}))})},e.prototype.forward=function(n){return ot(this,void 0,void 0,function(){var r;return it(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,Br(n)];case 1:return[2,r.apply(this,[a.sent()])]}})})},e.prototype.detectLandmarks=function(n){return ot(this,void 0,void 0,function(){var r,a,o,i=this;return it(this,function(s){switch(s.label){case 0:return[4,Br(n)];case 1:return r=s.sent(),a=Xe(function(){return Rr(i.forwardInput(r))}),[4,Promise.all(a.map(function(u,c){return ot(i,void 0,void 0,function(){var f,h,m,g,y;return it(this,function(b){switch(b.label){case 0:return m=(h=Array).from,[4,u.data()];case 1:return f=m.apply(h,[b.sent()]),g=f.filter(function(x,S){return xA(S)}),y=f.filter(function(x,S){return!xA(S)}),[2,new Yee(Array(68).fill(0).map(function(x,S){return new pn(g[S],y[S])}),{height:r.getInputHeight(c),width:r.getInputWidth(c)})]}})})}))];case 2:return o=s.sent(),a.forEach(function(u){return u.dispose()}),[2,r.isBatchInput?o:o[0]]}})})},e.prototype.getClassifierChannelsOut=function(){return 136},e}(gP),xP=function(t){Ot(e,t);function e(n){return n===void 0&&(n=new pP),t.call(this,"FaceLandmark68Net",n)||this}return e.prototype.getDefaultModelName=function(){return"face_landmark_68_model"},e.prototype.getClassifierChannelsIn=function(){return 256},e}(bP);function _te(t){var e=[],n=hP(t,e).extractDenseBlock3Params,r={dense0:n("dense0",!0),dense1:n("dense1"),dense2:n("dense2")};return ll(t,e),{params:r,paramMappings:e}}function Cte(t){var e=[],n=ul(t),r=n.extractWeights,a=n.getRemainingWeights,o=dP(r,e).extractDenseBlock3Params,i=o(3,32,"dense0",!0),s=o(32,64,"dense1"),u=o(64,128,"dense2");if(a().length!==0)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:e,params:{dense0:i,dense1:s,dense2:u}}}var Ete=function(t){Ot(e,t);function e(){return t.call(this,"TinyFaceFeatureExtractor")||this}return e.prototype.forwardInput=function(n){var r=this.params;if(!r)throw new Error("TinyFaceFeatureExtractor - load model before inference");return Xe(function(){var a=n.toBatchTensor(112,!0),o=[122.782,117.001,104.298],i=og(a,o).div(He(255)),s=E2(i,r.dense0,!0);return s=E2(s,r.dense1),s=E2(s,r.dense2),s=rg(s,[14,14],[2,2],"valid"),s})},e.prototype.forward=function(n){return ot(this,void 0,void 0,function(){var r;return it(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,Br(n)];case 1:return[2,r.apply(this,[a.sent()])]}})})},e.prototype.getDefaultModelName=function(){return"face_feature_extractor_tiny_model"},e.prototype.extractParamsFromWeigthMap=function(n){return _te(n)},e.prototype.extractParams=function(n){return Cte(n)},e}(sl),Tte=function(t){Ot(e,t);function e(n){return n===void 0&&(n=new Ete),t.call(this,"FaceLandmark68TinyNet",n)||this}return e.prototype.getDefaultModelName=function(){return"face_landmark_68_tiny_model"},e.prototype.getClassifierChannelsIn=function(){return 128},e}(bP);(function(t){Ot(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(xP);function Rte(t,e){return Wt(ba(t,e.weights),e.biases)}function nC(t,e,n,r,a){a===void 0&&(a="same");var o=e.conv,i=o.filters,s=o.bias,u=Vo(t,i,n,a);return u=Wt(u,s),u=Rte(u,e.scale),r?Kn(u):u}function Ate(t,e){return nC(t,e,[1,1],!0)}function wP(t,e){return nC(t,e,[1,1],!1)}function SP(t,e){return nC(t,e,[2,2],!0,"valid")}function kte(t,e){function n(s,u,c){var f=t(s),h=f.length/(u*c*c);if(zee(h))throw new Error("depth has to be an integer: "+h+", weights.length: "+f.length+", numFilters: "+u+", filterSize: "+c);return Xe(function(){return xu($a(f,[u,h,c,c]),[2,3,1,0])})}function r(s,u,c,f){var h=n(s,u,c),m=yr(t(u));return e.push({paramPath:f+"/filters"},{paramPath:f+"/bias"}),{filters:h,bias:m}}function a(s,u){var c=yr(t(s)),f=yr(t(s));return e.push({paramPath:u+"/weights"},{paramPath:u+"/biases"}),{weights:c,biases:f}}function o(s,u,c,f){var h=r(s,u,c,f+"/conv"),m=a(u,f+"/scale");return{conv:h,scale:m}}function i(s,u,c,f,h){h===void 0&&(h=!1);var m=o((h?.5:1)*s,u,c,f+"/conv1"),g=o(s,u,c,f+"/conv2");return{conv1:m,conv2:g}}return{extractConvLayerParams:o,extractResidualLayerParams:i}}function Nte(t){var e=ul(t),n=e.extractWeights,r=e.getRemainingWeights,a=[],o=kte(n,a),i=o.extractConvLayerParams,s=o.extractResidualLayerParams,u=i(4704,32,7,"conv32_down"),c=s(9216,32,3,"conv32_1"),f=s(9216,32,3,"conv32_2"),h=s(9216,32,3,"conv32_3"),m=s(36864,64,3,"conv64_down",!0),g=s(36864,64,3,"conv64_1"),y=s(36864,64,3,"conv64_2"),b=s(36864,64,3,"conv64_3"),x=s(147456,128,3,"conv128_down",!0),S=s(147456,128,3,"conv128_1"),R=s(147456,128,3,"conv128_2"),_=s(589824,256,3,"conv256_down",!0),T=s(589824,256,3,"conv256_1"),A=s(589824,256,3,"conv256_2"),D=s(589824,256,3,"conv256_down_out"),N=Xe(function(){return xu(pu(n(256*128),[128,256]),[1,0])});if(a.push({paramPath:"fc"}),r().length!==0)throw new Error("weights remaing after extract: "+r().length);var M={conv32_down:u,conv32_1:c,conv32_2:f,conv32_3:h,conv64_down:m,conv64_1:g,conv64_2:y,conv64_3:b,conv128_down:x,conv128_1:S,conv128_2:R,conv256_down:_,conv256_1:T,conv256_2:A,conv256_down_out:D,fc:N};return{params:M,paramMappings:a}}function Ote(t,e){var n=ku(t,e);function r(i){var s=n(i+"/scale/weights",1),u=n(i+"/scale/biases",1);return{weights:s,biases:u}}function a(i){var s=n(i+"/conv/filters",4),u=n(i+"/conv/bias",1),c=r(i);return{conv:{filters:s,bias:u},scale:c}}function o(i){return{conv1:a(i+"/conv1"),conv2:a(i+"/conv2")}}return{extractConvLayerParams:a,extractResidualLayerParams:o}}function Dte(t){var e=[],n=Ote(t,e),r=n.extractConvLayerParams,a=n.extractResidualLayerParams,o=r("conv32_down"),i=a("conv32_1"),s=a("conv32_2"),u=a("conv32_3"),c=a("conv64_down"),f=a("conv64_1"),h=a("conv64_2"),m=a("conv64_3"),g=a("conv128_down"),y=a("conv128_1"),b=a("conv128_2"),x=a("conv256_down"),S=a("conv256_1"),R=a("conv256_2"),_=a("conv256_down_out"),T=t.fc;if(e.push({originalPath:"fc",paramPath:"fc"}),!Bee(T))throw new Error("expected weightMap[fc] to be a Tensor2D, instead have "+T);var A={conv32_down:o,conv32_1:i,conv32_2:s,conv32_3:u,conv64_down:c,conv64_1:f,conv64_2:h,conv64_3:m,conv128_down:g,conv128_1:y,conv128_2:b,conv256_down:x,conv256_1:S,conv256_2:R,conv256_down_out:_,fc:T};return ll(t,e),{params:A,paramMappings:e}}function zi(t,e){var n=Ate(t,e.conv1);return n=wP(n,e.conv2),n=Wt(n,t),n=Kn(n),n}function v0(t,e){var n=SP(t,e.conv1);n=wP(n,e.conv2);var r=rg(t,2,2,"valid"),a=In(r.shape),o=r.shape[3]!==n.shape[3],i=r.shape[1]!==n.shape[1]||r.shape[2]!==n.shape[2];if(i){var s=Qp(n.shape);s[1]=1;var u=In(s);n=Tr([n,u],1);var c=Qp(n.shape);c[2]=1;var f=In(c);n=Tr([n,f],2)}return r=o?Tr([r,a],3):r,n=Wt(r,n),n=Kn(n),n}var Mte=function(t){Ot(e,t);function e(){return t.call(this,"FaceRecognitionNet")||this}return e.prototype.forwardInput=function(n){var r=this.params;if(!r)throw new Error("FaceRecognitionNet - load model before inference");return Xe(function(){var a=n.toBatchTensor(150,!0).toFloat(),o=[122.782,117.001,104.298],i=og(a,o).div(He(256)),s=SP(i,r.conv32_down);s=Lr(s,3,2,"valid"),s=zi(s,r.conv32_1),s=zi(s,r.conv32_2),s=zi(s,r.conv32_3),s=v0(s,r.conv64_down),s=zi(s,r.conv64_1),s=zi(s,r.conv64_2),s=zi(s,r.conv64_3),s=v0(s,r.conv128_down),s=zi(s,r.conv128_1),s=zi(s,r.conv128_2),s=v0(s,r.conv256_down),s=zi(s,r.conv256_1),s=zi(s,r.conv256_2),s=v0(s,r.conv256_down_out);var u=s.mean([1,2]),c=Fb(u,r.fc);return c})},e.prototype.forward=function(n){return ot(this,void 0,void 0,function(){var r;return it(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,Br(n)];case 1:return[2,r.apply(this,[a.sent()])]}})})},e.prototype.computeFaceDescriptor=function(n){return ot(this,void 0,void 0,function(){var r,a,o,i=this;return it(this,function(s){switch(s.label){case 0:return[4,Br(n)];case 1:return r=s.sent(),a=Xe(function(){return Rr(i.forwardInput(r))}),[4,Promise.all(a.map(function(u){return u.data()}))];case 2:return o=s.sent(),a.forEach(function(u){return u.dispose()}),[2,r.isBatchInput?o:o[0]]}})})},e.prototype.getDefaultModelName=function(){return"face_recognition_model"},e.prototype.extractParamsFromWeigthMap=function(n){return Dte(n)},e.prototype.extractParams=function(n){return Nte(n)},e}(sl);function _P(t,e){var n={descriptor:e};return Object.assign({},t,n)}function CP(t,e){var n={age:e};return Object.assign({},t,n)}function EP(t,e,n){var r={gender:e,genderProbability:n};return Object.assign({},t,r)}var TP=function(){function t(e){var n=e===void 0?{}:e,r=n.minFaceSize,a=n.scaleFactor,o=n.maxNumScales,i=n.scoreThresholds,s=n.scaleSteps;if(this._name="MtcnnOptions",this._minFaceSize=r||20,this._scaleFactor=a||.709,this._maxNumScales=o||10,this._scoreThresholds=i||[.6,.7,.7],this._scaleSteps=s,typeof this._minFaceSize!="number"||this._minFaceSize<0)throw new Error(this._name+" - expected minFaceSize to be a number > 0");if(typeof this._scaleFactor!="number"||this._scaleFactor<=0||this._scaleFactor>=1)throw new Error(this._name+" - expected scaleFactor to be a number between 0 and 1");if(typeof this._maxNumScales!="number"||this._maxNumScales<0)throw new Error(this._name+" - expected maxNumScales to be a number > 0");if(!Array.isArray(this._scoreThresholds)||this._scoreThresholds.length!==3||this._scoreThresholds.some(function(u){return typeof u!="number"}))throw new Error(this._name+" - expected scoreThresholds to be an array of numbers of length 3");if(this._scaleSteps&&(!Array.isArray(this._scaleSteps)||this._scaleSteps.some(function(u){return typeof u!="number"})))throw new Error(this._name+" - expected scaleSteps to be an array of numbers")}return Object.defineProperty(t.prototype,"minFaceSize",{get:function(){return this._minFaceSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scaleFactor",{get:function(){return this._scaleFactor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxNumScales",{get:function(){return this._maxNumScales},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scoreThresholds",{get:function(){return this._scoreThresholds},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scaleSteps",{get:function(){return this._scaleSteps},enumerable:!0,configurable:!0}),t}();function Pte(t,e){function n(u,c){var f=$a(t(9*u),[3,3,u,1]),h=yr(t(u)),m=yr(t(u)),g=yr(t(u)),y=yr(t(u));return e.push({paramPath:c+"/filters"},{paramPath:c+"/batch_norm_scale"},{paramPath:c+"/batch_norm_offset"},{paramPath:c+"/batch_norm_mean"},{paramPath:c+"/batch_norm_variance"}),{filters:f,batch_norm_scale:h,batch_norm_offset:m,batch_norm_mean:g,batch_norm_variance:y}}function r(u,c,f,h,m){var g=$a(t(u*c*f*f),[f,f,u,c]),y=yr(t(c));return e.push({paramPath:h+"/filters"},{paramPath:h+"/"+(m?"batch_norm_offset":"bias")}),{filters:g,bias:y}}function a(u,c,f,h){var m=r(u,c,f,h,!0),g=m.filters,y=m.bias;return{filters:g,batch_norm_offset:y}}function o(u,c,f){var h=n(u,f+"/depthwise_conv"),m=a(u,c,1,f+"/pointwise_conv");return{depthwise_conv:h,pointwise_conv:m}}function i(){var u=a(3,32,3,"mobilenetv1/conv_0"),c=o(32,64,"mobilenetv1/conv_1"),f=o(64,128,"mobilenetv1/conv_2"),h=o(128,128,"mobilenetv1/conv_3"),m=o(128,256,"mobilenetv1/conv_4"),g=o(256,256,"mobilenetv1/conv_5"),y=o(256,512,"mobilenetv1/conv_6"),b=o(512,512,"mobilenetv1/conv_7"),x=o(512,512,"mobilenetv1/conv_8"),S=o(512,512,"mobilenetv1/conv_9"),R=o(512,512,"mobilenetv1/conv_10"),_=o(512,512,"mobilenetv1/conv_11"),T=o(512,1024,"mobilenetv1/conv_12"),A=o(1024,1024,"mobilenetv1/conv_13");return{conv_0:u,conv_1:c,conv_2:f,conv_3:h,conv_4:m,conv_5:g,conv_6:y,conv_7:b,conv_8:x,conv_9:S,conv_10:R,conv_11:_,conv_12:T,conv_13:A}}function s(){var u=a(1024,256,1,"prediction_layer/conv_0"),c=a(256,512,3,"prediction_layer/conv_1"),f=a(512,128,1,"prediction_layer/conv_2"),h=a(128,256,3,"prediction_layer/conv_3"),m=a(256,128,1,"prediction_layer/conv_4"),g=a(128,256,3,"prediction_layer/conv_5"),y=a(256,64,1,"prediction_layer/conv_6"),b=a(64,128,3,"prediction_layer/conv_7"),x=r(512,12,1,"prediction_layer/box_predictor_0/box_encoding_predictor"),S=r(512,9,1,"prediction_layer/box_predictor_0/class_predictor"),R=r(1024,24,1,"prediction_layer/box_predictor_1/box_encoding_predictor"),_=r(1024,18,1,"prediction_layer/box_predictor_1/class_predictor"),T=r(512,24,1,"prediction_layer/box_predictor_2/box_encoding_predictor"),A=r(512,18,1,"prediction_layer/box_predictor_2/class_predictor"),D=r(256,24,1,"prediction_layer/box_predictor_3/box_encoding_predictor"),N=r(256,18,1,"prediction_layer/box_predictor_3/class_predictor"),M=r(256,24,1,"prediction_layer/box_predictor_4/box_encoding_predictor"),P=r(256,18,1,"prediction_layer/box_predictor_4/class_predictor"),I=r(128,24,1,"prediction_layer/box_predictor_5/box_encoding_predictor"),$=r(128,18,1,"prediction_layer/box_predictor_5/class_predictor"),z={box_encoding_predictor:x,class_predictor:S},G={box_encoding_predictor:R,class_predictor:_},V={box_encoding_predictor:T,class_predictor:A},B={box_encoding_predictor:D,class_predictor:N},F={box_encoding_predictor:M,class_predictor:P},U={box_encoding_predictor:I,class_predictor:$};return{conv_0:u,conv_1:c,conv_2:f,conv_3:h,conv_4:m,conv_5:g,conv_6:y,conv_7:b,box_predictor_0:z,box_predictor_1:G,box_predictor_2:V,box_predictor_3:B,box_predictor_4:F,box_predictor_5:U}}return{extractMobilenetV1Params:i,extractPredictionLayerParams:s}}function Ite(t){var e=[],n=ul(t),r=n.extractWeights,a=n.getRemainingWeights,o=Pte(r,e),i=o.extractMobilenetV1Params,s=o.extractPredictionLayerParams,u=i(),c=s(),f=y_(r(5118*4),[1,5118,4]),h={extra_dim:f};if(e.push({paramPath:"output_layer/extra_dim"}),a().length!==0)throw new Error("weights remaing after extract: "+a().length);return{params:{mobilenetv1:u,prediction_layer:c,output_layer:h},paramMappings:e}}function Lte(t,e){var n=ku(t,e);function r(c,f,h){var m=n(c+"/Conv2d_"+f+"_pointwise/weights",4,h+"/filters"),g=n(c+"/Conv2d_"+f+"_pointwise/convolution_bn_offset",1,h+"/batch_norm_offset");return{filters:m,batch_norm_offset:g}}function a(c){var f="mobilenetv1/conv_"+c,h="MobilenetV1/Conv2d_"+c+"_depthwise",m=f+"/depthwise_conv",g=f+"/pointwise_conv",y=n(h+"/depthwise_weights",4,m+"/filters"),b=n(h+"/BatchNorm/gamma",1,m+"/batch_norm_scale"),x=n(h+"/BatchNorm/beta",1,m+"/batch_norm_offset"),S=n(h+"/BatchNorm/moving_mean",1,m+"/batch_norm_mean"),R=n(h+"/BatchNorm/moving_variance",1,m+"/batch_norm_variance");return{depthwise_conv:{filters:y,batch_norm_scale:b,batch_norm_offset:x,batch_norm_mean:S,batch_norm_variance:R},pointwise_conv:r("MobilenetV1",c,g)}}function o(){return{conv_0:r("MobilenetV1",0,"mobilenetv1/conv_0"),conv_1:a(1),conv_2:a(2),conv_3:a(3),conv_4:a(4),conv_5:a(5),conv_6:a(6),conv_7:a(7),conv_8:a(8),conv_9:a(9),conv_10:a(10),conv_11:a(11),conv_12:a(12),conv_13:a(13)}}function i(c,f){var h=n(c+"/weights",4,f+"/filters"),m=n(c+"/biases",1,f+"/bias");return{filters:h,bias:m}}function s(c){var f=i("Prediction/BoxPredictor_"+c+"/BoxEncodingPredictor","prediction_layer/box_predictor_"+c+"/box_encoding_predictor"),h=i("Prediction/BoxPredictor_"+c+"/ClassPredictor","prediction_layer/box_predictor_"+c+"/class_predictor");return{box_encoding_predictor:f,class_predictor:h}}function u(){return{conv_0:r("Prediction",0,"prediction_layer/conv_0"),conv_1:r("Prediction",1,"prediction_layer/conv_1"),conv_2:r("Prediction",2,"prediction_layer/conv_2"),conv_3:r("Prediction",3,"prediction_layer/conv_3"),conv_4:r("Prediction",4,"prediction_layer/conv_4"),conv_5:r("Prediction",5,"prediction_layer/conv_5"),conv_6:r("Prediction",6,"prediction_layer/conv_6"),conv_7:r("Prediction",7,"prediction_layer/conv_7"),box_predictor_0:s(0),box_predictor_1:s(1),box_predictor_2:s(2),box_predictor_3:s(3),box_predictor_4:s(4),box_predictor_5:s(5)}}return{extractMobilenetV1Params:o,extractPredictionLayerParams:u}}function Fte(t){var e=[],n=Lte(t,e),r=n.extractMobilenetV1Params,a=n.extractPredictionLayerParams,o=t["Output/extra_dim"];if(e.push({originalPath:"Output/extra_dim",paramPath:"output_layer/extra_dim"}),!Ub(o))throw new Error("expected weightMap['Output/extra_dim'] to be a Tensor3D, instead have "+o);var i={mobilenetv1:r(),prediction_layer:a(),output_layer:{extra_dim:o}};return ll(t,e),{params:i,paramMappings:e}}function $i(t,e,n){return Xe(function(){var r=Vo(t,e.filters,n,"same");return r=Wt(r,e.batch_norm_offset),k_(r,0,6)})}var Bte=.0010000000474974513;function zte(t,e,n){return Xe(function(){var r=Lb(t,e.filters,n,"same");return r=x5(r,e.batch_norm_mean,e.batch_norm_variance,e.batch_norm_offset,e.batch_norm_scale,Bte),k_(r,0,6)})}function $te(t){return[2,4,6,12].some(function(e){return e===t})?[2,2]:[1,1]}function Ute(t,e){return Xe(function(){var n=null,r=$i(t,e.conv_0,[2,2]),a=[e.conv_1,e.conv_2,e.conv_3,e.conv_4,e.conv_5,e.conv_6,e.conv_7,e.conv_8,e.conv_9,e.conv_10,e.conv_11,e.conv_12,e.conv_13];if(a.forEach(function(o,i){var s=i+1,u=$te(s);r=zte(r,o.depthwise_conv,u),r=$i(r,o.pointwise_conv,[1,1]),s===11&&(n=r)}),n===null)throw new Error("mobileNetV1 - output of conv layer 11 is null");return{out:r,conv11:n}})}function Vte(t,e,n,r,a){var o=t.shape[0],i=Math.min(n,o),s=e.map(function(f,h){return{score:f,boxIndex:h}}).filter(function(f){return f.score>a}).sort(function(f,h){return h.score-f.score}),u=function(f){return f<=r?1:0},c=[];return s.forEach(function(f){if(!(c.length>=i)){for(var h=f.score,m=c.length-1;m>=0;--m){var g=jte(t,f.boxIndex,c[m]);if(g!==0&&(f.score*=u(g),f.score<=a))break}h===f.score&&c.push(f.boxIndex)}}),c}function jte(t,e,n){var r=t.arraySync(),a=Math.min(r[e][0],r[e][2]),o=Math.min(r[e][1],r[e][3]),i=Math.max(r[e][0],r[e][2]),s=Math.max(r[e][1],r[e][3]),u=Math.min(r[n][0],r[n][2]),c=Math.min(r[n][1],r[n][3]),f=Math.max(r[n][0],r[n][2]),h=Math.max(r[n][1],r[n][3]),m=(i-a)*(s-o),g=(f-u)*(h-c);if(m<=0||g<=0)return 0;var y=Math.max(a,u),b=Math.max(o,c),x=Math.min(i,f),S=Math.min(s,h),R=Math.max(x-y,0)*Math.max(S-b,0);return R/(m+g-R)}function Wte(t){var e=Rr(xu(t,[1,0])),n=[kr(e[2],e[0]),kr(e[3],e[1])],r=[Wt(e[0],li(n[0],He(2))),Wt(e[1],li(n[1],He(2)))];return{sizes:n,centers:r}}function Hte(t,e){var n=Wte(t),r=n.sizes,a=n.centers,o=Rr(xu(e,[1,0])),i=li(ba(Ww(li(o[2],He(5))),r[0]),He(2)),s=Wt(ba(li(o[0],He(10)),r[0]),a[0]),u=li(ba(Ww(li(o[3],He(5))),r[1]),He(2)),c=Wt(ba(li(o[1],He(10)),r[1]),a[1]);return xu(go([kr(s,i),kr(c,u),Wt(s,i),Wt(c,u)]),[1,0])}function qte(t,e,n){return Xe(function(){var r=t.shape[0],a=Hte(ui(hf(n.extra_dim,[r,1,1]),[-1,4]),ui(t,[-1,4]));a=ui(a,[r,a.shape[0]/r,4]);var o=g5(ss(e,[0,0,1],[-1,-1,-1])),i=ss(o,[0,0,0],[-1,-1,1]);i=ui(i,[r,i.shape[1]]);var s=Rr(a),u=Rr(i);return{boxes:s,scores:u}})}function qd(t,e){return Xe(function(){var n=t.shape[0],r=ui(ci(t,e.box_encoding_predictor),[n,-1,1,4]),a=ui(ci(t,e.class_predictor),[n,-1,3]);return{boxPredictionEncoding:r,classPrediction:a}})}function Gte(t,e,n){return Xe(function(){var r=$i(t,n.conv_0,[1,1]),a=$i(r,n.conv_1,[2,2]),o=$i(a,n.conv_2,[1,1]),i=$i(o,n.conv_3,[2,2]),s=$i(i,n.conv_4,[1,1]),u=$i(s,n.conv_5,[2,2]),c=$i(u,n.conv_6,[1,1]),f=$i(c,n.conv_7,[2,2]),h=qd(e,n.box_predictor_0),m=qd(t,n.box_predictor_1),g=qd(a,n.box_predictor_2),y=qd(i,n.box_predictor_3),b=qd(u,n.box_predictor_4),x=qd(f,n.box_predictor_5),S=Tr([h.boxPredictionEncoding,m.boxPredictionEncoding,g.boxPredictionEncoding,y.boxPredictionEncoding,b.boxPredictionEncoding,x.boxPredictionEncoding],1),R=Tr([h.classPrediction,m.classPrediction,g.classPrediction,y.classPrediction,b.classPrediction,x.classPrediction],1);return{boxPredictions:S,classPredictions:R}})}var ig=function(){function t(e){var n=e===void 0?{}:e,r=n.minConfidence,a=n.maxResults;if(this._name="SsdMobilenetv1Options",this._minConfidence=r||.5,this._maxResults=a||100,typeof this._minConfidence!="number"||this._minConfidence<=0||this._minConfidence>=1)throw new Error(this._name+" - expected minConfidence to be a number between 0 and 1");if(typeof this._maxResults!="number")throw new Error(this._name+" - expected maxResults to be a number")}return Object.defineProperty(t.prototype,"minConfidence",{get:function(){return this._minConfidence},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxResults",{get:function(){return this._maxResults},enumerable:!0,configurable:!0}),t}(),RP=function(t){Ot(e,t);function e(){return t.call(this,"SsdMobilenetv1")||this}return e.prototype.forwardInput=function(n){var r=this.params;if(!r)throw new Error("SsdMobilenetv1 - load model before inference");return Xe(function(){var a=n.toBatchTensor(512,!1).toFloat(),o=kr(ba(a,He(.007843137718737125)),He(1)),i=Ute(o,r.mobilenetv1),s=Gte(i.out,i.conv11,r.prediction_layer),u=s.boxPredictions,c=s.classPredictions;return qte(u,c,r.output_layer)})},e.prototype.forward=function(n){return ot(this,void 0,void 0,function(){var r;return it(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,Br(n)];case 1:return[2,r.apply(this,[a.sent()])]}})})},e.prototype.locateFaces=function(n,r){return r===void 0&&(r={}),ot(this,void 0,void 0,function(){var a,o,i,s,u,c,f,h,m,g,y,b,x,S,R,_,T,A,D,N,M;return it(this,function(P){switch(P.label){case 0:return a=new ig(r),o=a.maxResults,i=a.minConfidence,[4,Br(n)];case 1:for(s=P.sent(),u=this.forwardInput(s),c=u.boxes,f=u.scores,h=c[0],m=f[0],g=1;g<c.length;g++)c[g].dispose(),f[g].dispose();return x=(b=Array).from,[4,m.data()];case 2:return y=x.apply(b,[P.sent()]),S=.5,R=Vte(h,y,o,S,i),_=s.getReshapedInputDimensions(0),T=s.inputSize,A=T/_.width,D=T/_.height,N=h.arraySync(),M=R.map(function(I){var $=[Math.max(0,N[I][0]),Math.min(1,N[I][2])].map(function(U){return U*D}),z=$[0],G=$[1],V=[Math.max(0,N[I][1]),Math.min(1,N[I][3])].map(function(U){return U*A}),B=V[0],F=V[1];return new ps(y[I],new q_(B,z,F-B,G-z),{height:s.getInputHeight(0),width:s.getInputWidth(0)})}),h.dispose(),m.dispose(),[2,M]}})})},e.prototype.getDefaultModelName=function(){return"ssd_mobilenetv1_model"},e.prototype.extractParamsFromWeigthMap=function(n){return Fte(n)},e.prototype.extractParams=function(n){return Ite(n)},e}(sl);(function(t){Ot(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(RP);var Kte=.4,Yte=[new pn(.738768,.874946),new pn(2.42204,2.65704),new pn(4.30971,7.04493),new pn(10.246,4.59428),new pn(12.6868,11.8741)],Xte=[new pn(1.603231,2.094468),new pn(6.041143,7.080126),new pn(2.882459,3.518061),new pn(4.266906,5.178857),new pn(9.041765,10.66308)],Qte=[117.001,114.697,97.404],Zte="tiny_yolov2_model",Jte="tiny_yolov2_separable_conv_model",y0=function(t){return typeof t=="number"};function ene(t){if(!t)throw new Error("invalid config: "+t);if(typeof t.withSeparableConvs!="boolean")throw new Error("config.withSeparableConvs has to be a boolean, have: "+t.withSeparableConvs);if(!y0(t.iouThreshold)||t.iouThreshold<0||t.iouThreshold>1)throw new Error("config.iouThreshold has to be a number between [0, 1], have: "+t.iouThreshold);if(!Array.isArray(t.classes)||!t.classes.length||!t.classes.every(function(e){return typeof e=="string"}))throw new Error("config.classes has to be an array class names: string[], have: "+JSON.stringify(t.classes));if(!Array.isArray(t.anchors)||!t.anchors.length||!t.anchors.map(function(e){return e||{}}).every(function(e){return y0(e.x)&&y0(e.y)}))throw new Error("config.anchors has to be an array of { x: number, y: number }, have: "+JSON.stringify(t.anchors));if(t.meanRgb&&(!Array.isArray(t.meanRgb)||t.meanRgb.length!==3||!t.meanRgb.every(y0)))throw new Error("config.meanRgb has to be an array of shape [number, number, number], have: "+JSON.stringify(t.meanRgb))}function rC(t){return Xe(function(){var e=ba(t,He(.10000000149011612));return Wt(Kn(kr(t,e)),e)})}function Jl(t,e){return Xe(function(){var n=jc(t,[[0,0],[1,1],[1,1],[0,0]]);return n=Vo(n,e.conv.filters,[1,1],"valid"),n=kr(n,e.bn.sub),n=ba(n,e.bn.truediv),n=Wt(n,e.conv.bias),rC(n)})}function eu(t,e){return Xe(function(){var n=jc(t,[[0,0],[1,1],[1,1],[0,0]]);return n=M_(n,e.depthwise_filter,e.pointwise_filter,[1,1],"valid"),n=Wt(n,e.bias),rC(n)})}function tne(t,e){var n=Wb(t,e);function r(i,s){var u=yr(t(i)),c=yr(t(i));return e.push({paramPath:s+"/sub"},{paramPath:s+"/truediv"}),{sub:u,truediv:c}}function a(i,s,u){var c=n(i,s,3,u+"/conv"),f=r(s,u+"/bn");return{conv:c,bn:f}}var o=J_(t,e);return{extractConvParams:n,extractConvWithBatchNormParams:a,extractSeparableConvParams:o}}function nne(t,e,n,r){var a=ul(t),o=a.extractWeights,i=a.getRemainingWeights,s=[],u=tne(o,s),c=u.extractConvParams,f=u.extractConvWithBatchNormParams,h=u.extractSeparableConvParams,m;if(e.withSeparableConvs){var g=r[0],y=r[1],b=r[2],x=r[3],S=r[4],R=r[5],_=r[6],T=r[7],A=r[8],D=e.isFirstLayerConv2d?c(g,y,3,"conv0"):h(g,y,"conv0"),N=h(y,b,"conv1"),M=h(b,x,"conv2"),P=h(x,S,"conv3"),I=h(S,R,"conv4"),$=h(R,_,"conv5"),z=T?h(_,T,"conv6"):void 0,G=A?h(T,A,"conv7"):void 0,V=c(A||T||_,5*n,1,"conv8");m={conv0:D,conv1:N,conv2:M,conv3:P,conv4:I,conv5:$,conv6:z,conv7:G,conv8:V}}else{var g=r[0],y=r[1],b=r[2],x=r[3],S=r[4],R=r[5],_=r[6],T=r[7],A=r[8],D=f(g,y,"conv0"),N=f(y,b,"conv1"),M=f(b,x,"conv2"),P=f(x,S,"conv3"),I=f(S,R,"conv4"),$=f(R,_,"conv5"),z=f(_,T,"conv6"),G=f(T,A,"conv7"),V=c(A,5*n,1,"conv8");m={conv0:D,conv1:N,conv2:M,conv3:P,conv4:I,conv5:$,conv6:z,conv7:G,conv8:V}}if(i().length!==0)throw new Error("weights remaing after extract: "+i().length);return{params:m,paramMappings:s}}function rne(t,e){var n=ku(t,e);function r(s){var u=n(s+"/sub",1),c=n(s+"/truediv",1);return{sub:u,truediv:c}}function a(s){var u=n(s+"/filters",4),c=n(s+"/bias",1);return{filters:u,bias:c}}function o(s){var u=a(s+"/conv"),c=r(s+"/bn");return{conv:u,bn:c}}var i=eC(n);return{extractConvParams:a,extractConvWithBatchNormParams:o,extractSeparableConvParams:i}}function ane(t,e){var n=[],r=rne(t,n),a=r.extractConvParams,o=r.extractConvWithBatchNormParams,i=r.extractSeparableConvParams,s;if(e.withSeparableConvs){var u=e.filterSizes&&e.filterSizes.length||9;s={conv0:e.isFirstLayerConv2d?a("conv0"):i("conv0"),conv1:i("conv1"),conv2:i("conv2"),conv3:i("conv3"),conv4:i("conv4"),conv5:i("conv5"),conv6:u>7?i("conv6"):void 0,conv7:u>8?i("conv7"):void 0,conv8:a("conv8")}}else s={conv0:o("conv0"),conv1:o("conv1"),conv2:o("conv2"),conv3:o("conv3"),conv4:o("conv4"),conv5:o("conv5"),conv6:o("conv6"),conv7:o("conv7"),conv8:a("conv8")};return ll(t,n),{params:s,paramMappings:n}}var NA;(function(t){t[t.XS=224]="XS",t[t.SM=320]="SM",t[t.MD=416]="MD",t[t.LG=608]="LG"})(NA||(NA={}));var aC=function(){function t(e){var n=e===void 0?{}:e,r=n.inputSize,a=n.scoreThreshold;if(this._name="TinyYolov2Options",this._inputSize=r||416,this._scoreThreshold=a||.5,typeof this._inputSize!="number"||this._inputSize%32!==0)throw new Error(this._name+" - expected inputSize to be a number divisible by 32");if(typeof this._scoreThreshold!="number"||this._scoreThreshold<=0||this._scoreThreshold>=1)throw new Error(this._name+" - expected scoreThreshold to be a number between 0 and 1")}return Object.defineProperty(t.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scoreThreshold",{get:function(){return this._scoreThreshold},enumerable:!0,configurable:!0}),t}(),AP=function(t){Ot(e,t);function e(n){var r=t.call(this,"TinyYolov2")||this;return ene(n),r._config=n,r}return Object.defineProperty(e.prototype,"config",{get:function(){return this._config},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"withClassScores",{get:function(){return this.config.withClassScores||this.config.classes.length>1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"boxEncodingSize",{get:function(){return 5+(this.withClassScores?this.config.classes.length:0)},enumerable:!0,configurable:!0}),e.prototype.runTinyYolov2=function(n,r){var a=Jl(n,r.conv0);return a=Lr(a,[2,2],[2,2],"same"),a=Jl(a,r.conv1),a=Lr(a,[2,2],[2,2],"same"),a=Jl(a,r.conv2),a=Lr(a,[2,2],[2,2],"same"),a=Jl(a,r.conv3),a=Lr(a,[2,2],[2,2],"same"),a=Jl(a,r.conv4),a=Lr(a,[2,2],[2,2],"same"),a=Jl(a,r.conv5),a=Lr(a,[2,2],[1,1],"same"),a=Jl(a,r.conv6),a=Jl(a,r.conv7),ci(a,r.conv8,"valid",!1)},e.prototype.runMobilenet=function(n,r){var a=this.config.isFirstLayerConv2d?rC(ci(n,r.conv0,"valid",!1)):eu(n,r.conv0);return a=Lr(a,[2,2],[2,2],"same"),a=eu(a,r.conv1),a=Lr(a,[2,2],[2,2],"same"),a=eu(a,r.conv2),a=Lr(a,[2,2],[2,2],"same"),a=eu(a,r.conv3),a=Lr(a,[2,2],[2,2],"same"),a=eu(a,r.conv4),a=Lr(a,[2,2],[2,2],"same"),a=eu(a,r.conv5),a=Lr(a,[2,2],[1,1],"same"),a=r.conv6?eu(a,r.conv6):a,a=r.conv7?eu(a,r.conv7):a,ci(a,r.conv8,"valid",!1)},e.prototype.forwardInput=function(n,r){var a=this,o=this.params;if(!o)throw new Error("TinyYolov2 - load model before inference");return Xe(function(){var i=n.toBatchTensor(r,!1).toFloat();return i=a.config.meanRgb?og(i,a.config.meanRgb):i,i=i.div(He(256)),a.config.withSeparableConvs?a.runMobilenet(i,o):a.runTinyYolov2(i,o)})},e.prototype.forward=function(n,r){return ot(this,void 0,void 0,function(){var a;return it(this,function(o){switch(o.label){case 0:return a=this.forwardInput,[4,Br(n)];case 1:return[4,a.apply(this,[o.sent(),r])];case 2:return[2,o.sent()]}})})},e.prototype.detect=function(n,r){return r===void 0&&(r={}),ot(this,void 0,void 0,function(){var a,o,i,s,u,c,f,h,m,g,y,b,x,S,R=this;return it(this,function(_){switch(_.label){case 0:return a=new aC(r),o=a.inputSize,i=a.scoreThreshold,[4,Br(n)];case 1:return s=_.sent(),[4,this.forwardInput(s,o)];case 2:return u=_.sent(),c=Xe(function(){return Rr(u)[0].expandDims()}),f={width:s.getInputWidth(0),height:s.getInputHeight(0)},[4,this.extractBoxes(c,s.getReshapedInputDimensions(0),i)];case 3:return h=_.sent(),u.dispose(),c.dispose(),m=h.map(function(T){return T.box}),g=h.map(function(T){return T.score}),y=h.map(function(T){return T.classScore}),b=h.map(function(T){return R.config.classes[T.label]}),x=wm(m.map(function(T){return T.rescale(o)}),g,this.config.iouThreshold,!0),S=x.map(function(T){return new eP(g[T],y[T],b[T],m[T],f)}),[2,S]}})})},e.prototype.getDefaultModelName=function(){return""},e.prototype.extractParamsFromWeigthMap=function(n){return ane(n,this.config)},e.prototype.extractParams=function(n){var r=this.config.filterSizes||e.DEFAULT_FILTER_SIZES,a=r?r.length:void 0;if(a!==7&&a!==8&&a!==9)throw new Error("TinyYolov2 - expected 7 | 8 | 9 convolutional filters, but found "+a+" filterSizes in config");return nne(n,this.config,this.boxEncodingSize,r)},e.prototype.extractBoxes=function(n,r,a){return ot(this,void 0,void 0,function(){var o,i,s,u,c,f,h,m,g,y,b,x,S,R,_,T,A,D,N,M,P,I,$,z,G,V,B,F,U,W=this;return it(this,function(Q){switch(Q.label){case 0:return o=r.width,i=r.height,s=Math.max(o,i),u=s/o,c=s/i,f=n.shape[1],h=this.config.anchors.length,m=Xe(function(){var q=n.reshape([f,f,h,W.boxEncodingSize]),le=q.slice([0,0,0,0],[f,f,h,4]),J=q.slice([0,0,0,4],[f,f,h,1]),oe=W.withClassScores?ol(q.slice([0,0,0,5],[f,f,h,W.config.classes.length]),3):He(0);return[le,J,oe]}),g=m[0],y=m[1],b=m[2],x=[],[4,y.array()];case 1:return S=Q.sent(),[4,g.array()];case 2:R=Q.sent(),_=0,Q.label=3;case 3:if(!(_<f))return[3,12];T=0,Q.label=4;case 4:if(!(T<f))return[3,11];A=0,Q.label=5;case 5:return A<h?(D=C2(S[_][T][A][0]),!a||D>a?(N=(T+C2(R[_][T][A][0]))/f*u,M=(_+C2(R[_][T][A][1]))/f*c,P=Math.exp(R[_][T][A][2])*this.config.anchors[A].x/f*u,I=Math.exp(R[_][T][A][3])*this.config.anchors[A].y/f*c,$=N-P/2,z=M-I/2,G={row:_,col:T,anchor:A},this.withClassScores?[4,this.extractPredictedClass(b,G)]:[3,7]):[3,9]):[3,10];case 6:return U=Q.sent(),[3,8];case 7:U={classScore:1,label:0},Q.label=8;case 8:V=U,B=V.classScore,F=V.label,x.push(ma({box:new Vb($,z,$+P,z+I),score:D,classScore:D*B,label:F},G)),Q.label=9;case 9:return A++,[3,5];case 10:return T++,[3,4];case 11:return _++,[3,3];case 12:return g.dispose(),y.dispose(),b.dispose(),[2,x]}})})},e.prototype.extractPredictedClass=function(n,r){return ot(this,void 0,void 0,function(){var a,o,i,s;return it(this,function(u){switch(u.label){case 0:return a=r.row,o=r.col,i=r.anchor,[4,n.array()];case 1:return s=u.sent(),[2,Array(this.config.classes.length).fill(0).map(function(c,f){return s[a][o][i][f]}).map(function(c,f){return{classScore:c,label:f}}).reduce(function(c,f){return c.classScore>f.classScore?c:f})]}})})},e.DEFAULT_FILTER_SIZES=[3,16,32,64,128,256,512,1024,1024],e}(sl),one=function(t){Ot(e,t);function e(n){n===void 0&&(n=!0);var r=this,a=Object.assign({},{withSeparableConvs:n,iouThreshold:Kte,classes:["face"]},n?{anchors:Xte,meanRgb:Qte}:{anchors:Yte,withClassScores:!0});return r=t.call(this,a)||this,r}return Object.defineProperty(e.prototype,"withSeparableConvs",{get:function(){return this.config.withSeparableConvs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),e.prototype.locateFaces=function(n,r){return ot(this,void 0,void 0,function(){var a;return it(this,function(o){switch(o.label){case 0:return[4,this.detect(n,r)];case 1:return a=o.sent(),[2,a.map(function(i){return new ps(i.score,i.relativeBox,{width:i.imageWidth,height:i.imageHeight})})]}})})},e.prototype.getDefaultModelName=function(){return this.withSeparableConvs?Jte:Zte},e.prototype.extractParamsFromWeigthMap=function(n){return t.prototype.extractParamsFromWeigthMap.call(this,n)},e}(AP),zy=function(t){Ot(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n._name="TinyFaceDetectorOptions",n}return e}(aC),sg=function(){function t(){}return t.prototype.then=function(e){return ot(this,void 0,void 0,function(){var n;return it(this,function(r){switch(r.label){case 0:return n=e,[4,this.run()];case 1:return[2,n.apply(void 0,[r.sent()])]}})})},t.prototype.run=function(){return ot(this,void 0,void 0,function(){return it(this,function(e){throw new Error("ComposableTask - run is not implemented")})})},t}();function Hb(t,e,n,r,a){return a===void 0&&(a=function(o){var i=o.alignedRect;return i}),ot(this,void 0,void 0,function(){var o,i,s,u,c;return it(this,function(f){switch(f.label){case 0:return o=t.map(function(h){return hte(h)?a(h):h.detection}),s=r,s?[3,5]:e instanceof qn?[4,Q_(e,o)]:[3,2];case 1:return u=f.sent(),[3,4];case 2:return[4,X_(e,o)];case 3:u=f.sent(),f.label=4;case 4:s=u,f.label=5;case 5:return i=s,[4,n(i)];case 6:return c=f.sent(),i.forEach(function(h){return h instanceof qn&&h.dispose()}),[2,c]}})})}function oC(t,e,n,r,a){return ot(this,void 0,void 0,function(){var o=this;return it(this,function(i){return[2,Hb([t],e,function(s){return ot(o,void 0,void 0,function(){return it(this,function(u){return[2,n(s[0])]})})},r,a)]})})}function ine(t){return Xe(function(){return go(Rr(t,3).reverse(),3)})}var b0=2,$y=12;function sne(t,e){var n=Wb(t,e),r=Z_(t,e);function a(c,f){var h=yr(t(c));return e.push({paramPath:f}),h}function o(c,f,h){h===void 0&&(h=!1);var m=n(c[0],c[1],3,f+"/conv1"),g=a(c[1],f+"/prelu1_alpha"),y=n(c[1],c[2],3,f+"/conv2"),b=a(c[2],f+"/prelu2_alpha"),x=n(c[2],c[3],h?2:3,f+"/conv3"),S=a(c[3],f+"/prelu3_alpha");return{conv1:m,prelu1_alpha:g,conv2:y,prelu2_alpha:b,conv3:x,prelu3_alpha:S}}function i(){var c=o([3,10,16,32],"pnet"),f=n(32,2,1,"pnet/conv4_1"),h=n(32,4,1,"pnet/conv4_2");return ma(ma({},c),{conv4_1:f,conv4_2:h})}function s(){var c=o([3,28,48,64],"rnet",!0),f=r(576,128,"rnet/fc1"),h=a(128,"rnet/prelu4_alpha"),m=r(128,2,"rnet/fc2_1"),g=r(128,4,"rnet/fc2_2");return ma(ma({},c),{fc1:f,prelu4_alpha:h,fc2_1:m,fc2_2:g})}function u(){var c=o([3,32,64,64],"onet"),f=n(64,128,2,"onet/conv4"),h=a(128,"onet/prelu4_alpha"),m=r(1152,256,"onet/fc1"),g=a(256,"onet/prelu5_alpha"),y=r(256,2,"onet/fc2_1"),b=r(256,4,"onet/fc2_2"),x=r(256,10,"onet/fc2_3");return ma(ma({},c),{conv4:f,prelu4_alpha:h,fc1:m,prelu5_alpha:g,fc2_1:y,fc2_2:b,fc2_3:x})}return{extractPNetParams:i,extractRNetParams:s,extractONetParams:u}}function lne(t){var e=ul(t),n=e.extractWeights,r=e.getRemainingWeights,a=[],o=sne(n,a),i=o.extractPNetParams,s=o.extractRNetParams,u=o.extractONetParams,c=i(),f=s(),h=u();if(r().length!==0)throw new Error("weights remaing after extract: "+r().length);return{params:{pnet:c,rnet:f,onet:h},paramMappings:a}}function une(t,e){var n=ku(t,e);function r(f){var h=n(f+"/weights",4,f+"/filters"),m=n(f+"/bias",1);return{filters:h,bias:m}}function a(f){var h=n(f+"/weights",2),m=n(f+"/bias",1);return{weights:h,bias:m}}function o(f){return n(f,1)}function i(f){var h=r(f+"/conv1"),m=o(f+"/prelu1_alpha"),g=r(f+"/conv2"),y=o(f+"/prelu2_alpha"),b=r(f+"/conv3"),x=o(f+"/prelu3_alpha");return{conv1:h,prelu1_alpha:m,conv2:g,prelu2_alpha:y,conv3:b,prelu3_alpha:x}}function s(){var f=i("pnet"),h=r("pnet/conv4_1"),m=r("pnet/conv4_2");return ma(ma({},f),{conv4_1:h,conv4_2:m})}function u(){var f=i("rnet"),h=a("rnet/fc1"),m=o("rnet/prelu4_alpha"),g=a("rnet/fc2_1"),y=a("rnet/fc2_2");return ma(ma({},f),{fc1:h,prelu4_alpha:m,fc2_1:g,fc2_2:y})}function c(){var f=i("onet"),h=r("onet/conv4"),m=o("onet/prelu4_alpha"),g=a("onet/fc1"),y=o("onet/prelu5_alpha"),b=a("onet/fc2_1"),x=a("onet/fc2_2"),S=a("onet/fc2_3");return ma(ma({},f),{conv4:h,prelu4_alpha:m,fc1:g,prelu5_alpha:y,fc2_1:b,fc2_2:x,fc2_3:S})}return{extractPNetParams:s,extractRNetParams:u,extractONetParams:c}}function cne(t){var e=[],n=une(t,e),r=n.extractPNetParams,a=n.extractRNetParams,o=n.extractONetParams,i=r(),s=a(),u=o();return ll(t,e),{params:{pnet:i,rnet:s,onet:u},paramMappings:e}}function Zw(t,e){var n=e[0],r=e[1];return{height:Math.floor(n*t),width:Math.floor(r*t)}}function dne(t,e,n){for(var r=n[0],a=n[1],o=$y/t,i=[],s=Math.min(r,a)*o,u=0;s>=12;)i.push(o*Math.pow(e,u)),s=s*e,u+=1;return i}var iC=function(t){Ot(e,t);function e(n,r,a,o){return t.call(this,{left:n,top:r,right:a,bottom:o},!0)||this}return e}(wu);function kP(t){return Xe(function(){return ba(kr(t,He(127.5)),He(.0078125))})}function bf(t,e){return Xe(function(){return Wt(Kn(t),ba(e,Dy(Kn(Dy(t)))))})}function sC(t,e,n){return n===void 0&&(n=!1),Xe(function(){var r=ci(t,e.conv1,"valid");return r=bf(r,e.prelu1_alpha),r=Lr(r,n?[2,2]:[3,3],[2,2],"same"),r=ci(r,e.conv2,"valid"),r=bf(r,e.prelu2_alpha),r=n?r:Lr(r,[3,3],[2,2],"valid"),r=ci(r,e.conv3,"valid"),r=bf(r,e.prelu3_alpha),r})}function fne(t,e){return Xe(function(){var n=sC(t,e,!0),r=ci(n,e.conv4_1,"valid"),a=Po(Bb(r,3),3),o=ol(kr(r,a),3),i=ci(n,e.conv4_2,"valid");return{prob:o,regions:i}})}function hne(t,e){return Xe(function(){var n=Zw(e,t.shape.slice(1)),r=n.height,a=n.width,o=B_.resizeBilinear(t,[r,a]),i=kP(o);return xu(i,[0,2,1,3])})}function pne(t,e,n,r){for(var a=[],o=t.arraySync(),i=0;i<t.shape[0];i++)for(var s=0;s<t.shape[1];s++)o[i][s]>=r&&a.push(new pn(s,i));var u=a.map(function(c){var f=new Vb(Math.round((c.y*b0+1)/n),Math.round((c.x*b0+1)/n),Math.round((c.y*b0+$y)/n),Math.round((c.x*b0+$y)/n)),h=o[c.y][c.x],m=e.arraySync(),g=new iC(m[c.y][c.x][0],m[c.y][c.x][1],m[c.y][c.x][2],m[c.y][c.x][3]);return{cell:f,score:h,region:g}});return u}function mne(t,e,n,r,a){a.stage1=[];var o=e.map(function(m){return Xe(function(){var g={scale:m},y=hne(t,m),b=Date.now(),x=fne(y,r),S=x.prob,R=x.regions;g.pnet=Date.now()-b;var _=Rr(Rr(S,3)[1])[0],T=Rr(R)[0];return{scoresTensor:_,regionsTensor:T,scale:m,statsForScale:g}})}),i=o.map(function(m){var g=m.scoresTensor,y=m.regionsTensor,b=m.scale,x=m.statsForScale,S=pne(g,y,b,n);if(g.dispose(),y.dispose(),!S.length)return a.stage1.push(x),[];var R=Date.now(),_=wm(S.map(function(T){return T.cell}),S.map(function(T){return T.score}),.5);return x.nms=Date.now()-R,x.numBoxes=_.length,a.stage1.push(x),_.map(function(T){return S[T]})}),s=i.reduce(function(m,g){return m.concat(g)},[]),u=[],c=[];if(s.length>0){var f=Date.now(),h=wm(s.map(function(m){return m.cell}),s.map(function(m){return m.score}),.7);a.stage1_nms=Date.now()-f,c=h.map(function(m){return s[m].score}),u=h.map(function(m){return s[m]}).map(function(m){var g=m.cell,y=m.region;return new Vb(g.left+y.left*g.width,g.top+y.top*g.height,g.right+y.right*g.width,g.bottom+y.bottom*g.height).toSquare().round()})}return{boxes:u,scores:c}}function NP(t,e,n){var r=n.width,a=n.height;return ot(this,void 0,void 0,function(){var o,i,s,u=this;return it(this,function(c){switch(c.label){case 0:return o=zc(t),[4,Promise.all(e.map(function(f){return ot(u,void 0,void 0,function(){var h,m,g,y,b,x,S,R;return it(this,function(_){return h=f.padAtBorders(t.height,t.width),m=h.y,g=h.ey,y=h.x,b=h.ex,x=y-1,S=m-1,R=o.getImageData(x,S,b-x,g-S),[2,ta.isNodejs()?Y_(R):createImageBitmap(R)]})})}))];case 1:return i=c.sent(),s=[],i.forEach(function(f){var h=jb({width:r,height:a}),m=zc(h);m.drawImage(f,0,0,r,a);for(var g=m.getImageData(0,0,r,a).data,y=[],b=0;b<g.length;b+=4)y.push(g[b+2]),y.push(g[b+1]),y.push(g[b]);s.push(y)}),[2,s.map(function(f){var h=Xe(function(){var m=xu($a(f,[1,r,a,3]),[0,2,1,3]).toFloat();return kP(m)});return h})]}})})}function gne(t,e){return Xe(function(){var n=sC(t,e),r=ui(n,[n.shape[0],e.fc1.weights.shape[0]]),a=Yi(r,e.fc1),o=bf(a,e.prelu4_alpha),i=Yi(o,e.fc2_1),s=Po(Bb(i,1),1),u=ol(kr(i,s),1),c=Yi(o,e.fc2_2),f=Rr(u,1)[1];return{scores:f,regions:c}})}function vne(t,e,n,r,a){return ot(this,void 0,void 0,function(){var o,i,s,u,c,f,h,m,g,y,b,x,S,R;return it(this,function(_){switch(_.label){case 0:return o=Date.now(),[4,NP(t,e,{width:24,height:24})];case 1:return i=_.sent(),a.stage2_extractImagePatches=Date.now()-o,o=Date.now(),s=i.map(function(T){var A=gne(T,r);return T.dispose(),A}),a.stage2_rnet=Date.now()-o,u=s.length>1?Tr(s.map(function(T){return T.scores})):s[0].scores,h=(f=Array).from,[4,u.data()];case 2:return c=h.apply(f,[_.sent()]),u.dispose(),m=c.map(function(T,A){return{score:T,idx:A}}).filter(function(T){return T.score>n}).map(function(T){var A=T.idx;return A}),g=m.map(function(T){return e[T]}),y=m.map(function(T){return c[T]}),b=[],x=[],g.length>0&&(o=Date.now(),S=wm(g,y,.7),a.stage2_nms=Date.now()-o,R=S.map(function(T){var A=s[m[T]].regions.arraySync();return new iC(A[0][0],A[0][1],A[0][2],A[0][3])}),x=S.map(function(T){return y[T]}),b=S.map(function(T,A){return g[T].calibrate(R[A])})),s.forEach(function(T){T.regions.dispose(),T.scores.dispose()}),[2,{boxes:b,scores:x}]}})})}function yne(t,e){return Xe(function(){var n=sC(t,e);n=Lr(n,[2,2],[2,2],"same"),n=ci(n,e.conv4,"valid"),n=bf(n,e.prelu4_alpha);var r=ui(n,[n.shape[0],e.fc1.weights.shape[0]]),a=Yi(r,e.fc1),o=bf(a,e.prelu5_alpha),i=Yi(o,e.fc2_1),s=Po(Bb(i,1),1),u=ol(kr(i,s),1),c=Yi(o,e.fc2_2),f=Yi(o,e.fc2_3),h=Rr(u,1)[1];return{scores:h,regions:c,points:f}})}function bne(t,e,n,r,a){return ot(this,void 0,void 0,function(){var o,i,s,u,c,f,h,m,g,y,b,x,S,R,_;return it(this,function(T){switch(T.label){case 0:return o=Date.now(),[4,NP(t,e,{width:48,height:48})];case 1:return i=T.sent(),a.stage3_extractImagePatches=Date.now()-o,o=Date.now(),s=i.map(function(A){var D=yne(A,r);return A.dispose(),D}),a.stage3_onet=Date.now()-o,u=s.length>1?Tr(s.map(function(A){return A.scores})):s[0].scores,h=(f=Array).from,[4,u.data()];case 2:return c=h.apply(f,[T.sent()]),u.dispose(),m=c.map(function(A,D){return{score:A,idx:D}}).filter(function(A){return A.score>n}).map(function(A){var D=A.idx;return D}),g=m.map(function(A){var D=s[A].regions.arraySync();return new iC(D[0][0],D[0][1],D[0][2],D[0][3])}),y=m.map(function(A,D){return e[A].calibrate(g[D])}),b=m.map(function(A){return c[A]}),x=[],S=[],R=[],y.length>0&&(o=Date.now(),_=wm(y,b,.7,!1),a.stage3_nms=Date.now()-o,x=_.map(function(A){return y[A]}),S=_.map(function(A){return b[A]}),R=_.map(function(A,D){return Array(5).fill(0).map(function(N,M){var P=s[A].points.arraySync();return new pn(P[0][M]*(x[D].width+1)+x[D].left,P[0][M+5]*(x[D].height+1)+x[D].top)})})),s.forEach(function(A){A.regions.dispose(),A.scores.dispose(),A.points.dispose()}),[2,{boxes:x,scores:S,points:R}]}})})}var xne=function(t){Ot(e,t);function e(){return t.call(this,"Mtcnn")||this}return e.prototype.load=function(n){return ot(this,void 0,void 0,function(){return it(this,function(r){return console.warn("mtcnn is deprecated and will be removed soon"),[2,t.prototype.load.call(this,n)]})})},e.prototype.loadFromDisk=function(n){return ot(this,void 0,void 0,function(){return it(this,function(r){return console.warn("mtcnn is deprecated and will be removed soon"),[2,t.prototype.loadFromDisk.call(this,n)]})})},e.prototype.forwardInput=function(n,r){return r===void 0&&(r={}),ot(this,void 0,void 0,function(){var a,o,i,s,u,c,f,h,m,g,y,b,x,S,R,_,T,A,D,N,M;return it(this,function(P){switch(P.label){case 0:if(a=this.params,!a)throw new Error("Mtcnn - load model before inference");if(o=n.canvases[0],!o)throw new Error("Mtcnn - inputCanvas is not defined, note that passing tensors into Mtcnn.forwardInput is not supported yet.");return i={},s=Date.now(),u=Xe(function(){return ine(Po(W_.fromPixels(o)).toFloat())}),c=function(I){return u.dispose(),i.total=Date.now()-s,I},f=u.shape.slice(1),h=f[0],m=f[1],g=new TP(r),y=g.minFaceSize,b=g.scaleFactor,x=g.maxNumScales,S=g.scoreThresholds,R=g.scaleSteps,_=(R||dne(y,b,[h,m])).filter(function(I){var $=Zw(I,[h,m]);return Math.min($.width,$.height)>$y}).slice(0,x),i.scales=_,i.pyramid=_.map(function(I){return Zw(I,[h,m])}),T=Date.now(),[4,mne(u,_,S[0],a.pnet,i)];case 1:return A=P.sent(),i.total_stage1=Date.now()-T,A.boxes.length?(i.stage2_numInputBoxes=A.boxes.length,T=Date.now(),[4,vne(o,A.boxes,S[1],a.rnet,i)]):[2,c({results:[],stats:i})];case 2:return D=P.sent(),i.total_stage2=Date.now()-T,D.boxes.length?(i.stage3_numInputBoxes=D.boxes.length,T=Date.now(),[4,bne(o,D.boxes,S[2],a.onet,i)]):[2,c({results:[],stats:i})];case 3:return N=P.sent(),i.total_stage3=Date.now()-T,M=N.boxes.map(function(I,$){return tC(G_({},new ps(N.scores[$],new q_(I.left/m,I.top/h,I.width/m,I.height/h),{height:h,width:m})),new Kee(N.points[$].map(function(z){return z.sub(new pn(I.left,I.top)).div(new pn(I.width,I.height))}),{width:I.width,height:I.height}))}),[2,c({results:M,stats:i})]}})})},e.prototype.forward=function(n,r){return r===void 0&&(r={}),ot(this,void 0,void 0,function(){var a;return it(this,function(o){switch(o.label){case 0:return a=this.forwardInput,[4,Br(n)];case 1:return[4,a.apply(this,[o.sent(),r])];case 2:return[2,o.sent().results]}})})},e.prototype.forwardWithStats=function(n,r){return r===void 0&&(r={}),ot(this,void 0,void 0,function(){var a;return it(this,function(o){switch(o.label){case 0:return a=this.forwardInput,[4,Br(n)];case 1:return[2,a.apply(this,[o.sent(),r])]}})})},e.prototype.getDefaultModelName=function(){return"mtcnn_model"},e.prototype.extractParamsFromWeigthMap=function(n){return cne(n)},e.prototype.extractParams=function(n){return lne(n)},e}(sl),wne=.4,Sne=[new pn(1.603231,2.094468),new pn(6.041143,7.080126),new pn(2.882459,3.518061),new pn(4.266906,5.178857),new pn(9.041765,10.66308)],_ne=[117.001,114.697,97.404],Cne=function(t){Ot(e,t);function e(){var n=this,r={withSeparableConvs:!0,iouThreshold:wne,classes:["face"],anchors:Sne,meanRgb:_ne,isFirstLayerConv2d:!0,filterSizes:[3,16,32,64,128,256,512]};return n=t.call(this,r)||this,n}return Object.defineProperty(e.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),e.prototype.locateFaces=function(n,r){return ot(this,void 0,void 0,function(){var a;return it(this,function(o){switch(o.label){case 0:return[4,this.detect(n,r)];case 1:return a=o.sent(),[2,a.map(function(i){return new ps(i.score,i.relativeBox,{width:i.imageWidth,height:i.imageHeight})})]}})})},e.prototype.getDefaultModelName=function(){return"tiny_face_detector_model"},e.prototype.extractParamsFromWeigthMap=function(n){return t.prototype.extractParamsFromWeigthMap.call(this,n)},e}(AP),Jr={ssdMobilenetv1:new RP,tinyFaceDetector:new Cne,tinyYolov2:new one,mtcnn:new xne,faceLandmark68Net:new xP,faceLandmark68TinyNet:new Tte,faceRecognitionNet:new Mte,faceExpressionNet:new fte,ageGenderNet:new Ste},OP=function(t){Ot(e,t);function e(n,r,a){var o=t.call(this)||this;return o.parentTask=n,o.input=r,o.extractedFaces=a,o}return e}(sg),lC=function(t){Ot(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.run=function(){return ot(this,void 0,void 0,function(){var n,r,a=this;return it(this,function(o){switch(o.label){case 0:return[4,this.parentTask];case 1:return n=o.sent(),[4,Hb(n,this.input,function(i){return ot(a,void 0,void 0,function(){return it(this,function(s){switch(s.label){case 0:return[4,Promise.all(i.map(function(u){return Jr.faceExpressionNet.predictExpressions(u)}))];case 1:return[2,s.sent()]}})})},this.extractedFaces)];case 2:return r=o.sent(),[2,n.map(function(i,s){return vP(i,r[s])})]}})})},e.prototype.withAgeAndGender=function(){return new fC(this,this.input)},e}(OP),uC=function(t){Ot(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.run=function(){return ot(this,void 0,void 0,function(){var n,r;return it(this,function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return n=a.sent(),n?[4,oC(n,this.input,function(o){return Jr.faceExpressionNet.predictExpressions(o)},this.extractedFaces)]:[2];case 2:return r=a.sent(),[2,vP(n,r)]}})})},e.prototype.withAgeAndGender=function(){return new hC(this,this.input)},e}(OP),cC=function(t){Ot(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.withAgeAndGender=function(){return new pC(this,this.input)},e.prototype.withFaceDescriptors=function(){return new gC(this,this.input)},e}(lC),dC=function(t){Ot(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.withAgeAndGender=function(){return new mC(this,this.input)},e.prototype.withFaceDescriptor=function(){return new vC(this,this.input)},e}(uC),DP=function(t){Ot(e,t);function e(n,r,a){var o=t.call(this)||this;return o.parentTask=n,o.input=r,o.extractedFaces=a,o}return e}(sg),fC=function(t){Ot(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.run=function(){return ot(this,void 0,void 0,function(){var n,r,a=this;return it(this,function(o){switch(o.label){case 0:return[4,this.parentTask];case 1:return n=o.sent(),[4,Hb(n,this.input,function(i){return ot(a,void 0,void 0,function(){return it(this,function(s){switch(s.label){case 0:return[4,Promise.all(i.map(function(u){return Jr.ageGenderNet.predictAgeAndGender(u)}))];case 1:return[2,s.sent()]}})})},this.extractedFaces)];case 2:return r=o.sent(),[2,n.map(function(i,s){var u=r[s],c=u.age,f=u.gender,h=u.genderProbability;return CP(EP(i,f,h),c)})]}})})},e.prototype.withFaceExpressions=function(){return new lC(this,this.input)},e}(DP),hC=function(t){Ot(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.run=function(){return ot(this,void 0,void 0,function(){var n,r,a,o,i;return it(this,function(s){switch(s.label){case 0:return[4,this.parentTask];case 1:return n=s.sent(),n?[4,oC(n,this.input,function(u){return Jr.ageGenderNet.predictAgeAndGender(u)},this.extractedFaces)]:[2];case 2:return r=s.sent(),a=r.age,o=r.gender,i=r.genderProbability,[2,CP(EP(n,o,i),a)]}})})},e.prototype.withFaceExpressions=function(){return new uC(this,this.input)},e}(DP),pC=function(t){Ot(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.withFaceExpressions=function(){return new cC(this,this.input)},e.prototype.withFaceDescriptors=function(){return new gC(this,this.input)},e}(fC),mC=function(t){Ot(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.withFaceExpressions=function(){return new dC(this,this.input)},e.prototype.withFaceDescriptor=function(){return new vC(this,this.input)},e}(hC),MP=function(t){Ot(e,t);function e(n,r){var a=t.call(this)||this;return a.parentTask=n,a.input=r,a}return e}(sg),gC=function(t){Ot(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.run=function(){return ot(this,void 0,void 0,function(){var n,r;return it(this,function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return n=a.sent(),[4,Hb(n,this.input,function(o){return Promise.all(o.map(function(i){return Jr.faceRecognitionNet.computeFaceDescriptor(i)}))},null,function(o){return o.landmarks.align(null,{useDlibAlignment:!0})})];case 2:return r=a.sent(),[2,r.map(function(o,i){return _P(n[i],o)})]}})})},e.prototype.withFaceExpressions=function(){return new cC(this,this.input)},e.prototype.withAgeAndGender=function(){return new pC(this,this.input)},e}(MP),vC=function(t){Ot(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.run=function(){return ot(this,void 0,void 0,function(){var n,r;return it(this,function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return n=a.sent(),n?[4,oC(n,this.input,function(o){return Jr.faceRecognitionNet.computeFaceDescriptor(o)},null,function(o){return o.landmarks.align(null,{useDlibAlignment:!0})})]:[2];case 2:return r=a.sent(),[2,_P(n,r)]}})})},e.prototype.withFaceExpressions=function(){return new dC(this,this.input)},e.prototype.withAgeAndGender=function(){return new mC(this,this.input)},e}(MP),PP=function(t){Ot(e,t);function e(n,r,a){var o=t.call(this)||this;return o.parentTask=n,o.input=r,o.useTinyLandmarkNet=a,o}return Object.defineProperty(e.prototype,"landmarkNet",{get:function(){return this.useTinyLandmarkNet?Jr.faceLandmark68TinyNet:Jr.faceLandmark68Net},enumerable:!0,configurable:!0}),e}(sg),Ene=function(t){Ot(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.run=function(){return ot(this,void 0,void 0,function(){var n,r,a,o,i,s=this;return it(this,function(u){switch(u.label){case 0:return[4,this.parentTask];case 1:return n=u.sent(),r=n.map(function(c){return c.detection}),this.input instanceof qn?[4,Q_(this.input,r)]:[3,3];case 2:return o=u.sent(),[3,5];case 3:return[4,X_(this.input,r)];case 4:o=u.sent(),u.label=5;case 5:return a=o,[4,Promise.all(a.map(function(c){return s.landmarkNet.detectLandmarks(c)}))];case 6:return i=u.sent(),a.forEach(function(c){return c instanceof qn&&c.dispose()}),[2,n.map(function(c,f){return tC(c,i[f])})]}})})},e.prototype.withFaceExpressions=function(){return new cC(this,this.input)},e.prototype.withAgeAndGender=function(){return new pC(this,this.input)},e.prototype.withFaceDescriptors=function(){return new gC(this,this.input)},e}(PP),Tne=function(t){Ot(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.run=function(){return ot(this,void 0,void 0,function(){var n,r,a,o,i;return it(this,function(s){switch(s.label){case 0:return[4,this.parentTask];case 1:return n=s.sent(),n?(r=n.detection,this.input instanceof qn?[4,Q_(this.input,[r])]:[3,3]):[2];case 2:return o=s.sent(),[3,5];case 3:return[4,X_(this.input,[r])];case 4:o=s.sent(),s.label=5;case 5:return a=o,[4,this.landmarkNet.detectLandmarks(a[0])];case 6:return i=s.sent(),a.forEach(function(u){return u instanceof qn&&u.dispose()}),[2,tC(n,i)]}})})},e.prototype.withFaceExpressions=function(){return new dC(this,this.input)},e.prototype.withAgeAndGender=function(){return new mC(this,this.input)},e.prototype.withFaceDescriptor=function(){return new vC(this,this.input)},e}(PP),IP=function(t){Ot(e,t);function e(n,r){r===void 0&&(r=new ig);var a=t.call(this)||this;return a.input=n,a.options=r,a}return e}(sg),LP=function(t){Ot(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.run=function(){return ot(this,void 0,void 0,function(){var n,r,a,o;return it(this,function(i){switch(i.label){case 0:return n=this,r=n.input,a=n.options,a instanceof TP?[4,Jr.mtcnn.forward(r,a)]:[3,2];case 1:return[2,i.sent().map(function(s){return s.detection})];case 2:if(o=a instanceof zy?function(s){return Jr.tinyFaceDetector.locateFaces(s,a)}:a instanceof ig?function(s){return Jr.ssdMobilenetv1.locateFaces(s,a)}:a instanceof aC?function(s){return Jr.tinyYolov2.locateFaces(s,a)}:null,!o)throw new Error("detectFaces - expected options to be instance of TinyFaceDetectorOptions | SsdMobilenetv1Options | MtcnnOptions | TinyYolov2Options");return[2,o(r)]}})})},e.prototype.runAndExtendWithFaceDetections=function(){var n=this;return new Promise(function(r){return ot(n,void 0,void 0,function(){var a;return it(this,function(o){switch(o.label){case 0:return[4,this.run()];case 1:return a=o.sent(),[2,r(a.map(function(i){return G_({},i)}))]}})})})},e.prototype.withFaceLandmarks=function(n){return n===void 0&&(n=!1),new Ene(this.runAndExtendWithFaceDetections(),this.input,n)},e.prototype.withFaceExpressions=function(){return new lC(this.runAndExtendWithFaceDetections(),this.input)},e.prototype.withAgeAndGender=function(){return new fC(this.runAndExtendWithFaceDetections(),this.input)},e}(IP),Rne=function(t){Ot(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.run=function(){return ot(this,void 0,void 0,function(){var n,r;return it(this,function(a){switch(a.label){case 0:return[4,new LP(this.input,this.options)];case 1:return n=a.sent(),r=n[0],n.forEach(function(o){o.score>r.score&&(r=o)}),[2,r]}})})},e.prototype.runAndExtendWithFaceDetection=function(){var n=this;return new Promise(function(r){return ot(n,void 0,void 0,function(){var a;return it(this,function(o){switch(o.label){case 0:return[4,this.run()];case 1:return a=o.sent(),[2,r(a?G_({},a):void 0)]}})})})},e.prototype.withFaceLandmarks=function(n){return n===void 0&&(n=!1),new Tne(this.runAndExtendWithFaceDetection(),this.input,n)},e.prototype.withFaceExpressions=function(){return new uC(this.runAndExtendWithFaceDetection(),this.input)},e.prototype.withAgeAndGender=function(){return new hC(this.runAndExtendWithFaceDetection(),this.input)},e}(IP);function OA(t,e){return e===void 0&&(e=new ig),new Rne(t,e)}function Ane(t,e){return e===void 0&&(e=new ig),new LP(t,e)}function FP(t,e){if(t.length!==e.length)throw new Error("euclideanDistance: arr1.length !== arr2.length");var n=Array.from(t),r=Array.from(e);return Math.sqrt(n.map(function(a,o){return a-r[o]}).reduce(function(a,o){return a+Math.pow(o,2)},0))}(function(){function t(e,n){n===void 0&&(n=.6),this._distanceThreshold=n;var r=Array.isArray(e)?e:[e];if(!r.length)throw new Error("FaceRecognizer.constructor - expected atleast one input");var a=1,o=function(){return"person "+a++};this._labeledDescriptors=r.map(function(i){if(i instanceof m0)return i;if(i instanceof Float32Array)return new m0(o(),[i]);if(i.descriptor&&i.descriptor instanceof Float32Array)return new m0(o(),[i.descriptor]);throw new Error("FaceRecognizer.constructor - expected inputs to be of type LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array | Array<LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array>")})}return Object.defineProperty(t.prototype,"labeledDescriptors",{get:function(){return this._labeledDescriptors},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"distanceThreshold",{get:function(){return this._distanceThreshold},enumerable:!0,configurable:!0}),t.prototype.computeMeanDistance=function(e,n){return n.map(function(r){return FP(r,e)}).reduce(function(r,a){return r+a},0)/(n.length||1)},t.prototype.matchDescriptor=function(e){var n=this;return this.labeledDescriptors.map(function(r){var a=r.descriptors,o=r.label;return new _A(o,n.computeMeanDistance(e,a))}).reduce(function(r,a){return r.distance<a.distance?r:a})},t.prototype.findBestMatch=function(e){var n=this.matchDescriptor(e);return n.distance<this.distanceThreshold?n:new _A("unknown",n.distance)},t.prototype.toJSON=function(){return{distanceThreshold:this.distanceThreshold,labeledDescriptors:this.labeledDescriptors.map(function(e){return e.toJSON()})}},t.fromJSON=function(e){var n=e.labeledDescriptors.map(function(r){return m0.fromJSON(r)});return new t(n,e.distanceThreshold)},t})();const BP=O.createContext({});function kne(t){const e=O.useRef(null);return e.current===null&&(e.current=t()),e.current}const yC=typeof window<"u",Nne=yC?O.useLayoutEffect:O.useEffect,bC=O.createContext(null),zP=O.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function One(t=!0){const e=O.useContext(bC);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=e,o=O.useId();O.useEffect(()=>{if(t)return a(o)},[t]);const i=O.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,i]:[!0]}function xC(t,e){t.indexOf(e)===-1&&t.push(e)}function wC(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const el=(t,e,n)=>n>e?e:n<t?t:n;let SC=()=>{};const tl={},$P=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),UP=t=>/^0[^.\s]+$/u.test(t);function _C(t){let e;return()=>(e===void 0&&(e=t()),e)}const Fo=t=>t,Dne=(t,e)=>n=>e(t(n)),lg=(...t)=>t.reduce(Dne),Sm=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class CC{constructor(){this.subscriptions=[]}add(e){return xC(this.subscriptions,e),()=>wC(this.subscriptions,e)}notify(e,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,r);else for(let o=0;o<a;o++){const i=this.subscriptions[o];i&&i(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const rs=t=>t*1e3,as=t=>t/1e3;function VP(t,e){return e?t*(1e3/e):0}const jP=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Mne=1e-7,Pne=12;function Ine(t,e,n,r,a){let o,i,s=0;do i=e+(n-e)/2,o=jP(i,r,a)-t,o>0?n=i:e=i;while(Math.abs(o)>Mne&&++s<Pne);return i}function ug(t,e,n,r){if(t===e&&n===r)return Fo;const a=o=>Ine(o,0,1,t,n);return o=>o===0||o===1?o:jP(a(o),e,r)}const WP=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,HP=t=>e=>1-t(1-e),qP=ug(.33,1.53,.69,.99),EC=HP(qP),GP=WP(EC),KP=t=>(t*=2)<1?.5*EC(t):.5*(2-Math.pow(2,-10*(t-1))),TC=t=>1-Math.sin(Math.acos(t)),YP=HP(TC),XP=WP(TC),Lne=ug(.42,0,1,1),Fne=ug(0,0,.58,1),QP=ug(.42,0,.58,1),Bne=t=>Array.isArray(t)&&typeof t[0]!="number",ZP=t=>Array.isArray(t)&&typeof t[0]=="number",zne={linear:Fo,easeIn:Lne,easeInOut:QP,easeOut:Fne,circIn:TC,circInOut:XP,circOut:YP,backIn:EC,backInOut:GP,backOut:qP,anticipate:KP},$ne=t=>typeof t=="string",DA=t=>{if(ZP(t)){SC(t.length===4);const[e,n,r,a]=t;return ug(e,n,r,a)}else if($ne(t))return zne[t];return t},x0=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Une(t,e){let n=new Set,r=new Set,a=!1,o=!1;const i=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function u(f){i.has(f)&&(c.schedule(f),t()),f(s)}const c={schedule:(f,h=!1,m=!1)=>{const y=m&&a?n:r;return h&&i.add(f),y.has(f)||y.add(f),f},cancel:f=>{r.delete(f),i.delete(f)},process:f=>{if(s=f,a){o=!0;return}a=!0,[n,r]=[r,n],n.forEach(u),n.clear(),a=!1,o&&(o=!1,c.process(f))}};return c}const Vne=40;function JP(t,e){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,i=x0.reduce((_,T)=>(_[T]=Une(o),_),{}),{setup:s,read:u,resolveKeyframes:c,preUpdate:f,update:h,preRender:m,render:g,postRender:y}=i,b=()=>{const _=tl.useManualTiming?a.timestamp:performance.now();n=!1,tl.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(_-a.timestamp,Vne),1)),a.timestamp=_,a.isProcessing=!0,s.process(a),u.process(a),c.process(a),f.process(a),h.process(a),m.process(a),g.process(a),y.process(a),a.isProcessing=!1,n&&e&&(r=!1,t(b))},x=()=>{n=!0,r=!0,a.isProcessing||t(b)};return{schedule:x0.reduce((_,T)=>{const A=i[T];return _[T]=(D,N=!1,M=!1)=>(n||x(),A.schedule(D,N,M)),_},{}),cancel:_=>{for(let T=0;T<x0.length;T++)i[x0[T]].cancel(_)},state:a,steps:i}}const{schedule:Yn,cancel:Su,state:Kr,steps:R2}=JP(typeof requestAnimationFrame<"u"?requestAnimationFrame:Fo,!0);let Y0;function jne(){Y0=void 0}const Va={now:()=>(Y0===void 0&&Va.set(Kr.isProcessing||tl.useManualTiming?Kr.timestamp:performance.now()),Y0),set:t=>{Y0=t,queueMicrotask(jne)}},e6=t=>e=>typeof e=="string"&&e.startsWith(t),RC=e6("--"),Wne=e6("var(--"),AC=t=>Wne(t)?Hne.test(t.split("/*")[0].trim()):!1,Hne=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,th={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},_m={...th,transform:t=>el(0,1,t)},w0={...th,default:1},Zp=t=>Math.round(t*1e5)/1e5,kC=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function qne(t){return t==null}const Gne=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,NC=(t,e)=>n=>!!(typeof n=="string"&&Gne.test(n)&&n.startsWith(t)||e&&!qne(n)&&Object.prototype.hasOwnProperty.call(n,e)),t6=(t,e,n)=>r=>{if(typeof r!="string")return r;const[a,o,i,s]=r.match(kC);return{[t]:parseFloat(a),[e]:parseFloat(o),[n]:parseFloat(i),alpha:s!==void 0?parseFloat(s):1}},Kne=t=>el(0,255,t),A2={...th,transform:t=>Math.round(Kne(t))},xc={test:NC("rgb","red"),parse:t6("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+A2.transform(t)+", "+A2.transform(e)+", "+A2.transform(n)+", "+Zp(_m.transform(r))+")"};function Yne(t){let e="",n="",r="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,r+=r,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const Jw={test:NC("#"),parse:Yne,transform:xc.transform},cg=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ru=cg("deg"),os=cg("%"),Ct=cg("px"),Xne=cg("vh"),Qne=cg("vw"),MA={...os,parse:t=>os.parse(t)/100,transform:t=>os.transform(t*100)},af={test:NC("hsl","hue"),parse:t6("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+os.transform(Zp(e))+", "+os.transform(Zp(n))+", "+Zp(_m.transform(r))+")"},ha={test:t=>xc.test(t)||Jw.test(t)||af.test(t),parse:t=>xc.test(t)?xc.parse(t):af.test(t)?af.parse(t):Jw.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?xc.transform(t):af.transform(t)},Zne=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Jne(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(kC))==null?void 0:e.length)||0)+(((n=t.match(Zne))==null?void 0:n.length)||0)>0}const n6="number",r6="color",ere="var",tre="var(",PA="${}",nre=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Cm(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},a=[];let o=0;const s=e.replace(nre,u=>(ha.test(u)?(r.color.push(o),a.push(r6),n.push(ha.parse(u))):u.startsWith(tre)?(r.var.push(o),a.push(ere),n.push(u)):(r.number.push(o),a.push(n6),n.push(parseFloat(u))),++o,PA)).split(PA);return{values:n,split:s,indexes:r,types:a}}function a6(t){return Cm(t).values}function o6(t){const{split:e,types:n}=Cm(t),r=e.length;return a=>{let o="";for(let i=0;i<r;i++)if(o+=e[i],a[i]!==void 0){const s=n[i];s===n6?o+=Zp(a[i]):s===r6?o+=ha.transform(a[i]):o+=a[i]}return o}}const rre=t=>typeof t=="number"?0:t;function are(t){const e=a6(t);return o6(t)(e.map(rre))}const _u={test:Jne,parse:a6,createTransformer:o6,getAnimatableNone:are};function k2(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function ore({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let a=0,o=0,i=0;if(!e)a=o=i=n;else{const s=n<.5?n*(1+e):n+e-n*e,u=2*n-s;a=k2(u,s,t+1/3),o=k2(u,s,t),i=k2(u,s,t-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:r}}function Uy(t,e){return n=>n>0?e:t}const Gn=(t,e,n)=>t+(e-t)*n,N2=(t,e,n)=>{const r=t*t,a=n*(e*e-r)+r;return a<0?0:Math.sqrt(a)},ire=[Jw,xc,af],sre=t=>ire.find(e=>e.test(t));function IA(t){const e=sre(t);if(!e)return!1;let n=e.parse(t);return e===af&&(n=ore(n)),n}const LA=(t,e)=>{const n=IA(t),r=IA(e);if(!n||!r)return Uy(t,e);const a={...n};return o=>(a.red=N2(n.red,r.red,o),a.green=N2(n.green,r.green,o),a.blue=N2(n.blue,r.blue,o),a.alpha=Gn(n.alpha,r.alpha,o),xc.transform(a))},eS=new Set(["none","hidden"]);function lre(t,e){return eS.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function ure(t,e){return n=>Gn(t,e,n)}function OC(t){return typeof t=="number"?ure:typeof t=="string"?AC(t)?Uy:ha.test(t)?LA:fre:Array.isArray(t)?i6:typeof t=="object"?ha.test(t)?LA:cre:Uy}function i6(t,e){const n=[...t],r=n.length,a=t.map((o,i)=>OC(o)(o,e[i]));return o=>{for(let i=0;i<r;i++)n[i]=a[i](o);return n}}function cre(t,e){const n={...t,...e},r={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(r[a]=OC(t[a])(t[a],e[a]));return a=>{for(const o in r)n[o]=r[o](a);return n}}function dre(t,e){const n=[],r={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const o=e.types[a],i=t.indexes[o][r[o]],s=t.values[i]??0;n[a]=s,r[o]++}return n}const fre=(t,e)=>{const n=_u.createTransformer(e),r=Cm(t),a=Cm(e);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?eS.has(t)&&!a.values.length||eS.has(e)&&!r.values.length?lre(t,e):lg(i6(dre(r,a),a.values),n):Uy(t,e)};function s6(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Gn(t,e,n):OC(t)(t,e)}const hre=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Yn.update(e,n),stop:()=>Su(e),now:()=>Kr.isProcessing?Kr.timestamp:Va.now()}},l6=(t,e,n=10)=>{let r="";const a=Math.max(Math.round(e/n),2);for(let o=0;o<a;o++)r+=t(o/(a-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Vy=2e4;function DC(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Vy;)e+=n,r=t.next(e);return e>=Vy?1/0:e}function pre(t,e=100,n){const r=n({...t,keyframes:[0,e]}),a=Math.min(DC(r),Vy);return{type:"keyframes",ease:o=>r.next(a*o).value/e,duration:as(a)}}const mre=5;function u6(t,e,n){const r=Math.max(e-mre,0);return VP(n-t(r),e-r)}const ir={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},FA=.001;function gre({duration:t=ir.duration,bounce:e=ir.bounce,velocity:n=ir.velocity,mass:r=ir.mass}){let a,o,i=1-e;i=el(ir.minDamping,ir.maxDamping,i),t=el(ir.minDuration,ir.maxDuration,as(t)),i<1?(a=c=>{const f=c*i,h=f*t,m=f-n,g=tS(c,i),y=Math.exp(-h);return FA-m/g*y},o=c=>{const h=c*i*t,m=h*n+n,g=Math.pow(i,2)*Math.pow(c,2)*t,y=Math.exp(-h),b=tS(Math.pow(c,2),i);return(-a(c)+FA>0?-1:1)*((m-g)*y)/b}):(a=c=>{const f=Math.exp(-c*t),h=(c-n)*t+1;return-.001+f*h},o=c=>{const f=Math.exp(-c*t),h=(n-c)*(t*t);return f*h});const s=5/t,u=yre(a,o,s);if(t=rs(t),isNaN(u))return{stiffness:ir.stiffness,damping:ir.damping,duration:t};{const c=Math.pow(u,2)*r;return{stiffness:c,damping:i*2*Math.sqrt(r*c),duration:t}}}const vre=12;function yre(t,e,n){let r=n;for(let a=1;a<vre;a++)r=r-t(r)/e(r);return r}function tS(t,e){return t*Math.sqrt(1-e*e)}const bre=["duration","bounce"],xre=["stiffness","damping","mass"];function BA(t,e){return e.some(n=>t[n]!==void 0)}function wre(t){let e={velocity:ir.velocity,stiffness:ir.stiffness,damping:ir.damping,mass:ir.mass,isResolvedFromDuration:!1,...t};if(!BA(t,xre)&&BA(t,bre))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,o=2*el(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:ir.mass,stiffness:a,damping:o}}else{const n=gre(t);e={...e,...n,mass:ir.mass},e.isResolvedFromDuration=!0}return e}function jy(t=ir.visualDuration,e=ir.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:a}=n;const o=n.keyframes[0],i=n.keyframes[n.keyframes.length-1],s={done:!1,value:o},{stiffness:u,damping:c,mass:f,duration:h,velocity:m,isResolvedFromDuration:g}=wre({...n,velocity:-as(n.velocity||0)}),y=m||0,b=c/(2*Math.sqrt(u*f)),x=i-o,S=as(Math.sqrt(u/f)),R=Math.abs(x)<5;r||(r=R?ir.restSpeed.granular:ir.restSpeed.default),a||(a=R?ir.restDelta.granular:ir.restDelta.default);let _;if(b<1){const A=tS(S,b);_=D=>{const N=Math.exp(-b*S*D);return i-N*((y+b*S*x)/A*Math.sin(A*D)+x*Math.cos(A*D))}}else if(b===1)_=A=>i-Math.exp(-S*A)*(x+(y+S*x)*A);else{const A=S*Math.sqrt(b*b-1);_=D=>{const N=Math.exp(-b*S*D),M=Math.min(A*D,300);return i-N*((y+b*S*x)*Math.sinh(M)+A*x*Math.cosh(M))/A}}const T={calculatedDuration:g&&h||null,next:A=>{const D=_(A);if(g)s.done=A>=h;else{let N=A===0?y:0;b<1&&(N=A===0?rs(y):u6(_,A,D));const M=Math.abs(N)<=r,P=Math.abs(i-D)<=a;s.done=M&&P}return s.value=s.done?i:D,s},toString:()=>{const A=Math.min(DC(T),Vy),D=l6(N=>T.next(A*N).value,A,30);return A+"ms "+D},toTransition:()=>{}};return T}jy.applyToOptions=t=>{const e=pre(t,100,jy);return t.ease=e.ease,t.duration=rs(e.duration),t.type="keyframes",t};function nS({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:i,min:s,max:u,restDelta:c=.5,restSpeed:f}){const h=t[0],m={done:!1,value:h},g=M=>s!==void 0&&M<s||u!==void 0&&M>u,y=M=>s===void 0?u:u===void 0||Math.abs(s-M)<Math.abs(u-M)?s:u;let b=n*e;const x=h+b,S=i===void 0?x:i(x);S!==x&&(b=S-h);const R=M=>-b*Math.exp(-M/r),_=M=>S+R(M),T=M=>{const P=R(M),I=_(M);m.done=Math.abs(P)<=c,m.value=m.done?S:I};let A,D;const N=M=>{g(m.value)&&(A=M,D=jy({keyframes:[m.value,y(m.value)],velocity:u6(_,M,m.value),damping:a,stiffness:o,restDelta:c,restSpeed:f}))};return N(0),{calculatedDuration:null,next:M=>{let P=!1;return!D&&A===void 0&&(P=!0,T(M),N(M)),A!==void 0&&M>=A?D.next(M-A):(!P&&T(M),m)}}}function Sre(t,e,n){const r=[],a=n||tl.mix||s6,o=t.length-1;for(let i=0;i<o;i++){let s=a(t[i],t[i+1]);if(e){const u=Array.isArray(e)?e[i]||Fo:e;s=lg(u,s)}r.push(s)}return r}function _re(t,e,{clamp:n=!0,ease:r,mixer:a}={}){const o=t.length;if(SC(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const i=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const s=Sre(e,r,a),u=s.length,c=f=>{if(i&&f<t[0])return e[0];let h=0;if(u>1)for(;h<t.length-2&&!(f<t[h+1]);h++);const m=Sm(t[h],t[h+1],f);return s[h](m)};return n?f=>c(el(t[0],t[o-1],f)):c}function Cre(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const a=Sm(0,e,r);t.push(Gn(n,1,a))}}function Ere(t){const e=[0];return Cre(e,t.length-1),e}function Tre(t,e){return t.map(n=>n*e)}function Rre(t,e){return t.map(()=>e||QP).splice(0,t.length-1)}function Jp({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const a=Bne(r)?r.map(DA):DA(r),o={done:!1,value:e[0]},i=Tre(n&&n.length===e.length?n:Ere(e),t),s=_re(i,e,{ease:Array.isArray(a)?a:Rre(e,a)});return{calculatedDuration:t,next:u=>(o.value=s(u),o.done=u>=t,o)}}const Are=t=>t!==null;function MC(t,{repeat:e,repeatType:n="loop"},r,a=1){const o=t.filter(Are),s=a<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!s||r===void 0?o[s]:r}const kre={decay:nS,inertia:nS,tween:Jp,keyframes:Jp,spring:jy};function c6(t){typeof t.type=="string"&&(t.type=kre[t.type])}class PC{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Nre=t=>t/100;class IC extends PC{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(n=!0)=>{var r,a;if(n){const{motionValue:o}=this.options;o&&o.updatedAt!==Va.now()&&this.tick(Va.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(r=this.options).onStop)==null||a.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;c6(e);const{type:n=Jp,repeat:r=0,repeatDelay:a=0,repeatType:o,velocity:i=0}=e;let{keyframes:s}=e;const u=n||Jp;u!==Jp&&typeof s[0]!="number"&&(this.mixKeyframes=lg(Nre,s6(s[0],s[1])),s=[0,100]);const c=u({...e,keyframes:s});o==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...s].reverse(),velocity:-i})),c.calculatedDuration===null&&(c.calculatedDuration=DC(c));const{calculatedDuration:f}=c;this.calculatedDuration=f,this.resolvedDuration=f+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:a,mixKeyframes:o,mirroredGenerator:i,resolvedDuration:s,calculatedDuration:u}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:f,repeat:h,repeatType:m,repeatDelay:g,type:y,onUpdate:b,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const S=this.currentTime-c*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?S<0:S>a;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let _=this.currentTime,T=r;if(h){const M=Math.min(this.currentTime,a)/s;let P=Math.floor(M),I=M%1;!I&&M>=1&&(I=1),I===1&&P--,P=Math.min(P,h+1),!!(P%2)&&(m==="reverse"?(I=1-I,g&&(I-=g/s)):m==="mirror"&&(T=i)),_=el(0,1,I)*s}const A=R?{done:!1,value:f[0]}:T.next(_);o&&(A.value=o(A.value));let{done:D}=A;!R&&u!==null&&(D=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return N&&y!==nS&&(A.value=MC(f,this.options,x,this.speed)),b&&b(A.value),N&&this.finish(),A}then(e,n){return this.finished.then(e,n)}get duration(){return as(this.calculatedDuration)}get time(){return as(this.currentTime)}set time(e){var n;e=rs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Va.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=as(this.currentTime))}play(){var a,o;if(this.isStopped)return;const{driver:e=hre,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),(o=(a=this.options).onPlay)==null||o.call(a);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Va.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function Ore(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const wc=t=>t*180/Math.PI,rS=t=>{const e=wc(Math.atan2(t[1],t[0]));return aS(e)},Dre={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:rS,rotateZ:rS,skewX:t=>wc(Math.atan(t[1])),skewY:t=>wc(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},aS=t=>(t=t%360,t<0&&(t+=360),t),zA=rS,$A=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),UA=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Mre={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:$A,scaleY:UA,scale:t=>($A(t)+UA(t))/2,rotateX:t=>aS(wc(Math.atan2(t[6],t[5]))),rotateY:t=>aS(wc(Math.atan2(-t[2],t[0]))),rotateZ:zA,rotate:zA,skewX:t=>wc(Math.atan(t[4])),skewY:t=>wc(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function VA(t){return t.includes("scale")?1:0}function oS(t,e){if(!t||t==="none")return VA(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=Mre,a=n;else{const s=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Dre,a=s}if(!a)return VA(e);const o=r[e],i=a[1].split(",").map(Ire);return typeof o=="function"?o(i):i[o]}const Pre=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return oS(n,e)};function Ire(t){return parseFloat(t.trim())}const nh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],rh=new Set(nh),jA=t=>t===th||t===Ct,Lre=new Set(["x","y","z"]),Fre=nh.filter(t=>!Lre.has(t));function Bre(t){const e=[];return Fre.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Oc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>oS(e,"x"),y:(t,{transform:e})=>oS(e,"y")};Oc.translateX=Oc.x;Oc.translateY=Oc.y;const Dc=new Set;let iS=!1,sS=!1,lS=!1;function d6(){if(sS){const t=Array.from(Dc).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const a=Bre(r);a.length&&(n.set(r,a),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([o,i])=>{var s;(s=r.getValue(o))==null||s.set(i)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}sS=!1,iS=!1,Dc.forEach(t=>t.complete(lS)),Dc.clear()}function f6(){Dc.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(sS=!0)})}function zre(){lS=!0,f6(),d6(),lS=!1}class LC{constructor(e,n,r,a,o,i=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=a,this.element=o,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?(Dc.add(this),iS||(iS=!0,Yn.read(f6),Yn.resolveKeyframes(d6))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:a}=this;if(e[0]===null){const o=a==null?void 0:a.get(),i=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const s=r.readValue(n,i);s!=null&&(e[0]=s)}e[0]===void 0&&(e[0]=i),a&&o===void 0&&a.set(e[0])}Ore(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Dc.delete(this)}cancel(){this.state==="scheduled"&&(Dc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const $re=t=>t.startsWith("--");function Ure(t,e,n){$re(e)?t.style.setProperty(e,n):t.style[e]=n}const Vre=_C(()=>window.ScrollTimeline!==void 0),jre={};function Wre(t,e){const n=_C(t);return()=>jre[e]??n()}const h6=Wre(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Vp=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,WA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vp([0,.65,.55,1]),circOut:Vp([.55,0,1,.45]),backIn:Vp([.31,.01,.66,-.59]),backOut:Vp([.33,1.53,.69,.99])};function p6(t,e){if(t)return typeof t=="function"?h6()?l6(t,e):"ease-out":ZP(t)?Vp(t):Array.isArray(t)?t.map(n=>p6(n,e)||WA.easeOut):WA[t]}function Hre(t,e,n,{delay:r=0,duration:a=300,repeat:o=0,repeatType:i="loop",ease:s="easeOut",times:u}={},c=void 0){const f={[e]:n};u&&(f.offset=u);const h=p6(s,a);Array.isArray(h)&&(f.easing=h);const m={delay:r,duration:a,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"};return c&&(m.pseudoElement=c),t.animate(f,m)}function m6(t){return typeof t=="function"&&"applyToOptions"in t}function qre({type:t,...e}){return m6(t)&&h6()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Gre extends PC{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:a,pseudoElement:o,allowFlatten:i=!1,finalKeyframe:s,onComplete:u}=e;this.isPseudoElement=!!o,this.allowFlatten=i,this.options=e,SC(typeof e.type!="string");const c=qre(e);this.animation=Hre(n,r,a,c,o),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const f=MC(a,this.options,s,this.speed);this.updateMotionValue?this.updateMotionValue(f):Ure(n,r,f),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return as(Number(e))}get time(){return as(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=rs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Vre()?(this.animation.timeline=e,Fo):n(this)}}const g6={anticipate:KP,backInOut:GP,circInOut:XP};function Kre(t){return t in g6}function Yre(t){typeof t.ease=="string"&&Kre(t.ease)&&(t.ease=g6[t.ease])}const HA=10;class Xre extends Gre{constructor(e){Yre(e),c6(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:a,element:o,...i}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const s=new IC({...i,autoplay:!1}),u=rs(this.finishedTime??this.time);n.setWithVelocity(s.sample(u-HA).value,s.sample(u).value,HA),s.stop()}}const qA=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(_u.test(t)||t==="0")&&!t.startsWith("url("));function Qre(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Zre(t,e,n,r){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],i=qA(a,e),s=qA(o,e);return!i||!s?!1:Qre(t)||(n==="spring"||m6(n))&&r}const Jre=new Set(["opacity","clipPath","filter","transform"]),eae=_C(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function tae(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:a,damping:o,type:i}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:s,transformTemplate:u}=e.owner.getProps();return eae()&&n&&Jre.has(n)&&(n!=="transform"||!u)&&!s&&!r&&a!=="mirror"&&o!==0&&i!=="inertia"}const nae=40;class rae extends PC{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:i="loop",keyframes:s,name:u,motionValue:c,element:f,...h}){var y;super(),this.stop=()=>{var b,x;this._animation&&(this._animation.stop(),(b=this.stopTimeline)==null||b.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=Va.now();const m={autoplay:e,delay:n,type:r,repeat:a,repeatDelay:o,repeatType:i,name:u,motionValue:c,element:f,...h},g=(f==null?void 0:f.KeyframeResolver)||LC;this.keyframeResolver=new g(s,(b,x,S)=>this.onKeyframesResolved(b,x,m,!S),u,c,f),(y=this.keyframeResolver)==null||y.scheduleResolve()}onKeyframesResolved(e,n,r,a){this.keyframeResolver=void 0;const{name:o,type:i,velocity:s,delay:u,isHandoff:c,onUpdate:f}=r;this.resolvedAt=Va.now(),Zre(e,o,i,s)||((tl.instantAnimations||!u)&&(f==null||f(MC(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const m={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>nae?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},g=!c&&tae(m)?new Xre({...m,element:m.motionValue.owner.current}):new IC(m);g.finished.then(()=>this.notifyFinished()).catch(Fo),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),zre()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const aae=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function oae(t){const e=aae.exec(t);if(!e)return[,];const[,n,r,a]=e;return[`--${n??r}`,a]}function v6(t,e,n=1){const[r,a]=oae(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const i=o.trim();return $P(i)?parseFloat(i):i}return AC(a)?v6(a,e,n+1):a}function FC(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const y6=new Set(["width","height","top","left","right","bottom",...nh]),iae={test:t=>t==="auto",parse:t=>t},b6=t=>e=>e.test(t),x6=[th,Ct,os,ru,Qne,Xne,iae],GA=t=>x6.find(b6(t));function sae(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||UP(t):!0}const lae=new Set(["brightness","contrast","saturate","opacity"]);function uae(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(kC)||[];if(!r)return t;const a=n.replace(r,"");let o=lae.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+a+")"}const cae=/\b([a-z-]*)\(.*?\)/gu,uS={..._u,getAnimatableNone:t=>{const e=t.match(cae);return e?e.map(uae).join(" "):t}},KA={...th,transform:Math.round},dae={rotate:ru,rotateX:ru,rotateY:ru,rotateZ:ru,scale:w0,scaleX:w0,scaleY:w0,scaleZ:w0,skew:ru,skewX:ru,skewY:ru,distance:Ct,translateX:Ct,translateY:Ct,translateZ:Ct,x:Ct,y:Ct,z:Ct,perspective:Ct,transformPerspective:Ct,opacity:_m,originX:MA,originY:MA,originZ:Ct},BC={borderWidth:Ct,borderTopWidth:Ct,borderRightWidth:Ct,borderBottomWidth:Ct,borderLeftWidth:Ct,borderRadius:Ct,radius:Ct,borderTopLeftRadius:Ct,borderTopRightRadius:Ct,borderBottomRightRadius:Ct,borderBottomLeftRadius:Ct,width:Ct,maxWidth:Ct,height:Ct,maxHeight:Ct,top:Ct,right:Ct,bottom:Ct,left:Ct,padding:Ct,paddingTop:Ct,paddingRight:Ct,paddingBottom:Ct,paddingLeft:Ct,margin:Ct,marginTop:Ct,marginRight:Ct,marginBottom:Ct,marginLeft:Ct,backgroundPositionX:Ct,backgroundPositionY:Ct,...dae,zIndex:KA,fillOpacity:_m,strokeOpacity:_m,numOctaves:KA},fae={...BC,color:ha,backgroundColor:ha,outlineColor:ha,fill:ha,stroke:ha,borderColor:ha,borderTopColor:ha,borderRightColor:ha,borderBottomColor:ha,borderLeftColor:ha,filter:uS,WebkitFilter:uS},w6=t=>fae[t];function S6(t,e){let n=w6(t);return n!==uS&&(n=_u),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const hae=new Set(["auto","none","0"]);function pae(t,e,n){let r=0,a;for(;r<t.length&&!a;){const o=t[r];typeof o=="string"&&!hae.has(o)&&Cm(o).values.length&&(a=t[r]),r++}if(a&&n)for(const o of e)t[o]=S6(n,a)}class mae extends LC{constructor(e,n,r,a,o){super(e,n,r,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let c=e[u];if(typeof c=="string"&&(c=c.trim(),AC(c))){const f=v6(c,n.current);f!==void 0&&(e[u]=f),u===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!y6.has(r)||e.length!==2)return;const[a,o]=e,i=GA(a),s=GA(o);if(i!==s)if(jA(i)&&jA(s))for(let u=0;u<e.length;u++){const c=e[u];typeof c=="string"&&(e[u]=parseFloat(c))}else Oc[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let a=0;a<e.length;a++)(e[a]===null||sae(e[a]))&&r.push(a);r.length&&pae(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Oc[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(r,a).jump(a,!1)}measureEndState(){var s;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const o=r.length-1,i=r[o];r[o]=Oc[n](e.measureViewportBox(),window.getComputedStyle(e.current)),i!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=i),(s=this.removedTransforms)!=null&&s.length&&this.removedTransforms.forEach(([u,c])=>{e.getValue(u).set(c)}),this.resolveNoneKeyframes()}}function gae(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const a=document.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const YA=30,vae=t=>!isNaN(parseFloat(t));class yae{constructor(e,n={}){this.version="__VERSION__",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,a=!0)=>{var i,s;const o=Va.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty();a&&((s=this.events.renderRequest)==null||s.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Va.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=vae(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new CC);const r=this.events[e].add(n);return e==="change"?()=>{r(),Yn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Va.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>YA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,YA);return VP(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Vf(t,e){return new yae(t,e)}const _6=(t,e)=>e&&typeof t=="number"?e.transform(t):t,{schedule:zC}=JP(queueMicrotask,!1),ai={x:!1,y:!1};function C6(){return ai.x||ai.y}function bae(t){return t==="x"||t==="y"?ai[t]?null:(ai[t]=!0,()=>{ai[t]=!1}):ai.x||ai.y?null:(ai.x=ai.y=!0,()=>{ai.x=ai.y=!1})}function E6(t,e){const n=gae(t),r=new AbortController,a={passive:!0,...e,signal:r.signal};return[n,a,()=>r.abort()]}function XA(t){return!(t.pointerType==="touch"||C6())}function xae(t,e,n={}){const[r,a,o]=E6(t,n),i=s=>{if(!XA(s))return;const{target:u}=s,c=e(u,s);if(typeof c!="function"||!u)return;const f=h=>{XA(h)&&(c(h),u.removeEventListener("pointerleave",f))};u.addEventListener("pointerleave",f,a)};return r.forEach(s=>{s.addEventListener("pointerenter",i,a)}),o}const T6=(t,e)=>e?t===e?!0:T6(t,e.parentElement):!1,$C=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,wae=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Sae(t){return wae.has(t.tagName)||t.tabIndex!==-1}const X0=new WeakSet;function QA(t){return e=>{e.key==="Enter"&&t(e)}}function O2(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const _ae=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=QA(()=>{if(X0.has(n))return;O2(n,"down");const a=QA(()=>{O2(n,"up")}),o=()=>O2(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function ZA(t){return $C(t)&&!C6()}function Cae(t,e,n={}){const[r,a,o]=E6(t,n),i=s=>{const u=s.currentTarget;if(!ZA(s))return;X0.add(u);const c=e(u,s),f=(g,y)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),X0.has(u)&&X0.delete(u),ZA(g)&&typeof c=="function"&&c(g,{success:y})},h=g=>{f(g,u===window||u===document||n.useGlobalTarget||T6(u,g.target))},m=g=>{f(g,!1)};window.addEventListener("pointerup",h,a),window.addEventListener("pointercancel",m,a)};return r.forEach(s=>{(n.useGlobalTarget?window:s).addEventListener("pointerdown",i,a),s instanceof HTMLElement&&(s.addEventListener("focus",c=>_ae(c,a)),!Sae(s)&&!s.hasAttribute("tabindex")&&(s.tabIndex=0))}),o}const Eae=[...x6,ha,_u],Tae=t=>Eae.find(b6(t)),R6=O.createContext({strict:!1}),JA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},jf={};for(const t in JA)jf[t]={isEnabled:e=>JA[t].some(n=>!!e[n])};function Rae(t){for(const e in t)jf[e]={...jf[e],...t[e]}}const Aae=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Wy(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Aae.has(t)}let A6=t=>!Wy(t);function kae(t){t&&(A6=e=>e.startsWith("on")?!Wy(e):t(e))}try{kae(require("@emotion/is-prop-valid").default)}catch{}function Nae(t,e,n){const r={};for(const a in t)a==="values"&&typeof t.values=="object"||(A6(a)||n===!0&&Wy(a)||!e&&!Wy(a)||t.draggable&&a.startsWith("onDrag"))&&(r[a]=t[a]);return r}function Oae(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const qb=O.createContext({});function Gb(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Em(t){return typeof t=="string"||Array.isArray(t)}const UC=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],VC=["initial",...UC];function Kb(t){return Gb(t.animate)||VC.some(e=>Em(t[e]))}function k6(t){return!!(Kb(t)||t.variants)}function Dae(t,e){if(Kb(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Em(n)?n:void 0,animate:Em(r)?r:void 0}}return t.inherit!==!1?e:{}}function Mae(t){const{initial:e,animate:n}=Dae(t,O.useContext(qb));return O.useMemo(()=>({initial:e,animate:n}),[ek(e),ek(n)])}function ek(t){return Array.isArray(t)?t.join(" "):t}const Pae=Symbol.for("motionComponentSymbol");function of(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Iae(t,e,n){return O.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):of(n)&&(n.current=r))},[e])}const jC=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Lae="framerAppearId",N6="data-"+jC(Lae),O6=O.createContext({});function Fae(t,e,n,r,a){var b,x;const{visualElement:o}=O.useContext(qb),i=O.useContext(R6),s=O.useContext(bC),u=O.useContext(zP).reducedMotion,c=O.useRef(null);r=r||i.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:o,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:u}));const f=c.current,h=O.useContext(O6);f&&!f.projection&&a&&(f.type==="html"||f.type==="svg")&&Bae(c.current,n,a,h);const m=O.useRef(!1);O.useInsertionEffect(()=>{f&&m.current&&f.update(n,s)});const g=n[N6],y=O.useRef(!!g&&!((b=window.MotionHandoffIsComplete)!=null&&b.call(window,g))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,g)));return Nne(()=>{f&&(m.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),zC.render(f.render),y.current&&f.animationState&&f.animationState.animateChanges())}),O.useEffect(()=>{f&&(!y.current&&f.animationState&&f.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)==null||S.call(window,g)}),y.current=!1))}),f}function Bae(t,e,n,r){const{layoutId:a,layout:o,drag:i,dragConstraints:s,layoutScroll:u,layoutRoot:c,layoutCrossfade:f}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:D6(t.parent)),t.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!i||s&&of(s),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:f,layoutScroll:u,layoutRoot:c})}function D6(t){if(t)return t.options.allowProjection!==!1?t.projection:D6(t.parent)}function zae({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:a}){t&&Rae(t);function o(s,u){let c;const f={...O.useContext(zP),...s,layoutId:$ae(s)},{isStatic:h}=f,m=Mae(s),g=r(s,h);if(!h&&yC){Uae();const y=Vae(f);c=y.MeasureLayout,m.visualElement=Fae(a,g,f,e,y.ProjectionNode)}return K(qb.Provider,{value:m,children:[c&&m.visualElement?E(c,{visualElement:m.visualElement,...f}):null,n(a,s,Iae(g,m.visualElement,u),g,h,m.visualElement)]})}o.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const i=O.forwardRef(o);return i[Pae]=a,i}function $ae({layoutId:t}){const e=O.useContext(BP).id;return e&&t!==void 0?e+"-"+t:t}function Uae(t,e){O.useContext(R6).strict}function Vae(t){const{drag:e,layout:n}=jf;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Tm={};function jae(t){for(const e in t)Tm[e]=t[e],RC(e)&&(Tm[e].isCSSVariable=!0)}function M6(t,{layout:e,layoutId:n}){return rh.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Tm[t]||t==="opacity")}const xa=t=>!!(t&&t.getVelocity),Wae={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Hae=nh.length;function qae(t,e,n){let r="",a=!0;for(let o=0;o<Hae;o++){const i=nh[o],s=t[i];if(s===void 0)continue;let u=!0;if(typeof s=="number"?u=s===(i.startsWith("scale")?1:0):u=parseFloat(s)===0,!u||n){const c=_6(s,BC[i]);if(!u){a=!1;const f=Wae[i]||i;r+=`${f}(${c}) `}n&&(e[i]=c)}}return r=r.trim(),n?r=n(e,a?"":r):a&&(r="none"),r}function WC(t,e,n){const{style:r,vars:a,transformOrigin:o}=t;let i=!1,s=!1;for(const u in e){const c=e[u];if(rh.has(u)){i=!0;continue}else if(RC(u)){a[u]=c;continue}else{const f=_6(c,BC[u]);u.startsWith("origin")?(s=!0,o[u]=f):r[u]=f}}if(e.transform||(i||n?r.transform=qae(e,t.transform,n):r.transform&&(r.transform="none")),s){const{originX:u="50%",originY:c="50%",originZ:f=0}=o;r.transformOrigin=`${u} ${c} ${f}`}}const HC=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function P6(t,e,n){for(const r in e)!xa(e[r])&&!M6(r,n)&&(t[r]=e[r])}function Gae({transformTemplate:t},e){return O.useMemo(()=>{const n=HC();return WC(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Kae(t,e){const n=t.style||{},r={};return P6(r,n,t),Object.assign(r,Gae(t,e)),r}function Yae(t,e){const n={},r=Kae(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const Xae=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function qC(t){return typeof t!="string"||t.includes("-")?!1:!!(Xae.indexOf(t)>-1||/[A-Z]/u.test(t))}const Qae={offset:"stroke-dashoffset",array:"stroke-dasharray"},Zae={offset:"strokeDashoffset",array:"strokeDasharray"};function Jae(t,e,n=1,r=0,a=!0){t.pathLength=1;const o=a?Qae:Zae;t[o.offset]=Ct.transform(-r);const i=Ct.transform(e),s=Ct.transform(n);t[o.array]=`${i} ${s}`}function I6(t,{attrX:e,attrY:n,attrScale:r,pathLength:a,pathSpacing:o=1,pathOffset:i=0,...s},u,c,f){if(WC(t,s,c),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:m}=t;h.transform&&(m.transform=h.transform,delete h.transform),(m.transform||h.transformOrigin)&&(m.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),m.transform&&(m.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),a!==void 0&&Jae(h,a,o,i,!1)}const L6=()=>({...HC(),attrs:{}}),F6=t=>typeof t=="string"&&t.toLowerCase()==="svg";function eoe(t,e,n,r){const a=O.useMemo(()=>{const o=L6();return I6(o,e,F6(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};P6(o,t.style,t),a.style={...o,...a.style}}return a}function toe(t=!1){return(n,r,a,{latestValues:o},i)=>{const u=(qC(n)?eoe:Yae)(r,o,i,n),c=Nae(r,typeof n=="string",t),f=n!==O.Fragment?{...c,...u,ref:a}:{},{children:h}=r,m=O.useMemo(()=>xa(h)?h.get():h,[h]);return O.createElement(n,{...f,children:m})}}function tk(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function GC(t,e,n,r){if(typeof e=="function"){const[a,o]=tk(r);e=e(n!==void 0?n:t.custom,a,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,o]=tk(r);e=e(n!==void 0?n:t.custom,a,o)}return e}function Q0(t){return xa(t)?t.get():t}function noe({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,a){return{latestValues:roe(n,r,a,t),renderState:e()}}const B6=t=>(e,n)=>{const r=O.useContext(qb),a=O.useContext(bC),o=()=>noe(t,e,r,a);return n?o():kne(o)};function roe(t,e,n,r){const a={},o=r(t,{});for(const m in o)a[m]=Q0(o[m]);let{initial:i,animate:s}=t;const u=Kb(t),c=k6(t);e&&c&&!u&&t.inherit!==!1&&(i===void 0&&(i=e.initial),s===void 0&&(s=e.animate));let f=n?n.initial===!1:!1;f=f||i===!1;const h=f?s:i;if(h&&typeof h!="boolean"&&!Gb(h)){const m=Array.isArray(h)?h:[h];for(let g=0;g<m.length;g++){const y=GC(t,m[g]);if(y){const{transitionEnd:b,transition:x,...S}=y;for(const R in S){let _=S[R];if(Array.isArray(_)){const T=f?_.length-1:0;_=_[T]}_!==null&&(a[R]=_)}for(const R in b)a[R]=b[R]}}}return a}function KC(t,e,n){var o;const{style:r}=t,a={};for(const i in r)(xa(r[i])||e.style&&xa(e.style[i])||M6(i,t)||((o=n==null?void 0:n.getValue(i))==null?void 0:o.liveStyle)!==void 0)&&(a[i]=r[i]);return a}const aoe={useVisualState:B6({scrapeMotionValuesFromProps:KC,createRenderState:HC})};function z6(t,e,n){const r=KC(t,e,n);for(const a in t)if(xa(t[a])||xa(e[a])){const o=nh.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[o]=t[a]}return r}const ooe={useVisualState:B6({scrapeMotionValuesFromProps:z6,createRenderState:L6})};function ioe(t,e){return function(r,{forwardMotionProps:a}={forwardMotionProps:!1}){const i={...qC(r)?ooe:aoe,preloadedFeatures:t,useRender:toe(a),createVisualElement:e,Component:r};return zae(i)}}function Rm(t,e,n){const r=t.getProps();return GC(r,e,n!==void 0?n:r.custom,t)}const cS=t=>Array.isArray(t);function soe(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Vf(n))}function loe(t){return cS(t)?t[t.length-1]||0:t}function uoe(t,e){const n=Rm(t,e);let{transitionEnd:r={},transition:a={},...o}=n||{};o={...o,...r};for(const i in o){const s=loe(o[i]);soe(t,i,s)}}function coe(t){return!!(xa(t)&&t.add)}function dS(t,e){const n=t.getValue("willChange");if(coe(n))return n.add(e);if(!n&&tl.WillChange){const r=new tl.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function $6(t){return t.props[N6]}const doe=t=>t!==null;function foe(t,{repeat:e,repeatType:n="loop"},r){const a=t.filter(doe),o=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[o]}const hoe={type:"spring",stiffness:500,damping:25,restSpeed:10},poe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),moe={type:"keyframes",duration:.8},goe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},voe=(t,{keyframes:e})=>e.length>2?moe:rh.has(t)?t.startsWith("scale")?poe(e[1]):hoe:goe;function yoe({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:o,repeatType:i,repeatDelay:s,from:u,elapsed:c,...f}){return!!Object.keys(f).length}const YC=(t,e,n,r={},a,o)=>i=>{const s=FC(r,t)||{},u=s.delay||r.delay||0;let{elapsed:c=0}=r;c=c-rs(u);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...s,delay:-c,onUpdate:m=>{e.set(m),s.onUpdate&&s.onUpdate(m)},onComplete:()=>{i(),s.onComplete&&s.onComplete()},name:t,motionValue:e,element:o?void 0:a};yoe(s)||Object.assign(f,voe(t,f)),f.duration&&(f.duration=rs(f.duration)),f.repeatDelay&&(f.repeatDelay=rs(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let h=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(h=!0)),(tl.instantAnimations||tl.skipAnimations)&&(h=!0,f.duration=0,f.delay=0),f.allowFlatten=!s.type&&!s.ease,h&&!o&&e.get()!==void 0){const m=foe(f.keyframes,s);if(m!==void 0){Yn.update(()=>{f.onUpdate(m),f.onComplete()});return}}return s.isSync?new IC(f):new rae(f)};function boe({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function U6(t,e,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:i,...s}=e;r&&(o=r);const u=[],c=a&&t.animationState&&t.animationState.getState()[a];for(const f in s){const h=t.getValue(f,t.latestValues[f]??null),m=s[f];if(m===void 0||c&&boe(c,f))continue;const g={delay:n,...FC(o||{},f)},y=h.get();if(y!==void 0&&!h.isAnimating&&!Array.isArray(m)&&m===y&&!g.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const S=$6(t);if(S){const R=window.MotionHandoffAnimation(S,f,Yn);R!==null&&(g.startTime=R,b=!0)}}dS(t,f),h.start(YC(f,h,m,t.shouldReduceMotion&&y6.has(f)?{type:!1}:g,t,b));const x=h.animation;x&&u.push(x)}return i&&Promise.all(u).then(()=>{Yn.update(()=>{i&&uoe(t,i)})}),u}function fS(t,e,n={}){var u;const r=Rm(t,e,n.type==="exit"?(u=t.presenceContext)==null?void 0:u.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const o=r?()=>Promise.all(U6(t,r,n)):()=>Promise.resolve(),i=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:f=0,staggerChildren:h,staggerDirection:m}=a;return xoe(t,e,f+c,h,m,n)}:()=>Promise.resolve(),{when:s}=a;if(s){const[c,f]=s==="beforeChildren"?[o,i]:[i,o];return c().then(()=>f())}else return Promise.all([o(),i(n.delay)])}function xoe(t,e,n=0,r=0,a=1,o){const i=[],s=(t.variantChildren.size-1)*r,u=a===1?(c=0)=>c*r:(c=0)=>s-c*r;return Array.from(t.variantChildren).sort(woe).forEach((c,f)=>{c.notify("AnimationStart",e),i.push(fS(c,e,{...o,delay:n+u(f)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(i)}function woe(t,e){return t.sortNodePosition(e)}function Soe(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const a=e.map(o=>fS(t,o,n));r=Promise.all(a)}else if(typeof e=="string")r=fS(t,e,n);else{const a=typeof e=="function"?Rm(t,e,n.custom):e;r=Promise.all(U6(t,a,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function V6(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const _oe=VC.length;function j6(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?j6(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<_oe;n++){const r=VC[n],a=t.props[r];(Em(a)||a===!1)&&(e[r]=a)}return e}const Coe=[...UC].reverse(),Eoe=UC.length;function Toe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Soe(t,n,r)))}function Roe(t){let e=Toe(t),n=nk(),r=!0;const a=u=>(c,f)=>{var m;const h=Rm(t,f,u==="exit"?(m=t.presenceContext)==null?void 0:m.custom:void 0);if(h){const{transition:g,transitionEnd:y,...b}=h;c={...c,...b,...y}}return c};function o(u){e=u(t)}function i(u){const{props:c}=t,f=j6(t.parent)||{},h=[],m=new Set;let g={},y=1/0;for(let x=0;x<Eoe;x++){const S=Coe[x],R=n[S],_=c[S]!==void 0?c[S]:f[S],T=Em(_),A=S===u?R.isActive:null;A===!1&&(y=x);let D=_===f[S]&&_!==c[S]&&T;if(D&&r&&t.manuallyAnimateOnMount&&(D=!1),R.protectedKeys={...g},!R.isActive&&A===null||!_&&!R.prevProp||Gb(_)||typeof _=="boolean")continue;const N=Aoe(R.prevProp,_);let M=N||S===u&&R.isActive&&!D&&T||x>y&&T,P=!1;const I=Array.isArray(_)?_:[_];let $=I.reduce(a(S),{});A===!1&&($={});const{prevResolvedValues:z={}}=R,G={...z,...$},V=U=>{M=!0,m.has(U)&&(P=!0,m.delete(U)),R.needsAnimating[U]=!0;const W=t.getValue(U);W&&(W.liveStyle=!1)};for(const U in G){const W=$[U],Q=z[U];if(g.hasOwnProperty(U))continue;let q=!1;cS(W)&&cS(Q)?q=!V6(W,Q):q=W!==Q,q?W!=null?V(U):m.add(U):W!==void 0&&m.has(U)?V(U):R.protectedKeys[U]=!0}R.prevProp=_,R.prevResolvedValues=$,R.isActive&&(g={...g,...$}),r&&t.blockInitialAnimation&&(M=!1),M&&(!(D&&N)||P)&&h.push(...I.map(U=>({animation:U,options:{type:S}})))}if(m.size){const x={};if(typeof c.initial!="boolean"){const S=Rm(t,Array.isArray(c.initial)?c.initial[0]:c.initial);S&&S.transition&&(x.transition=S.transition)}m.forEach(S=>{const R=t.getBaseTarget(S),_=t.getValue(S);_&&(_.liveStyle=!0),x[S]=R??null}),h.push({animation:x})}let b=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(h):Promise.resolve()}function s(u,c){var h;if(n[u].isActive===c)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(m=>{var g;return(g=m.animationState)==null?void 0:g.setActive(u,c)}),n[u].isActive=c;const f=i(u);for(const m in n)n[m].protectedKeys={};return f}return{animateChanges:i,setActive:s,setAnimateFunction:o,getState:()=>n,reset:()=>{n=nk(),r=!0}}}function Aoe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!V6(e,t):!1}function sc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function nk(){return{animate:sc(!0),whileInView:sc(),whileHover:sc(),whileTap:sc(),whileDrag:sc(),whileFocus:sc(),exit:sc()}}class Nu{constructor(e){this.isMounted=!1,this.node=e}update(){}}class koe extends Nu{constructor(e){super(e),e.animationState||(e.animationState=Roe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Gb(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Noe=0;class Ooe extends Nu{constructor(){super(...arguments),this.id=Noe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Doe={animation:{Feature:koe},exit:{Feature:Ooe}};function Am(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function dg(t){return{point:{x:t.pageX,y:t.pageY}}}const Moe=t=>e=>$C(e)&&t(e,dg(e));function em(t,e,n,r){return Am(t,e,Moe(n),r)}function W6({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Poe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Ioe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const H6=1e-4,Loe=1-H6,Foe=1+H6,q6=.01,Boe=0-q6,zoe=0+q6;function Da(t){return t.max-t.min}function $oe(t,e,n){return Math.abs(t-e)<=n}function rk(t,e,n,r=.5){t.origin=r,t.originPoint=Gn(e.min,e.max,t.origin),t.scale=Da(n)/Da(e),t.translate=Gn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Loe&&t.scale<=Foe||isNaN(t.scale))&&(t.scale=1),(t.translate>=Boe&&t.translate<=zoe||isNaN(t.translate))&&(t.translate=0)}function tm(t,e,n,r){rk(t.x,e.x,n.x,r?r.originX:void 0),rk(t.y,e.y,n.y,r?r.originY:void 0)}function ak(t,e,n){t.min=n.min+e.min,t.max=t.min+Da(e)}function Uoe(t,e,n){ak(t.x,e.x,n.x),ak(t.y,e.y,n.y)}function ok(t,e,n){t.min=e.min-n.min,t.max=t.min+Da(e)}function nm(t,e,n){ok(t.x,e.x,n.x),ok(t.y,e.y,n.y)}const ik=()=>({translate:0,scale:1,origin:0,originPoint:0}),sf=()=>({x:ik(),y:ik()}),sk=()=>({min:0,max:0}),ur=()=>({x:sk(),y:sk()});function ko(t){return[t("x"),t("y")]}function D2(t){return t===void 0||t===1}function hS({scale:t,scaleX:e,scaleY:n}){return!D2(t)||!D2(e)||!D2(n)}function hc(t){return hS(t)||G6(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function G6(t){return lk(t.x)||lk(t.y)}function lk(t){return t&&t!=="0%"}function Hy(t,e,n){const r=t-n,a=e*r;return n+a}function uk(t,e,n,r,a){return a!==void 0&&(t=Hy(t,a,r)),Hy(t,n,r)+e}function pS(t,e=0,n=1,r,a){t.min=uk(t.min,e,n,r,a),t.max=uk(t.max,e,n,r,a)}function K6(t,{x:e,y:n}){pS(t.x,e.translate,e.scale,e.originPoint),pS(t.y,n.translate,n.scale,n.originPoint)}const ck=.999999999999,dk=1.0000000000001;function Voe(t,e,n,r=!1){const a=n.length;if(!a)return;e.x=e.y=1;let o,i;for(let s=0;s<a;s++){o=n[s],i=o.projectionDelta;const{visualElement:u}=o.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&uf(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(e.x*=i.x.scale,e.y*=i.y.scale,K6(t,i)),r&&hc(o.latestValues)&&uf(t,o.latestValues))}e.x<dk&&e.x>ck&&(e.x=1),e.y<dk&&e.y>ck&&(e.y=1)}function lf(t,e){t.min=t.min+e,t.max=t.max+e}function fk(t,e,n,r,a=.5){const o=Gn(t.min,t.max,a);pS(t,e,n,o,r)}function uf(t,e){fk(t.x,e.x,e.scaleX,e.scale,e.originX),fk(t.y,e.y,e.scaleY,e.scale,e.originY)}function Y6(t,e){return W6(Ioe(t.getBoundingClientRect(),e))}function joe(t,e,n){const r=Y6(t,n),{scroll:a}=e;return a&&(lf(r.x,a.offset.x),lf(r.y,a.offset.y)),r}const X6=({current:t})=>t?t.ownerDocument.defaultView:null,hk=(t,e)=>Math.abs(t-e);function Woe(t,e){const n=hk(t.x,e.x),r=hk(t.y,e.y);return Math.sqrt(n**2+r**2)}class Q6{constructor(e,n,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=P2(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,g=Woe(h.offset,{x:0,y:0})>=3;if(!m&&!g)return;const{point:y}=h,{timestamp:b}=Kr;this.history.push({...y,timestamp:b});const{onStart:x,onMove:S}=this.handlers;m||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=M2(m,this.transformPagePoint),Yn.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:g,onSessionEnd:y,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=P2(h.type==="pointercancel"?this.lastMoveEventInfo:M2(m,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,x),y&&y(h,x)},!$C(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=a||window;const i=dg(e),s=M2(i,this.transformPagePoint),{point:u}=s,{timestamp:c}=Kr;this.history=[{...u,timestamp:c}];const{onSessionStart:f}=n;f&&f(e,P2(s,this.history)),this.removeListeners=lg(em(this.contextWindow,"pointermove",this.handlePointerMove),em(this.contextWindow,"pointerup",this.handlePointerUp),em(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Su(this.updatePoint)}}function M2(t,e){return e?{point:e(t.point)}:t}function pk(t,e){return{x:t.x-e.x,y:t.y-e.y}}function P2({point:t},e){return{point:t,delta:pk(t,Z6(e)),offset:pk(t,Hoe(e)),velocity:qoe(e,.1)}}function Hoe(t){return t[0]}function Z6(t){return t[t.length-1]}function qoe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const a=Z6(t);for(;n>=0&&(r=t[n],!(a.timestamp-r.timestamp>rs(e)));)n--;if(!r)return{x:0,y:0};const o=as(a.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const i={x:(a.x-r.x)/o,y:(a.y-r.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function Goe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Gn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Gn(n,t,r.max):Math.min(t,n)),t}function mk(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Koe(t,{top:e,left:n,bottom:r,right:a}){return{x:mk(t.x,n,a),y:mk(t.y,e,r)}}function gk(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Yoe(t,e){return{x:gk(t.x,e.x),y:gk(t.y,e.y)}}function Xoe(t,e){let n=.5;const r=Da(t),a=Da(e);return a>r?n=Sm(e.min,e.max-r,t.min):r>a&&(n=Sm(t.min,t.max-a,e.min)),el(0,1,n)}function Qoe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const mS=.35;function Zoe(t=mS){return t===!1?t=0:t===!0&&(t=mS),{x:vk(t,"left","right"),y:vk(t,"top","bottom")}}function vk(t,e,n){return{min:yk(t,e),max:yk(t,n)}}function yk(t,e){return typeof t=="number"?t:t[e]||0}const Joe=new WeakMap;class eie{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ur(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(dg(f).point)},o=(f,h)=>{const{drag:m,dragPropagation:g,onDragStart:y}=this.getProps();if(m&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=bae(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ko(x=>{let S=this.getAxisMotionValue(x).get()||0;if(os.test(S)){const{projection:R}=this.visualElement;if(R&&R.layout){const _=R.layout.layoutBox[x];_&&(S=Da(_)*(parseFloat(S)/100))}}this.originPoint[x]=S}),y&&Yn.postRender(()=>y(f,h)),dS(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},i=(f,h)=>{const{dragPropagation:m,dragDirectionLock:g,onDirectionLock:y,onDrag:b}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:x}=h;if(g&&this.currentDirection===null){this.currentDirection=tie(x),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),b&&b(f,h)},s=(f,h)=>this.stop(f,h),u=()=>ko(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new Q6(e,{onSessionStart:a,onStart:o,onMove:i,onSessionEnd:s,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:X6(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&Yn.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:a}=this.getProps();if(!r||!S0(e,a,this.currentDirection))return;const o=this.getAxisMotionValue(e);let i=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(i=Goe(i,this.constraints[e],this.elastic[e])),o.set(i)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,a=this.constraints;e&&of(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Koe(r.layoutBox,e):this.constraints=!1,this.elastic=Zoe(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ko(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=Qoe(r.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!of(e))return!1;const r=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=joe(r,a.root,this.visualElement.getTransformPagePoint());let i=Yoe(a.layout.layoutBox,o);if(n){const s=n(Poe(i));this.hasMutatedConstraints=!!s,s&&(i=W6(s))}return i}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:s}=this.getProps(),u=this.constraints||{},c=ko(f=>{if(!S0(f,n,this.currentDirection))return;let h=u&&u[f]||{};i&&(h={min:0,max:0});const m=a?200:1e6,g=a?40:1e7,y={type:"inertia",velocity:r?e[f]:0,bounceStiffness:m,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...o,...h};return this.startAxisValueAnimation(f,y)});return Promise.all(c).then(s)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return dS(this.visualElement,e),r.start(YC(e,r,0,n,this.visualElement,!1))}stopAnimation(){ko(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ko(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ko(n=>{const{drag:r}=this.getProps();if(!S0(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(n);if(a&&a.layout){const{min:i,max:s}=a.layout.layoutBox[n];o.set(e[n]-Gn(i,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!of(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ko(i=>{const s=this.getAxisMotionValue(i);if(s&&this.constraints!==!1){const u=s.get();a[i]=Xoe({min:u,max:u},this.constraints[i])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ko(i=>{if(!S0(i,e,null))return;const s=this.getAxisMotionValue(i),{min:u,max:c}=this.constraints[i];s.set(Gn(u,c,a[i]))})}addListeners(){if(!this.visualElement.current)return;Joe.set(this.visualElement,this);const e=this.visualElement.current,n=em(e,"pointerdown",u=>{const{drag:c,dragListener:f=!0}=this.getProps();c&&f&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();of(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Yn.read(r);const i=Am(window,"resize",()=>this.scalePositionWithinConstraints()),s=a.addEventListener("didUpdate",({delta:u,hasLayoutChanged:c})=>{this.isDragging&&c&&(ko(f=>{const h=this.getAxisMotionValue(f);h&&(this.originPoint[f]+=u[f].translate,h.set(h.get()+u[f].translate))}),this.visualElement.render())});return()=>{i(),n(),o(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:i=mS,dragMomentum:s=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:o,dragElastic:i,dragMomentum:s}}}function S0(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function tie(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class nie extends Nu{constructor(e){super(e),this.removeGroupControls=Fo,this.removeListeners=Fo,this.controls=new eie(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fo}unmount(){this.removeGroupControls(),this.removeListeners()}}const bk=t=>(e,n)=>{t&&Yn.postRender(()=>t(e,n))};class rie extends Nu{constructor(){super(...arguments),this.removePointerDownListener=Fo}onPointerDown(e){this.session=new Q6(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:X6(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:bk(e),onStart:bk(n),onMove:r,onEnd:(o,i)=>{delete this.session,a&&Yn.postRender(()=>a(o,i))}}}mount(){this.removePointerDownListener=em(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Z0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function xk(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Bp={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ct.test(t))t=parseFloat(t);else return t;const n=xk(t,e.target.x),r=xk(t,e.target.y);return`${n}% ${r}%`}},aie={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,a=_u.parse(t);if(a.length>5)return r;const o=_u.createTransformer(t),i=typeof a[0]!="number"?1:0,s=n.x.scale*e.x,u=n.y.scale*e.y;a[0+i]/=s,a[1+i]/=u;const c=Gn(s,u,.5);return typeof a[2+i]=="number"&&(a[2+i]/=c),typeof a[3+i]=="number"&&(a[3+i]/=c),o(a)}};class oie extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:o}=e;jae(iie),o&&(n.group&&n.group.add(o),r&&r.register&&a&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Z0.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:a,isPresent:o}=this.props,{projection:i}=r;return i&&(i.isPresent=o,a||e.layoutDependency!==n||n===void 0||e.isPresent!==o?i.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?i.promote():i.relegate()||Yn.postRender(()=>{const s=i.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),zC.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function J6(t){const[e,n]=One(),r=O.useContext(BP);return E(oie,{...t,layoutGroup:r,switchLayoutGroup:O.useContext(O6),isPresent:e,safeToRemove:n})}const iie={borderRadius:{...Bp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bp,borderTopRightRadius:Bp,borderBottomLeftRadius:Bp,borderBottomRightRadius:Bp,boxShadow:aie};function sie(t,e,n){const r=xa(t)?t:Vf(t);return r.start(YC("",r,e,n)),r.animation}function lie(t){return t instanceof SVGElement&&t.tagName!=="svg"}const uie=(t,e)=>t.depth-e.depth;class cie{constructor(){this.children=[],this.isDirty=!1}add(e){xC(this.children,e),this.isDirty=!0}remove(e){wC(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(uie),this.isDirty=!1,this.children.forEach(e)}}function die(t,e){const n=Va.now(),r=({timestamp:a})=>{const o=a-n;o>=e&&(Su(r),t(o-e))};return Yn.setup(r,!0),()=>Su(r)}const eI=["TopLeft","TopRight","BottomLeft","BottomRight"],fie=eI.length,wk=t=>typeof t=="string"?parseFloat(t):t,Sk=t=>typeof t=="number"||Ct.test(t);function hie(t,e,n,r,a,o){a?(t.opacity=Gn(0,n.opacity??1,pie(r)),t.opacityExit=Gn(e.opacity??1,0,mie(r))):o&&(t.opacity=Gn(e.opacity??1,n.opacity??1,r));for(let i=0;i<fie;i++){const s=`border${eI[i]}Radius`;let u=_k(e,s),c=_k(n,s);if(u===void 0&&c===void 0)continue;u||(u=0),c||(c=0),u===0||c===0||Sk(u)===Sk(c)?(t[s]=Math.max(Gn(wk(u),wk(c),r),0),(os.test(c)||os.test(u))&&(t[s]+="%")):t[s]=c}(e.rotate||n.rotate)&&(t.rotate=Gn(e.rotate||0,n.rotate||0,r))}function _k(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const pie=tI(0,.5,YP),mie=tI(.5,.95,Fo);function tI(t,e,n){return r=>r<t?0:r>e?1:n(Sm(t,e,r))}function Ck(t,e){t.min=e.min,t.max=e.max}function Ao(t,e){Ck(t.x,e.x),Ck(t.y,e.y)}function Ek(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Tk(t,e,n,r,a){return t-=e,t=Hy(t,1/n,r),a!==void 0&&(t=Hy(t,1/a,r)),t}function gie(t,e=0,n=1,r=.5,a,o=t,i=t){if(os.test(e)&&(e=parseFloat(e),e=Gn(i.min,i.max,e/100)-i.min),typeof e!="number")return;let s=Gn(o.min,o.max,r);t===o&&(s-=e),t.min=Tk(t.min,e,n,s,a),t.max=Tk(t.max,e,n,s,a)}function Rk(t,e,[n,r,a],o,i){gie(t,e[n],e[r],e[a],e.scale,o,i)}const vie=["x","scaleX","originX"],yie=["y","scaleY","originY"];function Ak(t,e,n,r){Rk(t.x,e,vie,n?n.x:void 0,r?r.x:void 0),Rk(t.y,e,yie,n?n.y:void 0,r?r.y:void 0)}function kk(t){return t.translate===0&&t.scale===1}function nI(t){return kk(t.x)&&kk(t.y)}function Nk(t,e){return t.min===e.min&&t.max===e.max}function bie(t,e){return Nk(t.x,e.x)&&Nk(t.y,e.y)}function Ok(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function rI(t,e){return Ok(t.x,e.x)&&Ok(t.y,e.y)}function Dk(t){return Da(t.x)/Da(t.y)}function Mk(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class xie{constructor(){this.members=[]}add(e){xC(this.members,e),e.scheduleRender()}remove(e){if(wC(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function wie(t,e,n){let r="";const a=t.x.translate/e.x,o=t.y.translate/e.y,i=(n==null?void 0:n.z)||0;if((a||o||i)&&(r=`translate3d(${a}px, ${o}px, ${i}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:f,rotateX:h,rotateY:m,skewX:g,skewY:y}=n;c&&(r=`perspective(${c}px) ${r}`),f&&(r+=`rotate(${f}deg) `),h&&(r+=`rotateX(${h}deg) `),m&&(r+=`rotateY(${m}deg) `),g&&(r+=`skewX(${g}deg) `),y&&(r+=`skewY(${y}deg) `)}const s=t.x.scale*e.x,u=t.y.scale*e.y;return(s!==1||u!==1)&&(r+=`scale(${s}, ${u})`),r||"none"}const I2=["","X","Y","Z"],Sie={visibility:"hidden"},_ie=1e3;let Cie=0;function L2(t,e,n,r){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),r&&(r[t]=0))}function aI(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=$6(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Yn,!(a||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&aI(r)}function oI({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(i={},s=e==null?void 0:e()){this.id=Cie++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Rie),this.nodes.forEach(Die),this.nodes.forEach(Mie),this.nodes.forEach(Aie)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new cie)}addEventListener(i,s){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new CC),this.eventHandlers.get(i).add(s)}notifyListeners(i,...s){const u=this.eventHandlers.get(i);u&&u.notify(...s)}hasListeners(i){return this.eventHandlers.has(i)}mount(i){if(this.instance)return;this.isSVG=lie(i),this.instance=i;const{layoutId:s,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||s)&&(this.isLayoutDirty=!0),t){let f;const h=()=>this.root.updateBlockedByResize=!1;t(i,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=die(h,250),Z0.hasAnimatedSinceResize&&(Z0.hasAnimatedSinceResize=!1,this.nodes.forEach(Ik))})}s&&this.root.registerSharedNode(s,this),this.options.animate!==!1&&c&&(s||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeLayoutChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||c.getDefaultTransition()||Bie,{onLayoutAnimationStart:b,onLayoutAnimationComplete:x}=c.getProps(),S=!this.targetLayout||!rI(this.targetLayout,g),R=!h&&m;if(this.options.layoutRoot||this.resumeFrom||R||h&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,R);const _={...FC(y,"layout"),onPlay:b,onComplete:x};(c.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else h||Ik(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Su(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Pie),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&aI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const h=this.path[f];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:s,layout:u}=this.options;if(s===void 0&&!u)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Pk);return}this.isUpdating||this.nodes.forEach(Nie),this.isUpdating=!1,this.nodes.forEach(Oie),this.nodes.forEach(Eie),this.nodes.forEach(Tie),this.clearAllSnapshots();const s=Va.now();Kr.delta=el(0,1e3/60,s-Kr.timestamp),Kr.timestamp=s,Kr.isProcessing=!0,R2.update.process(Kr),R2.preRender.process(Kr),R2.render.process(Kr),Kr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,zC.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(kie),this.sharedNodes.forEach(Iie)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Yn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Yn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Da(this.snapshot.measuredBox.x)&&!Da(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ur(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let s=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(s=!1),s&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!a)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,s=this.projectionDelta&&!nI(this.projectionDelta),u=this.getTransformTemplate(),c=u?u(this.latestValues,""):void 0,f=c!==this.prevTransformTemplateValue;i&&this.instance&&(s||hc(this.latestValues)||f)&&(a(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const s=this.measurePageBox();let u=this.removeElementScroll(s);return i&&(u=this.removeTransform(u)),zie(u),{animationId:this.root.animationId,measuredBox:s,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:i}=this.options;if(!i)return ur();const s=i.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some($ie))){const{scroll:f}=this.root;f&&(lf(s.x,f.offset.x),lf(s.y,f.offset.y))}return s}removeElementScroll(i){var u;const s=ur();if(Ao(s,i),(u=this.scroll)!=null&&u.wasRoot)return s;for(let c=0;c<this.path.length;c++){const f=this.path[c],{scroll:h,options:m}=f;f!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&Ao(s,i),lf(s.x,h.offset.x),lf(s.y,h.offset.y))}return s}applyTransform(i,s=!1){const u=ur();Ao(u,i);for(let c=0;c<this.path.length;c++){const f=this.path[c];!s&&f.options.layoutScroll&&f.scroll&&f!==f.root&&uf(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),hc(f.latestValues)&&uf(u,f.latestValues)}return hc(this.latestValues)&&uf(u,this.latestValues),u}removeTransform(i){const s=ur();Ao(s,i);for(let u=0;u<this.path.length;u++){const c=this.path[u];if(!c.instance||!hc(c.latestValues))continue;hS(c.latestValues)&&c.updateSnapshot();const f=ur(),h=c.measurePageBox();Ao(f,h),Ak(s,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,f)}return hc(this.latestValues)&&Ak(s,this.latestValues),s}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Kr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var m;const s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==s;if(!(i||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Kr.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ur(),this.relativeTargetOrigin=ur(),nm(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Ao(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ur(),this.targetWithTransforms=ur()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Uoe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ao(this.target,this.layout.layoutBox),K6(this.target,this.targetDelta)):Ao(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ur(),this.relativeTargetOrigin=ur(),nm(this.relativeTargetOrigin,this.target,g.target),Ao(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||hS(this.parent.latestValues)||G6(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var y;const i=this.getLead(),s=!!this.resumingFrom||this!==i;let u=!0;if((this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty)&&(u=!1),s&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Kr.timestamp&&(u=!1),u)return;const{layout:c,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||f))return;Ao(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;Voe(this.layoutCorrected,this.treeScale,this.path,s),i.layout&&!i.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(i.target=i.layout.layoutBox,i.targetWithTransforms=ur());const{target:g}=i;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ek(this.prevProjectionDelta.x,this.projectionDelta.x),Ek(this.prevProjectionDelta.y,this.projectionDelta.y)),tm(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!Mk(this.projectionDelta.x,this.prevProjectionDelta.x)||!Mk(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var s;if((s=this.options.visualElement)==null||s.scheduleRender(),i){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=sf(),this.projectionDelta=sf(),this.projectionDeltaWithTransform=sf()}setAnimationOrigin(i,s=!1){const u=this.snapshot,c=u?u.latestValues:{},f={...this.latestValues},h=sf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;const m=ur(),g=u?u.source:void 0,y=this.layout?this.layout.source:void 0,b=g!==y,x=this.getStack(),S=!x||x.members.length<=1,R=!!(b&&!S&&this.options.crossfade===!0&&!this.path.some(Fie));this.animationProgress=0;let _;this.mixTargetDelta=T=>{const A=T/1e3;Lk(h.x,i.x,A),Lk(h.y,i.y,A),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(nm(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Lie(this.relativeTarget,this.relativeTargetOrigin,m,A),_&&bie(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=ur()),Ao(_,this.relativeTarget)),b&&(this.animationValues=f,hie(f,c,this.latestValues,A,R,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){var s,u,c;this.notifyListeners("animationStart"),(s=this.currentAnimation)==null||s.stop(!1),(c=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||c.stop(!1),this.pendingAnimation&&(Su(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Yn.update(()=>{Z0.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Vf(0)),this.currentAnimation=sie(this.motionValue,[0,1e3],{...i,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),i.onUpdate&&i.onUpdate(f)},onStop:()=>{},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(_ie),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:s,target:u,layout:c,latestValues:f}=i;if(!(!s||!u||!c)){if(this!==i&&this.layout&&c&&iI(this.options.animationType,this.layout.layoutBox,c.layoutBox)){u=this.target||ur();const h=Da(this.layout.layoutBox.x);u.x.min=i.target.x.min,u.x.max=u.x.min+h;const m=Da(this.layout.layoutBox.y);u.y.min=i.target.y.min,u.y.max=u.y.min+m}Ao(s,u),uf(s,f),tm(this.projectionDeltaWithTransform,this.layoutCorrected,s,f)}}registerSharedNode(i,s){this.sharedNodes.has(i)||this.sharedNodes.set(i,new xie),this.sharedNodes.get(i).add(s);const c=s.options.initialPromotionConfig;s.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(s):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var s;const{layoutId:i}=this.options;return i?((s=this.getStack())==null?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:i}=this.options;return i?(s=this.getStack())==null?void 0:s.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:s,preserveFollowOpacity:u}={}){const c=this.getStack();c&&c.promote(this,u),i&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let s=!1;const{latestValues:u}=i;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(s=!0),!s)return;const c={};u.z&&L2("z",i,c,this.animationValues);for(let f=0;f<I2.length;f++)L2(`rotate${I2[f]}`,i,c,this.animationValues),L2(`skew${I2[f]}`,i,c,this.animationValues);i.render();for(const f in c)i.setStaticValue(f,c[f]),this.animationValues&&(this.animationValues[f]=c[f]);i.scheduleRender()}getProjectionStyles(i){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Sie;const s={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,s.opacity="",s.pointerEvents=Q0(i==null?void 0:i.pointerEvents)||"",s.transform=u?u(this.latestValues,""):"none",s;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=Q0(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!hc(this.latestValues)&&(g.transform=u?u({},""):"none",this.hasProjected=!1),g}const f=c.animationValues||c.latestValues;this.applyTransformsToTarget(),s.transform=wie(this.projectionDeltaWithTransform,this.treeScale,f),u&&(s.transform=u(f,s.transform));const{x:h,y:m}=this.projectionDelta;s.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,c.animationValues?s.opacity=c===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:s.opacity=c===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const g in Tm){if(f[g]===void 0)continue;const{correct:y,applyTo:b,isCSSVariable:x}=Tm[g],S=s.transform==="none"?f[g]:y(f[g],c);if(b){const R=b.length;for(let _=0;_<R;_++)s[b[_]]=S}else x?this.options.visualElement.renderState.vars[g]=S:s[g]=S}return this.options.layoutId&&(s.pointerEvents=c===this?Q0(i==null?void 0:i.pointerEvents)||"":"none"),s}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var s;return(s=i.currentAnimation)==null?void 0:s.stop(!1)}),this.root.nodes.forEach(Pk),this.root.sharedNodes.clear()}}}function Eie(t){t.updateLayout()}function Tie(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=t.layout,{animationType:o}=t.options,i=e.source!==t.layout.source;o==="size"?ko(h=>{const m=i?e.measuredBox[h]:e.layoutBox[h],g=Da(m);m.min=r[h].min,m.max=m.min+g}):iI(o,e.layoutBox,r)&&ko(h=>{const m=i?e.measuredBox[h]:e.layoutBox[h],g=Da(r[h]);m.max=m.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+g)});const s=sf();tm(s,r,e.layoutBox);const u=sf();i?tm(u,t.applyTransform(a,!0),e.measuredBox):tm(u,r,e.layoutBox);const c=!nI(s);let f=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:g}=h;if(m&&g){const y=ur();nm(y,e.layoutBox,m.layoutBox);const b=ur();nm(b,r,g.layoutBox),rI(y,b)||(f=!0),h.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=y,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:u,layoutDelta:s,hasLayoutChanged:c,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Rie(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Aie(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function kie(t){t.clearSnapshot()}function Pk(t){t.clearMeasurements()}function Nie(t){t.isLayoutDirty=!1}function Oie(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Ik(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Die(t){t.resolveTargetDelta()}function Mie(t){t.calcProjection()}function Pie(t){t.resetSkewAndRotation()}function Iie(t){t.removeLeadSnapshot()}function Lk(t,e,n){t.translate=Gn(e.translate,0,n),t.scale=Gn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Fk(t,e,n,r){t.min=Gn(e.min,n.min,r),t.max=Gn(e.max,n.max,r)}function Lie(t,e,n,r){Fk(t.x,e.x,n.x,r),Fk(t.y,e.y,n.y,r)}function Fie(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Bie={duration:.45,ease:[.4,0,.1,1]},Bk=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),zk=Bk("applewebkit/")&&!Bk("chrome/")?Math.round:Fo;function $k(t){t.min=zk(t.min),t.max=zk(t.max)}function zie(t){$k(t.x),$k(t.y)}function iI(t,e,n){return t==="position"||t==="preserve-aspect"&&!$oe(Dk(e),Dk(n),.2)}function $ie(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Uie=oI({attachResizeListener:(t,e)=>Am(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),F2={current:void 0},sI=oI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!F2.current){const t=new Uie({});t.mount(window),t.setOptions({layoutScroll:!0}),F2.current=t}return F2.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Vie={pan:{Feature:rie},drag:{Feature:nie,ProjectionNode:sI,MeasureLayout:J6}};function Uk(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,o=r[a];o&&Yn.postRender(()=>o(e,dg(e)))}class jie extends Nu{mount(){const{current:e}=this.node;e&&(this.unmount=xae(e,(n,r)=>(Uk(this.node,r,"Start"),a=>Uk(this.node,a,"End"))))}unmount(){}}class Wie extends Nu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=lg(Am(this.node.current,"focus",()=>this.onFocus()),Am(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Vk(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),o=r[a];o&&Yn.postRender(()=>o(e,dg(e)))}class Hie extends Nu{mount(){const{current:e}=this.node;e&&(this.unmount=Cae(e,(n,r)=>(Vk(this.node,r,"Start"),(a,{success:o})=>Vk(this.node,a,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const gS=new WeakMap,B2=new WeakMap,qie=t=>{const e=gS.get(t.target);e&&e(t)},Gie=t=>{t.forEach(qie)};function Kie({root:t,...e}){const n=t||document;B2.has(n)||B2.set(n,{});const r=B2.get(n),a=JSON.stringify(e);return r[a]||(r[a]=new IntersectionObserver(Gie,{root:t,...e})),r[a]}function Yie(t,e,n){const r=Kie(e);return gS.set(t,n),r.observe(t),()=>{gS.delete(t),r.unobserve(t)}}const Xie={some:0,all:1};class Qie extends Nu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:o}=e,i={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:Xie[a]},s=u=>{const{isIntersecting:c}=u;if(this.isInView===c||(this.isInView=c,o&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:f,onViewportLeave:h}=this.node.getProps(),m=c?f:h;m&&m(u)};return Yie(this.node.current,i,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Zie(e,n))&&this.startObserver()}unmount(){}}function Zie({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Jie={inView:{Feature:Qie},tap:{Feature:Hie},focus:{Feature:Wie},hover:{Feature:jie}},ese={layout:{ProjectionNode:sI,MeasureLayout:J6}},vS={current:null},lI={current:!1};function tse(){if(lI.current=!0,!!yC)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>vS.current=t.matches;t.addListener(e),e()}else vS.current=!1}const nse=new WeakMap;function rse(t,e,n){for(const r in e){const a=e[r],o=n[r];if(xa(a))t.addValue(r,a);else if(xa(o))t.addValue(r,Vf(a,{owner:t}));else if(o!==a)if(t.hasValue(r)){const i=t.getValue(r);i.liveStyle===!0?i.jump(a):i.hasAnimated||i.set(a)}else{const i=t.getStaticValue(r);t.addValue(r,Vf(i!==void 0?i:a,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const jk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ase{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:o,visualState:i},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=LC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Va.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Yn.render(this.render,!1,!0))};const{latestValues:u,renderState:c}=i;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=s,this.blockInitialAnimation=!!o,this.isControllingVariants=Kb(n),this.isVariantNode=k6(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in h){const g=h[m];u[m]!==void 0&&xa(g)&&g.set(u[m],!1)}}mount(e){this.current=e,nse.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),lI.current||tse(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:vS.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Su(this.notifyUpdate),Su(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=rh.has(e);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&Yn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),o(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in jf){const n=jf[e];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[e]&&a&&r(this.props)&&(this.features[e]=new a(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ur()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<jk.length;r++){const a=jk[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,i=e[o];i&&(this.propEventSubscriptions[a]=this.on(a,i))}this.prevMotionValues=rse(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Vf(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&($P(r)||UP(r))?r=parseFloat(r):!Tae(r)&&_u.test(n)&&(r=S6(e,n)),this.setBaseTarget(e,xa(r)?r.get():r)),xa(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var o;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const i=GC(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);i&&(r=i[e])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!xa(a)?a:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new CC),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class uI extends ase{constructor(){super(...arguments),this.KeyframeResolver=mae}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;xa(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function cI(t,{style:e,vars:n},r,a){Object.assign(t.style,e,a&&a.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}function ose(t){return window.getComputedStyle(t)}class ise extends uI{constructor(){super(...arguments),this.type="html",this.renderInstance=cI}readValueFromInstance(e,n){if(rh.has(n))return Pre(e,n);{const r=ose(e),a=(RC(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Y6(e,n)}build(e,n,r){WC(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return KC(e,n,r)}}const dI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function sse(t,e,n,r){cI(t,e,void 0,r);for(const a in e.attrs)t.setAttribute(dI.has(a)?a:jC(a),e.attrs[a])}class lse extends uI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ur}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(rh.has(n)){const r=w6(n);return r&&r.default||0}return n=dI.has(n)?n:jC(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return z6(e,n,r)}build(e,n,r){I6(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,a){sse(e,n,r,a)}mount(e){this.isSVGTag=F6(e.tagName),super.mount(e)}}const use=(t,e)=>qC(t)?new lse(e):new ise(e,{allowProjection:t!==O.Fragment}),cse=ioe({...Doe,...Jie,...Vie,...ese},use),Wk=Oae(cse),dse=({customStyle:t={}})=>{const n={...{position:"absolute",top:"-20px",left:"20px",zIndex:10},...t};return E(Wk.div,{style:n,initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:1,ease:"easeOut"},children:E(Wk.img,{src:"/src/assets/logolog.png",alt:"Logo",style:{width:"210px",height:"auto",cursor:"pointer"},whileHover:{scale:1.1,rotate:5},transition:{type:"spring",stiffness:300}})})};var fI={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Hk=gt.createContext&&gt.createContext(fI),vu=function(){return vu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},vu.apply(this,arguments)},fse=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};function hI(t){return t&&t.map(function(e,n){return gt.createElement(e.tag,vu({key:n},e.attr),hI(e.child))})}function Et(t){return function(e){return gt.createElement(hse,vu({attr:vu({},t.attr)},e),hI(t.child))}}function hse(t){var e=function(n){var r=t.attr,a=t.size,o=t.title,i=fse(t,["attr","size","title"]),s=a||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),gt.createElement("svg",vu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,i,{className:u,style:vu(vu({color:t.color||n.color},n.style),t.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&gt.createElement("title",null,o),t.children)};return Hk!==void 0?gt.createElement(Hk.Consumer,null,function(n){return e(n)}):e(fI)}function pse(t){return Et({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"}}]})(t)}function mse(t){return Et({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"}}]})(t)}function gse(t){return Et({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"}}]})(t)}function vse(t){return Et({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"}}]})(t)}function yse(t){return Et({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"}}]})(t)}function mhe(t){return Et({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M352 96c0-53.02-42.98-96-96-96s-96 42.98-96 96 42.98 96 96 96 96-42.98 96-96zM233.59 241.1c-59.33-36.32-155.43-46.3-203.79-49.05C13.55 191.13 0 203.51 0 219.14v222.8c0 14.33 11.59 26.28 26.49 27.05 43.66 2.29 131.99 10.68 193.04 41.43 9.37 4.72 20.48-1.71 20.48-11.87V252.56c-.01-4.67-2.32-8.95-6.42-11.46zm248.61-49.05c-48.35 2.74-144.46 12.73-203.78 49.05-4.1 2.51-6.41 6.96-6.41 11.63v245.79c0 10.19 11.14 16.63 20.54 11.9 61.04-30.72 149.32-39.11 192.97-41.4 14.9-.78 26.49-12.73 26.49-27.06V219.14c-.01-15.63-13.56-28.01-29.81-27.09z"}}]})(t)}function _0(t){return Et({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"}}]})(t)}function ghe(t){return Et({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M208 0c-29.9 0-54.7 20.5-61.8 48.2-.8 0-1.4-.2-2.2-.2-35.3 0-64 28.7-64 64 0 4.8.6 9.5 1.7 14C52.5 138 32 166.6 32 200c0 12.6 3.2 24.3 8.3 34.9C16.3 248.7 0 274.3 0 304c0 33.3 20.4 61.9 49.4 73.9-.9 4.6-1.4 9.3-1.4 14.1 0 39.8 32.2 72 72 72 4.1 0 8.1-.5 12-1.2 9.6 28.5 36.2 49.2 68 49.2 39.8 0 72-32.2 72-72V64c0-35.3-28.7-64-64-64zm368 304c0-29.7-16.3-55.3-40.3-69.1 5.2-10.6 8.3-22.3 8.3-34.9 0-33.4-20.5-62-49.7-74 1-4.5 1.7-9.2 1.7-14 0-35.3-28.7-64-64-64-.8 0-1.5.2-2.2.2C422.7 20.5 397.9 0 368 0c-35.3 0-64 28.6-64 64v376c0 39.8 32.2 72 72 72 31.8 0 58.4-20.7 68-49.2 3.9.7 7.9 1.2 12 1.2 39.8 0 72-32.2 72-72 0-4.8-.5-9.5-1.4-14.1 29-12 49.4-40.6 49.4-73.9z"}}]})(t)}function bse(t){return Et({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"}}]})(t)}function vhe(t){return Et({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"}}]})(t)}function yhe(t){return Et({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"}}]})(t)}function bhe(t){return Et({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128 272c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"}}]})(t)}function zp(t){return Et({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"}}]})(t)}function xhe(t){return Et({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"}}]})(t)}function whe(t){return Et({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"}}]})(t)}function xse(t){return Et({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"}}]})(t)}function z2(t){return Et({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"}}]})(t)}function wse(t){return Et({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z"}}]})(t)}function She(t){return Et({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M480.07 96H160a160 160 0 1 0 114.24 272h91.52A160 160 0 1 0 480.07 96zM248 268a12 12 0 0 1-12 12h-52v52a12 12 0 0 1-12 12h-24a12 12 0 0 1-12-12v-52H84a12 12 0 0 1-12-12v-24a12 12 0 0 1 12-12h52v-52a12 12 0 0 1 12-12h24a12 12 0 0 1 12 12v52h52a12 12 0 0 1 12 12zm216 76a40 40 0 1 1 40-40 40 40 0 0 1-40 40zm64-96a40 40 0 1 1 40-40 40 40 0 0 1-40 40z"}}]})(t)}function _he(t){return Et({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"}}]})(t)}function Sse(t){return Et({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 96v320h32a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16H320a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16h32V288H160v128h32a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16H32a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16h32V96H32a16 16 0 0 1-16-16V48a16 16 0 0 1 16-16h160a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16h-32v128h192V96h-32a16 16 0 0 1-16-16V48a16 16 0 0 1 16-16h160a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16z"}}]})(t)}function _se(t){return Et({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"}}]})(t)}function Cse(t){return Et({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M423.5 0C339.5.3 272 69.5 272 153.5V224H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48h-48v-71.1c0-39.6 31.7-72.5 71.3-72.9 40-.4 72.7 32.1 72.7 72v80c0 13.3 10.7 24 24 24h32c13.3 0 24-10.7 24-24v-80C576 68 507.5-.3 423.5 0z"}}]})(t)}function Ese(t){return Et({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"}}]})(t)}function Che(t){return Et({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"}}]})(t)}function Ehe(t){return Et({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"}}]})(t)}function The(t){return Et({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"}}]})(t)}function qk(t){return Et({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(t)}function Tse(t){return Et({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M267.429 488.563C262.286 507.573 242.858 512 224 512c-18.857 0-38.286-4.427-43.428-23.437C172.927 460.134 160 388.898 160 355.75c0-35.156 31.142-43.75 64-43.75s64 8.594 64 43.75c0 32.949-12.871 104.179-20.571 132.813zM156.867 288.554c-18.693-18.308-29.958-44.173-28.784-72.599 2.054-49.724 42.395-89.956 92.124-91.881C274.862 121.958 320 165.807 320 220c0 26.827-11.064 51.116-28.866 68.552-2.675 2.62-2.401 6.986.628 9.187 9.312 6.765 16.46 15.343 21.234 25.363 1.741 3.654 6.497 4.66 9.449 1.891 28.826-27.043 46.553-65.783 45.511-108.565-1.855-76.206-63.595-138.208-139.793-140.369C146.869 73.753 80 139.215 80 220c0 41.361 17.532 78.7 45.55 104.989 2.953 2.771 7.711 1.77 9.453-1.887 4.774-10.021 11.923-18.598 21.235-25.363 3.029-2.2 3.304-6.566.629-9.185zM224 0C100.204 0 0 100.185 0 224c0 89.992 52.602 165.647 125.739 201.408 4.333 2.118 9.267-1.544 8.535-6.31-2.382-15.512-4.342-30.946-5.406-44.339-.146-1.836-1.149-3.486-2.678-4.512-47.4-31.806-78.564-86.016-78.187-147.347.592-96.237 79.29-174.648 175.529-174.899C320.793 47.747 400 126.797 400 224c0 61.932-32.158 116.49-80.65 147.867-.999 14.037-3.069 30.588-5.624 47.23-.732 4.767 4.203 8.429 8.535 6.31C395.227 389.727 448 314.187 448 224 448 100.205 347.815 0 224 0zm0 160c-35.346 0-64 28.654-64 64s28.654 64 64 64 64-28.654 64-64-28.654-64-64-64z"}}]})(t)}function Rse(t){return Et({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"}}]})(t)}function Ase(t){return Et({attr:{viewBox:"0 0 416 512"},child:[{tag:"path",attr:{d:"M272 96c26.51 0 48-21.49 48-48S298.51 0 272 0s-48 21.49-48 48 21.49 48 48 48zM113.69 317.47l-14.8 34.52H32c-17.67 0-32 14.33-32 32s14.33 32 32 32h77.45c19.25 0 36.58-11.44 44.11-29.09l8.79-20.52-10.67-6.3c-17.32-10.23-30.06-25.37-37.99-42.61zM384 223.99h-44.03l-26.06-53.25c-12.5-25.55-35.45-44.23-61.78-50.94l-71.08-21.14c-28.3-6.8-57.77-.55-80.84 17.14l-39.67 30.41c-14.03 10.75-16.69 30.83-5.92 44.86s30.84 16.66 44.86 5.92l39.69-30.41c7.67-5.89 17.44-8 25.27-6.14l14.7 4.37-37.46 87.39c-12.62 29.48-1.31 64.01 26.3 80.31l84.98 50.17-27.47 87.73c-5.28 16.86 4.11 34.81 20.97 40.09 3.19 1 6.41 1.48 9.58 1.48 13.61 0 26.23-8.77 30.52-22.45l31.64-101.06c5.91-20.77-2.89-43.08-21.64-54.39l-61.24-36.14 31.31-78.28 20.27 41.43c8 16.34 24.92 26.89 43.11 26.89H384c17.67 0 32-14.33 32-32s-14.33-31.99-32-31.99z"}}]})(t)}function Rhe(t){return Et({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"}}]})(t)}function Ahe(t){return Et({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"}}]})(t)}const kse=()=>K("footer",{style:{position:"fixed",bottom:"0",left:"0",right:"0",backgroundColor:"#f8f9fa",padding:"20px",textAlign:"center",color:"#333",fontSize:"14px",boxShadow:"0 -2px 10px rgba(0, 0, 0, 0.1)",borderTop:"1px solid #e0e0e0",zIndex:"1000"},children:[K("div",{style:{marginBottom:"10px"},children:[E("a",{href:"/privacy-policy",style:$2,children:"Privacy Policy"}),E("a",{href:"/terms-of-service",style:$2,children:"Terms of Use"}),E("a",{href:"/contact",style:$2,children:"Contact"})]}),K("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"10px",marginBottom:"10px"},children:[E("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",style:U2,children:E(pse,{size:20})}),E("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",style:U2,children:E(mse,{size:20})}),E("a",{href:"https://linkedin.com",target:"_blank",rel:"noopener noreferrer",style:U2,children:E(gse,{size:20})})]}),E("p",{style:{margin:"0",color:"#666"},children:"© 2025 Vhagar.."})]}),$2={color:"#333",textDecoration:"none",margin:"0 10px",transition:"color 0.3s"},U2={color:"#333",margin:"0 10px",transition:"color 0.3s"},Nse=()=>{const t=ls(),e=O.useRef(null),n=O.useRef(null),[r,a]=O.useState(!1),[o,i]=O.useState(null),[s,u]=O.useState(null),[c,f]=O.useState(!1);O.useEffect(()=>((async()=>{try{await Promise.all([Jr.tinyFaceDetector.loadFromUri("/models"),Jr.faceLandmark68Net.loadFromUri("/models"),Jr.faceRecognitionNet.loadFromUri("/models")]),a(!0)}catch(b){console.error("Error loading face-api.js models:",b)}})(),()=>{}),[]),O.useEffect(()=>r?((async()=>{try{const b=await navigator.mediaDevices.getUserMedia({video:{}});e.current&&(e.current.srcObject=b)}catch(b){console.error("Error accessing webcam:",b),alert("Could not access webcam. Please check permissions.")}})(),()=>{var b;(b=e.current)!=null&&b.srcObject&&e.current.srcObject.getTracks().forEach(x=>x.stop())}):void 0,[r]);const h=async y=>{try{const x=await(await fetch(y)).blob();return new Promise(S=>{const R=new FileReader;R.onloadend=()=>S(R.result),R.readAsDataURL(x)})}catch(b){return console.error("Error fetching image:",b),null}},m=async y=>{if(!r){console.error("Models not loaded yet");return}f(!0);try{const b=await h(y);if(!b){alert("Failed to load image from storage.");return}const x=await tte(await(await fetch(b)).blob()),S=await OA(x,new zy).withFaceLandmarks().withFaceDescriptor();if(!S){alert("No face detected in the stored image.");return}u(S.descriptor),console.log("Stored image processed successfully!")}catch(b){console.error("Error processing stored image:",b),alert("Error processing stored image. Please try again.")}finally{f(!1)}};return O.useEffect(()=>{if(!r)return;const y=localStorage.getItem("image");y?(i(y),m(y)):(alert("No stored profile image found. Please upload one."),t("/profile"))},[r,t]),K("div",{className:"face-recognition-container",children:[E("div",{className:"logo-container",children:E(dse,{})}),K("div",{className:"face-recognition-content",children:[E("h1",{className:"face-recognition-title",children:"Face Verification"}),E("p",{className:"face-recognition-subtitle",children:"Please position your face in the frame"}),K("div",{className:"face-comparison-container",children:[K("div",{className:"stored-image-container",children:[E("h3",{className:"section-title",children:"Your Profile"}),o?E("div",{className:"image-wrapper",children:E("img",{src:o,alt:"Stored Profile",className:"profile-image"})}):K("div",{className:"no-image-placeholder",children:[E("i",{className:"fas fa-user-slash"}),E("p",{children:"No profile image found"})]})]}),K("div",{className:"camera-feed-container",children:[E("h3",{className:"section-title",children:"Live Camera"}),K("div",{className:"video-wrapper",children:[E("video",{ref:e,autoPlay:!0,muted:!0,playsInline:!0,className:"camera-feed"}),E("canvas",{ref:n,className:"face-overlay"}),!r&&K("div",{className:"loading-overlay",children:[E("div",{className:"loading-spinner"}),E("p",{children:"Loading face recognition models..."})]})]})]})]}),E("button",{className:"verify-button",onClick:async()=>{if(!r||!s){alert("System not ready yet. Please wait.");return}if(!e.current){alert("Webcam not accessible.");return}f(!0);try{const y=await OA(e.current,new zy).withFaceLandmarks().withFaceDescriptor();if(!y){alert("No face detected in the webcam.");return}const b=FP(y.descriptor,s);console.log("Euclidean Distance:",b);const x=.5,S=localStorage.getItem("role");b<x?(alert("✅ Match Found! The face matches the stored profile image."),t(S==="Admin"?"/dashboard":"/home")):(alert("❌ No Match. The face does not match the stored image."),localStorage.removeItem("token"),localStorage.removeItem("firstName"),localStorage.removeItem("lastName"),localStorage.removeItem("image"),t("/"))}catch(y){console.error("Error during face comparison:",y),alert("Error during face recognition. Please try again.")}finally{f(!1)}},disabled:!r||c,children:c?K(kn,{children:[E("span",{className:"button-spinner"}),"Verifying..."]}):"Verify My Identity"})]}),E(kse,{}),E("style",{jsx:!0,children:`
        .face-recognition-container {
          min-height: 100vh;
          width: 100%;
          display: flex;
          flex-direction: column;
          align-items: center;
          background: linear-gradient(135deg, #f5f7fa 0%, #e4e8f0 100%);
          padding: 2rem;
          position: relative;
        }

        .logo-container {
          position: absolute;
          top: 1.5rem;
          left: 1.5rem;
          z-index: 10;
        }

        .face-recognition-content {
          width: 100%;
          max-width: 1200px;
          margin: 4rem auto;
          display: flex;
          flex-direction: column;
          align-items: center;
        }

        .face-recognition-title {
          font-size: 2.5rem;
          color: #2c3e50;
          margin-bottom: 0.5rem;
          font-weight: 600;
          text-align: center;
        }

        .face-recognition-subtitle {
          font-size: 1.1rem;
          color: #7f8c8d;
          margin-bottom: 2rem;
          text-align: center;
        }

        .face-comparison-container {
          display: flex;
          justify-content: space-between;
          width: 100%;
          gap: 2rem;
          margin-bottom: 2rem;
        }

        .stored-image-container, .camera-feed-container {
          flex: 1;
          background: white;
          border-radius: 12px;
          padding: 1.5rem;
          box-shadow: 0 10px 20px rgba(0, 0, 0, 0.08);
          display: flex;
          flex-direction: column;
          align-items: center;
        }

        .section-title {
          font-size: 1.3rem;
          color: #34495e;
          margin-bottom: 1.5rem;
          font-weight: 500;
        }

        .image-wrapper {
          width: 100%;
          display: flex;
          justify-content: center;
          align-items: center;
          border-radius: 8px;
          overflow: hidden;
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .profile-image {
  width: 100%;
  max-width: 300px;
  height: auto;
  object-fit: cover;
  border-radius: 50%;
  aspect-ratio: 1/1; /* Ensures perfect circle by maintaining 1:1 aspect ratio */
}

        .no-image-placeholder {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          color: #95a5a6;
          padding: 2rem;
        }

        .no-image-placeholder i {
          font-size: 3rem;
          margin-bottom: 1rem;
        }

        .video-wrapper {
          position: relative;
          width: 100%;
          padding-top: 75%; /* 4:3 aspect ratio */
          border-radius: 8px;
          overflow: hidden;
          background: #2c3e50;
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .camera-feed, .face-overlay {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          object-fit: cover;
        }

        .loading-overlay {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          display: flex;
          flex-direction: column;
          justify-content: center;
          align-items: center;
          background: rgba(0, 0, 0, 0.5);
          color: white;
        }

        .loading-spinner {
          width: 40px;
          height: 40px;
          border: 4px solid rgba(255, 255, 255, 0.3);
          border-radius: 50%;
          border-top-color: white;
          animation: spin 1s ease-in-out infinite;
          margin-bottom: 1rem;
        }

        .verify-button {
          background: #3498db;
          color: white;
          border: none;
          padding: 1rem 2rem;
          font-size: 1.1rem;
          border-radius: 50px;
          cursor: pointer;
          transition: all 0.3s ease;
          display: flex;
          align-items: center;
          justify-content: center;
          min-width: 200px;
          box-shadow: 0 4px 6px rgba(52, 152, 219, 0.3);
          margin-top: 1rem;
        }

        .verify-button:hover:not(:disabled) {
          background: #2980b9;
          transform: translateY(-2px);
          box-shadow: 0 6px 8px rgba(52, 152, 219, 0.4);
        }

        .verify-button:disabled {
          background: #bdc3c7;
          cursor: not-allowed;
        }

        .button-spinner {
          display: inline-block;
          width: 16px;
          height: 16px;
          border: 2px solid rgba(255, 255, 255, 0.3);
          border-radius: 50%;
          border-top-color: white;
          animation: spin 1s ease-in-out infinite;
          margin-right: 8px;
        }

        @keyframes spin {
          to { transform: rotate(360deg); }
        }

        @media (max-width: 768px) {
          .face-comparison-container {
            flex-direction: column;
          }

          .face-recognition-title {
            font-size: 2rem;
          }

          .video-wrapper {
            padding-top: 133%; /* 3:4 aspect ratio for mobile */
          }
        }
      `})]})},Ose=()=>{const t=ls();return O.useEffect(()=>{},[t]),null};var V2={},j2={},W2={},Gk;function Dse(){return Gk||(Gk=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];if(typeof window<"u"){var s;typeof window.gtag>"u"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(s=window).gtag.apply(s,o)}},n=e;t.default=n}(W2)),W2}var H2={},Kk;function Mse(){return Kk||(Kk=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var e=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function n(s){return s.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(u,c,f){return c>0&&c+u.length!==f.length&&u.search(e)>-1&&f.charAt(c-2)!==":"&&(f.charAt(c+u.length)!=="-"||f.charAt(c-1)==="-")&&f.charAt(c-1).search(/[^\s-]/)<0?u.toLowerCase():u.substr(1).search(/[A-Z]|\../)>-1?u:u.charAt(0).toUpperCase()+u.substr(1)})}function r(s){return typeof s=="string"&&s.indexOf("@")!==-1}var a="REDACTED (Potential Email Address)";function o(s){return r(s)?(console.warn("This arg looks like an email address, redacting."),a):s}function i(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,f=s||"";return u&&(f=n(s)),c&&(f=o(f)),f}}(H2)),H2}var Yk;function Pse(){return Yk||(Yk=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GA4=void 0;var e=i(Dse()),n=i(Mse()),r=["eventCategory","eventAction","eventLabel","eventValue","hitType"],a=["title","location"],o=["page","hitType"];function i(V){return V&&V.__esModule?V:{default:V}}function s(V,B){if(V==null)return{};var F=u(V,B),U,W;if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(V);for(W=0;W<Q.length;W++)U=Q[W],!(B.indexOf(U)>=0)&&Object.prototype.propertyIsEnumerable.call(V,U)&&(F[U]=V[U])}return F}function u(V,B){if(V==null)return{};var F={},U=Object.keys(V),W,Q;for(Q=0;Q<U.length;Q++)W=U[Q],!(B.indexOf(W)>=0)&&(F[W]=V[W]);return F}function c(V){"@babel/helpers - typeof";return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},c(V)}function f(V){return g(V)||m(V)||R(V)||h()}function h(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m(V){if(typeof Symbol<"u"&&V[Symbol.iterator]!=null||V["@@iterator"]!=null)return Array.from(V)}function g(V){if(Array.isArray(V))return _(V)}function y(V,B){var F=Object.keys(V);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(V);B&&(U=U.filter(function(W){return Object.getOwnPropertyDescriptor(V,W).enumerable})),F.push.apply(F,U)}return F}function b(V){for(var B=1;B<arguments.length;B++){var F=arguments[B]!=null?arguments[B]:{};B%2?y(Object(F),!0).forEach(function(U){P(V,U,F[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(F)):y(Object(F)).forEach(function(U){Object.defineProperty(V,U,Object.getOwnPropertyDescriptor(F,U))})}return V}function x(V,B){return A(V)||T(V,B)||R(V,B)||S()}function S(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R(V,B){if(V){if(typeof V=="string")return _(V,B);var F=Object.prototype.toString.call(V).slice(8,-1);if(F==="Object"&&V.constructor&&(F=V.constructor.name),F==="Map"||F==="Set")return Array.from(V);if(F==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F))return _(V,B)}}function _(V,B){(B==null||B>V.length)&&(B=V.length);for(var F=0,U=new Array(B);F<B;F++)U[F]=V[F];return U}function T(V,B){var F=V==null?null:typeof Symbol<"u"&&V[Symbol.iterator]||V["@@iterator"];if(F!=null){var U,W,Q,q,le=[],J=!0,oe=!1;try{if(Q=(F=F.call(V)).next,B!==0)for(;!(J=(U=Q.call(F)).done)&&(le.push(U.value),le.length!==B);J=!0);}catch(re){oe=!0,W=re}finally{try{if(!J&&F.return!=null&&(q=F.return(),Object(q)!==q))return}finally{if(oe)throw W}}return le}}function A(V){if(Array.isArray(V))return V}function D(V,B){if(!(V instanceof B))throw new TypeError("Cannot call a class as a function")}function N(V,B){for(var F=0;F<B.length;F++){var U=B[F];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(V,I(U.key),U)}}function M(V,B,F){return B&&N(V.prototype,B),Object.defineProperty(V,"prototype",{writable:!1}),V}function P(V,B,F){return B=I(B),B in V?Object.defineProperty(V,B,{value:F,enumerable:!0,configurable:!0,writable:!0}):V[B]=F,V}function I(V){var B=$(V,"string");return c(B)==="symbol"?B:String(B)}function $(V,B){if(c(V)!=="object"||V===null)return V;var F=V[Symbol.toPrimitive];if(F!==void 0){var U=F.call(V,B);if(c(U)!=="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return(B==="string"?String:Number)(V)}var z=function(){function V(){var B=this;D(this,V),P(this,"reset",function(){B.isInitialized=!1,B._testMode=!1,B._currentMeasurementId,B._hasLoadedGA=!1,B._isQueuing=!1,B._queueGtag=[]}),P(this,"_gtag",function(){for(var F=arguments.length,U=new Array(F),W=0;W<F;W++)U[W]=arguments[W];B._testMode||B._isQueuing?B._queueGtag.push(U):e.default.apply(void 0,U)}),P(this,"_loadGA",function(F,U){var W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"https://www.googletagmanager.com/gtag/js";if(!(typeof window>"u"||typeof document>"u")&&!B._hasLoadedGA){var Q=document.createElement("script");Q.async=!0,Q.src="".concat(W,"?id=").concat(F),U&&Q.setAttribute("nonce",U),document.body.appendChild(Q),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},B._hasLoadedGA=!0}}),P(this,"_toGtagOptions",function(F){if(F){var U={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},W=Object.entries(F).reduce(function(Q,q){var le=x(q,2),J=le[0],oe=le[1];return U[J]?Q[U[J]]=oe:Q[J]=oe,Q},{});return W}}),P(this,"initialize",function(F){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!F)throw new Error("Require GA_MEASUREMENT_ID");var W=typeof F=="string"?[{trackingId:F}]:F;B._currentMeasurementId=W[0].trackingId;var Q=U.gaOptions,q=U.gtagOptions,le=U.nonce,J=U.testMode,oe=J===void 0?!1:J,re=U.gtagUrl;if(B._testMode=oe,oe||B._loadGA(B._currentMeasurementId,le,re),B.isInitialized||(B._gtag("js",new Date),W.forEach(function(Oe){var pe=b(b(b({},B._toGtagOptions(b(b({},Q),Oe.gaOptions))),q),Oe.gtagOptions);Object.keys(pe).length?B._gtag("config",Oe.trackingId,pe):B._gtag("config",Oe.trackingId)})),B.isInitialized=!0,!oe){var we=f(B._queueGtag);for(B._queueGtag=[],B._isQueuing=!1;we.length;){var be=we.shift();B._gtag.apply(B,f(be)),be[0]==="get"&&(B._isQueuing=!0)}}}),P(this,"set",function(F){if(!F){console.warn("`fieldsObject` is required in .set()");return}if(c(F)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(F).length===0&&console.warn("empty `fieldsObject` given to .set()"),B._gaCommand("set",F)}),P(this,"_gaCommandSendEvent",function(F,U,W,Q,q){B._gtag("event",U,b(b({event_category:F,event_label:W,value:Q},q&&{non_interaction:q.nonInteraction}),B._toGtagOptions(q)))}),P(this,"_gaCommandSendEventParameters",function(){for(var F=arguments.length,U=new Array(F),W=0;W<F;W++)U[W]=arguments[W];if(typeof U[0]=="string")B._gaCommandSendEvent.apply(B,f(U.slice(1)));else{var Q=U[0],q=Q.eventCategory,le=Q.eventAction,J=Q.eventLabel,oe=Q.eventValue;Q.hitType;var re=s(Q,r);B._gaCommandSendEvent(q,le,J,oe,re)}}),P(this,"_gaCommandSendTiming",function(F,U,W,Q){B._gtag("event","timing_complete",{name:U,value:W,event_category:F,event_label:Q})}),P(this,"_gaCommandSendPageview",function(F,U){if(U&&Object.keys(U).length){var W=B._toGtagOptions(U),Q=W.title,q=W.location,le=s(W,a);B._gtag("event","page_view",b(b(b(b({},F&&{page_path:F}),Q&&{page_title:Q}),q&&{page_location:q}),le))}else F?B._gtag("event","page_view",{page_path:F}):B._gtag("event","page_view")}),P(this,"_gaCommandSendPageviewParameters",function(){for(var F=arguments.length,U=new Array(F),W=0;W<F;W++)U[W]=arguments[W];if(typeof U[0]=="string")B._gaCommandSendPageview.apply(B,f(U.slice(1)));else{var Q=U[0],q=Q.page;Q.hitType;var le=s(Q,o);B._gaCommandSendPageview(q,le)}}),P(this,"_gaCommandSend",function(){for(var F=arguments.length,U=new Array(F),W=0;W<F;W++)U[W]=arguments[W];var Q=typeof U[0]=="string"?U[0]:U[0].hitType;switch(Q){case"event":B._gaCommandSendEventParameters.apply(B,U);break;case"pageview":B._gaCommandSendPageviewParameters.apply(B,U);break;case"timing":B._gaCommandSendTiming.apply(B,f(U.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(Q));break;default:console.warn("Send command doesn't exist: ".concat(Q))}}),P(this,"_gaCommandSet",function(){for(var F=arguments.length,U=new Array(F),W=0;W<F;W++)U[W]=arguments[W];typeof U[0]=="string"&&(U[0]=P({},U[0],U[1])),B._gtag("set",B._toGtagOptions(U[0]))}),P(this,"_gaCommand",function(F){for(var U=arguments.length,W=new Array(U>1?U-1:0),Q=1;Q<U;Q++)W[Q-1]=arguments[Q];switch(F){case"send":B._gaCommandSend.apply(B,W);break;case"set":B._gaCommandSet.apply(B,W);break;default:console.warn("Command doesn't exist: ".concat(F))}}),P(this,"ga",function(){for(var F=arguments.length,U=new Array(F),W=0;W<F;W++)U[W]=arguments[W];if(typeof U[0]=="string")B._gaCommand.apply(B,U);else{var Q=U[0];B._gtag("get",B._currentMeasurementId,"client_id",function(q){B._isQueuing=!1;var le=B._queueGtag;for(Q({get:function(re){return re==="clientId"?q:re==="trackingId"?B._currentMeasurementId:re==="apiVersion"?"1":void 0}});le.length;){var J=le.shift();B._gtag.apply(B,f(J))}}),B._isQueuing=!0}return B.ga}),P(this,"event",function(F,U){if(typeof F=="string")B._gtag("event",F,B._toGtagOptions(U));else{var W=F.action,Q=F.category,q=F.label,le=F.value,J=F.nonInteraction,oe=F.transport;if(!Q||!W){console.warn("args.category AND args.action are required in event()");return}var re={hitType:"event",eventCategory:(0,n.default)(Q),eventAction:(0,n.default)(W)};q&&(re.eventLabel=(0,n.default)(q)),typeof le<"u"&&(typeof le!="number"?console.warn("Expected `args.value` arg to be a Number."):re.eventValue=le),typeof J<"u"&&(typeof J!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):re.nonInteraction=J),typeof oe<"u"&&(typeof oe!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(oe)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),re.transport=oe)),B._gaCommand("send",re)}}),P(this,"send",function(F){B._gaCommand("send",F)}),this.reset()}return M(V,[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}]),V}();t.GA4=z;var G=new z;t.default=G}(j2)),j2}var Xk;function Ise(){return Xk||(Xk=1,function(t){function e(s){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},e(s)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ReactGAImplementation=void 0;var n=a(Pse());function r(s){if(typeof WeakMap!="function")return null;var u=new WeakMap,c=new WeakMap;return(r=function(h){return h?c:u})(s)}function a(s,u){if(s&&s.__esModule)return s;if(s===null||e(s)!=="object"&&typeof s!="function")return{default:s};var c=r(u);if(c&&c.has(s))return c.get(s);var f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in s)if(m!=="default"&&Object.prototype.hasOwnProperty.call(s,m)){var g=h?Object.getOwnPropertyDescriptor(s,m):null;g&&(g.get||g.set)?Object.defineProperty(f,m,g):f[m]=s[m]}return f.default=s,c&&c.set(s,f),f}var o=n.GA4;t.ReactGAImplementation=o;var i=n.default;t.default=i}(V2)),V2}var Lse=Ise();const XC=$o(Lse),Fse=t=>{XC.send({hitType:"pageview",page:window.location.pathname,title:t})};function Bse(t){return Et({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"}}]})(t)}function Qk(t){return Et({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"}},{tag:"polyline",attr:{points:"12 19 5 12 12 5"}}]})(t)}function Zk(t){return Et({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}},{tag:"polyline",attr:{points:"12 5 19 12 12 19"}}]})(t)}function km(t){return Et({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"polyline",attr:{points:"12 6 12 12 16 14"}}]})(t)}function zse(t){return Et({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"}}]})(t)}function Sc(t){return Et({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}}]})(t)}function yS(t){return Et({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"}},{tag:"path",attr:{d:"M19 10v2a7 7 0 0 1-14 0v-2"}},{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"23"}},{tag:"line",attr:{x1:"8",y1:"23",x2:"16",y2:"23"}}]})(t)}function bS(t){return Et({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"}},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}}]})(t)}function $se(t){return Et({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"}},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"}}]})(t)}function Use(t){return Et({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"}}]})(t)}function Vse(t){return Et({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"rect",attr:{x:"9",y:"9",width:"6",height:"6"}}]})(t)}function jse(t){return Et({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"}}]})(t)}function Wse(t){return Et({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"}},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"}},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"}}]})(t)}function Hse(t){return Et({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"}},{tag:"polyline",attr:{points:"17 6 23 6 23 12"}}]})(t)}function Nm(t){return Et({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"}}]})(t)}const Jk=()=>{const{id:t}=DS(),e=ls(),[n,r]=O.useState([]),[a,o]=O.useState([]),[i,s]=O.useState(null),[u,c]=O.useState(!0),[f,h]=O.useState(!1),[m,g]=O.useState([]),[y,b]=O.useState("student"),[x,S]=O.useState(null),[R,_]=O.useState([]),[T,A]=O.useState(0),[D,N]=O.useState(()=>{try{return localStorage.getItem(`showSupplementary_${t}`)==="true"}catch(J){return console.error("Error accessing localStorage:",J),!1}}),[M,P]=O.useState(0),I=60,$=localStorage.getItem("userId"),z=localStorage.getItem("token"),G=localStorage.getItem("role");O.useEffect(()=>{if(!(i!=null&&i._id)||G!=="Student"||D)return;const J=setInterval(()=>{P(oe=>{const re=oe+1;return re>=I&&!D&&(N(!0),localStorage.setItem(`showSupplementary_${t}`,"true")),re})},1e3);return()=>clearInterval(J)},[i==null?void 0:i._id,G,D,t]),O.useEffect(()=>{let J=!0;const oe=async()=>{var re,we;console.log("Supplementary Lessons:",R);try{const be=await tt.get(`https://edunova-back-rqxc.onrender.com/api/study/recommendations/${i._id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!J)return;be.data&&be.data.lessons?_(be.data.lessons):console.warn("Structure de données inattendue:",be.data)}catch(be){be.name!=="AbortError"&&console.error("Erreur complète:",{message:be.message,response:(re=be.response)==null?void 0:re.data,status:(we=be.response)==null?void 0:we.status})}};return i!=null&&i._id&&oe(),()=>{J=!1}},[i==null?void 0:i._id]);const V=async J=>{if(window.confirm("Are you sure you want to delete this supplementary lesson?"))try{await tt.delete(`https://edunova-back-rqxc.onrender.com/api/study/recommendations/${J}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),_(oe=>oe.filter(re=>re._id!==J))}catch(oe){console.error("Error deleting supplementary lesson:",oe)}};O.useEffect(()=>{const J=async()=>{var we,be,Oe;try{if(localStorage.getItem(`showSupplementary_${t}`)==="true"&&N(!0),!isNaN(t)){const Ve=await tt.get("http://edunova.moodlecloud.com/moodle/webservice/rest/server.php",{params:{wstoken:"aeb753af3b7400cf5a7d4d8f3ce5a950",wsfunction:"core_course_get_contents",courseid:t,moodlewsrestformat:"json"}});r(Ve.data),s({_id:t,title:`Moodle Course ${t}`,description:"Imported from Moodle",isMoodle:!0}),c(!1)}else{const[Ve,Pe,ze,Ce,Ie]=await Promise.all([tt.get(`https://edunova-back-rqxc.onrender.com/module/${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),tt.get(`https://edunova-back-rqxc.onrender.com/module/modules/${t}/lessons`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),tt.get(`https://edunova-back-rqxc.onrender.com/api/progress/enrollment/${$}/${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),tt.get(`https://edunova-back-rqxc.onrender.com/api/progress/completed/${$}/${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),tt.get(`https://edunova-back-rqxc.onrender.com/api/users/${$}`,{headers:{Authorization:`Bearer ${z}`}})]);s(Ve.data),o(Pe.data);const Ue=Pe.data.filter(mt=>{var Jt,Ht,Ut,yt,Vt,qt,fe;return Array.isArray((Ht=(Jt=Ie.data)==null?void 0:Jt.data)==null?void 0:Ht.learningPreference)?Ie.data.data.learningPreference.map($e=>$e.toLowerCase()).includes((Ut=mt.typeLesson)==null?void 0:Ut.toLowerCase()):((yt=mt.typeLesson)==null?void 0:yt.toLowerCase())===((fe=(qt=(Vt=Ie.data)==null?void 0:Vt.data)==null?void 0:qt.learningPreference)==null?void 0:fe.toLowerCase())});A(Ue.length);const st=Ue.filter(mt=>Ce.data.completedLessons.includes(mt._id));g(st.map(mt=>mt._id)),h(ze.data.enrolled),g(Ce.data.completedLessons),S(((be=(we=Ie.data)==null?void 0:we.data)==null?void 0:be.learningPreference)||"video"),c(!1)}}catch(pe){console.error("Error fetching module data:",pe),((Oe=pe.response)==null?void 0:Oe.status)===404&&e("/not-found"),c(!1)}};let oe=Date.now();const re=async()=>{const we=Date.now(),be=Math.floor((we-oe)/1e3);try{await tt.post("https://edunova-back-rqxc.onrender.com/module/check-lessons-duration",{moduleId:t,duration:be},{headers:{Authorization:`Bearer ${z}`}})}catch(Oe){console.error("Failed to track lesson duration:",Oe)}};return window.addEventListener("beforeunload",re),J(),()=>{re(),window.removeEventListener("beforeunload",re)}},[t,$,e,z]);const B=async()=>{try{await tt.post("https://edunova-back-rqxc.onrender.com/api/progress/enroll",{userId:$,moduleId:t}),h(!0)}catch(J){console.error("Enrollment failed:",J)}},F=J=>{switch(J){case"resource":return E(z2,{className:"module-icon"});case"url":return E(_se,{className:"module-icon"});case"label":return E(Sse,{className:"module-icon"});case"folder":return E(wse,{className:"module-icon"});default:return E(zp,{className:"module-icon"})}},U=async J=>{try{await tt.post("https://edunova-back-rqxc.onrender.com/api/progress/complete",{userId:$,moduleId:t,lessonId:J}),g(oe=>[...oe,J])}catch(oe){console.error("Error marking lesson complete:",oe)}},W=async J=>{try{await tt.delete(`https://edunova-back-rqxc.onrender.com/api/lessons/${J}`,{headers:{Authorization:`Bearer ${z}`}}),o(oe=>oe.filter(re=>re._id!==J)),g(oe=>oe.filter(re=>re!==J))}catch(oe){console.error("Failed to delete lesson:",oe),alert("Failed to delete lesson. Please try again.")}},Q=J=>{switch(J){case"video":return E(vse,{className:"text-red-500 mr-2"});case"article":return E(xse,{className:"text-blue-500 mr-2"});case"exercise":return E(Ase,{className:"text-green-500 mr-2"});case"quiz":return E(Rse,{className:"text-yellow-500 mr-2"});case"podcast":return E(Tse,{className:"text-purple-500 mr-2"});case"pdf":return E(z2,{className:"text-red-500 mr-2"});default:return E(zp,{className:"text-gray-500 mr-2"})}},q=J=>{window.open(J,"_blank")};if(u)return K("div",{className:"loading-container",children:[E("div",{className:"spinner"}),E("p",{children:"Loading module content..."})]});if(!i)return K("div",{className:"not-found-container",children:[E("h2",{children:"Module Not Found"}),E("p",{children:"This module does not exist or has been removed."}),K("button",{onClick:()=>e(-1),className:"back-button",children:[E(yse,{})," Go Back"]})]});const le=T>0?Math.round(m.length/T*100):0;return K("div",{className:"module-details-container",children:[K("div",{className:"module-header",children:[E("h1",{children:i.title}),E("p",{className:"module-description",children:i.description}),!i.isMoodle&&G!=="Teacher"&&K(kn,{children:[f&&K("div",{className:"progress-container",children:[K("div",{className:"progress-header",children:[E(Bse,{className:"progress-icon"}),E("span",{children:"Your Progress"}),K("span",{children:[m.length,"/",T," lessons"]})]}),E("div",{className:"progress-bar",children:E("div",{className:"progress-fill",style:{width:`${le}%`}})}),K("span",{className:"progress-percentage",children:[le,"% Complete"]})]}),f?K("div",{className:"enrolled-badge",children:[E(Ese,{})," Enrolled"]}):K("button",{onClick:B,className:"enroll-button",children:[E(Cse,{})," Enroll in Module"]})]})]}),K("div",{className:"lessons-and-supplementary-container",children:[i.isMoodle?K("div",{className:"moodle-lessons-section",children:[K("div",{className:"section-header",children:[K("h2",{children:[E(_0,{})," Contenu du cours"]}),E("p",{className:"moodle-course-info",children:i.description&&E("div",{className:"moodle-description",children:i.description.replace(/<[^>]+>/g,"")})})]}),n.map((J,oe)=>K("div",{className:"moodle-section",children:[K("div",{className:"section-title",children:[K("h3",{children:["Section ",oe+1,": ",J.name]}),J.summary&&E("div",{className:"section-description",children:J.summary.replace(/<[^>]+>/g,"")})]}),E("div",{className:"moodle-modules-grid",children:J.modules.map((re,we)=>E("div",{className:`moodle-module-card ${re.modname}`,onClick:()=>re.url&&q(re.url),style:{cursor:re.url?"pointer":"default"},children:K("div",{className:"moodle-module-content",children:[E("div",{className:"module-icon-container",children:F(re.modname)}),K("div",{className:"module-details",children:[E("h4",{children:re.name}),E("p",{className:"module-type",children:re.modname}),re.description&&E("div",{className:"module-description",children:re.description.replace(/<[^>]+>/g,"")})]}),re.url&&E(zp,{className:"external-link-icon"})]})},we))})]},oe))]}):f&&K("div",{className:"lessons-section",children:[K("div",{className:"section-header",children:[K("h2",{children:[E(_0,{})," Lessons"]}),G==="Teacher"&&K("div",{className:"flex space-x-2",children:[K("button",{onClick:()=>e(`/create-lesson/${t}`),className:"add-lesson-button",children:[E(qk,{})," Add Lesson"]}),K("button",{onClick:()=>e(`/add-supplementary-lesson/${t}`),className:"add-lesson-button bg-purple-600 hover:bg-purple-700",children:[E(qk,{})," Add Supplementary Lesson"]})]})]}),a.length===0?E("div",{className:"empty-lessons",children:E("p",{children:"No lessons available in this module yet."})}):E("div",{className:"lessons-grid",children:a.filter(J=>{var oe,re;return G==="Teacher"?!0:f?Array.isArray(x)?x.map(we=>we.toLowerCase()).includes((oe=J.typeLesson)==null?void 0:oe.toLowerCase()):((re=J.typeLesson)==null?void 0:re.toLowerCase())===(x==null?void 0:x.toLowerCase()):!1}).map(J=>{const oe=m.includes(J._id);return K("div",{className:`lesson-card ${oe?"completed":""}`,onClick:()=>e("/lesson-details",{state:{lesson:J}}),children:[J.fileUrl&&E("div",{className:"lesson-image",children:E("img",{src:J.fileUrl,alt:"lesson preview"})}),K("div",{className:"lesson-content",children:[E("h3",{children:J.title}),E("p",{className:"lesson-type",children:J.typeLesson}),K("p",{className:"lesson-excerpt",children:[J.content.substring(0,100),"..."]}),K("div",{className:"lesson-footer",children:[oe?K("span",{className:"completed-badge",children:[E(bse,{})," Completed"]}):E("button",{onClick:re=>{re.stopPropagation(),U(J._id)},className:"complete-button",children:"Mark as Completed"}),G==="Teacher"&&E("button",{onClick:re=>{re.stopPropagation(),W(J._id)},className:"delete-button",children:"🗑️ Delete"})]})]})]},J._id)})})]}),!i.isMoodle&&G==="Student"&&D&&R.length>0&&K("div",{className:"supplementary-section mt-8",children:[K("div",{className:"time-progress mb-4",children:[K("div",{className:"flex justify-between items-center mb-2",children:[E("span",{className:"text-sm font-medium text-gray-700",children:M>=I?"Supplementary resources unlocked":"Unlocking supplementary resources..."}),K("span",{className:"text-sm font-semibold text-blue-600",children:[Math.min(M,I),"/",I,"s"]})]}),E("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:E("div",{className:`h-2.5 rounded-full ${M>=I?"bg-green-500":"bg-blue-600"}`,style:{width:`${Math.min(M,I)/I*100}%`}})})]}),K("div",{className:"section-header",children:[K("h2",{className:"supplementary-title",children:[E(_0,{className:"mr-2"}),"Supplementary Resources"]}),E("button",{onClick:()=>{const J=!D;N(J),localStorage.setItem(`showSupplementary_${t}`,String(J))},className:"text-sm text-blue-600 hover:text-blue-800",children:D?"Hide":"Show"})]}),E("div",{className:"supplementary-grid grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:R.map(J=>E("div",{className:`supplementary-card rounded-lg shadow-md p-4 ${J.type==="video"?"border-l-4 border-red-500":J.type==="article"?"border-l-4 border-blue-500":J.type==="exercise"?"border-l-4 border-green-500":"border-l-4 border-purple-500"}`,children:K("div",{className:"supplementary-content",children:[K("div",{className:"flex items-center mb-2",children:[Q(J.type),E("h4",{className:"font-semibold",children:J.title})]}),K("div",{className:"flex flex-wrap gap-2 mb-3",children:[E("span",{className:`px-2 py-1 rounded text-xs ${J.type==="video"?"bg-red-100 text-red-800":J.type==="article"?"bg-blue-100 text-blue-800":J.type==="exercise"?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"}`,children:J.type.charAt(0).toUpperCase()+J.type.slice(1)}),J.duration>0&&K("span",{className:"bg-gray-100 text-gray-800 px-2 py-1 rounded text-xs",children:[J.duration," min"]})]}),E("p",{className:"text-gray-600 mb-3 text-sm",children:J.content||J.description||"No content available"}),J.resourceUrl&&E("div",{className:"mt-auto",children:J.type==="pdf"?K("a",{href:`https://edunova-back-rqxc.onrender.com/pdf/${J.filePath}`,download:J.originalFileName||`${J.title.replace(/\s+/g,"_")}.pdf`,className:"inline-flex items-center px-3 py-1 rounded text-sm bg-red-50 text-red-700 hover:bg-red-100",onClick:oe=>{oe.preventDefault();const re=document.createElement("a");re.href=`https://edunova-back-rqxc.onrender.com/pdf/${J.filePath}`,re.setAttribute("download",J.originalFileName||`${J.title.replace(/\s+/g,"_")}.pdf`),document.body.appendChild(re),re.click(),document.body.removeChild(re)},children:[E(z2,{className:"mr-1"}),"Download PDF"]}):K("a",{href:J.resourceUrl,target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center px-3 py-1 rounded text-sm ${J.type==="video"?"bg-red-50 text-red-700 hover:bg-red-100":J.type==="article"?"bg-blue-50 text-blue-700 hover:bg-blue-100":J.type==="exercise"?"bg-green-50 text-green-700 hover:bg-green-100":"bg-purple-50 text-purple-700 hover:bg-purple-100"}`,children:[E(zp,{className:"mr-1"}),J.type==="video"?"Watch Video":J.type==="article"?"Read Article":J.type==="exercise"?"Start Exercise":"View Resource"]})})]})},J._id))})]}),!i.isMoodle&&G==="Teacher"&&R.length>0&&K("div",{className:"supplementary-section mt-8",children:[E("div",{className:"section-header",children:K("h2",{className:"supplementary-title",children:[E(_0,{className:"mr-2"}),"Supplementary Resources"]})}),E("div",{className:"supplementary-grid grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:R.map(J=>K("div",{className:"supplementary-card bg-white rounded-lg shadow-md p-4 relative",children:[K("div",{className:"supplementary-content",children:[K("div",{className:"flex items-center mb-2",children:[Q(J.type),E("h4",{className:"font-semibold",children:J.title})]}),K("div",{className:"flex flex-wrap gap-2 mb-3",children:[E("span",{className:"lesson-tag bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs",children:J.type}),J.duration>0&&K("span",{className:"lesson-tag duration bg-green-100 text-green-800 px-2 py-1 rounded text-xs",children:[J.duration," min"]})]}),E("p",{className:"text-gray-600 mb-3",children:J.content||J.description||"No content available"}),J.resourceUrl&&K("a",{href:J.resourceUrl,target:"_blank",rel:"noopener noreferrer",className:"resource-link inline-flex items-center text-blue-600 hover:text-blue-800",children:[E(zp,{className:"mr-1"}),J.type==="video"?"Watch Video":J.type==="article"?"Read Article":"View Resource"]})]}),E("button",{onClick:oe=>{oe.stopPropagation(),V(J._id)},className:"delete-button absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white p-1 rounded-full",children:"🗑️"})]},J._id))})]})]})]})},pI=({existingModule:t,onClose:e})=>{const[n,r]=O.useState(t?t.title:""),[a,o]=O.useState(t?t.description:""),[i,s]=O.useState(t?t.image:null),u=ls();O.useEffect(()=>{document.title="Add Module"},[]),O.useEffect(()=>{t&&(r(t.title),o(t.description),s(t.image))},[t]);const c=async m=>{const g=m.target.files[0],y=await h(g);s(y)},f=async m=>{m.preventDefault();const g={title:n,description:a,image:i};try{t?(await tt.put(`https://edunova-back-rqxc.onrender.com/module/${t._id}`,g,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}}),u("/listModules")):(await tt.post("https://edunova-back-rqxc.onrender.com/module/add",g,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}}),u("/listModules")),e&&e()}catch(y){console.error(y),alert("Error saving module")}},h=m=>new Promise((g,y)=>{const b=new FileReader;b.readAsDataURL(m),b.onload=()=>g(b.result),b.onerror=x=>y(x)});return E(kn,{children:E("div",{className:"container",children:K("div",{className:"card",children:[E("h2",{className:"card-title",children:t?"Edit Module":"Add New Module"}),K("form",{onSubmit:f,children:[E("input",{className:"input",type:"text",placeholder:"Module Title",value:n,onChange:m=>r(m.target.value),required:!0}),E("textarea",{className:"input-textarea",placeholder:"Module Description",value:a,onChange:m=>o(m.target.value),required:!0}),E("input",{className:"input-file",label:"Image",name:"image",id:"image_upload",type:"file",accept:".jpeg, .png, .jpg",onChange:c,required:!t}),E("button",{className:"button",type:"submit",children:t?"Update Module":"Add Module"}),E("button",{type:"button",onClick:e,className:"button cancel",children:"Cancel"})]})]})})})},qse=Object.freeze(Object.defineProperty({__proto__:null,default:pI},Symbol.toStringTag,{value:"Module"}));var J0={exports:{}};/*!
  * Bootstrap v5.3.6 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Gse=J0.exports,eN;function Kse(){return eN||(eN=1,function(t,e){(function(n,r){t.exports=r()})(Gse,function(){const n=new Map,r={set(H,C,L){n.has(H)||n.set(H,new Map);const X=n.get(H);X.has(C)||X.size===0?X.set(C,L):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(X.keys())[0]}.`)},get:(H,C)=>n.has(H)&&n.get(H).get(C)||null,remove(H,C){if(!n.has(H))return;const L=n.get(H);L.delete(C),L.size===0&&n.delete(H)}},a="transitionend",o=H=>(H&&window.CSS&&window.CSS.escape&&(H=H.replace(/#([^\s"#']+)/g,(C,L)=>`#${CSS.escape(L)}`)),H),i=H=>{H.dispatchEvent(new Event(a))},s=H=>!(!H||typeof H!="object")&&(H.jquery!==void 0&&(H=H[0]),H.nodeType!==void 0),u=H=>s(H)?H.jquery?H[0]:H:typeof H=="string"&&H.length>0?document.querySelector(o(H)):null,c=H=>{if(!s(H)||H.getClientRects().length===0)return!1;const C=getComputedStyle(H).getPropertyValue("visibility")==="visible",L=H.closest("details:not([open])");if(!L)return C;if(L!==H){const X=H.closest("summary");if(X&&X.parentNode!==L||X===null)return!1}return C},f=H=>!H||H.nodeType!==Node.ELEMENT_NODE||!!H.classList.contains("disabled")||(H.disabled!==void 0?H.disabled:H.hasAttribute("disabled")&&H.getAttribute("disabled")!=="false"),h=H=>{if(!document.documentElement.attachShadow)return null;if(typeof H.getRootNode=="function"){const C=H.getRootNode();return C instanceof ShadowRoot?C:null}return H instanceof ShadowRoot?H:H.parentNode?h(H.parentNode):null},m=()=>{},g=H=>{H.offsetHeight},y=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,b=[],x=()=>document.documentElement.dir==="rtl",S=H=>{var C;C=()=>{const L=y();if(L){const X=H.NAME,ue=L.fn[X];L.fn[X]=H.jQueryInterface,L.fn[X].Constructor=H,L.fn[X].noConflict=()=>(L.fn[X]=ue,H.jQueryInterface)}},document.readyState==="loading"?(b.length||document.addEventListener("DOMContentLoaded",()=>{for(const L of b)L()}),b.push(C)):C()},R=(H,C=[],L=H)=>typeof H=="function"?H.call(...C):L,_=(H,C,L=!0)=>{if(!L)return void R(H);const X=(Se=>{if(!Se)return 0;let{transitionDuration:ke,transitionDelay:Be}=window.getComputedStyle(Se);const qe=Number.parseFloat(ke),Ke=Number.parseFloat(Be);return qe||Ke?(ke=ke.split(",")[0],Be=Be.split(",")[0],1e3*(Number.parseFloat(ke)+Number.parseFloat(Be))):0})(C)+5;let ue=!1;const ce=({target:Se})=>{Se===C&&(ue=!0,C.removeEventListener(a,ce),R(H))};C.addEventListener(a,ce),setTimeout(()=>{ue||i(C)},X)},T=(H,C,L,X)=>{const ue=H.length;let ce=H.indexOf(C);return ce===-1?!L&&X?H[ue-1]:H[0]:(ce+=L?1:-1,X&&(ce=(ce+ue)%ue),H[Math.max(0,Math.min(ce,ue-1))])},A=/[^.]*(?=\..*)\.|.*/,D=/\..*/,N=/::\d+$/,M={};let P=1;const I={mouseenter:"mouseover",mouseleave:"mouseout"},$=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function z(H,C){return C&&`${C}::${P++}`||H.uidEvent||P++}function G(H){const C=z(H);return H.uidEvent=C,M[C]=M[C]||{},M[C]}function V(H,C,L=null){return Object.values(H).find(X=>X.callable===C&&X.delegationSelector===L)}function B(H,C,L){const X=typeof C=="string",ue=X?L:C||L;let ce=Q(H);return $.has(ce)||(ce=H),[X,ue,ce]}function F(H,C,L,X,ue){if(typeof C!="string"||!H)return;let[ce,Se,ke]=B(C,L,X);C in I&&(Se=(bt=>function(St){if(!St.relatedTarget||St.relatedTarget!==St.delegateTarget&&!St.delegateTarget.contains(St.relatedTarget))return bt.call(this,St)})(Se));const Be=G(H),qe=Be[ke]||(Be[ke]={}),Ke=V(qe,Se,ce?L:null);if(Ke)return void(Ke.oneOff=Ke.oneOff&&ue);const We=z(Se,C.replace(A,"")),Nt=ce?function(ft,bt,St){return function Tt(Qt){const dn=ft.querySelectorAll(bt);for(let{target:zt}=Qt;zt&&zt!==this;zt=zt.parentNode)for(const Zt of dn)if(Zt===zt)return le(Qt,{delegateTarget:zt}),Tt.oneOff&&q.off(ft,Qt.type,bt,St),St.apply(zt,[Qt])}}(H,L,Se):function(ft,bt){return function St(Tt){return le(Tt,{delegateTarget:ft}),St.oneOff&&q.off(ft,Tt.type,bt),bt.apply(ft,[Tt])}}(H,Se);Nt.delegationSelector=ce?L:null,Nt.callable=Se,Nt.oneOff=ue,Nt.uidEvent=We,qe[We]=Nt,H.addEventListener(ke,Nt,ce)}function U(H,C,L,X,ue){const ce=V(C[L],X,ue);ce&&(H.removeEventListener(L,ce,!!ue),delete C[L][ce.uidEvent])}function W(H,C,L,X){const ue=C[L]||{};for(const[ce,Se]of Object.entries(ue))ce.includes(X)&&U(H,C,L,Se.callable,Se.delegationSelector)}function Q(H){return H=H.replace(D,""),I[H]||H}const q={on(H,C,L,X){F(H,C,L,X,!1)},one(H,C,L,X){F(H,C,L,X,!0)},off(H,C,L,X){if(typeof C!="string"||!H)return;const[ue,ce,Se]=B(C,L,X),ke=Se!==C,Be=G(H),qe=Be[Se]||{},Ke=C.startsWith(".");if(ce===void 0){if(Ke)for(const We of Object.keys(Be))W(H,Be,We,C.slice(1));for(const[We,Nt]of Object.entries(qe)){const ft=We.replace(N,"");ke&&!C.includes(ft)||U(H,Be,Se,Nt.callable,Nt.delegationSelector)}}else{if(!Object.keys(qe).length)return;U(H,Be,Se,ce,ue?L:null)}},trigger(H,C,L){if(typeof C!="string"||!H)return null;const X=y();let ue=null,ce=!0,Se=!0,ke=!1;C!==Q(C)&&X&&(ue=X.Event(C,L),X(H).trigger(ue),ce=!ue.isPropagationStopped(),Se=!ue.isImmediatePropagationStopped(),ke=ue.isDefaultPrevented());const Be=le(new Event(C,{bubbles:ce,cancelable:!0}),L);return ke&&Be.preventDefault(),Se&&H.dispatchEvent(Be),Be.defaultPrevented&&ue&&ue.preventDefault(),Be}};function le(H,C={}){for(const[L,X]of Object.entries(C))try{H[L]=X}catch{Object.defineProperty(H,L,{configurable:!0,get:()=>X})}return H}function J(H){if(H==="true")return!0;if(H==="false")return!1;if(H===Number(H).toString())return Number(H);if(H===""||H==="null")return null;if(typeof H!="string")return H;try{return JSON.parse(decodeURIComponent(H))}catch{return H}}function oe(H){return H.replace(/[A-Z]/g,C=>`-${C.toLowerCase()}`)}const re={setDataAttribute(H,C,L){H.setAttribute(`data-bs-${oe(C)}`,L)},removeDataAttribute(H,C){H.removeAttribute(`data-bs-${oe(C)}`)},getDataAttributes(H){if(!H)return{};const C={},L=Object.keys(H.dataset).filter(X=>X.startsWith("bs")&&!X.startsWith("bsConfig"));for(const X of L){let ue=X.replace(/^bs/,"");ue=ue.charAt(0).toLowerCase()+ue.slice(1),C[ue]=J(H.dataset[X])}return C},getDataAttribute:(H,C)=>J(H.getAttribute(`data-bs-${oe(C)}`))};class we{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(C){return C=this._mergeConfigObj(C),C=this._configAfterMerge(C),this._typeCheckConfig(C),C}_configAfterMerge(C){return C}_mergeConfigObj(C,L){const X=s(L)?re.getDataAttribute(L,"config"):{};return{...this.constructor.Default,...typeof X=="object"?X:{},...s(L)?re.getDataAttributes(L):{},...typeof C=="object"?C:{}}}_typeCheckConfig(C,L=this.constructor.DefaultType){for(const[ue,ce]of Object.entries(L)){const Se=C[ue],ke=s(Se)?"element":(X=Se)==null?`${X}`:Object.prototype.toString.call(X).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(ce).test(ke))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${ue}" provided type "${ke}" but expected type "${ce}".`)}var X}}class be extends we{constructor(C,L){super(),(C=u(C))&&(this._element=C,this._config=this._getConfig(L),r.set(this._element,this.constructor.DATA_KEY,this))}dispose(){r.remove(this._element,this.constructor.DATA_KEY),q.off(this._element,this.constructor.EVENT_KEY);for(const C of Object.getOwnPropertyNames(this))this[C]=null}_queueCallback(C,L,X=!0){_(C,L,X)}_getConfig(C){return C=this._mergeConfigObj(C,this._element),C=this._configAfterMerge(C),this._typeCheckConfig(C),C}static getInstance(C){return r.get(u(C),this.DATA_KEY)}static getOrCreateInstance(C,L={}){return this.getInstance(C)||new this(C,typeof L=="object"?L:null)}static get VERSION(){return"5.3.6"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(C){return`${C}${this.EVENT_KEY}`}}const Oe=H=>{let C=H.getAttribute("data-bs-target");if(!C||C==="#"){let L=H.getAttribute("href");if(!L||!L.includes("#")&&!L.startsWith("."))return null;L.includes("#")&&!L.startsWith("#")&&(L=`#${L.split("#")[1]}`),C=L&&L!=="#"?L.trim():null}return C?C.split(",").map(L=>o(L)).join(","):null},pe={find:(H,C=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(C,H)),findOne:(H,C=document.documentElement)=>Element.prototype.querySelector.call(C,H),children:(H,C)=>[].concat(...H.children).filter(L=>L.matches(C)),parents(H,C){const L=[];let X=H.parentNode.closest(C);for(;X;)L.push(X),X=X.parentNode.closest(C);return L},prev(H,C){let L=H.previousElementSibling;for(;L;){if(L.matches(C))return[L];L=L.previousElementSibling}return[]},next(H,C){let L=H.nextElementSibling;for(;L;){if(L.matches(C))return[L];L=L.nextElementSibling}return[]},focusableChildren(H){const C=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(L=>`${L}:not([tabindex^="-"])`).join(",");return this.find(C,H).filter(L=>!f(L)&&c(L))},getSelectorFromElement(H){const C=Oe(H);return C&&pe.findOne(C)?C:null},getElementFromSelector(H){const C=Oe(H);return C?pe.findOne(C):null},getMultipleElementsFromSelector(H){const C=Oe(H);return C?pe.find(C):[]}},De=(H,C="hide")=>{const L=`click.dismiss${H.EVENT_KEY}`,X=H.NAME;q.on(document,L,`[data-bs-dismiss="${X}"]`,function(ue){if(["A","AREA"].includes(this.tagName)&&ue.preventDefault(),f(this))return;const ce=pe.getElementFromSelector(this)||this.closest(`.${X}`);H.getOrCreateInstance(ce)[C]()})},Ve=".bs.alert",Pe=`close${Ve}`,ze=`closed${Ve}`;class Ce extends be{static get NAME(){return"alert"}close(){if(q.trigger(this._element,Pe).defaultPrevented)return;this._element.classList.remove("show");const C=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,C)}_destroyElement(){this._element.remove(),q.trigger(this._element,ze),this.dispose()}static jQueryInterface(C){return this.each(function(){const L=Ce.getOrCreateInstance(this);if(typeof C=="string"){if(L[C]===void 0||C.startsWith("_")||C==="constructor")throw new TypeError(`No method named "${C}"`);L[C](this)}})}}De(Ce,"close"),S(Ce);const Ie='[data-bs-toggle="button"]';class Ue extends be{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(C){return this.each(function(){const L=Ue.getOrCreateInstance(this);C==="toggle"&&L[C]()})}}q.on(document,"click.bs.button.data-api",Ie,H=>{H.preventDefault();const C=H.target.closest(Ie);Ue.getOrCreateInstance(C).toggle()}),S(Ue);const st=".bs.swipe",mt=`touchstart${st}`,Jt=`touchmove${st}`,Ht=`touchend${st}`,Ut=`pointerdown${st}`,yt=`pointerup${st}`,Vt={endCallback:null,leftCallback:null,rightCallback:null},qt={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class fe extends we{constructor(C,L){super(),this._element=C,C&&fe.isSupported()&&(this._config=this._getConfig(L),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Vt}static get DefaultType(){return qt}static get NAME(){return"swipe"}dispose(){q.off(this._element,st)}_start(C){this._supportPointerEvents?this._eventIsPointerPenTouch(C)&&(this._deltaX=C.clientX):this._deltaX=C.touches[0].clientX}_end(C){this._eventIsPointerPenTouch(C)&&(this._deltaX=C.clientX-this._deltaX),this._handleSwipe(),R(this._config.endCallback)}_move(C){this._deltaX=C.touches&&C.touches.length>1?0:C.touches[0].clientX-this._deltaX}_handleSwipe(){const C=Math.abs(this._deltaX);if(C<=40)return;const L=C/this._deltaX;this._deltaX=0,L&&R(L>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(q.on(this._element,Ut,C=>this._start(C)),q.on(this._element,yt,C=>this._end(C)),this._element.classList.add("pointer-event")):(q.on(this._element,mt,C=>this._start(C)),q.on(this._element,Jt,C=>this._move(C)),q.on(this._element,Ht,C=>this._end(C)))}_eventIsPointerPenTouch(C){return this._supportPointerEvents&&(C.pointerType==="pen"||C.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const $e=".bs.carousel",je=".data-api",Ge="ArrowLeft",Fe="ArrowRight",Le="next",Gt="prev",an="left",Qn="right",Qe=`slide${$e}`,Lt=`slid${$e}`,cn=`keydown${$e}`,Za=`mouseenter${$e}`,pi=`mouseleave${$e}`,n1=`dragstart${$e}`,mg=`load${$e}${je}`,gg=`click${$e}${je}`,Gc="carousel",mi="active",vg=".active",ah=".carousel-item",yg=vg+ah,oh={[Ge]:Qn,[Fe]:an},ih={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},bg={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class cl extends be{constructor(C,L){super(C,L),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=pe.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Gc&&this.cycle()}static get Default(){return ih}static get DefaultType(){return bg}static get NAME(){return"carousel"}next(){this._slide(Le)}nextWhenVisible(){!document.hidden&&c(this._element)&&this.next()}prev(){this._slide(Gt)}pause(){this._isSliding&&i(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?q.one(this._element,Lt,()=>this.cycle()):this.cycle())}to(C){const L=this._getItems();if(C>L.length-1||C<0)return;if(this._isSliding)return void q.one(this._element,Lt,()=>this.to(C));const X=this._getItemIndex(this._getActive());if(X===C)return;const ue=C>X?Le:Gt;this._slide(ue,L[C])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(C){return C.defaultInterval=C.interval,C}_addEventListeners(){this._config.keyboard&&q.on(this._element,cn,C=>this._keydown(C)),this._config.pause==="hover"&&(q.on(this._element,Za,()=>this.pause()),q.on(this._element,pi,()=>this._maybeEnableCycle())),this._config.touch&&fe.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const L of pe.find(".carousel-item img",this._element))q.on(L,n1,X=>X.preventDefault());const C={leftCallback:()=>this._slide(this._directionToOrder(an)),rightCallback:()=>this._slide(this._directionToOrder(Qn)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new fe(this._element,C)}_keydown(C){if(/input|textarea/i.test(C.target.tagName))return;const L=oh[C.key];L&&(C.preventDefault(),this._slide(this._directionToOrder(L)))}_getItemIndex(C){return this._getItems().indexOf(C)}_setActiveIndicatorElement(C){if(!this._indicatorsElement)return;const L=pe.findOne(vg,this._indicatorsElement);L.classList.remove(mi),L.removeAttribute("aria-current");const X=pe.findOne(`[data-bs-slide-to="${C}"]`,this._indicatorsElement);X&&(X.classList.add(mi),X.setAttribute("aria-current","true"))}_updateInterval(){const C=this._activeElement||this._getActive();if(!C)return;const L=Number.parseInt(C.getAttribute("data-bs-interval"),10);this._config.interval=L||this._config.defaultInterval}_slide(C,L=null){if(this._isSliding)return;const X=this._getActive(),ue=C===Le,ce=L||T(this._getItems(),X,ue,this._config.wrap);if(ce===X)return;const Se=this._getItemIndex(ce),ke=We=>q.trigger(this._element,We,{relatedTarget:ce,direction:this._orderToDirection(C),from:this._getItemIndex(X),to:Se});if(ke(Qe).defaultPrevented||!X||!ce)return;const Be=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(Se),this._activeElement=ce;const qe=ue?"carousel-item-start":"carousel-item-end",Ke=ue?"carousel-item-next":"carousel-item-prev";ce.classList.add(Ke),g(ce),X.classList.add(qe),ce.classList.add(qe),this._queueCallback(()=>{ce.classList.remove(qe,Ke),ce.classList.add(mi),X.classList.remove(mi,Ke,qe),this._isSliding=!1,ke(Lt)},X,this._isAnimated()),Be&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return pe.findOne(yg,this._element)}_getItems(){return pe.find(ah,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(C){return x()?C===an?Gt:Le:C===an?Le:Gt}_orderToDirection(C){return x()?C===Gt?an:Qn:C===Gt?Qn:an}static jQueryInterface(C){return this.each(function(){const L=cl.getOrCreateInstance(this,C);if(typeof C!="number"){if(typeof C=="string"){if(L[C]===void 0||C.startsWith("_")||C==="constructor")throw new TypeError(`No method named "${C}"`);L[C]()}}else L.to(C)})}}q.on(document,gg,"[data-bs-slide], [data-bs-slide-to]",function(H){const C=pe.getElementFromSelector(this);if(!C||!C.classList.contains(Gc))return;H.preventDefault();const L=cl.getOrCreateInstance(C),X=this.getAttribute("data-bs-slide-to");return X?(L.to(X),void L._maybeEnableCycle()):re.getDataAttribute(this,"slide")==="next"?(L.next(),void L._maybeEnableCycle()):(L.prev(),void L._maybeEnableCycle())}),q.on(window,mg,()=>{const H=pe.find('[data-bs-ride="carousel"]');for(const C of H)cl.getOrCreateInstance(C)}),S(cl);const Ma=".bs.collapse",Or=`show${Ma}`,ra=`shown${Ma}`,dl=`hide${Ma}`,sh=`hidden${Ma}`,r1=`click${Ma}.data-api`,lh="show",ms="collapse",gi="collapsing",uh=`:scope .${ms} .${ms}`,vi='[data-bs-toggle="collapse"]',fl={parent:null,toggle:!0},Ou={parent:"(null|element)",toggle:"boolean"};class Ja extends be{constructor(C,L){super(C,L),this._isTransitioning=!1,this._triggerArray=[];const X=pe.find(vi);for(const ue of X){const ce=pe.getSelectorFromElement(ue),Se=pe.find(ce).filter(ke=>ke===this._element);ce!==null&&Se.length&&this._triggerArray.push(ue)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return fl}static get DefaultType(){return Ou}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let C=[];if(this._config.parent&&(C=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(ue=>ue!==this._element).map(ue=>Ja.getOrCreateInstance(ue,{toggle:!1}))),C.length&&C[0]._isTransitioning||q.trigger(this._element,Or).defaultPrevented)return;for(const ue of C)ue.hide();const L=this._getDimension();this._element.classList.remove(ms),this._element.classList.add(gi),this._element.style[L]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const X=`scroll${L[0].toUpperCase()+L.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(gi),this._element.classList.add(ms,lh),this._element.style[L]="",q.trigger(this._element,ra)},this._element,!0),this._element.style[L]=`${this._element[X]}px`}hide(){if(this._isTransitioning||!this._isShown()||q.trigger(this._element,dl).defaultPrevented)return;const C=this._getDimension();this._element.style[C]=`${this._element.getBoundingClientRect()[C]}px`,g(this._element),this._element.classList.add(gi),this._element.classList.remove(ms,lh);for(const L of this._triggerArray){const X=pe.getElementFromSelector(L);X&&!this._isShown(X)&&this._addAriaAndCollapsedClass([L],!1)}this._isTransitioning=!0,this._element.style[C]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(gi),this._element.classList.add(ms),q.trigger(this._element,sh)},this._element,!0)}_isShown(C=this._element){return C.classList.contains(lh)}_configAfterMerge(C){return C.toggle=!!C.toggle,C.parent=u(C.parent),C}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const C=this._getFirstLevelChildren(vi);for(const L of C){const X=pe.getElementFromSelector(L);X&&this._addAriaAndCollapsedClass([L],this._isShown(X))}}_getFirstLevelChildren(C){const L=pe.find(uh,this._config.parent);return pe.find(C,this._config.parent).filter(X=>!L.includes(X))}_addAriaAndCollapsedClass(C,L){if(C.length)for(const X of C)X.classList.toggle("collapsed",!L),X.setAttribute("aria-expanded",L)}static jQueryInterface(C){const L={};return typeof C=="string"&&/show|hide/.test(C)&&(L.toggle=!1),this.each(function(){const X=Ja.getOrCreateInstance(this,L);if(typeof C=="string"){if(X[C]===void 0)throw new TypeError(`No method named "${C}"`);X[C]()}})}}q.on(document,r1,vi,function(H){(H.target.tagName==="A"||H.delegateTarget&&H.delegateTarget.tagName==="A")&&H.preventDefault();for(const C of pe.getMultipleElementsFromSelector(this))Ja.getOrCreateInstance(C,{toggle:!1}).toggle()}),S(Ja);var en="top",aa="bottom",oa="right",Un="left",jo="auto",hl=[en,aa,oa,Un],yi="start",gs="end",xg="clippingParents",pl="viewport",Wo="popper",yo="reference",Du=hl.reduce(function(H,C){return H.concat([C+"-"+yi,C+"-"+gs])},[]),Kc=[].concat(hl,[jo]).reduce(function(H,C){return H.concat([C,C+"-"+yi,C+"-"+gs])},[]),vs="beforeRead",Yc="read",Xc="afterRead",wg="beforeMain",ch="main",wa="afterMain",dh="beforeWrite",Sg="write",Mu="afterWrite",fh=[vs,Yc,Xc,wg,ch,wa,dh,Sg,Mu];function Sa(H){return H?(H.nodeName||"").toLowerCase():null}function _a(H){if(H==null)return window;if(H.toString()!=="[object Window]"){var C=H.ownerDocument;return C&&C.defaultView||window}return H}function fr(H){return H instanceof _a(H).Element||H instanceof Element}function ia(H){return H instanceof _a(H).HTMLElement||H instanceof HTMLElement}function Qc(H){return typeof ShadowRoot<"u"&&(H instanceof _a(H).ShadowRoot||H instanceof ShadowRoot)}const Pu={name:"applyStyles",enabled:!0,phase:"write",fn:function(H){var C=H.state;Object.keys(C.elements).forEach(function(L){var X=C.styles[L]||{},ue=C.attributes[L]||{},ce=C.elements[L];ia(ce)&&Sa(ce)&&(Object.assign(ce.style,X),Object.keys(ue).forEach(function(Se){var ke=ue[Se];ke===!1?ce.removeAttribute(Se):ce.setAttribute(Se,ke===!0?"":ke)}))})},effect:function(H){var C=H.state,L={popper:{position:C.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(C.elements.popper.style,L.popper),C.styles=L,C.elements.arrow&&Object.assign(C.elements.arrow.style,L.arrow),function(){Object.keys(C.elements).forEach(function(X){var ue=C.elements[X],ce=C.attributes[X]||{},Se=Object.keys(C.styles.hasOwnProperty(X)?C.styles[X]:L[X]).reduce(function(ke,Be){return ke[Be]="",ke},{});ia(ue)&&Sa(ue)&&(Object.assign(ue.style,Se),Object.keys(ce).forEach(function(ke){ue.removeAttribute(ke)}))})}},requires:["computeStyles"]};function zr(H){return H.split("-")[0]}var bi=Math.max,Iu=Math.min,eo=Math.round;function hh(){var H=navigator.userAgentData;return H!=null&&H.brands&&Array.isArray(H.brands)?H.brands.map(function(C){return C.brand+"/"+C.version}).join(" "):navigator.userAgent}function ph(){return!/^((?!chrome|android).)*safari/i.test(hh())}function ys(H,C,L){C===void 0&&(C=!1),L===void 0&&(L=!1);var X=H.getBoundingClientRect(),ue=1,ce=1;C&&ia(H)&&(ue=H.offsetWidth>0&&eo(X.width)/H.offsetWidth||1,ce=H.offsetHeight>0&&eo(X.height)/H.offsetHeight||1);var Se=(fr(H)?_a(H):window).visualViewport,ke=!ph()&&L,Be=(X.left+(ke&&Se?Se.offsetLeft:0))/ue,qe=(X.top+(ke&&Se?Se.offsetTop:0))/ce,Ke=X.width/ue,We=X.height/ce;return{width:Ke,height:We,top:qe,right:Be+Ke,bottom:qe+We,left:Be,x:Be,y:qe}}function Lu(H){var C=ys(H),L=H.offsetWidth,X=H.offsetHeight;return Math.abs(C.width-L)<=1&&(L=C.width),Math.abs(C.height-X)<=1&&(X=C.height),{x:H.offsetLeft,y:H.offsetTop,width:L,height:X}}function _g(H,C){var L=C.getRootNode&&C.getRootNode();if(H.contains(C))return!0;if(L&&Qc(L)){var X=C;do{if(X&&H.isSameNode(X))return!0;X=X.parentNode||X.host}while(X)}return!1}function Ho(H){return _a(H).getComputedStyle(H)}function Zc(H){return["table","td","th"].indexOf(Sa(H))>=0}function bo(H){return((fr(H)?H.ownerDocument:H.document)||window.document).documentElement}function ml(H){return Sa(H)==="html"?H:H.assignedSlot||H.parentNode||(Qc(H)?H.host:null)||bo(H)}function bs(H){return ia(H)&&Ho(H).position!=="fixed"?H.offsetParent:null}function xo(H){for(var C=_a(H),L=bs(H);L&&Zc(L)&&Ho(L).position==="static";)L=bs(L);return L&&(Sa(L)==="html"||Sa(L)==="body"&&Ho(L).position==="static")?C:L||function(X){var ue=/firefox/i.test(hh());if(/Trident/i.test(hh())&&ia(X)&&Ho(X).position==="fixed")return null;var ce=ml(X);for(Qc(ce)&&(ce=ce.host);ia(ce)&&["html","body"].indexOf(Sa(ce))<0;){var Se=Ho(ce);if(Se.transform!=="none"||Se.perspective!=="none"||Se.contain==="paint"||["transform","perspective"].indexOf(Se.willChange)!==-1||ue&&Se.willChange==="filter"||ue&&Se.filter&&Se.filter!=="none")return ce;ce=ce.parentNode}return null}(H)||C}function Jc(H){return["top","bottom"].indexOf(H)>=0?"x":"y"}function xs(H,C,L){return bi(H,Iu(C,L))}function mh(H){return Object.assign({},{top:0,right:0,bottom:0,left:0},H)}function gl(H,C){return C.reduce(function(L,X){return L[X]=H,L},{})}const wo={name:"arrow",enabled:!0,phase:"main",fn:function(H){var C,L=H.state,X=H.name,ue=H.options,ce=L.elements.arrow,Se=L.modifiersData.popperOffsets,ke=zr(L.placement),Be=Jc(ke),qe=[Un,oa].indexOf(ke)>=0?"height":"width";if(ce&&Se){var Ke=function(ut,xt){return mh(typeof(ut=typeof ut=="function"?ut(Object.assign({},xt.rects,{placement:xt.placement})):ut)!="number"?ut:gl(ut,hl))}(ue.padding,L),We=Lu(ce),Nt=Be==="y"?en:Un,ft=Be==="y"?aa:oa,bt=L.rects.reference[qe]+L.rects.reference[Be]-Se[Be]-L.rects.popper[qe],St=Se[Be]-L.rects.reference[Be],Tt=xo(ce),Qt=Tt?Be==="y"?Tt.clientHeight||0:Tt.clientWidth||0:0,dn=bt/2-St/2,zt=Ke[Nt],Zt=Qt-We[qe]-Ke[ft],Dt=Qt/2-We[qe]/2+dn,Mt=xs(zt,Dt,Zt),Ye=Be;L.modifiersData[X]=((C={})[Ye]=Mt,C.centerOffset=Mt-Dt,C)}},effect:function(H){var C=H.state,L=H.options.element,X=L===void 0?"[data-popper-arrow]":L;X!=null&&(typeof X!="string"||(X=C.elements.popper.querySelector(X)))&&_g(C.elements.popper,X)&&(C.elements.arrow=X)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function xi(H){return H.split("-")[1]}var Fu={top:"auto",right:"auto",bottom:"auto",left:"auto"};function qo(H){var C,L=H.popper,X=H.popperRect,ue=H.placement,ce=H.variation,Se=H.offsets,ke=H.position,Be=H.gpuAcceleration,qe=H.adaptive,Ke=H.roundOffsets,We=H.isFixed,Nt=Se.x,ft=Nt===void 0?0:Nt,bt=Se.y,St=bt===void 0?0:bt,Tt=typeof Ke=="function"?Ke({x:ft,y:St}):{x:ft,y:St};ft=Tt.x,St=Tt.y;var Qt=Se.hasOwnProperty("x"),dn=Se.hasOwnProperty("y"),zt=Un,Zt=en,Dt=window;if(qe){var Mt=xo(L),Ye="clientHeight",ut="clientWidth";Mt===_a(L)&&Ho(Mt=bo(L)).position!=="static"&&ke==="absolute"&&(Ye="scrollHeight",ut="scrollWidth"),(ue===en||(ue===Un||ue===oa)&&ce===gs)&&(Zt=aa,St-=(We&&Mt===Dt&&Dt.visualViewport?Dt.visualViewport.height:Mt[Ye])-X.height,St*=Be?1:-1),ue!==Un&&(ue!==en&&ue!==aa||ce!==gs)||(zt=oa,ft-=(We&&Mt===Dt&&Dt.visualViewport?Dt.visualViewport.width:Mt[ut])-X.width,ft*=Be?1:-1)}var xt,Dn=Object.assign({position:ke},qe&&Fu),pr=Ke===!0?function(wr,mr){var Dr=wr.x,Sr=wr.y,Fn=mr.devicePixelRatio||1;return{x:eo(Dr*Fn)/Fn||0,y:eo(Sr*Fn)/Fn||0}}({x:ft,y:St},_a(L)):{x:ft,y:St};return ft=pr.x,St=pr.y,Be?Object.assign({},Dn,((xt={})[Zt]=dn?"0":"",xt[zt]=Qt?"0":"",xt.transform=(Dt.devicePixelRatio||1)<=1?"translate("+ft+"px, "+St+"px)":"translate3d("+ft+"px, "+St+"px, 0)",xt)):Object.assign({},Dn,((C={})[Zt]=dn?St+"px":"",C[zt]=Qt?ft+"px":"",C.transform="",C))}const Bu={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(H){var C=H.state,L=H.options,X=L.gpuAcceleration,ue=X===void 0||X,ce=L.adaptive,Se=ce===void 0||ce,ke=L.roundOffsets,Be=ke===void 0||ke,qe={placement:zr(C.placement),variation:xi(C.placement),popper:C.elements.popper,popperRect:C.rects.popper,gpuAcceleration:ue,isFixed:C.options.strategy==="fixed"};C.modifiersData.popperOffsets!=null&&(C.styles.popper=Object.assign({},C.styles.popper,qo(Object.assign({},qe,{offsets:C.modifiersData.popperOffsets,position:C.options.strategy,adaptive:Se,roundOffsets:Be})))),C.modifiersData.arrow!=null&&(C.styles.arrow=Object.assign({},C.styles.arrow,qo(Object.assign({},qe,{offsets:C.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Be})))),C.attributes.popper=Object.assign({},C.attributes.popper,{"data-popper-placement":C.placement})},data:{}};var ws={passive:!0};const ed={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(H){var C=H.state,L=H.instance,X=H.options,ue=X.scroll,ce=ue===void 0||ue,Se=X.resize,ke=Se===void 0||Se,Be=_a(C.elements.popper),qe=[].concat(C.scrollParents.reference,C.scrollParents.popper);return ce&&qe.forEach(function(Ke){Ke.addEventListener("scroll",L.update,ws)}),ke&&Be.addEventListener("resize",L.update,ws),function(){ce&&qe.forEach(function(Ke){Ke.removeEventListener("scroll",L.update,ws)}),ke&&Be.removeEventListener("resize",L.update,ws)}},data:{}};var td={left:"right",right:"left",bottom:"top",top:"bottom"};function Ss(H){return H.replace(/left|right|bottom|top/g,function(C){return td[C]})}var Cg={start:"end",end:"start"};function $r(H){return H.replace(/start|end/g,function(C){return Cg[C]})}function Go(H){var C=_a(H);return{scrollLeft:C.pageXOffset,scrollTop:C.pageYOffset}}function vl(H){return ys(bo(H)).left+Go(H).scrollLeft}function _s(H){var C=Ho(H),L=C.overflow,X=C.overflowX,ue=C.overflowY;return/auto|scroll|overlay|hidden/.test(L+ue+X)}function Eg(H){return["html","body","#document"].indexOf(Sa(H))>=0?H.ownerDocument.body:ia(H)&&_s(H)?H:Eg(ml(H))}function Cs(H,C){var L;C===void 0&&(C=[]);var X=Eg(H),ue=X===((L=H.ownerDocument)==null?void 0:L.body),ce=_a(X),Se=ue?[ce].concat(ce.visualViewport||[],_s(X)?X:[]):X,ke=C.concat(Se);return ue?ke:ke.concat(Cs(ml(Se)))}function zu(H){return Object.assign({},H,{left:H.x,top:H.y,right:H.x+H.width,bottom:H.y+H.height})}function yl(H,C,L){return C===pl?zu(function(X,ue){var ce=_a(X),Se=bo(X),ke=ce.visualViewport,Be=Se.clientWidth,qe=Se.clientHeight,Ke=0,We=0;if(ke){Be=ke.width,qe=ke.height;var Nt=ph();(Nt||!Nt&&ue==="fixed")&&(Ke=ke.offsetLeft,We=ke.offsetTop)}return{width:Be,height:qe,x:Ke+vl(X),y:We}}(H,L)):fr(C)?function(X,ue){var ce=ys(X,!1,ue==="fixed");return ce.top=ce.top+X.clientTop,ce.left=ce.left+X.clientLeft,ce.bottom=ce.top+X.clientHeight,ce.right=ce.left+X.clientWidth,ce.width=X.clientWidth,ce.height=X.clientHeight,ce.x=ce.left,ce.y=ce.top,ce}(C,L):zu(function(X){var ue,ce=bo(X),Se=Go(X),ke=(ue=X.ownerDocument)==null?void 0:ue.body,Be=bi(ce.scrollWidth,ce.clientWidth,ke?ke.scrollWidth:0,ke?ke.clientWidth:0),qe=bi(ce.scrollHeight,ce.clientHeight,ke?ke.scrollHeight:0,ke?ke.clientHeight:0),Ke=-Se.scrollLeft+vl(X),We=-Se.scrollTop;return Ho(ke||ce).direction==="rtl"&&(Ke+=bi(ce.clientWidth,ke?ke.clientWidth:0)-Be),{width:Be,height:qe,x:Ke,y:We}}(bo(H)))}function $u(H){var C,L=H.reference,X=H.element,ue=H.placement,ce=ue?zr(ue):null,Se=ue?xi(ue):null,ke=L.x+L.width/2-X.width/2,Be=L.y+L.height/2-X.height/2;switch(ce){case en:C={x:ke,y:L.y-X.height};break;case aa:C={x:ke,y:L.y+L.height};break;case oa:C={x:L.x+L.width,y:Be};break;case Un:C={x:L.x-X.width,y:Be};break;default:C={x:L.x,y:L.y}}var qe=ce?Jc(ce):null;if(qe!=null){var Ke=qe==="y"?"height":"width";switch(Se){case yi:C[qe]=C[qe]-(L[Ke]/2-X[Ke]/2);break;case gs:C[qe]=C[qe]+(L[Ke]/2-X[Ke]/2)}}return C}function Es(H,C){C===void 0&&(C={});var L=C,X=L.placement,ue=X===void 0?H.placement:X,ce=L.strategy,Se=ce===void 0?H.strategy:ce,ke=L.boundary,Be=ke===void 0?xg:ke,qe=L.rootBoundary,Ke=qe===void 0?pl:qe,We=L.elementContext,Nt=We===void 0?Wo:We,ft=L.altBoundary,bt=ft!==void 0&&ft,St=L.padding,Tt=St===void 0?0:St,Qt=mh(typeof Tt!="number"?Tt:gl(Tt,hl)),dn=Nt===Wo?yo:Wo,zt=H.rects.popper,Zt=H.elements[bt?dn:Nt],Dt=function(mr,Dr,Sr,Fn){var on=Dr==="clippingParents"?function(mn){var jr=Cs(ml(mn)),ua=["absolute","fixed"].indexOf(Ho(mn).position)>=0&&ia(mn)?xo(mn):mn;return fr(ua)?jr.filter(function(Co){return fr(Co)&&_g(Co,ua)&&Sa(Co)!=="body"}):[]}(mr):[].concat(Dr),Fa=[].concat(on,[Sr]),Oi=Fa[0],sr=Fa.reduce(function(mn,jr){var ua=yl(mr,jr,Fn);return mn.top=bi(ua.top,mn.top),mn.right=Iu(ua.right,mn.right),mn.bottom=Iu(ua.bottom,mn.bottom),mn.left=bi(ua.left,mn.left),mn},yl(mr,Oi,Fn));return sr.width=sr.right-sr.left,sr.height=sr.bottom-sr.top,sr.x=sr.left,sr.y=sr.top,sr}(fr(Zt)?Zt:Zt.contextElement||bo(H.elements.popper),Be,Ke,Se),Mt=ys(H.elements.reference),Ye=$u({reference:Mt,element:zt,placement:ue}),ut=zu(Object.assign({},zt,Ye)),xt=Nt===Wo?ut:Mt,Dn={top:Dt.top-xt.top+Qt.top,bottom:xt.bottom-Dt.bottom+Qt.bottom,left:Dt.left-xt.left+Qt.left,right:xt.right-Dt.right+Qt.right},pr=H.modifiersData.offset;if(Nt===Wo&&pr){var wr=pr[ue];Object.keys(Dn).forEach(function(mr){var Dr=[oa,aa].indexOf(mr)>=0?1:-1,Sr=[en,aa].indexOf(mr)>=0?"y":"x";Dn[mr]+=wr[Sr]*Dr})}return Dn}function a1(H,C){C===void 0&&(C={});var L=C,X=L.placement,ue=L.boundary,ce=L.rootBoundary,Se=L.padding,ke=L.flipVariations,Be=L.allowedAutoPlacements,qe=Be===void 0?Kc:Be,Ke=xi(X),We=Ke?ke?Du:Du.filter(function(bt){return xi(bt)===Ke}):hl,Nt=We.filter(function(bt){return qe.indexOf(bt)>=0});Nt.length===0&&(Nt=We);var ft=Nt.reduce(function(bt,St){return bt[St]=Es(H,{placement:St,boundary:ue,rootBoundary:ce,padding:Se})[zr(St)],bt},{});return Object.keys(ft).sort(function(bt,St){return ft[bt]-ft[St]})}const Tg={name:"flip",enabled:!0,phase:"main",fn:function(H){var C=H.state,L=H.options,X=H.name;if(!C.modifiersData[X]._skip){for(var ue=L.mainAxis,ce=ue===void 0||ue,Se=L.altAxis,ke=Se===void 0||Se,Be=L.fallbackPlacements,qe=L.padding,Ke=L.boundary,We=L.rootBoundary,Nt=L.altBoundary,ft=L.flipVariations,bt=ft===void 0||ft,St=L.allowedAutoPlacements,Tt=C.options.placement,Qt=zr(Tt),dn=Be||(Qt!==Tt&&bt?function(mn){if(zr(mn)===jo)return[];var jr=Ss(mn);return[$r(mn),jr,$r(jr)]}(Tt):[Ss(Tt)]),zt=[Tt].concat(dn).reduce(function(mn,jr){return mn.concat(zr(jr)===jo?a1(C,{placement:jr,boundary:Ke,rootBoundary:We,padding:qe,flipVariations:bt,allowedAutoPlacements:St}):jr)},[]),Zt=C.rects.reference,Dt=C.rects.popper,Mt=new Map,Ye=!0,ut=zt[0],xt=0;xt<zt.length;xt++){var Dn=zt[xt],pr=zr(Dn),wr=xi(Dn)===yi,mr=[en,aa].indexOf(pr)>=0,Dr=mr?"width":"height",Sr=Es(C,{placement:Dn,boundary:Ke,rootBoundary:We,altBoundary:Nt,padding:qe}),Fn=mr?wr?oa:Un:wr?aa:en;Zt[Dr]>Dt[Dr]&&(Fn=Ss(Fn));var on=Ss(Fn),Fa=[];if(ce&&Fa.push(Sr[pr]<=0),ke&&Fa.push(Sr[Fn]<=0,Sr[on]<=0),Fa.every(function(mn){return mn})){ut=Dn,Ye=!1;break}Mt.set(Dn,Fa)}if(Ye)for(var Oi=function(mn){var jr=zt.find(function(ua){var Co=Mt.get(ua);if(Co)return Co.slice(0,mn).every(function(Dl){return Dl})});if(jr)return ut=jr,"break"},sr=bt?3:1;sr>0&&Oi(sr)!=="break";sr--);C.placement!==ut&&(C.modifiersData[X]._skip=!0,C.placement=ut,C.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Rg(H,C,L){return L===void 0&&(L={x:0,y:0}),{top:H.top-C.height-L.y,right:H.right-C.width+L.x,bottom:H.bottom-C.height+L.y,left:H.left-C.width-L.x}}function nd(H){return[en,oa,aa,Un].some(function(C){return H[C]>=0})}const Ag={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(H){var C=H.state,L=H.name,X=C.rects.reference,ue=C.rects.popper,ce=C.modifiersData.preventOverflow,Se=Es(C,{elementContext:"reference"}),ke=Es(C,{altBoundary:!0}),Be=Rg(Se,X),qe=Rg(ke,ue,ce),Ke=nd(Be),We=nd(qe);C.modifiersData[L]={referenceClippingOffsets:Be,popperEscapeOffsets:qe,isReferenceHidden:Ke,hasPopperEscaped:We},C.attributes.popper=Object.assign({},C.attributes.popper,{"data-popper-reference-hidden":Ke,"data-popper-escaped":We})}},kg={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(H){var C=H.state,L=H.options,X=H.name,ue=L.offset,ce=ue===void 0?[0,0]:ue,Se=Kc.reduce(function(Ke,We){return Ke[We]=function(Nt,ft,bt){var St=zr(Nt),Tt=[Un,en].indexOf(St)>=0?-1:1,Qt=typeof bt=="function"?bt(Object.assign({},ft,{placement:Nt})):bt,dn=Qt[0],zt=Qt[1];return dn=dn||0,zt=(zt||0)*Tt,[Un,oa].indexOf(St)>=0?{x:zt,y:dn}:{x:dn,y:zt}}(We,C.rects,ce),Ke},{}),ke=Se[C.placement],Be=ke.x,qe=ke.y;C.modifiersData.popperOffsets!=null&&(C.modifiersData.popperOffsets.x+=Be,C.modifiersData.popperOffsets.y+=qe),C.modifiersData[X]=Se}},gh={name:"popperOffsets",enabled:!0,phase:"read",fn:function(H){var C=H.state,L=H.name;C.modifiersData[L]=$u({reference:C.rects.reference,element:C.rects.popper,placement:C.placement})},data:{}},Ng={name:"preventOverflow",enabled:!0,phase:"main",fn:function(H){var C=H.state,L=H.options,X=H.name,ue=L.mainAxis,ce=ue===void 0||ue,Se=L.altAxis,ke=Se!==void 0&&Se,Be=L.boundary,qe=L.rootBoundary,Ke=L.altBoundary,We=L.padding,Nt=L.tether,ft=Nt===void 0||Nt,bt=L.tetherOffset,St=bt===void 0?0:bt,Tt=Es(C,{boundary:Be,rootBoundary:qe,padding:We,altBoundary:Ke}),Qt=zr(C.placement),dn=xi(C.placement),zt=!dn,Zt=Jc(Qt),Dt=Zt==="x"?"y":"x",Mt=C.modifiersData.popperOffsets,Ye=C.rects.reference,ut=C.rects.popper,xt=typeof St=="function"?St(Object.assign({},C.rects,{placement:C.placement})):St,Dn=typeof xt=="number"?{mainAxis:xt,altAxis:xt}:Object.assign({mainAxis:0,altAxis:0},xt),pr=C.modifiersData.offset?C.modifiersData.offset[C.placement]:null,wr={x:0,y:0};if(Mt){if(ce){var mr,Dr=Zt==="y"?en:Un,Sr=Zt==="y"?aa:oa,Fn=Zt==="y"?"height":"width",on=Mt[Zt],Fa=on+Tt[Dr],Oi=on-Tt[Sr],sr=ft?-ut[Fn]/2:0,mn=dn===yi?Ye[Fn]:ut[Fn],jr=dn===yi?-ut[Fn]:-Ye[Fn],ua=C.elements.arrow,Co=ft&&ua?Lu(ua):{width:0,height:0},Dl=C.modifiersData["arrow#persistent"]?C.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Wr=Dl[Dr],jn=Dl[Sr],Ml=xs(0,Ye[Fn],Co[Fn]),Xu=zt?Ye[Fn]/2-sr-Ml-Wr-Dn.mainAxis:mn-Ml-Wr-Dn.mainAxis,md=zt?-Ye[Fn]/2+sr+Ml+jn+Dn.mainAxis:jr+Ml+jn+Dn.mainAxis,Qu=C.elements.arrow&&xo(C.elements.arrow),ti=Qu?Zt==="y"?Qu.clientTop||0:Qu.clientLeft||0:0,Zu=(mr=pr==null?void 0:pr[Zt])!=null?mr:0,Wh=on+md-Zu,gd=xs(ft?Iu(Fa,on+Xu-Zu-ti):Fa,on,ft?bi(Oi,Wh):Oi);Mt[Zt]=gd,wr[Zt]=gd-on}if(ke){var Hh,fv=Zt==="x"?en:Un,hv=Zt==="x"?aa:oa,Di=Mt[Dt],Ju=Dt==="y"?"height":"width",qh=Di+Tt[fv],vd=Di-Tt[hv],yd=[en,Un].indexOf(Qt)!==-1,pv=(Hh=pr==null?void 0:pr[Dt])!=null?Hh:0,Gh=yd?qh:Di-Ye[Ju]-ut[Ju]-pv+Dn.altAxis,Kh=yd?Di+Ye[Ju]+ut[Ju]-pv-Dn.altAxis:vd,Yh=ft&&yd?function(Xh,mv,bd){var Qh=xs(Xh,mv,bd);return Qh>bd?bd:Qh}(Gh,Di,Kh):xs(ft?Gh:qh,Di,ft?Kh:vd);Mt[Dt]=Yh,wr[Dt]=Yh-Di}C.modifiersData[X]=wr}},requiresIfExists:["offset"]};function o1(H,C,L){L===void 0&&(L=!1);var X,ue,ce=ia(C),Se=ia(C)&&function(We){var Nt=We.getBoundingClientRect(),ft=eo(Nt.width)/We.offsetWidth||1,bt=eo(Nt.height)/We.offsetHeight||1;return ft!==1||bt!==1}(C),ke=bo(C),Be=ys(H,Se,L),qe={scrollLeft:0,scrollTop:0},Ke={x:0,y:0};return(ce||!ce&&!L)&&((Sa(C)!=="body"||_s(ke))&&(qe=(X=C)!==_a(X)&&ia(X)?{scrollLeft:(ue=X).scrollLeft,scrollTop:ue.scrollTop}:Go(X)),ia(C)?((Ke=ys(C,!0)).x+=C.clientLeft,Ke.y+=C.clientTop):ke&&(Ke.x=vl(ke))),{x:Be.left+qe.scrollLeft-Ke.x,y:Be.top+qe.scrollTop-Ke.y,width:Be.width,height:Be.height}}function Og(H){var C=new Map,L=new Set,X=[];function ue(ce){L.add(ce.name),[].concat(ce.requires||[],ce.requiresIfExists||[]).forEach(function(Se){if(!L.has(Se)){var ke=C.get(Se);ke&&ue(ke)}}),X.push(ce)}return H.forEach(function(ce){C.set(ce.name,ce)}),H.forEach(function(ce){L.has(ce.name)||ue(ce)}),X}var Dg={placement:"bottom",modifiers:[],strategy:"absolute"};function Mg(){for(var H=arguments.length,C=new Array(H),L=0;L<H;L++)C[L]=arguments[L];return!C.some(function(X){return!(X&&typeof X.getBoundingClientRect=="function")})}function rd(H){H===void 0&&(H={});var C=H,L=C.defaultModifiers,X=L===void 0?[]:L,ue=C.defaultOptions,ce=ue===void 0?Dg:ue;return function(Se,ke,Be){Be===void 0&&(Be=ce);var qe,Ke,We={placement:"bottom",orderedModifiers:[],options:Object.assign({},Dg,ce),modifiersData:{},elements:{reference:Se,popper:ke},attributes:{},styles:{}},Nt=[],ft=!1,bt={state:We,setOptions:function(Tt){var Qt=typeof Tt=="function"?Tt(We.options):Tt;St(),We.options=Object.assign({},ce,We.options,Qt),We.scrollParents={reference:fr(Se)?Cs(Se):Se.contextElement?Cs(Se.contextElement):[],popper:Cs(ke)};var dn,zt,Zt=function(Dt){var Mt=Og(Dt);return fh.reduce(function(Ye,ut){return Ye.concat(Mt.filter(function(xt){return xt.phase===ut}))},[])}((dn=[].concat(X,We.options.modifiers),zt=dn.reduce(function(Dt,Mt){var Ye=Dt[Mt.name];return Dt[Mt.name]=Ye?Object.assign({},Ye,Mt,{options:Object.assign({},Ye.options,Mt.options),data:Object.assign({},Ye.data,Mt.data)}):Mt,Dt},{}),Object.keys(zt).map(function(Dt){return zt[Dt]})));return We.orderedModifiers=Zt.filter(function(Dt){return Dt.enabled}),We.orderedModifiers.forEach(function(Dt){var Mt=Dt.name,Ye=Dt.options,ut=Ye===void 0?{}:Ye,xt=Dt.effect;if(typeof xt=="function"){var Dn=xt({state:We,name:Mt,instance:bt,options:ut});Nt.push(Dn||function(){})}}),bt.update()},forceUpdate:function(){if(!ft){var Tt=We.elements,Qt=Tt.reference,dn=Tt.popper;if(Mg(Qt,dn)){We.rects={reference:o1(Qt,xo(dn),We.options.strategy==="fixed"),popper:Lu(dn)},We.reset=!1,We.placement=We.options.placement,We.orderedModifiers.forEach(function(xt){return We.modifiersData[xt.name]=Object.assign({},xt.data)});for(var zt=0;zt<We.orderedModifiers.length;zt++)if(We.reset!==!0){var Zt=We.orderedModifiers[zt],Dt=Zt.fn,Mt=Zt.options,Ye=Mt===void 0?{}:Mt,ut=Zt.name;typeof Dt=="function"&&(We=Dt({state:We,options:Ye,name:ut,instance:bt})||We)}else We.reset=!1,zt=-1}}},update:(qe=function(){return new Promise(function(Tt){bt.forceUpdate(),Tt(We)})},function(){return Ke||(Ke=new Promise(function(Tt){Promise.resolve().then(function(){Ke=void 0,Tt(qe())})})),Ke}),destroy:function(){St(),ft=!0}};if(!Mg(Se,ke))return bt;function St(){Nt.forEach(function(Tt){return Tt()}),Nt=[]}return bt.setOptions(Be).then(function(Tt){!ft&&Be.onFirstUpdate&&Be.onFirstUpdate(Tt)}),bt}}var i1=rd(),vh=rd({defaultModifiers:[ed,gh,Bu,Pu]}),yh=rd({defaultModifiers:[ed,gh,Bu,Pu,kg,Tg,Ng,wo,Ag]});const Pg=Object.freeze(Object.defineProperty({__proto__:null,afterMain:wa,afterRead:Xc,afterWrite:Mu,applyStyles:Pu,arrow:wo,auto:jo,basePlacements:hl,beforeMain:wg,beforeRead:vs,beforeWrite:dh,bottom:aa,clippingParents:xg,computeStyles:Bu,createPopper:yh,createPopperBase:i1,createPopperLite:vh,detectOverflow:Es,end:gs,eventListeners:ed,flip:Tg,hide:Ag,left:Un,main:ch,modifierPhases:fh,offset:kg,placements:Kc,popper:Wo,popperGenerator:rd,popperOffsets:gh,preventOverflow:Ng,read:Yc,reference:yo,right:oa,start:yi,top:en,variationPlacements:Du,viewport:pl,write:Sg},Symbol.toStringTag,{value:"Module"})),Ig="dropdown",wi=".bs.dropdown",bh=".data-api",s1="ArrowUp",Lg="ArrowDown",l1=`hide${wi}`,u1=`hidden${wi}`,c1=`show${wi}`,d1=`shown${wi}`,Fg=`click${wi}${bh}`,Bg=`keydown${wi}${bh}`,xh=`keyup${wi}${bh}`,So="show",Ts='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',zg=`${Ts}.${So}`,Uu=".dropdown-menu",$g=x()?"top-end":"top-start",Ug=x()?"top-start":"top-end",Vg=x()?"bottom-end":"bottom-start",bl=x()?"bottom-start":"bottom-end",f1=x()?"left-start":"right-start",h1=x()?"right-start":"left-start",p1={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},jg={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Pa extends be{constructor(C,L){super(C,L),this._popper=null,this._parent=this._element.parentNode,this._menu=pe.next(this._element,Uu)[0]||pe.prev(this._element,Uu)[0]||pe.findOne(Uu,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return p1}static get DefaultType(){return jg}static get NAME(){return Ig}toggle(){return this._isShown()?this.hide():this.show()}show(){if(f(this._element)||this._isShown())return;const C={relatedTarget:this._element};if(!q.trigger(this._element,c1,C).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const L of[].concat(...document.body.children))q.on(L,"mouseover",m);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(So),this._element.classList.add(So),q.trigger(this._element,d1,C)}}hide(){if(f(this._element)||!this._isShown())return;const C={relatedTarget:this._element};this._completeHide(C)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(C){if(!q.trigger(this._element,l1,C).defaultPrevented){if("ontouchstart"in document.documentElement)for(const L of[].concat(...document.body.children))q.off(L,"mouseover",m);this._popper&&this._popper.destroy(),this._menu.classList.remove(So),this._element.classList.remove(So),this._element.setAttribute("aria-expanded","false"),re.removeDataAttribute(this._menu,"popper"),q.trigger(this._element,u1,C),this._element.focus()}}_getConfig(C){if(typeof(C=super._getConfig(C)).reference=="object"&&!s(C.reference)&&typeof C.reference.getBoundingClientRect!="function")throw new TypeError(`${Ig.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return C}_createPopper(){if(Pg===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let C=this._element;this._config.reference==="parent"?C=this._parent:s(this._config.reference)?C=u(this._config.reference):typeof this._config.reference=="object"&&(C=this._config.reference);const L=this._getPopperConfig();this._popper=yh(C,this._menu,L)}_isShown(){return this._menu.classList.contains(So)}_getPlacement(){const C=this._parent;if(C.classList.contains("dropend"))return f1;if(C.classList.contains("dropstart"))return h1;if(C.classList.contains("dropup-center"))return"top";if(C.classList.contains("dropdown-center"))return"bottom";const L=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return C.classList.contains("dropup")?L?Ug:$g:L?bl:Vg}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:C}=this._config;return typeof C=="string"?C.split(",").map(L=>Number.parseInt(L,10)):typeof C=="function"?L=>C(L,this._element):C}_getPopperConfig(){const C={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(re.setDataAttribute(this._menu,"popper","static"),C.modifiers=[{name:"applyStyles",enabled:!1}]),{...C,...R(this._config.popperConfig,[void 0,C])}}_selectMenuItem({key:C,target:L}){const X=pe.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(ue=>c(ue));X.length&&T(X,L,C===Lg,!X.includes(L)).focus()}static jQueryInterface(C){return this.each(function(){const L=Pa.getOrCreateInstance(this,C);if(typeof C=="string"){if(L[C]===void 0)throw new TypeError(`No method named "${C}"`);L[C]()}})}static clearMenus(C){if(C.button===2||C.type==="keyup"&&C.key!=="Tab")return;const L=pe.find(zg);for(const X of L){const ue=Pa.getInstance(X);if(!ue||ue._config.autoClose===!1)continue;const ce=C.composedPath(),Se=ce.includes(ue._menu);if(ce.includes(ue._element)||ue._config.autoClose==="inside"&&!Se||ue._config.autoClose==="outside"&&Se||ue._menu.contains(C.target)&&(C.type==="keyup"&&C.key==="Tab"||/input|select|option|textarea|form/i.test(C.target.tagName)))continue;const ke={relatedTarget:ue._element};C.type==="click"&&(ke.clickEvent=C),ue._completeHide(ke)}}static dataApiKeydownHandler(C){const L=/input|textarea/i.test(C.target.tagName),X=C.key==="Escape",ue=[s1,Lg].includes(C.key);if(!ue&&!X||L&&!X)return;C.preventDefault();const ce=this.matches(Ts)?this:pe.prev(this,Ts)[0]||pe.next(this,Ts)[0]||pe.findOne(Ts,C.delegateTarget.parentNode),Se=Pa.getOrCreateInstance(ce);if(ue)return C.stopPropagation(),Se.show(),void Se._selectMenuItem(C);Se._isShown()&&(C.stopPropagation(),Se.hide(),ce.focus())}}q.on(document,Bg,Ts,Pa.dataApiKeydownHandler),q.on(document,Bg,Uu,Pa.dataApiKeydownHandler),q.on(document,Fg,Pa.clearMenus),q.on(document,xh,Pa.clearMenus),q.on(document,Fg,Ts,function(H){H.preventDefault(),Pa.getOrCreateInstance(this).toggle()}),S(Pa);const xl="backdrop",wl="show",Wg=`mousedown.bs.${xl}`,ad={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Hg={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class wh extends we{constructor(C){super(),this._config=this._getConfig(C),this._isAppended=!1,this._element=null}static get Default(){return ad}static get DefaultType(){return Hg}static get NAME(){return xl}show(C){if(!this._config.isVisible)return void R(C);this._append();const L=this._getElement();this._config.isAnimated&&g(L),L.classList.add(wl),this._emulateAnimation(()=>{R(C)})}hide(C){this._config.isVisible?(this._getElement().classList.remove(wl),this._emulateAnimation(()=>{this.dispose(),R(C)})):R(C)}dispose(){this._isAppended&&(q.off(this._element,Wg),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const C=document.createElement("div");C.className=this._config.className,this._config.isAnimated&&C.classList.add("fade"),this._element=C}return this._element}_configAfterMerge(C){return C.rootElement=u(C.rootElement),C}_append(){if(this._isAppended)return;const C=this._getElement();this._config.rootElement.append(C),q.on(C,Wg,()=>{R(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(C){_(C,this._getElement(),this._config.isAnimated)}}const Sl=".bs.focustrap",Sh=`focusin${Sl}`,qg=`keydown.tab${Sl}`,_h="backward",Gg={autofocus:!0,trapElement:null},m1={autofocus:"boolean",trapElement:"element"};class Kg extends we{constructor(C){super(),this._config=this._getConfig(C),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Gg}static get DefaultType(){return m1}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),q.off(document,Sl),q.on(document,Sh,C=>this._handleFocusin(C)),q.on(document,qg,C=>this._handleKeydown(C)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,q.off(document,Sl))}_handleFocusin(C){const{trapElement:L}=this._config;if(C.target===document||C.target===L||L.contains(C.target))return;const X=pe.focusableChildren(L);X.length===0?L.focus():this._lastTabNavDirection===_h?X[X.length-1].focus():X[0].focus()}_handleKeydown(C){C.key==="Tab"&&(this._lastTabNavDirection=C.shiftKey?_h:"forward")}}const Yg=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Xg=".sticky-top",od="padding-right",sa="margin-right";class Rs{constructor(){this._element=document.body}getWidth(){const C=document.documentElement.clientWidth;return Math.abs(window.innerWidth-C)}hide(){const C=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,od,L=>L+C),this._setElementAttributes(Yg,od,L=>L+C),this._setElementAttributes(Xg,sa,L=>L-C)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,od),this._resetElementAttributes(Yg,od),this._resetElementAttributes(Xg,sa)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(C,L,X){const ue=this.getWidth();this._applyManipulationCallback(C,ce=>{if(ce!==this._element&&window.innerWidth>ce.clientWidth+ue)return;this._saveInitialAttribute(ce,L);const Se=window.getComputedStyle(ce).getPropertyValue(L);ce.style.setProperty(L,`${X(Number.parseFloat(Se))}px`)})}_saveInitialAttribute(C,L){const X=C.style.getPropertyValue(L);X&&re.setDataAttribute(C,L,X)}_resetElementAttributes(C,L){this._applyManipulationCallback(C,X=>{const ue=re.getDataAttribute(X,L);ue!==null?(re.removeDataAttribute(X,L),X.style.setProperty(L,ue)):X.style.removeProperty(L)})}_applyManipulationCallback(C,L){if(s(C))L(C);else for(const X of pe.find(C,this._element))L(X)}}const Ca=".bs.modal",Qg=`hide${Ca}`,Zg=`hidePrevented${Ca}`,Ch=`hidden${Ca}`,id=`show${Ca}`,g1=`shown${Ca}`,_l=`resize${Ca}`,Eh=`click.dismiss${Ca}`,Vu=`mousedown.dismiss${Ca}`,Th=`keydown.dismiss${Ca}`,Jg=`click${Ca}.data-api`,Si="modal-open",As="show",ju="modal-static",ev={backdrop:!0,focus:!0,keyboard:!0},ks={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class _i extends be{constructor(C,L){super(C,L),this._dialog=pe.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Rs,this._addEventListeners()}static get Default(){return ev}static get DefaultType(){return ks}static get NAME(){return"modal"}toggle(C){return this._isShown?this.hide():this.show(C)}show(C){this._isShown||this._isTransitioning||q.trigger(this._element,id,{relatedTarget:C}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Si),this._adjustDialog(),this._backdrop.show(()=>this._showElement(C)))}hide(){this._isShown&&!this._isTransitioning&&(q.trigger(this._element,Qg).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(As),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){q.off(window,Ca),q.off(this._dialog,Ca),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new wh({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Kg({trapElement:this._element})}_showElement(C){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const L=pe.findOne(".modal-body",this._dialog);L&&(L.scrollTop=0),g(this._element),this._element.classList.add(As),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,q.trigger(this._element,g1,{relatedTarget:C})},this._dialog,this._isAnimated())}_addEventListeners(){q.on(this._element,Th,C=>{C.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),q.on(window,_l,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),q.on(this._element,Vu,C=>{q.one(this._element,Eh,L=>{this._element===C.target&&this._element===L.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Si),this._resetAdjustments(),this._scrollBar.reset(),q.trigger(this._element,Ch)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(q.trigger(this._element,Zg).defaultPrevented)return;const C=this._element.scrollHeight>document.documentElement.clientHeight,L=this._element.style.overflowY;L==="hidden"||this._element.classList.contains(ju)||(C||(this._element.style.overflowY="hidden"),this._element.classList.add(ju),this._queueCallback(()=>{this._element.classList.remove(ju),this._queueCallback(()=>{this._element.style.overflowY=L},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const C=this._element.scrollHeight>document.documentElement.clientHeight,L=this._scrollBar.getWidth(),X=L>0;if(X&&!C){const ue=x()?"paddingLeft":"paddingRight";this._element.style[ue]=`${L}px`}if(!X&&C){const ue=x()?"paddingRight":"paddingLeft";this._element.style[ue]=`${L}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(C,L){return this.each(function(){const X=_i.getOrCreateInstance(this,C);if(typeof C=="string"){if(X[C]===void 0)throw new TypeError(`No method named "${C}"`);X[C](L)}})}}q.on(document,Jg,'[data-bs-toggle="modal"]',function(H){const C=pe.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&H.preventDefault(),q.one(C,id,X=>{X.defaultPrevented||q.one(C,Ch,()=>{c(this)&&this.focus()})});const L=pe.findOne(".modal.show");L&&_i.getInstance(L).hide(),_i.getOrCreateInstance(C).toggle(this)}),De(_i),S(_i);const _o=".bs.offcanvas",Rh=".data-api",v1=`load${_o}${Rh}`,tv="show",nv="showing",Ah="hiding",kh=".offcanvas.show",Nh=`show${_o}`,to=`shown${_o}`,rv=`hide${_o}`,Ea=`hidePrevented${_o}`,Ta=`hidden${_o}`,Cl=`resize${_o}`,Oh=`click${_o}${Rh}`,sd=`keydown.dismiss${_o}`,ld={backdrop:!0,keyboard:!0,scroll:!1},Dh={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class la extends be{constructor(C,L){super(C,L),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return ld}static get DefaultType(){return Dh}static get NAME(){return"offcanvas"}toggle(C){return this._isShown?this.hide():this.show(C)}show(C){this._isShown||q.trigger(this._element,Nh,{relatedTarget:C}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Rs().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(nv),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(tv),this._element.classList.remove(nv),q.trigger(this._element,to,{relatedTarget:C})},this._element,!0))}hide(){this._isShown&&(q.trigger(this._element,rv).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Ah),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(tv,Ah),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Rs().reset(),q.trigger(this._element,Ta)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const C=!!this._config.backdrop;return new wh({className:"offcanvas-backdrop",isVisible:C,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:C?()=>{this._config.backdrop!=="static"?this.hide():q.trigger(this._element,Ea)}:null})}_initializeFocusTrap(){return new Kg({trapElement:this._element})}_addEventListeners(){q.on(this._element,sd,C=>{C.key==="Escape"&&(this._config.keyboard?this.hide():q.trigger(this._element,Ea))})}static jQueryInterface(C){return this.each(function(){const L=la.getOrCreateInstance(this,C);if(typeof C=="string"){if(L[C]===void 0||C.startsWith("_")||C==="constructor")throw new TypeError(`No method named "${C}"`);L[C](this)}})}}q.on(document,Oh,'[data-bs-toggle="offcanvas"]',function(H){const C=pe.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&H.preventDefault(),f(this))return;q.one(C,Ta,()=>{c(this)&&this.focus()});const L=pe.findOne(kh);L&&L!==C&&la.getInstance(L).hide(),la.getOrCreateInstance(C).toggle(this)}),q.on(window,v1,()=>{for(const H of pe.find(kh))la.getOrCreateInstance(H).show()}),q.on(window,Cl,()=>{for(const H of pe.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(H).position!=="fixed"&&la.getOrCreateInstance(H).hide()}),De(la),S(la);const Mh={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},ud=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),El=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,y1=(H,C)=>{const L=H.nodeName.toLowerCase();return C.includes(L)?!ud.has(L)||!!El.test(H.nodeValue):C.filter(X=>X instanceof RegExp).some(X=>X.test(L))},Ra={allowList:Mh,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Ph={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Ko={entry:"(string|element|function|null)",selector:"(string|element)"};class av extends we{constructor(C){super(),this._config=this._getConfig(C)}static get Default(){return Ra}static get DefaultType(){return Ph}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(C=>this._resolvePossibleFunction(C)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(C){return this._checkContent(C),this._config.content={...this._config.content,...C},this}toHtml(){const C=document.createElement("div");C.innerHTML=this._maybeSanitize(this._config.template);for(const[ue,ce]of Object.entries(this._config.content))this._setContent(C,ce,ue);const L=C.children[0],X=this._resolvePossibleFunction(this._config.extraClass);return X&&L.classList.add(...X.split(" ")),L}_typeCheckConfig(C){super._typeCheckConfig(C),this._checkContent(C.content)}_checkContent(C){for(const[L,X]of Object.entries(C))super._typeCheckConfig({selector:L,entry:X},Ko)}_setContent(C,L,X){const ue=pe.findOne(X,C);ue&&((L=this._resolvePossibleFunction(L))?s(L)?this._putElementInTemplate(u(L),ue):this._config.html?ue.innerHTML=this._maybeSanitize(L):ue.textContent=L:ue.remove())}_maybeSanitize(C){return this._config.sanitize?function(L,X,ue){if(!L.length)return L;if(ue&&typeof ue=="function")return ue(L);const ce=new window.DOMParser().parseFromString(L,"text/html"),Se=[].concat(...ce.body.querySelectorAll("*"));for(const ke of Se){const Be=ke.nodeName.toLowerCase();if(!Object.keys(X).includes(Be)){ke.remove();continue}const qe=[].concat(...ke.attributes),Ke=[].concat(X["*"]||[],X[Be]||[]);for(const We of qe)y1(We,Ke)||ke.removeAttribute(We.nodeName)}return ce.body.innerHTML}(C,this._config.allowList,this._config.sanitizeFn):C}_resolvePossibleFunction(C){return R(C,[void 0,this])}_putElementInTemplate(C,L){if(this._config.html)return L.innerHTML="",void L.append(C);L.textContent=C.textContent}}const cd=new Set(["sanitize","allowList","sanitizeFn"]),Yo="fade",Tl="show",Ih=".tooltip-inner",Ns=".modal",Os="hide.bs.modal",Ci="hover",Rl="focus",Ia={AUTO:"auto",TOP:"top",RIGHT:x()?"left":"right",BOTTOM:"bottom",LEFT:x()?"right":"left"},La={allowList:Mh,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Ds={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Ur extends be{constructor(C,L){if(Pg===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(C,L),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return La}static get DefaultType(){return Ds}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),q.off(this._element.closest(Ns),Os,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const C=q.trigger(this._element,this.constructor.eventName("show")),L=(h(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(C.defaultPrevented||!L)return;this._disposePopper();const X=this._getTipElement();this._element.setAttribute("aria-describedby",X.getAttribute("id"));const{container:ue}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(ue.append(X),q.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(X),X.classList.add(Tl),"ontouchstart"in document.documentElement)for(const ce of[].concat(...document.body.children))q.on(ce,"mouseover",m);this._queueCallback(()=>{q.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!q.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Tl),"ontouchstart"in document.documentElement)for(const C of[].concat(...document.body.children))q.off(C,"mouseover",m);this._activeTrigger.click=!1,this._activeTrigger[Rl]=!1,this._activeTrigger[Ci]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),q.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(C){const L=this._getTemplateFactory(C).toHtml();if(!L)return null;L.classList.remove(Yo,Tl),L.classList.add(`bs-${this.constructor.NAME}-auto`);const X=(ue=>{do ue+=Math.floor(1e6*Math.random());while(document.getElementById(ue));return ue})(this.constructor.NAME).toString();return L.setAttribute("id",X),this._isAnimated()&&L.classList.add(Yo),L}setContent(C){this._newContent=C,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(C){return this._templateFactory?this._templateFactory.changeContent(C):this._templateFactory=new av({...this._config,content:C,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Ih]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(C){return this.constructor.getOrCreateInstance(C.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Yo)}_isShown(){return this.tip&&this.tip.classList.contains(Tl)}_createPopper(C){const L=R(this._config.placement,[this,C,this._element]),X=Ia[L.toUpperCase()];return yh(this._element,C,this._getPopperConfig(X))}_getOffset(){const{offset:C}=this._config;return typeof C=="string"?C.split(",").map(L=>Number.parseInt(L,10)):typeof C=="function"?L=>C(L,this._element):C}_resolvePossibleFunction(C){return R(C,[this._element,this._element])}_getPopperConfig(C){const L={placement:C,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:X=>{this._getTipElement().setAttribute("data-popper-placement",X.state.placement)}}]};return{...L,...R(this._config.popperConfig,[void 0,L])}}_setListeners(){const C=this._config.trigger.split(" ");for(const L of C)if(L==="click")q.on(this._element,this.constructor.eventName("click"),this._config.selector,X=>{this._initializeOnDelegatedTarget(X).toggle()});else if(L!=="manual"){const X=L===Ci?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),ue=L===Ci?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");q.on(this._element,X,this._config.selector,ce=>{const Se=this._initializeOnDelegatedTarget(ce);Se._activeTrigger[ce.type==="focusin"?Rl:Ci]=!0,Se._enter()}),q.on(this._element,ue,this._config.selector,ce=>{const Se=this._initializeOnDelegatedTarget(ce);Se._activeTrigger[ce.type==="focusout"?Rl:Ci]=Se._element.contains(ce.relatedTarget),Se._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},q.on(this._element.closest(Ns),Os,this._hideModalHandler)}_fixTitle(){const C=this._element.getAttribute("title");C&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",C),this._element.setAttribute("data-bs-original-title",C),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(C,L){clearTimeout(this._timeout),this._timeout=setTimeout(C,L)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(C){const L=re.getDataAttributes(this._element);for(const X of Object.keys(L))cd.has(X)&&delete L[X];return C={...L,...typeof C=="object"&&C?C:{}},C=this._mergeConfigObj(C),C=this._configAfterMerge(C),this._typeCheckConfig(C),C}_configAfterMerge(C){return C.container=C.container===!1?document.body:u(C.container),typeof C.delay=="number"&&(C.delay={show:C.delay,hide:C.delay}),typeof C.title=="number"&&(C.title=C.title.toString()),typeof C.content=="number"&&(C.content=C.content.toString()),C}_getDelegateConfig(){const C={};for(const[L,X]of Object.entries(this._config))this.constructor.Default[L]!==X&&(C[L]=X);return C.selector=!1,C.trigger="manual",C}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(C){return this.each(function(){const L=Ur.getOrCreateInstance(this,C);if(typeof C=="string"){if(L[C]===void 0)throw new TypeError(`No method named "${C}"`);L[C]()}})}}S(Ur);const Xo=".popover-header",Ms=".popover-body",ov={...Ur.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Lh={...Ur.DefaultType,content:"(null|string|element|function)"};class Al extends Ur{static get Default(){return ov}static get DefaultType(){return Lh}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Xo]:this._getTitle(),[Ms]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(C){return this.each(function(){const L=Al.getOrCreateInstance(this,C);if(typeof C=="string"){if(L[C]===void 0)throw new TypeError(`No method named "${C}"`);L[C]()}})}}S(Al);const xr=".bs.scrollspy",Ln=`activate${xr}`,tn=`click${xr}`,Ps=`load${xr}.data-api`,Vr="active",Wu="[href]",Ei=".nav-link",iv=`${Ei}, .nav-item > ${Ei}, .list-group-item`,sv={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Hu={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Qo extends be{constructor(C,L){super(C,L),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return sv}static get DefaultType(){return Hu}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const C of this._observableSections.values())this._observer.observe(C)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(C){return C.target=u(C.target)||document.body,C.rootMargin=C.offset?`${C.offset}px 0px -30%`:C.rootMargin,typeof C.threshold=="string"&&(C.threshold=C.threshold.split(",").map(L=>Number.parseFloat(L))),C}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(q.off(this._config.target,tn),q.on(this._config.target,tn,Wu,C=>{const L=this._observableSections.get(C.target.hash);if(L){C.preventDefault();const X=this._rootElement||window,ue=L.offsetTop-this._element.offsetTop;if(X.scrollTo)return void X.scrollTo({top:ue,behavior:"smooth"});X.scrollTop=ue}}))}_getNewObserver(){const C={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(L=>this._observerCallback(L),C)}_observerCallback(C){const L=Se=>this._targetLinks.get(`#${Se.target.id}`),X=Se=>{this._previousScrollData.visibleEntryTop=Se.target.offsetTop,this._process(L(Se))},ue=(this._rootElement||document.documentElement).scrollTop,ce=ue>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=ue;for(const Se of C){if(!Se.isIntersecting){this._activeTarget=null,this._clearActiveClass(L(Se));continue}const ke=Se.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(ce&&ke){if(X(Se),!ue)return}else ce||ke||X(Se)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const C=pe.find(Wu,this._config.target);for(const L of C){if(!L.hash||f(L))continue;const X=pe.findOne(decodeURI(L.hash),this._element);c(X)&&(this._targetLinks.set(decodeURI(L.hash),L),this._observableSections.set(L.hash,X))}}_process(C){this._activeTarget!==C&&(this._clearActiveClass(this._config.target),this._activeTarget=C,C.classList.add(Vr),this._activateParents(C),q.trigger(this._element,Ln,{relatedTarget:C}))}_activateParents(C){if(C.classList.contains("dropdown-item"))pe.findOne(".dropdown-toggle",C.closest(".dropdown")).classList.add(Vr);else for(const L of pe.parents(C,".nav, .list-group"))for(const X of pe.prev(L,iv))X.classList.add(Vr)}_clearActiveClass(C){C.classList.remove(Vr);const L=pe.find(`${Wu}.${Vr}`,C);for(const X of L)X.classList.remove(Vr)}static jQueryInterface(C){return this.each(function(){const L=Qo.getOrCreateInstance(this,C);if(typeof C=="string"){if(L[C]===void 0||C.startsWith("_")||C==="constructor")throw new TypeError(`No method named "${C}"`);L[C]()}})}}q.on(window,Ps,()=>{for(const H of pe.find('[data-bs-spy="scroll"]'))Qo.getOrCreateInstance(H)}),S(Qo);const Ti=".bs.tab",qu=`hide${Ti}`,Fh=`hidden${Ti}`,Is=`show${Ti}`,Zo=`shown${Ti}`,Ri=`click${Ti}`,Jo=`keydown${Ti}`,Bh=`load${Ti}`,zh="ArrowLeft",kl="ArrowRight",dd="ArrowUp",Ai="ArrowDown",hr="Home",Gu="End",ki="active",lv="fade",$h="show",uv=".dropdown-toggle",Vn=`:not(${uv})`,fd='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Ls=`.nav-link${Vn}, .list-group-item${Vn}, [role="tab"]${Vn}, ${fd}`,Ku=`.${ki}[data-bs-toggle="tab"], .${ki}[data-bs-toggle="pill"], .${ki}[data-bs-toggle="list"]`;class ei extends be{constructor(C){super(C),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),q.on(this._element,Jo,L=>this._keydown(L)))}static get NAME(){return"tab"}show(){const C=this._element;if(this._elemIsActive(C))return;const L=this._getActiveElem(),X=L?q.trigger(L,qu,{relatedTarget:C}):null;q.trigger(C,Is,{relatedTarget:L}).defaultPrevented||X&&X.defaultPrevented||(this._deactivate(L,C),this._activate(C,L))}_activate(C,L){C&&(C.classList.add(ki),this._activate(pe.getElementFromSelector(C)),this._queueCallback(()=>{C.getAttribute("role")==="tab"?(C.removeAttribute("tabindex"),C.setAttribute("aria-selected",!0),this._toggleDropDown(C,!0),q.trigger(C,Zo,{relatedTarget:L})):C.classList.add($h)},C,C.classList.contains(lv)))}_deactivate(C,L){C&&(C.classList.remove(ki),C.blur(),this._deactivate(pe.getElementFromSelector(C)),this._queueCallback(()=>{C.getAttribute("role")==="tab"?(C.setAttribute("aria-selected",!1),C.setAttribute("tabindex","-1"),this._toggleDropDown(C,!1),q.trigger(C,Fh,{relatedTarget:L})):C.classList.remove($h)},C,C.classList.contains(lv)))}_keydown(C){if(![zh,kl,dd,Ai,hr,Gu].includes(C.key))return;C.stopPropagation(),C.preventDefault();const L=this._getChildren().filter(ue=>!f(ue));let X;if([hr,Gu].includes(C.key))X=L[C.key===hr?0:L.length-1];else{const ue=[kl,Ai].includes(C.key);X=T(L,C.target,ue,!0)}X&&(X.focus({preventScroll:!0}),ei.getOrCreateInstance(X).show())}_getChildren(){return pe.find(Ls,this._parent)}_getActiveElem(){return this._getChildren().find(C=>this._elemIsActive(C))||null}_setInitialAttributes(C,L){this._setAttributeIfNotExists(C,"role","tablist");for(const X of L)this._setInitialAttributesOnChild(X)}_setInitialAttributesOnChild(C){C=this._getInnerElement(C);const L=this._elemIsActive(C),X=this._getOuterElement(C);C.setAttribute("aria-selected",L),X!==C&&this._setAttributeIfNotExists(X,"role","presentation"),L||C.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(C,"role","tab"),this._setInitialAttributesOnTargetPanel(C)}_setInitialAttributesOnTargetPanel(C){const L=pe.getElementFromSelector(C);L&&(this._setAttributeIfNotExists(L,"role","tabpanel"),C.id&&this._setAttributeIfNotExists(L,"aria-labelledby",`${C.id}`))}_toggleDropDown(C,L){const X=this._getOuterElement(C);if(!X.classList.contains("dropdown"))return;const ue=(ce,Se)=>{const ke=pe.findOne(ce,X);ke&&ke.classList.toggle(Se,L)};ue(uv,ki),ue(".dropdown-menu",$h),X.setAttribute("aria-expanded",L)}_setAttributeIfNotExists(C,L,X){C.hasAttribute(L)||C.setAttribute(L,X)}_elemIsActive(C){return C.classList.contains(ki)}_getInnerElement(C){return C.matches(Ls)?C:pe.findOne(Ls,C)}_getOuterElement(C){return C.closest(".nav-item, .list-group-item")||C}static jQueryInterface(C){return this.each(function(){const L=ei.getOrCreateInstance(this);if(typeof C=="string"){if(L[C]===void 0||C.startsWith("_")||C==="constructor")throw new TypeError(`No method named "${C}"`);L[C]()}})}}q.on(document,Ri,fd,function(H){["A","AREA"].includes(this.tagName)&&H.preventDefault(),f(this)||ei.getOrCreateInstance(this).show()}),q.on(window,Bh,()=>{for(const H of pe.find(Ku))ei.getOrCreateInstance(H)}),S(ei);const Aa=".bs.toast",Nl=`mouseover${Aa}`,b1=`mouseout${Aa}`,cv=`focusin${Aa}`,x1=`focusout${Aa}`,dv=`hide${Aa}`,Fs=`hidden${Aa}`,Uh=`show${Aa}`,hd=`shown${Aa}`,Vh="hide",Ni="show",Yu="showing",pd={animation:"boolean",autohide:"boolean",delay:"number"},jh={animation:!0,autohide:!0,delay:5e3};class Ol extends be{constructor(C,L){super(C,L),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return jh}static get DefaultType(){return pd}static get NAME(){return"toast"}show(){q.trigger(this._element,Uh).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Vh),g(this._element),this._element.classList.add(Ni,Yu),this._queueCallback(()=>{this._element.classList.remove(Yu),q.trigger(this._element,hd),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(q.trigger(this._element,dv).defaultPrevented||(this._element.classList.add(Yu),this._queueCallback(()=>{this._element.classList.add(Vh),this._element.classList.remove(Yu,Ni),q.trigger(this._element,Fs)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Ni),super.dispose()}isShown(){return this._element.classList.contains(Ni)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(C,L){switch(C.type){case"mouseover":case"mouseout":this._hasMouseInteraction=L;break;case"focusin":case"focusout":this._hasKeyboardInteraction=L}if(L)return void this._clearTimeout();const X=C.relatedTarget;this._element===X||this._element.contains(X)||this._maybeScheduleHide()}_setListeners(){q.on(this._element,Nl,C=>this._onInteraction(C,!0)),q.on(this._element,b1,C=>this._onInteraction(C,!1)),q.on(this._element,cv,C=>this._onInteraction(C,!0)),q.on(this._element,x1,C=>this._onInteraction(C,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(C){return this.each(function(){const L=Ol.getOrCreateInstance(this,C);if(typeof C=="string"){if(L[C]===void 0)throw new TypeError(`No method named "${C}"`);L[C](this)}})}}return De(Ol),S(Ol),{Alert:Ce,Button:Ue,Carousel:cl,Collapse:Ja,Dropdown:Pa,Modal:_i,Offcanvas:la,Popover:Al,ScrollSpy:Qo,Tab:ei,Toast:Ol,Tooltip:Ur}})}(J0)),J0.exports}Kse();const Yse=()=>{const[t,e]=O.useState([]),[n,r]=O.useState([]),[a,o]=O.useState(!0),[i,s]=O.useState(""),[u,c]=O.useState(null),[f,h]=O.useState(!1),[m,g]=O.useState(1),y=3,b=ls();O.useEffect(()=>{(async()=>{try{const N=await tt.get("https://edunova-back-rqxc.onrender.com/module/",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});e(N.data),r(N.data),o(!1)}catch(N){console.error("Error fetching modules:",N),o(!1)}})()},[]);const x=D=>{const N=D.target.value.toLowerCase();s(N),g(1);const M=t.filter(P=>P.title.toLowerCase().includes(N)||P.description.toLowerCase().includes(N));r(M)},S=m*y,R=S-y,_=n.slice(R,S),T=Math.ceil(n.length/y);return E(kn,{children:K("div",{className:"container",children:[E("div",{className:"d-flex justify-content-between align-items-center my-3",children:E("h2",{className:"title",children:"Modules List"})}),E("div",{className:"d-flex justify-content-between align-items-center my-3",children:E("input",{type:"text",className:"form-control search-bar",placeholder:"Search modules...",value:i,onChange:x})}),f?E(pI,{existingModule:u,onClose:async()=>{h(!1),c(null),g(1);try{const D=await tt.get("https://edunova-back-rqxc.onrender.com/module/");e(D.data),r(D.data)}catch(D){console.error("Error fetching updated modules:",D)}}}):E(kn,{children:a?E("p",{children:"Loading modules..."}):K(kn,{children:[E("div",{className:"module-list",children:_.length===0?E("p",{children:"No modules found."}):_.map(D=>K("div",{className:"module-card1",children:[D.image&&E("img",{src:D.image,alt:D.title,className:"module-image1"}),K("div",{className:"module-content",children:[E("h3",{children:D.title}),E("p",{children:D.description})]}),K("div",{className:"dropdown",children:[E("button",{className:"btn btn-secondary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}),E("ul",{className:"dropdown-menu",children:E("li",{children:E("a",{className:"dropdown-item",href:"#",onClick:N=>{N.preventDefault(),b(`/dashboard/moduleDetailsBack/${D._id}`)},children:"Details"})})})]})]},D._id))}),n.length>y&&E("div",{className:"d-flex justify-content-center mt-4",children:E("nav",{"aria-label":"Module pagination",children:K("ul",{className:"pagination",children:[E("li",{className:`page-item ${m===1?"disabled":""}`,children:E("button",{className:"page-link",onClick:()=>g(m-1),disabled:m===1,children:"Previous"})}),Array.from({length:T},(D,N)=>N+1).map(D=>E("li",{className:`page-item ${m===D?"active":""}`,children:E("button",{className:"page-link",onClick:()=>g(D),children:D})},D)),E("li",{className:`page-item ${m===T?"disabled":""}`,children:E("button",{className:"page-link",onClick:()=>g(m+1),disabled:m===T,children:"Next"})})]})})})]})})]})})},Xse=()=>{const{id:t}=DS(),[e,n]=O.useState(null);return O.useEffect(()=>{(async()=>{try{const a=await tt.get(`https://edunova-back-rqxc.onrender.com/module/${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});console.log("Module Details:",a.data),n(a.data)}catch(a){console.error("Error fetching module details:",a)}})()},[t]),e?E("div",{className:"module-details-container",children:K("div",{className:"module-card",children:[e.image&&E("img",{src:e.image,alt:e.title,className:"module-image"}),K("div",{className:"module-content",children:[E("h1",{className:"module-title",children:e.title}),E("p",{className:"module-description",children:e.description})]})]})}):E("p",{className:"loading-text",children:"Loading module details..."})},Qse=()=>{const[t,e]=O.useState(0),[n,r]=O.useState([]),[a,o]=O.useState(!1),[i,s]=O.useState(""),u=O.useRef(null),[c,f]=O.useState(null),[h,m]=O.useState(""),g=["She sells sea shells by the sea shore.","The big black bug bit the big black bear.","Red lorry, yellow lorry.","Unique New York.","Peter Piper picked a peck of pickled peppers."],y=(R,_)=>{const T=M=>M.toLowerCase().replace(/[^a-z ]/g,"").trim(),A=T(R).split(" "),D=T(_).split(" ");let N=0;return A.forEach((M,P)=>{D[P]&&M===D[P]&&N++}),N/A.length},b=()=>{const R=window.SpeechRecognition||window.webkitSpeechRecognition;if(!R){alert("Speech recognition not supported in this browser.");return}const _=new R;_.lang="en-US",_.interimResults=!1,_.maxAlternatives=1,_.onresult=async T=>{const A=T.results[0][0].transcript;s(A);const D=y(g[t],A);let N=1;D<.3?N=3:D<.7&&(N=2);const M=[...n,N];r(M),t<g.length-1?e(t+1):(o(!0),x(M),await S(A))},_.onerror=T=>{alert("Error during speech recognition: "+T.error)},_.start(),u.current=_},x=R=>{const _=R.reduce((T,A)=>T+A,0)/R.length;_<1.5?f("Low signs of dyslexia"):_<2.5?f("Moderate signs of dyslexia"):f("Strong signs of dyslexia")},S=async R=>{try{const _=await tt.post("https://edunova-back-rqxc.onrender.com/api/ai/dyslexia-feedback",{transcript:R});m(_.data.feedback)}catch(_){console.error("AI feedback error:",_),m("AI feedback unavailable.")}};return K("div",{style:{background:"linear-gradient(to right, #fff7ed, #e0f2fe)",borderRadius:"1rem",padding:"2rem",margin:"2rem auto",maxWidth:"800px",boxShadow:"0 10px 20px rgba(0,0,0,0.08)",fontFamily:"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif"},children:[E("h2",{style:{fontSize:"1.75rem",fontWeight:"bold",color:"#1e3a8a",marginBottom:"1rem"},children:"🧠 Dyslexia Screening Task"}),a?K(kn,{children:[E("p",{style:{fontSize:"1rem",color:"#374151"},children:E("strong",{children:"Assessment Result:"})}),E("p",{style:{color:"#1f2937",fontSize:"1.2rem",fontWeight:"500",marginTop:"0.5rem"},children:c}),K("p",{style:{marginTop:"1rem",color:"#334155"},children:[E("strong",{children:"AI Feedback:"})," ",h]})]}):K(kn,{children:[E("p",{style:{fontSize:"1rem",color:"#374151",marginBottom:"1rem"},children:"Try reading the following phrase aloud. The AI will analyze your speech:"}),E("blockquote",{style:{fontSize:"1.25rem",fontWeight:"500",color:"#111827",backgroundColor:"#f3f4f6",padding:"1rem",borderLeft:"4px solid #3b82f6",borderRadius:"0.5rem",marginBottom:"1rem"},children:g[t]}),E("button",{type:"button",onClick:b,style:{marginBottom:"1rem",backgroundColor:"#60a5fa",padding:"0.5rem 1rem",border:"none",borderRadius:"0.375rem",cursor:"pointer",color:"white"},children:"🎙 Start Speaking"}),K("p",{style:{marginBottom:"1rem",color:"#1f2937"},children:[E("strong",{children:"Your speech:"})," ",i||"(waiting...)"]})]})]})},mI=({timeLeft:t,setTimeLeft:e})=>{const n=ls(),[r,a]=O.useState([]),[o,i]=O.useState({}),[s,u]=O.useState(!1),[c,f]=O.useState(null),[h,m]=O.useState(""),[g,y]=O.useState(!0),[b,x]=O.useState(null),[S,R]=O.useState({}),_=O.useRef(null),T=localStorage.getItem("userId"),A=async(P,I)=>{try{if(R(B=>({...B,[I]:"loading"})),x(null),!P)throw new Error("Audio path is missing");let $=P.replace(/\\/g,"/");if(!$.startsWith("http")&&!$.startsWith("/")&&!$.startsWith("blob:")&&($=`https://edunova-back-rqxc.onrender.com/${$}`),!$.toLowerCase().endsWith(".wav"))throw new Error("Only .wav files are supported");if(b===I&&_.current){_.current.pause(),_.current.currentTime=0,_.current=null,R(B=>({...B,[I]:"paused"}));return}_.current&&(_.current.pause(),_.current.src="",_.current=null);const z=await fetch($);if(!z.ok)throw new Error(`HTTP error: ${z.status}`);const G=await z.blob(),V=URL.createObjectURL(G);_.current=new Audio(V),_.current.preload="auto",_.current.onerror=()=>{m("Playback failed"),R(B=>({...B,[I]:"error"})),x(null)},_.current.onended=()=>{URL.revokeObjectURL(V),x(null),R(B=>({...B,[I]:"ended"}))},await _.current.play(),x(I),R(B=>({...B,[I]:"playing"}))}catch($){console.error("Audio playback error:",$),R(z=>({...z,[I]:"error"})),m(`Audio error: ${$.message}`),x(null)}};O.useEffect(()=>((async()=>{try{y(!0);const I=await tt.get("https://edunova-back-rqxc.onrender.com/api/quiz/generate",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),$="https://edunova-back-rqxc.onrender.com",z=I.data.map(G=>({...G,audioUrl:G.audioUrl?`${$}/${G.audioUrl.replace(/\\/g,"/")}`:null,answers:G.answers.map(V=>({...V,audioUrl:V.audioUrl?`${$}/${V.audioUrl.replace(/\\/g,"/")}`:null}))}));a(z)}catch(I){m("Failed to load quiz questions"),console.error(I)}finally{y(!1)}})(),()=>{_.current&&(_.current.pause(),_.current.src="",_.current=null)}),[]),O.useEffect(()=>{if(s||t<=0)return;const P=setInterval(()=>{e(I=>I-1)},1e3);return()=>clearInterval(P)},[s,t]);const D=(P,I)=>{i($=>({...$,[P]:I}))},N=async()=>{if(s)return;const P=Object.entries(o).map(([I,$])=>({questionId:I,answerId:$}));if(P.length!==r.length){m(`You've answered ${P.length} out of ${r.length} questions`),window.scrollTo({top:0,behavior:"smooth"});return}try{const I=await tt.post("https://edunova-back-rqxc.onrender.com/api/quiz/submit",{studentId:T,responses:P},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});f(I.data),u(!0)}catch(I){console.error("Full error:",I),console.error("Error response:",I.response),m(`Submission failed: ${I.message}`)}finally{y(!1)}},M=P=>{const I=Math.floor(P/60),$=P%60;return`${I}:${$<10?"0":""}${$}`};if(g&&!s)return E("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-white",children:K("div",{className:"text-center",children:[E("div",{className:"w-16 h-16 border-4 border-[#172746] border-t-transparent rounded-full animate-spin mx-auto"}),E("p",{className:"mt-4 text-lg text-gray-700",children:"Loading quiz..."})]})});if(s&&c){const P={};c.responses.forEach(F=>{var W;const U=((W=F.question.level)==null?void 0:W.name)||"Unknown";P[U]||(P[U]={correct:0,total:0}),P[U].total++,F.isCorrect&&P[U].correct++});const I=Object.values(P).reduce((F,U)=>F+U.total,0),$=Object.values(P).reduce((F,U)=>F+U.correct,0),z=Math.round($/I*100);let G="Beginner",V="text-blue-800",B="bg-blue-100";return z>=80?(G="Expert",V="text-blue-900",B="bg-blue-200"):z>=60&&(G="Intermediate",V="text-blue-700",B="bg-blue-150"),K("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-white py-12 px-4 sm:px-6 lg:px-8",children:[E("div",{className:"max-w-4xl mx-auto",children:K("div",{className:"bg-white shadow-xl rounded-2xl overflow-hidden border border-gray-200",children:[E("div",{className:"bg-[#172746] p-8 text-white text-center",children:K("div",{className:"flex flex-col items-center",children:[E(rR,{className:"w-12 h-12 mb-4 text-blue-200"}),E("h2",{className:"text-3xl font-bold text-white",children:"Quiz Results"}),E("p",{className:"mt-2 opacity-90 text-blue-200",children:"Thank you for completing our assessment"})]})}),K("div",{className:"p-8 border-b border-gray-200 text-center",children:[E("div",{className:"inline-flex items-center justify-center bg-blue-100 text-blue-800 rounded-full p-4 mb-6",children:E(nR,{className:"w-8 h-8"})}),E("h3",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Overall Score"}),E("div",{className:"flex justify-center mb-6",children:K("div",{className:"relative w-56 h-56",children:[K("svg",{className:"w-full h-full",viewBox:"0 0 36 36",children:[E("path",{d:"M18 2.0845\r a 15.9155 15.9155 0 0 1 0 31.831\r a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"#E5E7EB",strokeWidth:"3"}),E("path",{d:"M18 2.0845\r a 15.9155 15.9155 0 0 1 0 31.831\r a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"#172746",strokeWidth:"3",strokeDasharray:`${z}, 100`})]}),E("div",{className:"absolute inset-0 flex items-center justify-center",children:K("span",{className:"text-5xl font-bold text-gray-800",children:[z,"%"]})})]})}),K("div",{className:`inline-flex items-center ${B} ${V} px-4 py-2 rounded-full mb-4`,children:[E(jj,{className:"w-5 h-5 mr-2"}),K("span",{className:"font-semibold",children:["Level: ",G]})]}),K("p",{className:"text-gray-600",children:[$," correct answers out of ",I," questions"]})]}),K("div",{className:"p-8",children:[K("h3",{className:"text-2xl font-semibold text-gray-800 mb-8 text-center",children:[E(nR,{className:"w-6 h-6 mr-2 text-[#172746] inline-block"}),"Performance by Level"]}),E("div",{className:"space-y-6 max-w-2xl mx-auto",children:Object.entries(P).map(([F,U])=>{const W=Math.round(U.correct/U.total*100),Q=W>=80?"bg-blue-100 text-blue-800":W>=60?"bg-blue-50 text-blue-700":"bg-blue-50 text-blue-600",q=W>=80?"bg-[#172746]":W>=60?"bg-blue-700":"bg-blue-500";return K("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[K("div",{className:"flex justify-between items-center mb-4",children:[E("span",{className:"font-medium text-gray-800 capitalize text-lg",children:F}),K("span",{className:`px-3 py-1 rounded-full text-sm font-bold ${Q}`,children:[W,"%"]})]}),E("div",{className:"w-full bg-gray-100 rounded-full h-2.5 mb-3",children:E("div",{className:`h-2.5 rounded-full ${q}`,style:{width:`${W}%`}})}),K("div",{className:"flex justify-between text-sm text-gray-500",children:[K("span",{children:[U.correct," correct"]}),K("span",{children:[U.total," questions"]})]})]},F)})})]}),K("div",{className:"bg-blue-50 p-8 border-t border-gray-200 text-center",children:[E("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Feedback"}),z>=80?K("p",{className:"text-blue-800 max-w-2xl mx-auto",children:[E("span",{className:"font-bold",children:"Congratulations!"})," Your results demonstrate exceptional mastery of the concepts. You may consider more advanced challenges to continue progressing."]}):z>=60?K("p",{className:"text-blue-700 max-w-2xl mx-auto",children:[E("span",{className:"font-bold",children:"Good performance!"})," You have solid understanding of the basics, but some areas could benefit from additional review to reach excellence."]}):K("p",{className:"text-blue-600 max-w-2xl mx-auto",children:[E("span",{className:"font-bold",children:"Keep practicing!"})," We recommend reviewing basic concepts and using additional resources to strengthen your understanding."]})]})]})}),E("div",{className:"mt-8 text-center",children:K("button",{onClick:()=>n("/home"),className:"inline-flex items-center px-6 py-3 text-md font-semibold rounded-lg transition bg-gray-600 hover:bg-gray-700 text-white shadow-md hover:shadow-lg",children:[E("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Get Started"]})})]})}return K("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-white pt-4 pb-12 px-4 sm:px-6 lg:px-8",children:[E("br",{}),E("header",{className:"max-w-7xl mx-auto mb-8 px-4 sm:px-6 lg:px-8",children:K("div",{className:"flex justify-between items-center py-4 border-b border-gray-300",children:[E("h1",{className:"text-2xl font-bold text-[#172746]",children:"Assessment Platform"}),E("div",{className:"flex items-center space-x-4",children:E("span",{className:"text-blue-800",children:T})})]})}),E("div",{className:"max-w-4xl mx-auto",children:K("div",{className:"bg-white shadow-xl rounded-2xl overflow-hidden border border-gray-200",children:[K("div",{className:"bg-[#172746] p-8 text-white text-center",children:[E("h1",{className:"text-3xl font-bold mb-2 text-white",children:"Assessment Quiz"}),E("p",{className:"text-blue-200",children:"Answer all questions before time runs out"})]}),K("div",{className:"p-8",children:[h&&K("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 p-4 rounded-lg mb-8 flex items-start",children:[E(Kj,{className:"w-5 h-5 mr-3 mt-0.5 flex-shrink-0"}),K("div",{children:[E("p",{className:"font-medium",children:h}),E("p",{className:"text-sm mt-1",children:"Please answer all questions before submitting."})]})]}),K("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-8 bg-blue-50 p-4 rounded-lg border border-gray-300",children:[K("div",{className:"flex items-center mb-4 sm:mb-0",children:[K("div",{className:"bg-blue-100 text-blue-800 rounded-lg px-4 py-2 flex items-center mr-4",children:[E(Jj,{className:"w-5 h-5 mr-2"}),E("span",{className:"font-semibold",children:M(t)})]}),E("div",{className:"text-sm text-blue-700",children:t>60?"Time remaining":"Last minute!"})]}),K("div",{className:"w-full sm:w-64",children:[K("div",{className:"flex justify-between text-sm text-blue-700 mb-1",children:[E("span",{children:"Progress"}),K("span",{children:[Object.keys(o).length,"/",r.length]})]}),E("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:E("div",{className:"bg-[#172746] h-2.5 rounded-full transition-all duration-300",style:{width:`${Object.keys(o).length/r.length*100}%`}})})]})]}),E("div",{className:"space-y-8",children:r.map((P,I)=>{var $;return K("div",{className:"p-6 bg-white rounded-xl border border-gray-300 shadow-sm hover:shadow-md transition-shadow",children:[K("div",{className:"flex justify-between items-start mb-4",children:[K("div",{className:"text-sm text-blue-700 font-medium uppercase tracking-wide",children:["Question ",I+1," of ",r.length]}),(($=P.level)==null?void 0:$.name)&&E("span",{className:"bg-blue-100 text-blue-800 text-xs px-2.5 py-0.5 rounded-full",children:P.level.name})]}),P.questionType==="oral"?K("div",{className:"mb-6",children:[K("button",{onClick:()=>A(P.audioUrl,`question-${P._id}`),disabled:!P.audioUrl||S[`question-${P._id}`]==="error",className:`flex items-center px-4 py-2 rounded-lg mb-2 ${P.audioUrl?S[`question-${P._id}`]==="playing"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800 hover:bg-gray-200":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:[S[`question-${P._id}`]==="error"?E(oR,{className:"w-5 h-5 mr-2 text-red-500"}):E(aR,{className:"w-5 h-5 mr-2"}),P.audioUrl?S[`question-${P._id}`]==="playing"?"Playing...":S[`question-${P._id}`]==="error"?"Playback failed":"Play Question":"Audio unavailable"]}),P.audioText&&K("p",{className:"text-sm text-gray-500 italic",children:[E("span",{className:"font-medium",children:"Transcript:"})," ",P.audioText]})]}):E("p",{className:"text-xl font-semibold text-gray-800 mb-6",children:P.questionText}),E("div",{className:"space-y-3",children:P.answers.map((z,G)=>E("label",{htmlFor:`answer-${P._id}-${z._id||G}`,className:`block p-4 rounded-lg border cursor-pointer transition ${o[P._id]===(z._id||G)?"border-blue-600 bg-blue-50 ring-2 ring-blue-200":"border-gray-300 hover:bg-blue-50"}`,children:K("div",{className:"flex items-center",children:[E("input",{type:"radio",id:`answer-${P._id}-${z._id||G}`,name:`question-${P._id}`,checked:o[P._id]===(z._id||G),onChange:()=>D(P._id,z._id||G),className:"h-4 w-4 text-blue-600 focus:ring-blue-500"}),E("div",{className:"ml-3 flex-1",children:z.audioUrl?K("button",{type:"button",onClick:V=>{V.stopPropagation(),A(z.audioUrl,`answer-${P._id}-${z._id||G}`)},className:`flex items-center text-left w-full ${S[`answer-${P._id}-${z._id||G}`]==="playing"?"text-blue-600":"text-gray-700"}`,children:[S[`answer-${P._id}-${z._id||G}`]==="error"?E(oR,{className:"w-4 h-4 mr-2 text-red-500"}):E(aR,{className:"w-4 h-4 mr-2 flex-shrink-0"}),S[`answer-${P._id}-${z._id||G}`]==="playing"?"Playing answer...":"Listen to answer"]}):E("span",{className:"text-gray-700",children:z.text})})]})},z._id||`${P._id}-${G}`))})]},P._id)})}),K("div",{className:"mt-12 text-center",children:[E("button",{onClick:N,disabled:s||t===0||g,className:`inline-flex items-center px-8 py-4 text-lg font-semibold rounded-lg transition ${s||t===0||g?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-[#172746] hover:bg-blue-900 text-white shadow-lg hover:shadow-xl transform hover:-translate-y-1"}`,children:g?K(kn,{children:[K("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[E("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),E("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting..."]}):K(kn,{children:[E(rR,{className:"w-6 h-6 mr-2"}),t===0?"Time expired - View results":"Submit quiz"]})}),(t===0||s)&&E("div",{className:"mt-8 text-center",children:K("button",{onClick:()=>n("/home"),className:"inline-flex items-center px-6 py-3 text-md font-semibold rounded-lg transition bg-gray-600 hover:bg-gray-700 text-white shadow-md hover:shadow-lg",children:[E("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Return to Home"]})}),t>0&&t<60&&K("div",{className:"mt-4 flex items-center justify-center text-sm text-red-600",children:[E(Qj,{className:"w-4 h-4 mr-1"}),K("span",{children:["Warning: only ",t," second",t>1?"s":""," left!"]})]})]})]})]})})]})},Zse=Object.freeze(Object.defineProperty({__proto__:null,default:mI},Symbol.toStringTag,{value:"Module"})),Jse=()=>{const t=O.useRef(null),e=O.useRef(0),[n,r]=O.useState([]),[a,o]=O.useState(!1),[i,s]=O.useState(""),[u,c]=O.useState(5*60);O.useEffect(()=>{document.title="Exam"},[]);const f=["Only one person allowed in camera view","Face must be centered and visible at all times","No looking away from the screen","No switching tabs/windows","No copy/paste allowed","No speaking or communicating with others","Time penalty: 30 seconds deducted for rule violation"];return O.useEffect(()=>{const h=async()=>{try{await Promise.all([Jr.tinyFaceDetector.loadFromUri("/models"),Jr.faceLandmark68Net.loadFromUri("/models")])}catch{x("Error","Failed to load face detection models. Please refresh the page.")}},m=async()=>{try{const _=await navigator.mediaDevices.getUserMedia({video:{width:640,height:480,facingMode:"user"}});t.current.srcObject=_}catch{x("Camera Required","Camera access is required for this exam. Please enable permissions.")}},g=async()=>{if(t.current)try{const _=await Ane(t.current,new zy).withFaceLandmarks();if(_.length>1){S("Multiple faces detected"),x("Proctoring Alert","Only one person is allowed during the exam.");return}if(_.length===0){x("Attention Required","Please position yourself in front of the camera.");return}const T=_[0].landmarks,A=T.getLeftEye(),D=T.getRightEye(),N={x:(A[0].x+A[3].x)/2,y:(A[1].y+A[5].y)/2},M={x:(D[0].x+D[3].x)/2,y:(D[1].y+D[5].y)/2},P=Math.abs(M.x-N.x),I=t.current.videoWidth,$=(N.x+M.x)/2,z=I/2,G=$-z;Math.abs(G)>40?(S("Face not centered"),x("Focus Alert","Please face the screen directly.")):P<35&&(S("Too far from camera"),x("Position Alert","Please move closer to the camera."))}catch(_){console.error("Face detection error:",_)}},y=()=>{document.hidden&&(e.current+=1,S(`Tab switch detected (${e.current}x)`),x("Window Focus","You must stay on this exam page. Repeated violations may result in termination."))},b=_=>{_.preventDefault(),S(`${_.type} attempt detected`),x("Security Violation","Copy-paste is disabled during the exam!")},x=(_,T)=>{s({title:_,message:T}),o(!0)},S=_=>{const T=new Date().toISOString();r(A=>[...A,{timestamp:T,description:_}]),c(A=>Math.max(0,A-30))};(async()=>{await h(),await m();const _=setInterval(g,2e3);return document.addEventListener("visibilitychange",y),document.addEventListener("copy",b),document.addEventListener("paste",b),document.addEventListener("cut",b),()=>{clearInterval(_),document.removeEventListener("visibilitychange",y),document.removeEventListener("copy",b),document.removeEventListener("paste",b),document.removeEventListener("cut",b)}})()},[]),K("div",{style:Cr.container,children:[E("div",{style:Cr.header}),K("div",{style:Cr.content,children:[K("div",{style:Cr.examContent,children:[E("h2",{children:"Exam Questions Will Appear Here"}),E(mI,{timeLeft:u,setTimeLeft:c})]}),K("div",{style:Cr.sidePanel,children:[K("div",{style:Cr.rulesPanel,children:[E("h3",{style:Cr.panelTitle,children:"Exam Rules"}),E("ul",{style:Cr.rulesList,children:f.map((h,m)=>K("li",{style:Cr.ruleItem,children:[E("span",{style:Cr.ruleIcon})," ",h]},m))})]}),K("div",{style:Cr.cameraPanel,children:[E("video",{ref:t,autoPlay:!0,muted:!0,playsInline:!0,style:Cr.video}),E("div",{style:Cr.statusLight}),E("p",{style:Cr.cameraStatus,children:"Camera Active"})]})]})]}),a&&E("div",{style:Cr.warningModal,children:K("div",{style:Cr.warningContent,children:[E("h3",{style:Cr.warningTitle,children:i.title}),E("p",{style:Cr.warningText,children:i.message}),E("button",{style:Cr.warningButton,onClick:()=>o(!1),children:"Acknowledge"})]})})]})},Cr={container:{display:"flex",flexDirection:"column",minHeight:"100vh",backgroundColor:"#f5f7fa",fontFamily:"Arial, sans-serif"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",backgroundColor:"#2c3e50",color:"white",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},content:{display:"flex",flex:1,padding:"20px"},examContent:{flex:3,padding:"20px",backgroundColor:"white",borderRadius:"8px",boxShadow:"0 2px 5px rgba(0,0,0,0.05)",marginRight:"20px"},sidePanel:{flex:1,display:"flex",flexDirection:"column",gap:"20px"},rulesPanel:{backgroundColor:"#fff8e1",padding:"15px",borderRadius:"8px",boxShadow:"0 2px 5px rgba(0,0,0,0.05)"},panelTitle:{marginTop:0,marginBottom:"15px",color:"#2c3e50",fontSize:"16px",fontWeight:"bold"},rulesList:{margin:0,paddingLeft:"20px"},ruleItem:{marginBottom:"10px",fontSize:"14px",lineHeight:"1.4"},ruleIcon:{marginRight:"8px"},cameraPanel:{backgroundColor:"white",padding:"15px",borderRadius:"8px",boxShadow:"0 2px 5px rgba(0,0,0,0.05)",textAlign:"center",position:"fixed",bottom:"20px"},video:{width:"100%",borderRadius:"4px",border:"2px solid #e0e0e0",marginBottom:"10px"},statusLight:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:"#4caf50",display:"inline-block",marginRight:"8px",animation:"pulse 2s infinite"},cameraStatus:{display:"inline",fontSize:"14px",color:"#666"},warningModal:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},warningContent:{backgroundColor:"white",padding:"25px",borderRadius:"8px",maxWidth:"400px",textAlign:"center",boxShadow:"0 5px 15px rgba(0,0,0,0.3)"},warningTitle:{color:"#d32f2f",marginTop:0},warningText:{marginBottom:"20px",lineHeight:"1.5"},warningButton:{backgroundColor:"#d32f2f",color:"white",border:"none",padding:"10px 20px",borderRadius:"4px",cursor:"pointer",fontSize:"14px"}},ele=()=>{const t=ls(),[e,n]=O.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[r,a]=O.useState(""),[o,i]=O.useState(!1),[s,u]=O.useState(!1),[c,f]=O.useState(!1),h=y=>{const{name:b,value:x}=y.target;n(S=>({...S,[b]:x})),b==="newPassword"&&f(x.length>0&&!m(x))},m=y=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(y),g=async y=>{var b,x;if(y.preventDefault(),u(!0),a(""),!m(e.newPassword)){u(!1),a("Password must meet all requirements"),i(!0);return}try{const S=await tt.patch("https://edunova-back-rqxc.onrender.com/api/auth/changePassword",e,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});a(S.data.message||"Password changed successfully!"),i(!1),n({currentPassword:"",newPassword:"",confirmPassword:""}),f(!1),t("/home")}catch(S){a(((x=(b=S.response)==null?void 0:b.data)==null?void 0:x.message)||"Failed to change password"),i(!0)}finally{u(!1)}};return E("div",{style:Jn.container,children:K("div",{style:Jn.card,children:[K("div",{style:Jn.header,children:[E("h2",{style:Jn.heading,children:"Change Password"}),E("div",{style:Jn.logo,children:E("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:E("path",{d:"M12 15V17M6 21H18C19.1046 21 20 20.1046 20 19V13C20 11.8954 19.1046 11 18 11H6C4.89543 11 4 11.8954 4 13V19C4 20.1046 4.89543 21 6 21ZM16 11V7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7V11H16Z",stroke:"rgb(80, 104, 214)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),r&&E("div",{style:{...Jn.alert,...o?Jn.alertError:Jn.alertSuccess},children:r}),K("form",{onSubmit:g,style:Jn.form,children:[K("div",{style:Jn.inputGroup,children:[E("label",{style:Jn.label,children:"Current Password"}),E("input",{type:"password",name:"currentPassword",value:e.currentPassword,onChange:h,required:!0,style:Jn.input,placeholder:"Enter current password"})]}),K("div",{style:Jn.inputGroup,children:[E("label",{style:Jn.label,children:"New Password"}),E("input",{type:"password",name:"newPassword",value:e.newPassword,onChange:h,required:!0,style:Jn.input,placeholder:"Enter new password"}),c&&E("div",{style:Jn.hint,children:"Must contain 8+ characters with uppercase, lowercase, number, and special character"})]}),K("div",{style:Jn.inputGroup,children:[E("label",{style:Jn.label,children:"Confirm New Password"}),E("input",{type:"password",name:"confirmPassword",value:e.confirmPassword,onChange:h,required:!0,style:Jn.input,placeholder:"Confirm new password"})]}),E("button",{type:"submit",disabled:s,style:s?Jn.buttonDisabled:Jn.button,children:s?K(kn,{children:[E("span",{style:Jn.spinner}),"Processing..."]}):"Change Password"})]})]})})},Jn={container:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"#f5f5f5",padding:"20px",fontFamily:"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif"},card:{backgroundColor:"white",borderRadius:"12px",boxShadow:"0 4px 20px rgb(80, 104, 214)",padding:"32px",width:"100%",maxWidth:"450px"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},heading:{color:"rgb(80, 104, 214)",fontSize:"24px",fontWeight:"600",margin:0},logo:{backgroundColor:"#E8F5E9",borderRadius:"50%",width:"40px",height:"40px",display:"flex",justifyContent:"center",alignItems:"center"},form:{display:"flex",flexDirection:"column",gap:"20px"},inputGroup:{display:"flex",flexDirection:"column",gap:"8px"},label:{color:"rgb(80, 104, 214)",fontSize:"14px",fontWeight:"500"},input:{padding:"12px 16px",border:"1px solid rgb(80, 104, 214)",borderRadius:"8px",fontSize:"14px",outline:"none",transition:"all 0.3s",backgroundColor:"#F1F8E9",color:"rgb(80, 104, 214)"},hint:{fontSize:"12px",color:"rgb(80, 104, 214)",marginTop:"4px"},button:{backgroundColor:"rgb(80, 104, 214)",color:"white",border:"none",borderRadius:"8px",padding:"14px",fontSize:"16px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s",display:"flex",justifyContent:"center",alignItems:"center",gap:"8px",marginTop:"8px"},buttonDisabled:{backgroundColor:"#A5D6A7",color:"white",border:"none",borderRadius:"8px",padding:"14px",fontSize:"16px",fontWeight:"600",cursor:"not-allowed",display:"flex",justifyContent:"center",alignItems:"center",gap:"8px",marginTop:"8px"},spinner:{border:"2px solid rgba(255, 255, 255, 0.3)",borderTop:"2px solid white",borderRadius:"50%",width:"16px",height:"16px",animation:"spin 1s linear infinite"},alert:{padding:"12px 16px",borderRadius:"8px",marginBottom:"20px",fontSize:"14px"},alertSuccess:{backgroundColor:"#E8F5E9",color:"#2E7D32",borderLeft:"4px solid rgb(80, 104, 214)"},alertError:{backgroundColor:"#FFEBEE",color:"#C62828",borderLeft:"4px solid #F44336"}},tle=()=>{const t=ls(),[e,n]=O.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[r,a]=O.useState(""),[o,i]=O.useState(!1),[s,u]=O.useState(!1),[c,f]=O.useState(!1),h=y=>{const{name:b,value:x}=y.target;n(S=>({...S,[b]:x})),b==="newPassword"&&f(x.length>0&&!m(x))},m=y=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(y),g=async y=>{var b,x;if(y.preventDefault(),u(!0),a(""),!m(e.newPassword)){u(!1),a("Password must meet all requirements"),i(!0);return}try{const S=await tt.patch("https://edunova-back-rqxc.onrender.com/api/auth/changePassword",e,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});a(S.data.message||"Password changed successfully!"),i(!1),n({currentPassword:"",newPassword:"",confirmPassword:""}),f(!1),t("/dashboard")}catch(S){a(((x=(b=S.response)==null?void 0:b.data)==null?void 0:x.message)||"Failed to change password"),i(!0)}finally{u(!1)}};return E("div",{className:"app-wrapper",children:E("div",{className:"app-content pt-3 p-md-3 p-lg-4",children:E("div",{className:"container-xl",children:E("div",{style:er.container,children:K("div",{style:er.card,children:[K("div",{style:er.header,children:[E("h2",{style:er.heading,children:"Change Password"}),E("div",{style:er.logo,children:E("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:E("path",{d:"M12 15V17M6 21H18C19.1046 21 20 20.1046 20 19V13C20 11.8954 19.1046 11 18 11H6C4.89543 11 4 11.8954 4 13V19C4 20.1046 4.89543 21 6 21ZM16 11V7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7V11H16Z",stroke:"#4CAF50",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),r&&E("div",{style:{...er.alert,...o?er.alertError:er.alertSuccess},children:r}),K("form",{onSubmit:g,style:er.form,children:[K("div",{style:er.inputGroup,children:[E("label",{style:er.label,children:"Current Password"}),E("input",{type:"password",name:"currentPassword",value:e.currentPassword,onChange:h,required:!0,style:er.input,placeholder:"Enter current password"})]}),K("div",{style:er.inputGroup,children:[E("label",{style:er.label,children:"New Password"}),E("input",{type:"password",name:"newPassword",value:e.newPassword,onChange:h,required:!0,style:er.input,placeholder:"Enter new password"}),c&&E("div",{style:er.hint,children:"Must contain 8+ characters with uppercase, lowercase, number, and special character"})]}),K("div",{style:er.inputGroup,children:[E("label",{style:er.label,children:"Confirm New Password"}),E("input",{type:"password",name:"confirmPassword",value:e.confirmPassword,onChange:h,required:!0,style:er.input,placeholder:"Confirm new password"})]}),E("button",{type:"submit",disabled:s,style:s?er.buttonDisabled:er.button,children:s?K(kn,{children:[E("span",{style:er.spinner}),"Processing..."]}):"Change Password"})]})]})})})})})},er={container:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"#f5f5f5",padding:"20px",fontFamily:"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif"},card:{backgroundColor:"white",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.08)",padding:"32px",width:"100%",maxWidth:"450px"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},heading:{color:"#2E7D32",fontSize:"24px",fontWeight:"600",margin:0},logo:{backgroundColor:"#E8F5E9",borderRadius:"50%",width:"40px",height:"40px",display:"flex",justifyContent:"center",alignItems:"center"},form:{display:"flex",flexDirection:"column",gap:"20px"},inputGroup:{display:"flex",flexDirection:"column",gap:"8px"},label:{color:"#2E7D32",fontSize:"14px",fontWeight:"500"},input:{padding:"12px 16px",border:"1px solid #C8E6C9",borderRadius:"8px",fontSize:"14px",outline:"none",transition:"all 0.3s",backgroundColor:"#F1F8E9",color:"#33691E"},hint:{fontSize:"12px",color:"#689F38",marginTop:"4px"},button:{backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"8px",padding:"14px",fontSize:"16px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s",display:"flex",justifyContent:"center",alignItems:"center",gap:"8px",marginTop:"8px"},buttonDisabled:{backgroundColor:"#A5D6A7",color:"white",border:"none",borderRadius:"8px",padding:"14px",fontSize:"16px",fontWeight:"600",cursor:"not-allowed",display:"flex",justifyContent:"center",alignItems:"center",gap:"8px",marginTop:"8px"},spinner:{border:"2px solid rgba(255, 255, 255, 0.3)",borderTop:"2px solid white",borderRadius:"50%",width:"16px",height:"16px",animation:"spin 1s linear infinite"},alert:{padding:"12px 16px",borderRadius:"8px",marginBottom:"20px",fontSize:"14px"},alertSuccess:{backgroundColor:"#E8F5E9",color:"#2E7D32",borderLeft:"4px solid #4CAF50"},alertError:{backgroundColor:"#FFEBEE",color:"#C62828",borderLeft:"4px solid #F44336"}},nle=({isOpen:t,onClose:e,onPostCreated:n})=>{const[r,a]=O.useState(""),[o,i]=O.useState(""),[s,u]=O.useState(""),[c,f]=O.useState(!1),[h,m]=O.useState(null),g=async y=>{var b,x;if(y.preventDefault(),!(!r.trim()||!o.trim())){f(!0),m(null);try{const S=await tt.post("https://edunova-back-rqxc.onrender.com/api/forum/posts",{title:r,content:o,tags:s},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});n(S.data),a(""),i(""),u(""),e()}catch(S){m(((x=(b=S.response)==null?void 0:b.data)==null?void 0:x.message)||"Failed to create post")}finally{f(!1)}}};return t?K(kn,{children:[E("style",{jsx:!0,children:`
        .modal-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.5);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          backdrop-filter: blur(4px);
          animation: fadeIn 0.3s ease;
        }
        
        .modal-container {
          background: white;
          border-radius: 16px;
          box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
          width: 100%;
          max-width: 500px;
          margin: 0 20px;
          transform: translateY(0);
          animation: slideUp 0.3s ease;
        }
        
        .modal-header {
          padding: 24px;
          border-bottom: 1px solid #f0f0f0;
        }
        
        .modal-title {
          font-size: 1.5rem;
          font-weight: 700;
          color: #111827;
          margin: 0;
        }
        
        .modal-body {
          padding: 24px;
        }
        
        .error-alert {
          background: #fef2f2;
          border-left: 4px solid #ef4444;
          padding: 12px;
          margin-bottom: 16px;
          border-radius: 0 8px 8px 0;
        }
        
        .error-message {
          color: #dc2626;
          font-size: 0.875rem;
          margin: 0;
        }
        
        .form-group {
          margin-bottom: 20px;
        }
        
        .form-label {
          display: block;
          margin-bottom: 8px;
          font-weight: 500;
          color: #374151;
          font-size: 0.875rem;
        }
        
        .form-input {
          width: 100%;
          padding: 12px;
          border: 1px solid #e5e7eb;
          border-radius: 8px;
          font-size: 0.9375rem;
          transition: all 0.2s ease;
        }
        
        .form-input:focus {
          outline: none;
          border-color: #4f46e5;
          box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
        }
        
        .form-textarea {
          min-height: 150px;
          resize: vertical;
        }
        
        .modal-footer {
          display: flex;
          justify-content: flex-end;
          gap: 12px;
          padding: 16px 24px;
          border-top: 1px solid #f0f0f0;
        }
        
        .btn {
          padding: 10px 20px;
          border-radius: 8px;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.2s ease;
          display: inline-flex;
          align-items: center;
          justify-content: center;
        }
        
        .btn-secondary {
          background: white;
          border: 1px solid #e5e7eb;
          color: #374151;
        }
        
        .btn-secondary:hover {
          background: #f9fafb;
        }
        
        .btn-primary {
          background: #4f46e5;
          color: white;
          border: none;
        }
        
        .btn-primary:hover {
          background: #4338ca;
        }
        
        .btn-primary:disabled {
          background: #a5b4fc;
          cursor: not-allowed;
        }
        
        .spinner {
          width: 16px;
          height: 16px;
          border: 2px solid rgba(255, 255, 255, 0.3);
          border-radius: 50%;
          border-top-color: white;
          animation: spin 1s ease-in-out infinite;
          margin-right: 8px;
        }
        
        .input-description {
          font-size: 0.75rem;
          color: #6b7280;
          margin-top: 4px;
        }
        
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        
        @keyframes slideUp {
          from { transform: translateY(20px); opacity: 0.8; }
          to { transform: translateY(0); opacity: 1; }
        }
        
        @keyframes spin {
          to { transform: rotate(360deg); }
        }
      `}),E("div",{className:"modal-overlay",children:K("div",{className:"modal-container",children:[E("div",{className:"modal-header",children:E("h2",{className:"modal-title",children:"Create New Post"})}),K("div",{className:"modal-body",children:[h&&E("div",{className:"error-alert",children:E("p",{className:"error-message",children:h})}),K("form",{onSubmit:g,children:[K("div",{className:"form-group",children:[E("label",{htmlFor:"title",className:"form-label",children:"Title"}),E("input",{type:"text",id:"title",value:r,onChange:y=>a(y.target.value),className:"form-input",required:!0,maxLength:100})]}),K("div",{className:"form-group",children:[E("label",{htmlFor:"content",className:"form-label",children:"Content"}),E("textarea",{id:"content",value:o,onChange:y=>i(y.target.value),className:"form-input form-textarea",required:!0,maxLength:2e3})]}),K("div",{className:"form-group",children:[E("label",{htmlFor:"tags",className:"form-label",children:"Tags"}),E("input",{type:"text",id:"tags",value:s,onChange:y=>u(y.target.value),className:"form-input",placeholder:"e.g., javascript,react,mern",maxLength:100}),E("p",{className:"input-description",children:"Enter tags separated by commas (e.g., javascript, react, mern)"})]}),K("div",{className:"modal-footer",children:[E("button",{type:"button",onClick:e,className:"btn btn-secondary",disabled:c,children:"Cancel"}),E("button",{type:"submit",className:"btn btn-primary",disabled:c||!r.trim()||!o.trim(),children:c?K(kn,{children:[E("span",{className:"spinner"}),"Posting..."]}):"Create Post"})]})]})]})]})})]}):null},rle=({posts:t})=>{const e=Array.isArray(t)?t:[],[n,r]=O.useState([]),[a,o]=O.useState(!0);return O.useEffect(()=>{(async()=>{try{const s=await tt.get("https://edunova-back-rqxc.onrender.com/api/forum/recommended",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});r(s.data)}catch(s){console.error("Failed to fetch recommended posts",s)}finally{o(!1)}})()},[]),K(kn,{children:[E("style",{jsx:!0,children:`
        :root {
          --primary: #6366f1;
          --primary-light: #818cf8;
          --text: #1f2937;
          --text-light: #6b7280;
          --bg-card: #ffffff;
          --bg-hover: #f9fafb;
          --border-radius: 12px;
          --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.05);
          --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.08);
          --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.1);
          --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .post-list {
          display: flex;
          flex-direction: column;
          gap: 1.25rem;
        }

        .post-card {
          background: var(--bg-card);
          padding: 1.75rem;
          border-radius: var(--border-radius);
          box-shadow: var(--shadow-md);
          transition: var(--transition);
          cursor: pointer;
          position: relative;
          overflow: hidden;
          border: 1px solid rgba(0, 0, 0, 0.03);
        }

        .post-card::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          width: 4px;
          height: 100%;
          background: linear-gradient(to bottom, var(--primary), var(--primary-light));
          opacity: 0;
          transition: var(--transition);
        }

        .post-card:hover {
          transform: translateY(-4px);
          box-shadow: var(--shadow-lg);
          background: var(--bg-hover);
        }

        .post-card:hover::before {
          opacity: 1;
        }

        .post-title {
          font-size: 1.25rem;
          font-weight: 700;
          color: var(--text);
          margin-bottom: 0.75rem;
          transition: var(--transition);
          display: flex;
          justify-content: space-between;
          align-items: center;
        }

        .post-title:hover {
          color: var(--primary);
        }

        .post-title-text {
          flex: 1;
        }

        .post-arrow {
          opacity: 0;
          transform: translateX(-5px);
          transition: var(--transition);
          color: var(--primary);
        }

        .post-card:hover .post-arrow {
          opacity: 1;
          transform: translateX(0);
        }

        .post-content {
          color: var(--text-light);
          font-size: 0.95rem;
          line-height: 1.6;
          margin-bottom: 1.5rem;
          overflow: hidden;
          text-overflow: ellipsis;
          display: -webkit-box;
          -webkit-line-clamp: 2;
          -webkit-box-orient: vertical;
        }

        .post-meta {
          display: flex;
          justify-content: space-between;
          font-size: 0.85rem;
          color: var(--text-light);
          gap: 1.25rem;
          flex-wrap: wrap;
        }

        .meta-item {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          transition: var(--transition);
        }

        .meta-item:hover {
          color: var(--primary);
        }

        .meta-item svg {
          flex-shrink: 0;
        }

        .empty-state {
          text-align: center;
          padding: 4rem 2rem;
          background: var(--bg-card);
          border-radius: var(--border-radius);
          box-shadow: var(--shadow-sm);
          margin: 2rem 0;
        }

        .empty-icon {
          font-size: 3rem;
          color: var(--primary-light);
          margin-bottom: 1.5rem;
          opacity: 0.7;
        }

        .empty-title {
          font-size: 1.25rem;
          font-weight: 600;
          color: var(--text);
          margin-bottom: 0.5rem;
        }

        .empty-message {
          color: var(--text-light);
          font-size: 1rem;
          max-width: 400px;
          margin: 0 auto;
        }

        .empty-action {
          margin-top: 1.5rem;
        }

        .empty-btn {
          display: inline-flex;
          align-items: center;
          gap: 0.5rem;
          padding: 0.75rem 1.5rem;
          background: var(--primary);
          color: white;
          border: none;
          border-radius: var(--border-radius);
          font-weight: 500;
          cursor: pointer;
          transition: var(--transition);
          text-decoration: none;
        }

        .empty-btn:hover {
          background: var(--primary-light);
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(99, 102, 241, 0.2);
        }

        @media (max-width: 768px) {
          .post-card {
            padding: 1.5rem;
          }
          
          .post-title {
            font-size: 1.15rem;
          }
          
          .post-meta {
            gap: 1rem;
          }
        }

        /* Animation for post cards */
        @keyframes fadeInUp {
          from {
            opacity: 0;
            transform: translateY(15px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .post-card {
          animation: fadeInUp 0.6s ease forwards;
          opacity: 0;
        }

        .post-card:nth-child(1) { animation-delay: 0.1s; }
        .post-card:nth-child(2) { animation-delay: 0.2s; }
        .post-card:nth-child(3) { animation-delay: 0.3s; }
        .post-card:nth-child(4) { animation-delay: 0.4s; }
        .post-card:nth-child(5) { animation-delay: 0.5s; }
        .post-card:nth-child(6) { animation-delay: 0.6s; }

        /* New styles for recommended section */
        .recommended-section {
          margin-bottom: 3rem;
        }

        .section-header {
          display: flex;
          align-items: center;
          gap: 0.75rem;
          margin-bottom: 1.5rem;
        }

        .section-title {
          font-size: 1.5rem;
          font-weight: 700;
          color: var(--text);
          margin: 0;
        }

        .section-icon {
          color: var(--primary);
        }

        .loading-spinner {
          display: inline-block;
          width: 20px;
          height: 20px;
          border: 3px solid rgba(99, 102, 241, 0.3);
          border-radius: 50%;
          border-top-color: var(--primary);
          animation: spin 1s ease-in-out infinite;
          margin-right: 8px;
        }

        @keyframes spin {
          to { transform: rotate(360deg); }
        }
      `}),K("div",{children:[K("div",{className:"recommended-section",children:[K("div",{className:"section-header",children:[E(Use,{className:"section-icon"}),E("h2",{className:"section-title",children:"Recommended For You"})]}),a?K("div",{className:"post-card",style:{textAlign:"center",padding:"2rem"},children:[E("span",{className:"loading-spinner"}),"Loading recommendations..."]}):n.length>0?E("div",{className:"post-list",children:n.map(i=>{var s,u,c;return E(Rx,{to:`/forum/posts/${i._id}`,className:"post-card",children:K("div",{children:[K("h2",{className:"post-title",children:[E("span",{className:"post-title-text",children:i.title}),E(Zk,{className:"post-arrow"})]}),E("p",{className:"post-content",children:i.content}),K("div",{className:"post-meta",children:[K("div",{className:"meta-item",children:[E(Nm,{}),E("span",{children:((s=i.author)==null?void 0:s.name)||"Anonymous"})]}),K("div",{className:"meta-item",children:[E(km,{}),E("span",{children:py(new Date(i.createdAt),{addSuffix:!0})})]}),K("div",{className:"meta-item",children:[E(Sc,{}),K("span",{children:[((u=i.replies)==null?void 0:u.length)||0," ",((c=i.replies)==null?void 0:c.length)===1?"reply":"replies"]})]})]})]})},i._id)})}):E("div",{className:"post-card",style:{textAlign:"center",padding:"2rem"},children:"No recommendations available. please enroll in modules to get recommendations."})]}),K("div",{children:[K("div",{className:"section-header",children:[E(Sc,{className:"section-icon"}),E("h2",{className:"section-title",children:"All Discussions"})]}),E("div",{className:"post-list",children:e.length===0?K("div",{className:"empty-state",children:[E("div",{className:"empty-icon",children:E(Sc,{})}),E("h3",{className:"empty-title",children:"No discussions yet"}),E("p",{className:"empty-message",children:"Be the first to start a conversation in our community forum."}),E("div",{className:"empty-action",children:K(Rx,{to:"/forum/new",className:"empty-btn",children:[E(bS,{})," Create Post"]})})]}):e.map(i=>{var s,u,c;return E(Rx,{to:`/forum/posts/${i._id}`,className:"post-card",children:K("div",{children:[K("h2",{className:"post-title",children:[E("span",{className:"post-title-text",children:i.title}),E(Zk,{className:"post-arrow"})]}),E("p",{className:"post-content",children:i.content}),K("div",{className:"post-meta",children:[K("div",{className:"meta-item",children:[E(Nm,{}),E("span",{children:((s=i.author)==null?void 0:s.name)||"Anonymous"})]}),K("div",{className:"meta-item",children:[E(km,{}),E("span",{children:py(new Date(i.createdAt),{addSuffix:!0})})]}),K("div",{className:"meta-item",children:[E(Sc,{}),K("span",{children:[((u=i.replies)==null?void 0:u.length)||0," ",((c=i.replies)==null?void 0:c.length)===1?"reply":"replies"]})]})]})]})},i._id)})})]})]})]})},ale=()=>{const[t,e]=O.useState([]),[n,r]=O.useState([]),[a,o]=O.useState(!0),[i,s]=O.useState(!0),[u,c]=O.useState(null),[f,h]=O.useState(null),[m,g]=O.useState(!1);O.useEffect(()=>{document.title="Forum"},[]),O.useEffect(()=>{(async()=>{var x,S,R,_;try{const T=await tt.get("https://edunova-back-rqxc.onrender.com/api/forum/posts");e(T.data);const A=await tt.get("https://edunova-back-rqxc.onrender.com/api/forum/topPosts");r(A.data),o(!1),s(!1)}catch(T){c(((S=(x=T.response)==null?void 0:x.data)==null?void 0:S.message)||"Failed to fetch posts"),h(((_=(R=T.response)==null?void 0:R.data)==null?void 0:_.message)||"Failed to fetch top posts"),o(!1),s(!1)}})()},[]);const y=b=>{e([b,...t])};return K(kn,{children:[E("style",{jsx:!0,children:`
        :root {
          --primary: #6366f1;
          --primary-hover: #4f46e5;
          --secondary: #f9fafb;
          --text: #1f2937;
          --text-light: #6b7280;
          --background:rgb(255, 255, 255);
          --card-bg: #ffffff;
          --error: #ef4444;
          --success: #10b981;
          --border-radius: 12px;
          --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.1);
          --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1);
          --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.1);
          --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
          box-sizing: border-box;
          margin: 0;
          padding: 0;
        }

        body {
          background: radial-gradient(circle at center, rgb(253, 253, 253), rgb(217, 227, 249));
          font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
          color: var(--text);
          line-height: 1.6;
        }

        .forum-container {
          max-width: 1200px;
          margin: 0 auto;
          padding: 2rem 1.5rem;
        }

        .forum-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 3rem;
          padding: 2rem;
          background: var(--card-bg);
          border-radius: var(--border-radius);
          box-shadow: var(--shadow-md);
          position: relative;
          overflow: hidden;
        }

        .forum-header::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          width: 4px;
          height: 100%;
          background: linear-gradient(to bottom, var(--primary), #8b5cf6);
        }

        .forum-title {
          display: flex;
          align-items: center;
          gap: 1rem;
          font-size: 1.75rem;
          font-weight: 700;
          margin: 0;
          color: var(--text);
        }

        .forum-title svg {
          color: var(--primary);
        }

        .new-post-btn {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          padding: 0.75rem 1.75rem;
          background: var(--primary);
          color: white;
          border: none;
          border-radius: var(--border-radius);
          font-weight: 600;
          cursor: pointer;
          transition: var(--transition);
          box-shadow: 0 4px 14px rgba(99, 102, 241, 0.3);
        }

        .new-post-btn:hover {
          background: var(--primary-hover);
          transform: translateY(-2px);
          box-shadow: 0 6px 20px rgba(99, 102, 241, 0.4);
        }

        .fab-btn {
          position: fixed;
          bottom: 2.5rem;
          right: 2.5rem;
          width: 60px;
          height: 60px;
          display: flex;
          align-items: center;
          justify-content: center;
          background: var(--primary);
          color: white;
          border: none;
          border-radius: 50%;
          cursor: pointer;
          box-shadow: 0 8px 25px rgba(99, 102, 241, 0.4);
          transition: var(--transition);
          z-index: 100;
        }

        .fab-btn:hover {
          background: var(--primary-hover);
          transform: scale(1.1) translateY(-5px);
          box-shadow: 0 12px 30px rgba(99, 102, 241, 0.5);
        }

        .posts-container {
          background: var(--card-bg);
          border-radius: var(--border-radius);
          padding: 2.5rem;
          box-shadow: var(--shadow-md);
          margin-bottom: 3rem;
        }

        .top-posts-container {
          background: var(--card-bg);
          border-radius: var(--border-radius);
          padding: 2.5rem;
          box-shadow: var(--shadow-md);
          margin-bottom: 3rem;
        }

        .section-title {
          display: flex;
          align-items: center;
          gap: 1rem;
          font-size: 1.5rem;
          font-weight: 700;
          color: var(--text);
          margin-bottom: 2rem;
          position: relative;
          padding-bottom: 0.75rem;
        }

        .section-title::after {
          content: '';
          position: absolute;
          bottom: 0;
          left: 0;
          width: 60px;
          height: 4px;
          background: linear-gradient(to right, var(--primary), #8b5cf6);
          border-radius: 2px;
        }

        .section-title svg {
          color: var(--primary);
        }

        .top-posts-grid {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
          gap: 1.75rem;
        }

        .top-post-card {
          padding: 1.75rem;
          border-radius: var(--border-radius);
          background: var(--card-bg);
          border-left: 4px solid var(--primary);
          transition: var(--transition);
          box-shadow: var(--shadow-sm);
          position: relative;
          overflow: hidden;
        }

        .top-post-card:hover {
          transform: translateY(-5px);
          box-shadow: var(--shadow-lg);
        }

        .top-post-card::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: linear-gradient(135deg, rgba(99, 102, 241, 0.03) 0%, rgba(99, 102, 241, 0) 100%);
          z-index: 0;
        }

        .top-post-title {
          font-weight: 700;
          margin-bottom: 1rem;
          color: var(--text);
          font-size: 1.1rem;
          position: relative;
          z-index: 1;
        }

        .top-post-content {
          color: var(--text-light);
          margin-bottom: 1.5rem;
          font-size: 0.95rem;
          position: relative;
          z-index: 1;
        }

        .top-post-meta {
          display: flex;
          justify-content: space-between;
          font-size: 0.875rem;
          color: var(--text-light);
          margin-top: 1.5rem;
          position: relative;
          z-index: 1;
        }

        .top-post-author, .top-post-replies, .top-post-time {
          display: flex;
          align-items: center;
          gap: 0.35rem;
        }

        .top-post-replies {
          color: var(--primary);
          font-weight: 600;
        }

        .top-post-author svg, .top-post-time svg {
          color: var(--text-light);
        }

        .loading-state {
          display: flex;
          justify-content: center;
          align-items: center;
          height: 70vh;
        }

        .spinner {
          width: 56px;
          height: 56px;
          border: 5px solid rgba(99, 102, 241, 0.1);
          border-top-color: var(--primary);
          border-radius: 50%;
          animation: spin 1s linear infinite;
          position: relative;
        }

        .spinner::after {
          content: '';
          position: absolute;
          top: -5px;
          left: -5px;
          right: -5px;
          bottom: -5px;
          border: 5px solid transparent;
          border-radius: 50%;
          border-top-color: rgba(99, 102, 241, 0.3);
          animation: spin 1.5s linear infinite reverse;
        }

        .error-state {
          display: flex;
          flex-direction: column;
          justify-content: center;
          align-items: center;
          height: 70vh;
          text-align: center;
          padding: 2rem;
        }

        .error-card {
          background: var(--card-bg);
          padding: 3rem;
          border-radius: var(--border-radius);
          box-shadow: var(--shadow-md);
          max-width: 500px;
          border-left: 4px solid var(--error);
          position: relative;
          overflow: hidden;
        }

        .error-card::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: linear-gradient(135deg, rgba(239, 68, 68, 0.03) 0%, rgba(239, 68, 68, 0) 100%);
          z-index: 0;
        }

        .error-title {
          color: var(--error);
          margin-bottom: 1.5rem;
          font-size: 1.5rem;
          font-weight: 700;
          position: relative;
          z-index: 1;
        }

        .error-message {
          color: var(--text-light);
          margin-bottom: 1.5rem;
          position: relative;
          z-index: 1;
        }

        .retry-btn {
          margin-top: 1.5rem;
          padding: 0.75rem 1.75rem;
          background: var(--error);
          color: white;
          border: none;
          border-radius: var(--border-radius);
          font-weight: 600;
          cursor: pointer;
          transition: var(--transition);
          position: relative;
          z-index: 1;
          box-shadow: 0 4px 14px rgba(239, 68, 68, 0.3);
        }

        .retry-btn:hover {
          background: #dc2626;
          transform: translateY(-2px);
          box-shadow: 0 6px 20px rgba(239, 68, 68, 0.4);
        }

        @keyframes spin {
          to {
            transform: rotate(360deg);
          }
        }

        @media (max-width: 768px) {
          .forum-header {
            flex-direction: column;
            gap: 1.5rem;
            text-align: center;
            padding: 1.5rem;
          }
          
          .forum-title {
            font-size: 1.5rem;
          }
          
          .posts-container, .top-posts-container {
            padding: 1.75rem;
          }
          
          .top-posts-grid {
            grid-template-columns: 1fr;
          }

          .section-title {
            font-size: 1.3rem;
          }

          .fab-btn {
            width: 56px;
            height: 56px;
            bottom: 1.5rem;
            right: 1.5rem;
          }
        }

        @media (max-width: 480px) {
          .forum-container {
            padding: 1rem;
          }

          .top-post-card {
            padding: 1.5rem;
          }

          .new-post-btn {
            padding: 0.65rem 1.5rem;
            font-size: 0.9rem;
          }
        }

        /* Animation for cards when they load */
        @keyframes fadeInUp {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .top-post-card {
          animation: fadeInUp 0.6s ease forwards;
          opacity: 0;
        }

        .top-post-card:nth-child(1) { animation-delay: 0.1s; }
        .top-post-card:nth-child(2) { animation-delay: 0.2s; }
        .top-post-card:nth-child(3) { animation-delay: 0.3s; }
        .top-post-card:nth-child(4) { animation-delay: 0.4s; }
        .top-post-card:nth-child(5) { animation-delay: 0.5s; }
        .top-post-card:nth-child(6) { animation-delay: 0.6s; }
      `}),E("br",{}),E("br",{}),a?E("div",{className:"loading-state",children:E("div",{className:"spinner"})}):u?E("div",{className:"error-state",children:K("div",{className:"error-card",children:[E("h2",{className:"error-title",children:"Something went wrong"}),E("p",{className:"error-message",children:u}),E("button",{className:"retry-btn",onClick:()=>window.location.reload(),children:"Try Again"})]})}):K("div",{className:"forum-container",children:[K("header",{className:"forum-header",children:[K("h1",{className:"forum-title",children:[E(Sc,{size:28})," Community Forum"]}),K("button",{className:"new-post-btn",onClick:()=>g(!0),children:[E(bS,{size:18})," New Post"]})]}),K("div",{className:"top-posts-container",children:[K("h2",{className:"section-title",children:[E(Hse,{size:22})," Trending Discussions"]}),i?E("div",{style:{display:"flex",justifyContent:"center",padding:"3rem"},children:E("div",{className:"spinner"})}):f?E("div",{style:{color:"var(--error)",textAlign:"center",padding:"1.5rem",background:"var(--card-bg)",borderRadius:"var(--border-radius)",boxShadow:"var(--shadow-sm)"},children:f}):E("div",{className:"top-posts-grid",children:n.map(b=>{var x;return K("div",{className:"top-post-card",children:[E("h3",{className:"top-post-title",children:b.title}),E("p",{className:"top-post-content",children:b.content.length>120?`${b.content.substring(0,120)}...`:b.content}),K("div",{className:"top-post-meta",children:[K("span",{className:"top-post-author",children:[E(Nm,{size:14})," ",((x=b.author)==null?void 0:x.name)||"Anonymous"]}),"   ",K("span",{className:"top-post-replies",children:[E(Sc,{size:14})," ",K("span",{children:[b.replyCount," replies"]})]}),"   ",K("span",{className:"top-post-time",children:[E(km,{size:14})," ",new Date(b.createdAt).toLocaleDateString()]})]})]},b._id)})})]}),E("div",{className:"posts-container",children:E(rle,{posts:t})}),E("button",{className:"fab-btn",onClick:()=>g(!0),"aria-label":"Create new post",children:E(bS,{size:24})}),E(nle,{isOpen:m,onClose:()=>g(!1),onPostCreated:y})]})]})},ole=({postId:t,onReplyAdded:e})=>{const[n,r]=O.useState(""),[a,o]=O.useState(!1),[i,s]=O.useState(null),[u,c]=O.useState(!1),[f,h]=O.useState(null),[m,g]=O.useState(""),[y,b]=O.useState(null),x=O.useRef(null),S=O.useRef([]);O.useEffect(()=>()=>{m&&URL.revokeObjectURL(m)},[m]);const R=async()=>{try{r(""),b("voice");const N=await navigator.mediaDevices.getUserMedia({audio:!0});x.current=new MediaRecorder(N),S.current=[],x.current.ondataavailable=M=>{M.data.size>0&&S.current.push(M.data)},x.current.onstop=()=>{const M=new Blob(S.current,{type:"audio/wav"});h(M),g(URL.createObjectURL(M)),N.getTracks().forEach(P=>P.stop())},x.current.start(),c(!0)}catch(N){console.error("Error accessing microphone:",N),s("Microphone access denied or not available")}},_=()=>{x.current&&u&&(x.current.stop(),c(!1))},T=()=>{h(null),g(""),b(null),m&&URL.revokeObjectURL(m)};return K(kn,{children:[E("style",{jsx:!0,children:`
        .reply-form {
          background-color: #ffffff;
          border-radius: 12px;
          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
          padding: 24px;
          border: 1px solid #e5e7eb;
          transition: all 0.2s ease;
          margin-bottom: 20px;
        }

        .reply-form-title {
          font-size: 1.25rem;
          font-weight: 600;
          color: #1f2937;
          margin-bottom: 16px;
          display: flex;
          align-items: center;
        }

        .title-indicator {
          display: inline-block;
          width: 6px;
          height: 6px;
          background-color: #3b82f6;
          border-radius: 50%;
          margin-right: 8px;
        }

        .reply-error {
          background-color: #fef2f2;
          border-left: 4px solid #ef4444;
          padding: 12px;
          margin-bottom: 16px;
          border-radius: 0 6px 6px 0;
        }

        .reply-error p {
          font-size: 0.875rem;
          color: #dc2626;
          margin: 0;
        }

        .textarea-container {
          position: relative;
          margin-bottom: 16px;
        }

        .reply-textarea {
          width: 100%;
          padding: 16px;
          border: 1px solid #e5e7eb;
          border-radius: 8px;
          font-size: 0.9375rem;
          color: #1f2937;
          background-color: #ffffff;
          resize: none;
          min-height: 120px;
          transition: all 0.2s ease;
        }

        .reply-textarea:focus {
          outline: none;
          border-color: #3b82f6;
          box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
        }

        .char-counter {
          position: absolute;
          bottom: 12px;
          right: 12px;
          font-size: 0.75rem;
          color: #9ca3af;
        }

        .audio-controls {
          display: flex;
          gap: 10px;
          margin-bottom: 16px;
          align-items: center;
        }

        .audio-preview {
          display: flex;
          align-items: center;
          gap: 10px;
          margin-bottom: 16px;
        }

        .audio-preview audio {
          flex-grow: 1;
        }

        .recording-indicator {
          display: flex;
          align-items: center;
          color: #ef4444;
          font-size: 0.875rem;
        }

        .recording-dot {
          width: 8px;
          height: 8px;
          background-color: #ef4444;
          border-radius: 50%;
          margin-right: 6px;
          animation: pulse 1.5s infinite;
        }

        .mode-selector {
          display: flex;
          gap: 10px;
          margin-bottom: 16px;
        }

        .mode-button {
          display: flex;
          align-items: center;
          padding: 8px 16px;
          background-color: #f3f4f6;
          border: none;
          border-radius: 8px;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.2s ease;
        }

        .mode-button.active {
          background-color: #3b82f6;
          color: white;
        }

        .mode-button:not(.active):hover {
          background-color: #e5e7eb;
        }

        .form-footer {
          display: flex;
          justify-content: space-between;
          align-items: center;
        }

        .submit-button {
          display: flex;
          align-items: center;
          padding: 10px 20px;
          background-color: #3b82f6;
          color: white;
          border: none;
          border-radius: 8px;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.2s ease;
        }

        .submit-button:hover:not(:disabled) {
          background-color: #2563eb;
        }

        .submit-button:disabled {
          opacity: 0.7;
          cursor: not-allowed;
        }

        .submit-button.submitting {
          background-color: #60a5fa;
        }

        .icon {
          margin-right: 8px;
        }

        .spinner {
          display: inline-block;
          width: 16px;
          height: 16px;
          margin-right: 8px;
          border: 2px solid rgba(255, 255, 255, 0.3);
          border-radius: 50%;
          border-top-color: white;
          animation: spin 1s ease-in-out infinite;
        }

        .record-button {
          display: flex;
          align-items: center;
          padding: 8px 16px;
          background-color: ${u?"#ef4444":"#f3f4f6"};
          color: ${u?"white":"#1f2937"};
          border: none;
          border-radius: 8px;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.2s ease;
        }

        .record-button:hover:not(:disabled) {
          background-color: ${u?"#dc2626":"#e5e7eb"};
        }

        .delete-button {
          display: flex;
          align-items: center;
          padding: 8px;
          background-color: #f3f4f6;
          color: #ef4444;
          border: none;
          border-radius: 8px;
          cursor: pointer;
          transition: all 0.2s ease;
        }

        .delete-button:hover {
          background-color: #fee2e2;
        }

        @keyframes spin {
          to { transform: rotate(360deg); }
        }

        @keyframes pulse {
          0% { opacity: 1; }
          50% { opacity: 0.3; }
          100% { opacity: 1; }
        }

        /* Dark mode support */
        @media (prefers-color-scheme: dark) {
          .reply-form {
            background-color: #1e293b;
            border-color: #334155;
          }
          
          .reply-form-title {
            color: #f8fafc;
          }
          
          .reply-error {
            background-color: rgba(220, 38, 38, 0.1);
            border-left-color: #f87171;
          }
          
          .reply-error p {
            color: #fca5a5;
          }
          
          .reply-textarea {
            background-color: #1e293b;
            border-color: #334155;
            color: #f8fafc;
          }
          
          .char-counter {
            color: #94a3b8;
          }

          .mode-button {
            background-color: #374151;
            color: #f3f4f6;
          }

          .mode-button.active {
            background-color: #3b82f6;
          }

          .mode-button:not(.active):hover {
            background-color: #4b5563;
          }

          .record-button {
            background-color: ${u?"#ef4444":"#374151"};
            color: ${u?"white":"#f3f4f6"};
          }

          .record-button:hover:not(:disabled) {
            background-color: ${u?"#dc2626":"#4b5563"};
          }

          .delete-button {
            background-color: #374151;
            color: #fca5a5;
          }

          .delete-button:hover {
            background-color: rgba(220, 38, 38, 0.2);
          }
        }
      `}),K("div",{className:"reply-form",children:[K("h3",{className:"reply-form-title",children:[E("span",{className:"title-indicator"}),"Add Your Reply"]}),i&&E("div",{className:"reply-error",children:E("p",{children:i})}),K("form",{onSubmit:async N=>{var M,P;if(N.preventDefault(),!(y==="text"&&!n.trim()||y==="voice"&&!f)){o(!0),s(null);try{let I;if(y==="voice"){const $=new FormData;$.append("audio",f,"recording.wav"),$.append("author",localStorage.getItem("userId")),console.log(t),I=await tt.post(`https://edunova-back-rqxc.onrender.com/api/forum/posts/${t}/reply/audio`,$,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${localStorage.getItem("token")}`}})}else I=await tt.post(`https://edunova-back-rqxc.onrender.com/api/forum/posts/${t}/reply`,{content:n},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});e(I.data),r(""),T(),b(null)}catch(I){s(((P=(M=I.response)==null?void 0:M.data)==null?void 0:P.message)||"Your message is Toxic ")}finally{o(!1)}}},children:[K("div",{className:"mode-selector",children:[E("button",{type:"button",className:`mode-button ${y==="text"?"active":""}`,onClick:()=>b("text"),children:E(zse,{className:"icon"})}),E("button",{type:"button",className:`mode-button ${y==="voice"?"active":""}`,onClick:()=>{r(""),b("voice")},children:E(yS,{className:"icon"})})]}),y==="text"&&K("div",{className:"textarea-container",children:[E("textarea",{value:n,onChange:N=>r(N.target.value),className:"reply-textarea",rows:"4",placeholder:"Share your thoughts..."}),K("div",{className:"char-counter",children:[n.length,"/500"]})]}),y==="voice"&&E("div",{className:"audio-controls",children:!u&&!m?K("button",{type:"button",className:"record-button",onClick:R,disabled:a,children:[E(yS,{className:"icon"}),"Start Recording"]}):u?K(kn,{children:[K("div",{className:"recording-indicator",children:[E("span",{className:"recording-dot"}),"Recording..."]}),K("button",{type:"button",className:"record-button",onClick:_,children:[E(Vse,{className:"icon"}),"Stop Recording"]})]}):K("div",{className:"audio-preview",children:[E("audio",{controls:!0,src:m}),E("button",{type:"button",className:"delete-button",onClick:T,disabled:a,children:E(Wse,{})})]})}),K("div",{className:"form-footer",children:[K("div",{className:"format-info",children:[y==="text"&&"Type your reply",y==="voice"&&(m?"Voice message ready":"Record a voice message"),!y&&"Select reply type"]}),E("button",{type:"submit",className:`submit-button ${a?"submitting":""}`,disabled:a||y==="text"&&!n.trim()||y==="voice"&&!m||!y,children:a?K(kn,{children:[E("span",{className:"spinner"}),"Posting..."]}):K(kn,{children:[E($se,{className:"icon"}),"Post Reply"]})})]})]})]})]})},ile=()=>{var c,f,h,m;const{id:t}=DS(),[e,n]=O.useState(null),[r,a]=O.useState(!0),[o,i]=O.useState(null);O.useEffect(()=>{(async()=>{var y,b;try{const x=await tt.get(`https://edunova-back-rqxc.onrender.com/api/forum/posts/${t}`);n(x.data),a(!1)}catch(x){i(((b=(y=x.response)==null?void 0:y.data)==null?void 0:b.message)||"Failed to fetch post"),a(!1)}})()},[t]);const s=async g=>{var y,b;try{await tt.post(`https://edunova-back-rqxc.onrender.com/api/forum/replies/${g}/upvote`,null,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});const x=await tt.get(`https://edunova-back-rqxc.onrender.com/api/forum/posts/${t}`);n(x.data)}catch(x){alert(((b=(y=x.response)==null?void 0:y.data)==null?void 0:b.message)||"Failed to upvote")}},u=g=>{n(y=>({...y,replies:[...y.replies,g]}))};return r?K("div",{className:"loading-container",children:[E("div",{className:"spinner"}),E("style",{jsx:!0,children:`
          .loading-container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 70vh;
          }
          .spinner {
            width: 56px;
            height: 56px;
            border: 4px solid rgba(99, 102, 241, 0.1);
            border-top-color: #6366f1;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            position: relative;
          }
          .spinner::after {
            content: '';
            position: absolute;
            top: -4px;
            left: -4px;
            right: -4px;
            bottom: -4px;
            border: 4px solid transparent;
            border-radius: 50%;
            border-top-color: rgba(99, 102, 241, 0.3);
            animation: spin 1.5s linear infinite reverse;
          }
          @keyframes spin {
            to { transform: rotate(360deg); }
          }
        `})]}):o?K("div",{className:"error-container",children:[K("div",{className:"error-card",children:[E("h3",{className:"error-title",children:"Error Loading Post"}),E("p",{className:"error-message",children:o}),K("a",{href:"/forum",className:"back-btn",children:[E(Qk,{})," Return to Forum"]})]}),E("style",{jsx:!0,children:`
          .error-container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 70vh;
            padding: 2rem;
          }
          .error-card {
            background: white;
            border-radius: 12px;
            padding: 2.5rem;
            max-width: 500px;
            text-align: center;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.08);
            border-left: 4px solid #ef4444;
          }
          .error-title {
            color: #ef4444;
            font-size: 1.5rem;
            margin-bottom: 1rem;
          }
          .error-message {
            color: #6b7280;
            margin-bottom: 1.5rem;
          }
          .back-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            background: #6366f1;
            color: white;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
          }
          .back-btn:hover {
            background: #4f46e5;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
          }
        `})]}):e?K("div",{className:"post-detail-container",children:[E("style",{jsx:!0,children:`
        :root {
          --primary: #6366f1;
          --primary-light: #818cf8;
          --text: #1f2937;
          --text-light: #6b7280;
          --bg-card: #ffffff;
          --bg-hover: #f9fafb;
          --border-radius: 12px;
          --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.05);
          --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.08);
          --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.1);
          --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .post-detail-container {
          max-width: 800px;
          margin: 0 auto;
          padding: 2rem 1.5rem;
        }

        .back-button {
          display: inline-flex;
          align-items: center;
          gap: 0.75rem;
          padding: 0.75rem 1.5rem;
          background: white;
          color: var(--primary);
          border-radius: var(--border-radius);
          text-decoration: none;
          font-weight: 600;
          box-shadow: var(--shadow-sm);
          margin-bottom: 2rem;
          transition: var(--transition);
          border: 1px solid rgba(99, 102, 241, 0.2);
        }

        .back-button:hover {
          background: var(--bg-hover);
          transform: translateY(-2px);
          box-shadow: var(--shadow-md);
          color: var(--primary-light);
        }

        .post-card {
          background: var(--bg-card);
          border-radius: var(--border-radius);
          box-shadow: var(--shadow-md);
          padding: 2.5rem;
          margin-bottom: 3rem;
          position: relative;
          overflow: hidden;
        }

        .post-card::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          width: 4px;
          height: 100%;
          background: linear-gradient(to bottom, var(--primary), var(--primary-light));
        }

        .post-title {
          font-size: 2rem;
          font-weight: 800;
          color: var(--text);
          margin-bottom: 1.5rem;
          line-height: 1.3;
        }

        .post-content {
          color: var(--text);
          line-height: 1.8;
          margin-bottom: 2rem;
          white-space: pre-line;
          font-size: 1.1rem;
        }

        .post-meta {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding-top: 1.5rem;
          border-top: 1px solid rgba(0, 0, 0, 0.05);
          color: var(--text-light);
          font-size: 0.9rem;
        }

        .meta-item {
          display: flex;
          align-items: center;
          gap: 0.5rem;
        }

        .replies-section {
          background: var(--bg-card);
          border-radius: var(--border-radius);
          box-shadow: var(--shadow-md);
          padding: 2.5rem;
        }

        .replies-header {
          display: flex;
          align-items: center;
          gap: 1rem;
          font-size: 1.5rem;
          font-weight: 700;
          color: var(--text);
          margin-bottom: 2rem;
          position: relative;
        }

        .replies-header::after {
          content: '';
          position: absolute;
          bottom: -0.75rem;
          left: 0;
          width: 60px;
          height: 4px;
          background: linear-gradient(to right, var(--primary), var(--primary-light));
          border-radius: 2px;
        }

        .replies-list {
          display: flex;
          flex-direction: column;
          gap: 1.5rem;
          margin-top: 2rem;
        }

        .reply-card {
          background: var(--bg-card);
          border-radius: var(--border-radius);
          padding: 1.75rem;
          transition: var(--transition);
          box-shadow: var(--shadow-sm);
          position: relative;
          overflow: hidden;
          border: 1px solid rgba(0, 0, 0, 0.03);
        }

        .reply-card:hover {
          transform: translateY(-3px);
          box-shadow: var(--shadow-md);
        }

        .reply-card::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          width: 4px;
          height: 100%;
          background: linear-gradient(to bottom, var(--primary), var(--primary-light));
          opacity: 0;
          transition: var(--transition);
        }

        .reply-card:hover::before {
          opacity: 1;
        }

        .voice-reply-container {
          display: flex;
          align-items: center;
          gap: 1rem;
          margin-bottom: 1.5rem;
        }

        .voice-reply-icon {
          color: var(--primary);
          flex-shrink: 0;
        }

        .audio-player {
          width: 100%;
          max-width: 300px;
          height: 40px;
          border-radius: 20px;
        }

        .reply-content {
          color: var(--text);
          line-height: 1.7;
          white-space: pre-line;
          margin-bottom: 1.5rem;
        }

        .reply-meta {
          display: flex;
          justify-content: space-between;
          font-size: 0.85rem;
          color: var(--text-light);
          flex-wrap: wrap;
          gap: 1rem;
        }

        .reply-meta-item {
          display: flex;
          align-items: center;
          gap: 0.5rem;
        }

        .upvote-btn {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          background: rgba(99, 102, 241, 0.1);
          color: var(--primary);
          border: none;
          border-radius: 20px;
          padding: 0.5rem 1rem;
          font-weight: 600;
          cursor: pointer;
          transition: var(--transition);
        }

        .upvote-btn:hover {
          background: rgba(99, 102, 241, 0.2);
          transform: translateY(-1px);
        }

        .no-replies {
          text-align: center;
          padding: 3rem 0;
          color: var(--text-light);
          font-size: 1rem;
        }

        @media (max-width: 768px) {
          .post-detail-container {
            padding: 1.5rem 1rem;
          }
          
          .post-card, .replies-section {
            padding: 1.75rem;
          }
          
          .post-title {
            font-size: 1.75rem;
          }
          
          .replies-header {
            font-size: 1.3rem;
          }
        }

        /* Animation for replies */
        @keyframes fadeInUp {
          from {
            opacity: 0;
            transform: translateY(15px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .reply-card {
          animation: fadeInUp 0.6s ease forwards;
          opacity: 0;
        }

        .reply-card:nth-child(1) { animation-delay: 0.1s; }
        .reply-card:nth-child(2) { animation-delay: 0.2s; }
        .reply-card:nth-child(3) { animation-delay: 0.3s; }
        .reply-card:nth-child(4) { animation-delay: 0.4s; }
        .reply-card:nth-child(5) { animation-delay: 0.5s; }
        .reply-card:nth-child(6) { animation-delay: 0.6s; }
      `}),E("br",{}),E("br",{}),K("div",{className:"post-card",children:[E("h1",{className:"post-title",children:e.title}),E("p",{className:"post-content",children:e.content}),K("div",{className:"post-meta",children:[K("div",{className:"meta-item",children:[E(Nm,{size:16}),E("span",{children:((c=e.author)==null?void 0:c.name)||"Anonymous"})]}),K("div",{className:"meta-item",children:[E(km,{size:16}),E("span",{children:py(new Date(e.createdAt),{addSuffix:!0})})]})]})]}),K("div",{className:"replies-section",children:[K("h2",{className:"replies-header",children:[E(Sc,{size:24})," ",((f=e.replies)==null?void 0:f.length)||0," ",((h=e.replies)==null?void 0:h.length)===1?"Reply":"Replies"]}),E(ole,{postId:e._id,onReplyAdded:u}),((m=e.replies)==null?void 0:m.length)>0?E("div",{className:"replies-list",children:e.replies.map(g=>{var y,b;return K("div",{className:"reply-card",children:[g.voiceUrl?K("div",{className:"voice-reply-container",children:[E(yS,{className:"voice-reply-icon",size:20}),E("audio",{controls:!0,src:`https://edunova-back-rqxc.onrender.com${g.voiceUrl}`,className:"audio-player"})]}):E("div",{className:"reply-content",children:g.content}),K("div",{className:"reply-meta",children:[K("div",{className:"reply-meta-item",children:[E(Nm,{size:14})," ",((y=g.author)==null?void 0:y.username)||"Anonymous"]}),K("div",{className:"reply-meta-item",children:[E(km,{size:14})," ",py(new Date(g.createdAt))," ago"]}),K("button",{className:"upvote-btn",onClick:()=>s(g._id),children:[E(jse,{size:14})," ",((b=g.upvotedBy)==null?void 0:b.length)||0," Upvotes"]})]})]},g._id)})}):E("div",{className:"no-replies",children:"No replies yet. Be the first to respond!"})]})]}):K("div",{className:"not-found-container",children:[K("div",{className:"not-found-card",children:[E("h3",{children:"Post Not Found"}),E("p",{children:"The post you're looking for doesn't exist or may have been removed."}),K("a",{href:"/forum",className:"back-btn",children:[E(Qk,{})," Browse All Posts"]})]}),E("style",{jsx:!0,children:`
          .not-found-container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 70vh;
            padding: 2rem;
          }
          .not-found-card {
            background: white;
            border-radius: 12px;
            padding: 2.5rem;
            max-width: 500px;
            text-align: center;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.08);
          }
          .not-found-card h3 {
            font-size: 1.5rem;
            color: #111827;
            margin-bottom: 1rem;
          }
          .not-found-card p {
            color: #6b7280;
            margin-bottom: 1.5rem;
          }
          .back-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            background: #6366f1;
            color: white;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
          }
          .back-btn:hover {
            background: #4f46e5;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
          }
        `})]})};var q2={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var tN;function sle(){return tN||(tN=1,function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",i=0;i<arguments.length;i++){var s=arguments[i];s&&(o=a(o,r(s)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var i="";for(var s in o)e.call(o,s)&&o[s]&&(i=a(i,s));return i}function a(o,i){return i?o?o+" "+i:o+i:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()}(q2)),q2.exports}var lle=sle();const On=$o(lle);function nN(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function ule(t){var e=cle(t,"string");return typeof e=="symbol"?e:String(e)}function cle(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function dle(t,e,n){var r=O.useRef(t!==void 0),a=O.useState(e),o=a[0],i=a[1],s=t!==void 0,u=r.current;return r.current=s,!s&&u&&o!==e&&i(e),[s?t:o,O.useCallback(function(c){for(var f=arguments.length,h=new Array(f>1?f-1:0),m=1;m<f;m++)h[m-1]=arguments[m];n&&n.apply(void 0,[c].concat(h)),i(c)},[n])]}function gI(t,e){return Object.keys(e).reduce(function(n,r){var a,o=n,i=o[nN(r)],s=o[r],u=dt(o,[nN(r),r].map(ule)),c=e[r],f=dle(s,i,t[c]),h=f[0],m=f[1];return ne({},u,(a={},a[r]=h,a[c]=m,a))},t)}const fle=["xxl","xl","lg","md","sm","xs"],hle="xs",fg=O.createContext({prefixes:{},breakpoints:fle,minBreakpoint:hle}),{Consumer:khe,Provider:Nhe}=fg;function $n(t,e){const{prefixes:n}=O.useContext(fg);return t||n[e]||e}function ple(){const{breakpoints:t}=O.useContext(fg);return t}function mle(){const{minBreakpoint:t}=O.useContext(fg);return t}function gle(){const{dir:t}=O.useContext(fg);return t==="rtl"}function vle(t){return t&&t.ownerDocument||document}const vI=!!(typeof window<"u"&&window.document&&window.document.createElement);var xS=!1,wS=!1;try{var G2={get passive(){return xS=!0},get once(){return wS=xS=!0}};vI&&(window.addEventListener("test",G2,G2),window.removeEventListener("test",G2,!0))}catch{}function yI(t,e,n,r){if(r&&typeof r!="boolean"&&!wS){var a=r.once,o=r.capture,i=n;!wS&&a&&(i=n.__once||function s(u){this.removeEventListener(e,s,o),n.call(this,u)},n.__once=i),t.addEventListener(e,i,xS?r:o)}t.addEventListener(e,n,r)}function yle(t,e,n,r){var a=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,a),n.__once&&t.removeEventListener(e,n.__once,a)}function C0(t,e,n,r){return yI(t,e,n,r),function(){yle(t,e,n,r)}}const rN=t=>!t||typeof t=="function"?t:e=>{t.current=e};function ble(t,e){const n=rN(t),r=rN(e);return a=>{n&&n(a),r&&r(a)}}function bI(t,e){return O.useMemo(()=>ble(t,e),[t,e])}function xle(t){const e=O.useRef(t);return O.useEffect(()=>{e.current=t},[t]),e}function xI(t){const e=xle(t);return O.useCallback(function(...n){return e.current&&e.current(...n)},[e])}function wle(){return O.useState(null)}function Sle(t){const e=O.useRef(t);return O.useEffect(()=>{e.current=t},[t]),e}function Xs(t){const e=Sle(t);return O.useCallback(function(...n){return e.current&&e.current(...n)},[e])}function _le(t,e,n,r=!1){const a=Xs(n);O.useEffect(()=>{const o=typeof t=="function"?t():t;return o.addEventListener(e,a,r),()=>o.removeEventListener(e,a,r)},[t])}function Cle(){const t=O.useRef(!0),e=O.useRef(()=>t.current);return O.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function Ele(t){const e=O.useRef(null);return O.useEffect(()=>{e.current=t}),e.current}const Tle=["as","disabled"];function Rle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ale(t){return!t||t.trim()==="#"}function QC({tagName:t,disabled:e,href:n,target:r,rel:a,role:o,onClick:i,tabIndex:s=0,type:u}){t||(n!=null||r!=null||a!=null?t="a":t="button");const c={tagName:t};if(t==="button")return[{type:u||"button",disabled:e},c];const f=m=>{if((e||t==="a"&&Ale(n))&&m.preventDefault(),e){m.stopPropagation();return}i==null||i(m)},h=m=>{m.key===" "&&(m.preventDefault(),f(m))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:o??"button",disabled:void 0,tabIndex:e?void 0:s,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?a:void 0,onClick:f,onKeyDown:h},c]}const ZC=O.forwardRef((t,e)=>{let{as:n,disabled:r}=t,a=Rle(t,Tle);const[o,{tagName:i}]=QC(Object.assign({tagName:n,disabled:r},a));return E(i,Object.assign({},a,o,{ref:e}))});ZC.displayName="Button";const kle=["onKeyDown"];function Nle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ole(t){return!t||t.trim()==="#"}const wI=O.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=Nle(t,kle);const[a]=QC(Object.assign({tagName:"a"},r)),o=Xs(i=>{a.onKeyDown(i),n==null||n(i)});return Ole(r.href)||r.role==="button"?E("a",Object.assign({ref:e},r,a,{onKeyDown:o})):E("a",Object.assign({ref:e},r,{onKeyDown:n}))});wI.displayName="Anchor";const No=O.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:a=!1,disabled:o=!1,className:i,...s},u)=>{const c=$n(e,"btn"),[f,{tagName:h}]=QC({tagName:t,disabled:o,...s});return E(h,{...f,...s,ref:u,disabled:o,className:On(i,c,a&&"active",n&&`${c}-${n}`,r&&`${c}-${r}`,s.href&&o&&"disabled")})});No.displayName="Button";function Dle(t,e){let n=0;return O.Children.map(t,r=>O.isValidElement(r)?e(r,n++):r)}function Mle(t,e){return O.Children.toArray(t).some(n=>O.isValidElement(n)&&n.type===e)}function Ple({as:t,bsPrefix:e,className:n,...r}){e=$n(e,"col");const a=ple(),o=mle(),i=[],s=[];return a.forEach(u=>{const c=r[u];delete r[u];let f,h,m;typeof c=="object"&&c!=null?{span:f,offset:h,order:m}=c:f=c;const g=u!==o?`-${u}`:"";f&&i.push(f===!0?`${e}${g}`:`${e}${g}-${f}`),m!=null&&s.push(`order${g}-${m}`),h!=null&&s.push(`offset${g}-${h}`)}),[{...r,className:On(n,...i,...s)},{as:t,bsPrefix:e,spans:i}]}const SI=O.forwardRef((t,e)=>{const[{className:n,...r},{as:a="div",bsPrefix:o,spans:i}]=Ple(t);return E(a,{...r,ref:e,className:On(n,!i.length&&o)})});SI.displayName="Col";var Ile=Function.prototype.bind.call(Function.prototype.call,[].slice);function SS(t,e){return Ile(t.querySelectorAll(e))}function Lle(t,e,n){const r=O.useRef(t!==void 0),[a,o]=O.useState(e),i=t!==void 0,s=r.current;return r.current=i,!i&&s&&a!==e&&o(e),[i?t:a,O.useCallback((...u)=>{const[c,...f]=u;let h=n==null?void 0:n(c,...f);return o(c),h},[n])]}function _I(){const[,t]=O.useReducer(e=>e+1,0);return t}const Yb=O.createContext(null);var aN=Object.prototype.hasOwnProperty;function oN(t,e,n){for(n of t.keys())if(rm(n,e))return n}function rm(t,e){var n,r,a;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&rm(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(a=r,a&&typeof a=="object"&&(a=oN(e,a),!a)||!e.has(a))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(a=r[0],a&&typeof a=="object"&&(a=oN(e,a),!a)||!rm(r[1],e.get(a)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(aN.call(t,n)&&++r&&!aN.call(e,n)||!(n in e)||!rm(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}function Fle(t){const e=Cle();return[t[0],O.useCallback(n=>{if(e())return t[1](n)},[e,t[1]])]}const Ble=c$({defaultModifiers:[G9,Z9,D9,P9,X9,H9,t$,A9]}),zle=["enabled","placement","strategy","modifiers"];function $le(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const Ule={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},Vle={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:t})=>()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(a=>a.trim()!==n.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:t})=>{var e;const{popper:n,reference:r}=t.elements,a=(e=n.getAttribute("role"))==null?void 0:e.toLowerCase();if(n.id&&a==="tooltip"&&"setAttribute"in r){const o=r.getAttribute("aria-describedby");if(o&&o.split(",").indexOf(n.id)!==-1)return;r.setAttribute("aria-describedby",o?`${o},${n.id}`:n.id)}}},jle=[];function Wle(t,e,n={}){let{enabled:r=!0,placement:a="bottom",strategy:o="absolute",modifiers:i=jle}=n,s=$le(n,zle);const u=O.useRef(i),c=O.useRef(),f=O.useCallback(()=>{var x;(x=c.current)==null||x.update()},[]),h=O.useCallback(()=>{var x;(x=c.current)==null||x.forceUpdate()},[]),[m,g]=Fle(O.useState({placement:a,update:f,forceUpdate:h,attributes:{},styles:{popper:{},arrow:{}}})),y=O.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:x})=>{const S={},R={};Object.keys(x.elements).forEach(_=>{S[_]=x.styles[_],R[_]=x.attributes[_]}),g({state:x,styles:S,attributes:R,update:f,forceUpdate:h,placement:x.placement})}}),[f,h,g]),b=O.useMemo(()=>(rm(u.current,i)||(u.current=i),u.current),[i]);return O.useEffect(()=>{!c.current||!r||c.current.setOptions({placement:a,strategy:o,modifiers:[...b,y,Ule]})},[o,a,y,r,b]),O.useEffect(()=>{if(!(!r||t==null||e==null))return c.current=Ble(t,e,Object.assign({},s,{placement:a,strategy:o,modifiers:[...b,Vle,y]})),()=>{c.current!=null&&(c.current.destroy(),c.current=void 0,g(x=>Object.assign({},x,{attributes:{},styles:{popper:{}}})))}},[r,t,e]),m}function iN(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}var K2,sN;function Hle(){if(sN)return K2;sN=1;var t=function(){};return K2=t,K2}var qle=Hle();const Gle=$o(qle),lN=()=>{};function Kle(t){return t.button===0}function Yle(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const Y2=t=>t&&("current"in t?t.current:t),uN={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function Xle(t,e=lN,{disabled:n,clickTrigger:r="click"}={}){const a=O.useRef(!1),o=O.useRef(!1),i=O.useCallback(c=>{const f=Y2(t);Gle(!!f,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),a.current=!f||Yle(c)||!Kle(c)||!!iN(f,c.target)||o.current,o.current=!1},[t]),s=Xs(c=>{const f=Y2(t);f&&iN(f,c.target)?o.current=!0:o.current=!1}),u=Xs(c=>{a.current||e(c)});O.useEffect(()=>{var c,f;if(n||t==null)return;const h=vle(Y2(t)),m=h.defaultView||window;let g=(c=m.event)!=null?c:(f=m.parent)==null?void 0:f.event,y=null;uN[r]&&(y=C0(h,uN[r],s,!0));const b=C0(h,r,i,!0),x=C0(h,r,R=>{if(R===g){g=void 0;return}u(R)});let S=[];return"ontouchstart"in h.documentElement&&(S=[].slice.call(h.body.children).map(R=>C0(R,"mousemove",lN))),()=>{y==null||y(),b(),x(),S.forEach(R=>R())}},[t,n,r,i,s,u])}function Qle(t){const e={};return Array.isArray(t)?(t==null||t.forEach(n=>{e[n.name]=n}),e):t||e}function Zle(t={}){return Array.isArray(t)?t:Object.keys(t).map(e=>(t[e].name=e,t[e]))}function Jle({enabled:t,enableEvents:e,placement:n,flip:r,offset:a,fixed:o,containerPadding:i,arrowElement:s,popperConfig:u={}}){var c,f,h,m,g;const y=Qle(u.modifiers);return Object.assign({},u,{placement:n,enabled:t,strategy:o?"fixed":u.strategy,modifiers:Zle(Object.assign({},y,{eventListeners:{enabled:e,options:(c=y.eventListeners)==null?void 0:c.options},preventOverflow:Object.assign({},y.preventOverflow,{options:i?Object.assign({padding:i},(f=y.preventOverflow)==null?void 0:f.options):(h=y.preventOverflow)==null?void 0:h.options}),offset:{options:Object.assign({offset:a},(m=y.offset)==null?void 0:m.options)},arrow:Object.assign({},y.arrow,{enabled:!!s,options:Object.assign({},(g=y.arrow)==null?void 0:g.options,{element:s})}),flip:Object.assign({enabled:!!r},y.flip)}))})}const eue=["children","usePopper"];function tue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const nue=()=>{};function CI(t={}){const e=O.useContext(Yb),[n,r]=wle(),a=O.useRef(!1),{flip:o,offset:i,rootCloseEvent:s,fixed:u=!1,placement:c,popperConfig:f={},enableEventListeners:h=!0,usePopper:m=!!e}=t,g=(e==null?void 0:e.show)==null?!!t.show:e.show;g&&!a.current&&(a.current=!0);const y=D=>{e==null||e.toggle(!1,D)},{placement:b,setMenu:x,menuElement:S,toggleElement:R}=e||{},_=Wle(R,S,Jle({placement:c||b||"bottom-start",enabled:m,enableEvents:h??g,offset:i,flip:o,fixed:u,arrowElement:n,popperConfig:f})),T=Object.assign({ref:x||nue,"aria-labelledby":R==null?void 0:R.id},_.attributes.popper,{style:_.styles.popper}),A={show:g,placement:b,hasShown:a.current,toggle:e==null?void 0:e.toggle,popper:m?_:null,arrowProps:m?Object.assign({ref:r},_.attributes.arrow,{style:_.styles.arrow}):{}};return Xle(S,y,{clickTrigger:s,disabled:!g}),[T,A]}function EI(t){let{children:e,usePopper:n=!0}=t,r=tue(t,eue);const[a,o]=CI(Object.assign({},r,{usePopper:n}));return E(kn,{children:e(a,o)})}EI.displayName="DropdownMenu";const TI={prefix:String(Math.round(Math.random()*1e10)),current:0},RI=gt.createContext(TI),rue=gt.createContext(!1);let X2=new WeakMap;function aue(t=!1){let e=O.useContext(RI),n=O.useRef(null);if(n.current===null&&!t){var r,a;let o=(a=gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||a===void 0||(r=a.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(o){let i=X2.get(o);i==null?X2.set(o,{id:e.current,state:o.memoizedState}):o.memoizedState!==i.state&&(e.current=i.id,X2.delete(o))}n.current=++e.current}return n.current}function oue(t){let e=O.useContext(RI),n=aue(!!t),r=`react-aria${e.prefix}`;return t||`${r}-${n}`}function iue(t){let e=gt.useId(),[n]=O.useState(due()),r=n?"react-aria":`react-aria${TI.prefix}`;return t||`${r}-${e}`}const sue=typeof gt.useId=="function"?iue:oue;function lue(){return!1}function uue(){return!0}function cue(t){return()=>{}}function due(){return typeof gt.useSyncExternalStore=="function"?gt.useSyncExternalStore(cue,lue,uue):O.useContext(rue)}const AI=t=>{var e;return((e=t.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},cN=()=>{};function kI(){const t=sue(),{show:e=!1,toggle:n=cN,setToggle:r,menuElement:a}=O.useContext(Yb)||{},o=O.useCallback(s=>{n(!e,s)},[e,n]),i={id:t,ref:r||cN,onClick:o,"aria-expanded":!!e};return a&&AI(a)&&(i["aria-haspopup"]=!0),[i,{show:e,toggle:n}]}function NI({children:t}){const[e,n]=kI();return E(kn,{children:t(e,n)})}NI.displayName="DropdownToggle";const Wf=O.createContext(null),Om=(t,e=null)=>t!=null?String(t):e||null,Xb=O.createContext(null);Xb.displayName="NavContext";const fue="data-rr-ui-",hue="rrUi";function hg(t){return`${fue}${t}`}function pue(t){return`${hue}${t}`}const mue=["eventKey","disabled","onClick","active","as"];function gue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function OI({key:t,href:e,active:n,disabled:r,onClick:a}){const o=O.useContext(Wf),i=O.useContext(Xb),{activeKey:s}=i||{},u=Om(t,e),c=n==null&&t!=null?Om(s)===u:n;return[{onClick:Xs(h=>{r||(a==null||a(h),o&&!h.isPropagationStopped()&&o(u,h))}),"aria-disabled":r||void 0,"aria-selected":c,[hg("dropdown-item")]:""},{isActive:c}]}const DI=O.forwardRef((t,e)=>{let{eventKey:n,disabled:r,onClick:a,active:o,as:i=ZC}=t,s=gue(t,mue);const[u]=OI({key:n,href:s.href,disabled:r,onClick:a,active:o});return E(i,Object.assign({},s,{ref:e},u))});DI.displayName="DropdownItem";const MI=O.createContext(vI?window:void 0);MI.Provider;function vue(){return O.useContext(MI)}function dN(){const t=_I(),e=O.useRef(null),n=O.useCallback(r=>{e.current=r,t()},[t]);return[e,n]}function pg({defaultShow:t,show:e,onSelect:n,onToggle:r,itemSelector:a=`* [${hg("dropdown-item")}]`,focusFirstItemOnShow:o,placement:i="bottom-start",children:s}){const u=vue(),[c,f]=Lle(e,t,r),[h,m]=dN(),g=h.current,[y,b]=dN(),x=y.current,S=Ele(c),R=O.useRef(null),_=O.useRef(!1),T=O.useContext(Wf),A=O.useCallback(($,z,G=z==null?void 0:z.type)=>{f($,{originalEvent:z,source:G})},[f]),D=Xs(($,z)=>{n==null||n($,z),A(!1,z,"select"),z.isPropagationStopped()||T==null||T($,z)}),N=O.useMemo(()=>({toggle:A,placement:i,show:c,menuElement:g,toggleElement:x,setMenu:m,setToggle:b}),[A,i,c,g,x,m,b]);g&&S&&!c&&(_.current=g.contains(g.ownerDocument.activeElement));const M=Xs(()=>{x&&x.focus&&x.focus()}),P=Xs(()=>{const $=R.current;let z=o;if(z==null&&(z=h.current&&AI(h.current)?"keyboard":!1),z===!1||z==="keyboard"&&!/^key.+$/.test($))return;const G=SS(h.current,a)[0];G&&G.focus&&G.focus()});O.useEffect(()=>{c?P():_.current&&(_.current=!1,M())},[c,_,M,P]),O.useEffect(()=>{R.current=null});const I=($,z)=>{if(!h.current)return null;const G=SS(h.current,a);let V=G.indexOf($)+z;return V=Math.max(0,Math.min(V,G.length)),G[V]};return _le(O.useCallback(()=>u.document,[u]),"keydown",$=>{var z,G;const{key:V}=$,B=$.target,F=(z=h.current)==null?void 0:z.contains(B),U=(G=y.current)==null?void 0:G.contains(B);if(/input|textarea/i.test(B.tagName)&&(V===" "||V!=="Escape"&&F||V==="Escape"&&B.type==="search")||!F&&!U||V==="Tab"&&(!h.current||!c))return;R.current=$.type;const Q={originalEvent:$,source:$.type};switch(V){case"ArrowUp":{const q=I(B,-1);q&&q.focus&&q.focus(),$.preventDefault();return}case"ArrowDown":if($.preventDefault(),!c)f(!0,Q);else{const q=I(B,1);q&&q.focus&&q.focus()}return;case"Tab":yI(B.ownerDocument,"keyup",q=>{var le;(q.key==="Tab"&&!q.target||!((le=h.current)!=null&&le.contains(q.target)))&&f(!1,Q)},{once:!0});break;case"Escape":V==="Escape"&&($.preventDefault(),$.stopPropagation()),f(!1,Q);break}}),E(Wf.Provider,{value:D,children:E(Yb.Provider,{value:N,children:s})})}pg.displayName="Dropdown";pg.Menu=EI;pg.Toggle=NI;pg.Item=DI;const JC=O.createContext({});JC.displayName="DropdownContext";const PI=O.forwardRef(({className:t,bsPrefix:e,as:n="hr",role:r="separator",...a},o)=>(e=$n(e,"dropdown-divider"),E(n,{ref:o,className:On(t,e),role:r,...a})));PI.displayName="DropdownDivider";const II=O.forwardRef(({className:t,bsPrefix:e,as:n="div",role:r="heading",...a},o)=>(e=$n(e,"dropdown-header"),E(n,{ref:o,className:On(t,e),role:r,...a})));II.displayName="DropdownHeader";const LI=O.forwardRef(({bsPrefix:t,className:e,eventKey:n,disabled:r=!1,onClick:a,active:o,as:i=wI,...s},u)=>{const c=$n(t,"dropdown-item"),[f,h]=OI({key:n,href:s.href,disabled:r,onClick:a,active:o});return E(i,{...s,...f,ref:u,className:On(e,c,h.isActive&&"active",r&&"disabled")})});LI.displayName="DropdownItem";const FI=O.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},a)=>(e=$n(e,"dropdown-item-text"),E(n,{ref:a,className:On(t,e),...r})));FI.displayName="DropdownItemText";const yue=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",bue=typeof document<"u",xue=bue||yue?O.useLayoutEffect:O.useEffect,eE=O.createContext(null);eE.displayName="InputGroupContext";const BI=O.createContext(null);BI.displayName="NavbarContext";function zI(t,e){return t}const Gd=It.oneOf(["start","end"]),wue=It.oneOfType([Gd,It.shape({sm:Gd}),It.shape({md:Gd}),It.shape({lg:Gd}),It.shape({xl:Gd}),It.shape({xxl:Gd}),It.object]);function $I(t,e,n){const r=n?"top-end":"top-start",a=n?"top-start":"top-end",o=n?"bottom-end":"bottom-start",i=n?"bottom-start":"bottom-end",s=n?"right-start":"left-start",u=n?"right-end":"left-end",c=n?"left-start":"right-start",f=n?"left-end":"right-end";let h=t?i:o;return e==="up"?h=t?a:r:e==="end"?h=t?f:c:e==="start"?h=t?u:s:e==="down-centered"?h="bottom":e==="up-centered"&&(h="top"),h}const tE=O.forwardRef(({bsPrefix:t,className:e,align:n,rootCloseEvent:r,flip:a=!0,show:o,renderOnMount:i,as:s="div",popperConfig:u,variant:c,...f},h)=>{let m=!1;const g=O.useContext(BI),y=$n(t,"dropdown-menu"),{align:b,drop:x,isRTL:S}=O.useContext(JC);n=n||b;const R=O.useContext(eE),_=[];if(n)if(typeof n=="object"){const $=Object.keys(n);if($.length){const z=$[0],G=n[z];m=G==="start",_.push(`${y}-${z}-${G}`)}}else n==="end"&&(m=!0);const T=$I(m,x,S),[A,{hasShown:D,popper:N,show:M,toggle:P}]=CI({flip:a,rootCloseEvent:r,show:o,usePopper:!g&&_.length===0,offset:[0,2],popperConfig:u,placement:T});if(A.ref=bI(zI(h),A.ref),xue(()=>{M&&(N==null||N.update())},[M]),!D&&!i&&!R)return null;typeof s!="string"&&(A.show=M,A.close=()=>P==null?void 0:P(!1),A.align=n);let I=f.style;return N!=null&&N.placement&&(I={...f.style,...A.style},f["x-placement"]=N.placement),E(s,{...f,...A,style:I,...(_.length||g)&&{"data-bs-popper":"static"},className:On(e,y,M&&"show",m&&`${y}-end`,c&&`${y}-${c}`,..._)})});tE.displayName="DropdownMenu";const nE=O.forwardRef(({bsPrefix:t,split:e,className:n,childBsPrefix:r,as:a=No,...o},i)=>{const s=$n(t,"dropdown-toggle"),u=O.useContext(Yb);r!==void 0&&(o.bsPrefix=r);const[c]=kI();return c.ref=bI(c.ref,zI(i)),E(a,{className:On(n,s,e&&`${s}-split`,(u==null?void 0:u.show)&&"show"),...c,...o})});nE.displayName="DropdownToggle";const UI=O.forwardRef((t,e)=>{const{bsPrefix:n,drop:r="down",show:a,className:o,align:i="start",onSelect:s,onToggle:u,focusFirstItemOnShow:c,as:f="div",navbar:h,autoClose:m=!0,...g}=gI(t,{show:"onToggle"}),y=O.useContext(eE),b=$n(n,"dropdown"),x=gle(),S=N=>m===!1?N==="click":m==="inside"?N!=="rootClose":m==="outside"?N!=="select":!0,R=xI((N,M)=>{var P;!((P=M.originalEvent)==null||(P=P.target)==null)&&P.classList.contains("dropdown-toggle")&&M.source==="mousedown"||(M.originalEvent.currentTarget===document&&(M.source!=="keydown"||M.originalEvent.key==="Escape")&&(M.source="rootClose"),S(M.source)&&(u==null||u(N,M)))}),T=$I(i==="end",r,x),A=O.useMemo(()=>({align:i,drop:r,isRTL:x}),[i,r,x]),D={down:b,"down-centered":`${b}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return E(JC.Provider,{value:A,children:E(pg,{placement:T,show:a,onSelect:s,onToggle:R,focusFirstItemOnShow:c,itemSelector:`.${b}-item:not(.disabled):not(:disabled)`,children:y?g.children:E(f,{...g,ref:e,className:On(o,a&&"show",D[r])})})})});UI.displayName="Dropdown";const VI=Object.assign(UI,{Toggle:nE,Menu:tE,Item:LI,ItemText:FI,Divider:PI,Header:II}),Sue={id:It.string,href:It.string,onClick:It.func,title:It.node.isRequired,disabled:It.bool,align:wue,menuRole:It.string,renderMenuOnMount:It.bool,rootCloseEvent:It.string,menuVariant:It.oneOf(["dark"]),flip:It.bool,bsPrefix:It.string,variant:It.string,size:It.string},rE=O.forwardRef(({title:t,children:e,bsPrefix:n,rootCloseEvent:r,variant:a,size:o,menuRole:i,renderMenuOnMount:s,disabled:u,href:c,id:f,menuVariant:h,flip:m,...g},y)=>K(VI,{ref:y,...g,children:[E(nE,{id:f,href:c,size:o,variant:a,disabled:u,childBsPrefix:n,children:t}),E(tE,{role:i,renderOnMount:s,rootCloseEvent:r,variant:h,flip:m,children:e})]}));rE.displayName="DropdownButton";rE.propTypes=Sue;const _ue={type:It.string,tooltip:It.bool,as:It.elementType},Qb=O.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...a},o)=>E(t,{...a,ref:o,className:On(e,`${n}-${r?"tooltip":"feedback"}`)}));Qb.displayName="Feedback";Qb.propTypes=_ue;const nl=O.createContext({}),aE=O.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:a=!1,isInvalid:o=!1,as:i="input",...s},u)=>{const{controlId:c}=O.useContext(nl);return e=$n(e,"form-check-input"),E(i,{...s,ref:u,type:r,id:t||c,className:On(n,e,a&&"is-valid",o&&"is-invalid")})});aE.displayName="FormCheckInput";const qy=O.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},a)=>{const{controlId:o}=O.useContext(nl);return t=$n(t,"form-check-label"),E("label",{...r,ref:a,htmlFor:n||o,className:On(e,t)})});qy.displayName="FormCheckLabel";const jI=O.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:a=!1,disabled:o=!1,isValid:i=!1,isInvalid:s=!1,feedbackTooltip:u=!1,feedback:c,feedbackType:f,className:h,style:m,title:g="",type:y="checkbox",label:b,children:x,as:S="input",...R},_)=>{e=$n(e,"form-check"),n=$n(n,"form-switch");const{controlId:T}=O.useContext(nl),A=O.useMemo(()=>({controlId:t||T}),[T,t]),D=!x&&b!=null&&b!==!1||Mle(x,qy),N=E(aE,{...R,type:y==="switch"?"checkbox":y,ref:_,isValid:i,isInvalid:s,disabled:o,as:S});return E(nl.Provider,{value:A,children:E("div",{style:m,className:On(h,D&&e,r&&`${e}-inline`,a&&`${e}-reverse`,y==="switch"&&n),children:x||K(kn,{children:[N,D&&E(qy,{title:g,children:b}),c&&E(Qb,{type:f,tooltip:u,children:c})]})})})});jI.displayName="FormCheck";const Gy=Object.assign(jI,{Input:aE,Label:qy}),WI=O.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:a,className:o,isValid:i=!1,isInvalid:s=!1,plaintext:u,readOnly:c,as:f="input",...h},m)=>{const{controlId:g}=O.useContext(nl);return t=$n(t,"form-control"),E(f,{...h,type:e,size:r,ref:m,readOnly:c,id:a||g,className:On(o,u?`${t}-plaintext`:t,n&&`${t}-${n}`,e==="color"&&`${t}-color`,i&&"is-valid",s&&"is-invalid")})});WI.displayName="FormControl";const Cue=Object.assign(WI,{Feedback:Qb}),HI=O.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},a)=>(e=$n(e,"form-floating"),E(n,{ref:a,className:On(t,e),...r})));HI.displayName="FormFloating";const oE=O.forwardRef(({controlId:t,as:e="div",...n},r)=>{const a=O.useMemo(()=>({controlId:t}),[t]);return E(nl.Provider,{value:a,children:E(e,{...n,ref:r})})});oE.displayName="FormGroup";const qI=O.forwardRef(({as:t="label",bsPrefix:e,column:n=!1,visuallyHidden:r=!1,className:a,htmlFor:o,...i},s)=>{const{controlId:u}=O.useContext(nl);e=$n(e,"form-label");let c="col-form-label";typeof n=="string"&&(c=`${c} ${c}-${n}`);const f=On(a,e,r&&"visually-hidden",n&&c);return o=o||u,n?E(SI,{ref:s,as:"label",className:f,htmlFor:o,...i}):E(t,{ref:s,className:f,htmlFor:o,...i})});qI.displayName="FormLabel";const GI=O.forwardRef(({bsPrefix:t,className:e,id:n,...r},a)=>{const{controlId:o}=O.useContext(nl);return t=$n(t,"form-range"),E("input",{...r,type:"range",ref:a,className:On(e,t),id:n||o})});GI.displayName="FormRange";const KI=O.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:a=!1,isInvalid:o=!1,id:i,...s},u)=>{const{controlId:c}=O.useContext(nl);return t=$n(t,"form-select"),E("select",{...s,size:n,ref:u,className:On(r,t,e&&`${t}-${e}`,a&&"is-valid",o&&"is-invalid"),id:i||c})});KI.displayName="FormSelect";const YI=O.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...a},o)=>(t=$n(t,"form-text"),E(n,{...a,ref:o,className:On(e,t,r&&"text-muted")})));YI.displayName="FormText";const XI=O.forwardRef((t,e)=>E(Gy,{...t,ref:e,type:"switch"}));XI.displayName="Switch";const Eue=Object.assign(XI,{Input:Gy.Input,Label:Gy.Label}),QI=O.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:a,...o},i)=>(t=$n(t,"form-floating"),K(oE,{ref:i,className:On(e,t),controlId:r,...o,children:[n,E("label",{htmlFor:r,children:a})]})));QI.displayName="FloatingLabel";const Tue={_ref:It.any,validated:It.bool,as:It.elementType},iE=O.forwardRef(({className:t,validated:e,as:n="form",...r},a)=>E(n,{...r,ref:a,className:On(t,e&&"was-validated")}));iE.displayName="Form";iE.propTypes=Tue;const E0=Object.assign(iE,{Group:oE,Control:Cue,Floating:HI,Check:Gy,Switch:Eue,Label:qI,Text:YI,Range:GI,Select:KI,FloatingLabel:QI}),fN=t=>!t||typeof t=="function"?t:e=>{t.current=e};function Rue(t,e){const n=fN(t),r=fN(e);return a=>{n&&n(a),r&&r(a)}}function Aue(t,e){return O.useMemo(()=>Rue(t,e),[t,e])}const ZI=O.createContext(null),kue=["as","active","eventKey"];function Nue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function JI({key:t,onClick:e,active:n,id:r,role:a,disabled:o}){const i=O.useContext(Wf),s=O.useContext(Xb),u=O.useContext(ZI);let c=n;const f={role:a};if(s){!a&&s.role==="tablist"&&(f.role="tab");const h=s.getControllerId(t??null),m=s.getControlledId(t??null);f[hg("event-key")]=t,f.id=h||r,c=n==null&&t!=null?s.activeKey===t:n,(c||!(u!=null&&u.unmountOnExit)&&!(u!=null&&u.mountOnEnter))&&(f["aria-controls"]=m)}return f.role==="tab"&&(f["aria-selected"]=c,c||(f.tabIndex=-1),o&&(f.tabIndex=-1,f["aria-disabled"]=!0)),f.onClick=Xs(h=>{o||(e==null||e(h),t!=null&&i&&!h.isPropagationStopped()&&i(t,h))}),[f,{isActive:c}]}const eL=O.forwardRef((t,e)=>{let{as:n=ZC,active:r,eventKey:a}=t,o=Nue(t,kue);const[i,s]=JI(Object.assign({key:Om(a,o.href),active:r},o));return i[hg("active")]=s.isActive,E(n,Object.assign({},o,i,{ref:e}))});eL.displayName="NavItem";const Oue=["as","onSelect","activeKey","role","onKeyDown"];function Due(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const hN=()=>{},pN=hg("event-key"),tL=O.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:a,role:o,onKeyDown:i}=t,s=Due(t,Oue);const u=_I(),c=O.useRef(!1),f=O.useContext(Wf),h=O.useContext(ZI);let m,g;h&&(o=o||"tablist",a=h.activeKey,m=h.getControlledId,g=h.getControllerId);const y=O.useRef(null),b=_=>{const T=y.current;if(!T)return null;const A=SS(T,`[${pN}]:not([aria-disabled=true])`),D=T.querySelector("[aria-selected=true]");if(!D||D!==document.activeElement)return null;const N=A.indexOf(D);if(N===-1)return null;let M=N+_;return M>=A.length&&(M=0),M<0&&(M=A.length-1),A[M]},x=(_,T)=>{_!=null&&(r==null||r(_,T),f==null||f(_,T))},S=_=>{if(i==null||i(_),!h)return;let T;switch(_.key){case"ArrowLeft":case"ArrowUp":T=b(-1);break;case"ArrowRight":case"ArrowDown":T=b(1);break;default:return}T&&(_.preventDefault(),x(T.dataset[pue("EventKey")]||null,_),c.current=!0,u())};O.useEffect(()=>{if(y.current&&c.current){const _=y.current.querySelector(`[${pN}][aria-selected=true]`);_==null||_.focus()}c.current=!1});const R=Aue(e,y);return E(Wf.Provider,{value:x,children:E(Xb.Provider,{value:{role:o,activeKey:Om(a),getControlledId:m||hN,getControllerId:g||hN},children:E(n,Object.assign({},s,{onKeyDown:S,ref:R,role:o}))})})});tL.displayName="Nav";const Mue=Object.assign(tL,{Item:eL}),nL=O.forwardRef(({bsPrefix:t,active:e,disabled:n,eventKey:r,className:a,variant:o,action:i,as:s,...u},c)=>{t=$n(t,"list-group-item");const[f,h]=JI({key:Om(r,u.href),active:e,...u}),m=xI(y=>{if(n){y.preventDefault(),y.stopPropagation();return}f.onClick(y)});n&&u.tabIndex===void 0&&(u.tabIndex=-1,u["aria-disabled"]=!0);const g=s||(i?u.href?"a":"button":"div");return E(g,{ref:c,...u,...f,onClick:m,className:On(a,t,h.isActive&&"active",n&&"disabled",o&&`${t}-${o}`,i&&`${t}-action`)})});nL.displayName="ListGroupItem";const rL=O.forwardRef((t,e)=>{const{className:n,bsPrefix:r,variant:a,horizontal:o,numbered:i,as:s="div",...u}=gI(t,{activeKey:"onSelect"}),c=$n(r,"list-group");let f;return o&&(f=o===!0?"horizontal":`horizontal-${o}`),E(Mue,{ref:e,...u,as:s,className:On(n,c,a&&`${c}-${a}`,f&&`${c}-${f}`,i&&`${c}-numbered`)})});rL.displayName="ListGroup";const tu=Object.assign(rL,{Item:nL}),mN=1e3;function Pue(t,e,n){const r=(t-e)/(n-e)*100;return Math.round(r*mN)/mN}function gN({min:t,now:e,max:n,label:r,visuallyHidden:a,striped:o,animated:i,className:s,style:u,variant:c,bsPrefix:f,...h},m){return E("div",{ref:m,...h,role:"progressbar",className:On(s,`${f}-bar`,{[`bg-${c}`]:c,[`${f}-bar-animated`]:i,[`${f}-bar-striped`]:i||o}),style:{width:`${Pue(e,t,n)}%`,...u},"aria-valuenow":e,"aria-valuemin":t,"aria-valuemax":n,children:a?E("span",{className:"visually-hidden",children:r}):r})}const aL=O.forwardRef(({isChild:t=!1,...e},n)=>{const r={min:0,max:100,animated:!1,visuallyHidden:!1,striped:!1,...e};if(r.bsPrefix=$n(r.bsPrefix,"progress"),t)return gN(r,n);const{min:a,now:o,max:i,label:s,visuallyHidden:u,striped:c,animated:f,bsPrefix:h,variant:m,className:g,children:y,...b}=r;return E("div",{ref:n,...b,className:On(g,h),children:y?Dle(y,x=>O.cloneElement(x,{isChild:!0})):gN({min:a,now:o,max:i,label:s,visuallyHidden:u,striped:c,animated:f,bsPrefix:h,variant:m},n)})});aL.displayName="ProgressBar";const _S=O.forwardRef(({bsPrefix:t,variant:e,animation:n="border",size:r,as:a="div",className:o,...i},s)=>{t=$n(t,"spinner");const u=`${t}-${n}`;return E(a,{ref:s,...i,className:On(o,u,r&&`${u}-${r}`,e&&`text-${e}`)})});_S.displayName="Spinner";var Q2,vN;function Iue(){return vN||(vN=1,Q2=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,a,o;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(a=r;a--!==0;)if(!t(e[a],n[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(n).length)return!1;for(a=r;a--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[a]))return!1;for(a=r;a--!==0;){var i=o[a];if(!t(e[i],n[i]))return!1}return!0}return e!==e&&n!==n}),Q2}var Lue=Iue();const Fue=$o(Lue);var T0={exports:{}},Z2,yN;function Bue(){if(yN)return Z2;yN=1;var t;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/return t=function(){var e={},n={};return e.on=function(r,a){var o={name:r,handler:a};return n[r]=n[r]||[],n[r].unshift(o),o},e.off=function(r){var a=n[r.name].indexOf(r);a!==-1&&n[r.name].splice(a,1)},e.trigger=function(r,a){var o=n[r],i;if(o)for(i=o.length;i--;)o[i].handler(a)},e},Z2=t,Z2}var R0={exports:{}},J2,bN;function zue(){if(bN)return J2;bN=1,J2=function(a,o,i){var s=document.head||document.getElementsByTagName("head")[0],u=document.createElement("script");typeof o=="function"&&(i=o,o={}),o=o||{},i=i||function(){},u.type=o.type||"text/javascript",u.charset=o.charset||"utf8",u.async="async"in o?!!o.async:!0,u.src=a,o.attrs&&t(u,o.attrs),o.text&&(u.text=""+o.text);var c="onload"in u?e:n;c(u,i),u.onload||e(u,i),s.appendChild(u)};function t(r,a){for(var o in a)r.setAttribute(o,a[o])}function e(r,a){r.onload=function(){this.onerror=this.onload=null,a(null,r)},r.onerror=function(){this.onerror=this.onload=null,a(new Error("Failed to load "+this.src),r)}}function n(r,a){r.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,a(null,r))}}return J2}var xN;function $ue(){return xN||(xN=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=zue(),r=a(n);function a(o){return o&&o.__esModule?o:{default:o}}e.default=function(o){var i=new Promise(function(s){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){s(window.YT);return}else{var u=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(u+"//www.youtube.com/iframe_api",function(f){f&&o.trigger("error",f)})}var c=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){c&&c(),s(window.YT)}});return i},t.exports=e.default}(R0,R0.exports)),R0.exports}var A0={exports:{}},k0={exports:{}},N0={exports:{}},ew,wN;function Uue(){if(wN)return ew;wN=1;var t=1e3,e=t*60,n=e*60,r=n*24,a=r*365.25;ew=function(c,f){f=f||{};var h=typeof c;if(h==="string"&&c.length>0)return o(c);if(h==="number"&&isNaN(c)===!1)return f.long?s(c):i(c);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(c))};function o(c){if(c=String(c),!(c.length>100)){var f=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(c);if(f){var h=parseFloat(f[1]),m=(f[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return h*a;case"days":case"day":case"d":return h*r;case"hours":case"hour":case"hrs":case"hr":case"h":return h*n;case"minutes":case"minute":case"mins":case"min":case"m":return h*e;case"seconds":case"second":case"secs":case"sec":case"s":return h*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}function i(c){return c>=r?Math.round(c/r)+"d":c>=n?Math.round(c/n)+"h":c>=e?Math.round(c/e)+"m":c>=t?Math.round(c/t)+"s":c+"ms"}function s(c){return u(c,r,"day")||u(c,n,"hour")||u(c,e,"minute")||u(c,t,"second")||c+" ms"}function u(c,f,h){if(!(c<f))return c<f*1.5?Math.floor(c/f)+" "+h:Math.ceil(c/f)+" "+h+"s"}return ew}var SN;function Vue(){return SN||(SN=1,function(t,e){e=t.exports=a.debug=a.default=a,e.coerce=u,e.disable=i,e.enable=o,e.enabled=s,e.humanize=Uue(),e.names=[],e.skips=[],e.formatters={};var n;function r(c){var f=0,h;for(h in c)f=(f<<5)-f+c.charCodeAt(h),f|=0;return e.colors[Math.abs(f)%e.colors.length]}function a(c){function f(){if(f.enabled){var h=f,m=+new Date,g=m-(n||m);h.diff=g,h.prev=n,h.curr=m,n=m;for(var y=new Array(arguments.length),b=0;b<y.length;b++)y[b]=arguments[b];y[0]=e.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");var x=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,function(R,_){if(R==="%%")return R;x++;var T=e.formatters[_];if(typeof T=="function"){var A=y[x];R=T.call(h,A),y.splice(x,1),x--}return R}),e.formatArgs.call(h,y);var S=f.log||e.log||console.log.bind(console);S.apply(h,y)}}return f.namespace=c,f.enabled=e.enabled(c),f.useColors=e.useColors(),f.color=r(c),typeof e.init=="function"&&e.init(f),f}function o(c){e.save(c),e.names=[],e.skips=[];for(var f=(typeof c=="string"?c:"").split(/[\s,]+/),h=f.length,m=0;m<h;m++)f[m]&&(c=f[m].replace(/\*/g,".*?"),c[0]==="-"?e.skips.push(new RegExp("^"+c.substr(1)+"$")):e.names.push(new RegExp("^"+c+"$")))}function i(){e.enable("")}function s(c){var f,h;for(f=0,h=e.skips.length;f<h;f++)if(e.skips[f].test(c))return!1;for(f=0,h=e.names.length;f<h;f++)if(e.names[f].test(c))return!0;return!1}function u(c){return c instanceof Error?c.stack||c.message:c}}(N0,N0.exports)),N0.exports}var _N;function jue(){return _N||(_N=1,function(t,e){var n={};e=t.exports=Vue(),e.log=o,e.formatArgs=a,e.save=i,e.load=s,e.useColors=r,e.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:u(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}e.formatters.j=function(c){try{return JSON.stringify(c)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}};function a(c){var f=this.useColors;if(c[0]=(f?"%c":"")+this.namespace+(f?" %c":" ")+c[0]+(f?"%c ":" ")+"+"+e.humanize(this.diff),!!f){var h="color: "+this.color;c.splice(1,0,h,"color: inherit");var m=0,g=0;c[0].replace(/%[a-zA-Z%]/g,function(y){y!=="%%"&&(m++,y==="%c"&&(g=m))}),c.splice(g,0,h)}}function o(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function i(c){try{c==null?e.storage.removeItem("debug"):e.storage.debug=c}catch{}}function s(){var c;try{c=e.storage.debug}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=n.DEBUG),c}e.enable(s());function u(){try{return window.localStorage}catch{}}}(k0,k0.exports)),k0.exports}var O0={exports:{}},CN;function Wue(){return CN||(CN=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],t.exports=e.default}(O0,O0.exports)),O0.exports}var D0={exports:{}},EN;function Hue(){return EN||(EN=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],t.exports=e.default}(D0,D0.exports)),D0.exports}var M0={exports:{}},P0={exports:{}},TN;function que(){return TN||(TN=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},t.exports=e.default}(P0,P0.exports)),P0.exports}var RN;function Gue(){return RN||(RN=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=que(),r=a(n);function a(o){return o&&o.__esModule?o:{default:o}}e.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},t.exports=e.default}(M0,M0.exports)),M0.exports}var AN;function Kue(){return AN||(AN=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=jue(),r=f(n),a=Wue(),o=f(a),i=Hue(),s=f(i),u=Gue(),c=f(u);function f(g){return g&&g.__esModule?g:{default:g}}var h=(0,r.default)("youtube-player"),m={};m.proxyEvents=function(g){var y={},b=function(N){var M="on"+N.slice(0,1).toUpperCase()+N.slice(1);y[M]=function(P){h('event "%s"',M,P),g.trigger(N,P)}},x=!0,S=!1,R=void 0;try{for(var _=s.default[Symbol.iterator](),T;!(x=(T=_.next()).done);x=!0){var A=T.value;b(A)}}catch(D){S=!0,R=D}finally{try{!x&&_.return&&_.return()}finally{if(S)throw R}}return y},m.promisifyPlayer=function(g){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b={},x=function(M){y&&c.default[M]?b[M]=function(){for(var P=arguments.length,I=Array(P),$=0;$<P;$++)I[$]=arguments[$];return g.then(function(z){var G=c.default[M],V=z.getPlayerState(),B=z[M].apply(z,I);return G.stateChangeRequired||Array.isArray(G.acceptableStates)&&G.acceptableStates.indexOf(V)===-1?new Promise(function(F){var U=function W(){var Q=z.getPlayerState(),q=void 0;typeof G.timeout=="number"&&(q=setTimeout(function(){z.removeEventListener("onStateChange",W),F()},G.timeout)),Array.isArray(G.acceptableStates)&&G.acceptableStates.indexOf(Q)!==-1&&(z.removeEventListener("onStateChange",W),clearTimeout(q),F())};z.addEventListener("onStateChange",U)}).then(function(){return B}):B})}:b[M]=function(){for(var P=arguments.length,I=Array(P),$=0;$<P;$++)I[$]=arguments[$];return g.then(function(z){return z[M].apply(z,I)})}},S=!0,R=!1,_=void 0;try{for(var T=o.default[Symbol.iterator](),A;!(S=(A=T.next()).done);S=!0){var D=A.value;x(D)}}catch(N){R=!0,_=N}finally{try{!S&&T.return&&T.return()}finally{if(R)throw _}}return b},e.default=m,t.exports=e.default}(A0,A0.exports)),A0.exports}var kN;function Yue(){return kN||(kN=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},r=Bue(),a=c(r),o=$ue(),i=c(o),s=Kue(),u=c(s);function c(h){return h&&h.__esModule?h:{default:h}}var f=void 0;e.default=function(h){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,y=(0,a.default)();if(f||(f=(0,i.default)(y)),m.events)throw new Error("Event handlers cannot be overwritten.");if(typeof h=="string"&&!document.getElementById(h))throw new Error('Element "'+h+'" does not exist.');m.events=u.default.proxyEvents(y);var b=new Promise(function(S){if((typeof h>"u"?"undefined":n(h))==="object"&&h.playVideo instanceof Function){var R=h;S(R)}else f.then(function(_){var T=new _.Player(h,m);return y.on("ready",function(){S(T)}),null})}),x=u.default.promisifyPlayer(b,g);return x.on=y.on,x.off=y.off,x},t.exports=e.default}(T0,T0.exports)),T0.exports}var Xue=Yue();const Que=$o(Xue);var Zue=Object.defineProperty,Jue=Object.defineProperties,ece=Object.getOwnPropertyDescriptors,NN=Object.getOwnPropertySymbols,tce=Object.prototype.hasOwnProperty,nce=Object.prototype.propertyIsEnumerable,ON=(t,e,n)=>e in t?Zue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,CS=(t,e)=>{for(var n in e||(e={}))tce.call(e,n)&&ON(t,n,e[n]);if(NN)for(var n of NN(e))nce.call(e,n)&&ON(t,n,e[n]);return t},ES=(t,e)=>Jue(t,ece(e)),rce=(t,e,n)=>new Promise((r,a)=>{var o=u=>{try{s(n.next(u))}catch(c){a(c)}},i=u=>{try{s(n.throw(u))}catch(c){a(c)}},s=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,i);s((n=n.apply(t,e)).next())});function ace(t,e){var n,r;if(t.videoId!==e.videoId)return!0;const a=((n=t.opts)==null?void 0:n.playerVars)||{},o=((r=e.opts)==null?void 0:r.playerVars)||{};return a.start!==o.start||a.end!==o.end}function DN(t={}){return ES(CS({},t),{height:0,width:0,playerVars:ES(CS({},t.playerVars),{autoplay:0,start:0,end:0})})}function oce(t,e){return t.videoId!==e.videoId||!Fue(DN(t.opts),DN(e.opts))}function ice(t,e){var n,r,a,o;return t.id!==e.id||t.className!==e.className||((n=t.opts)==null?void 0:n.width)!==((r=e.opts)==null?void 0:r.width)||((a=t.opts)==null?void 0:a.height)!==((o=e.opts)==null?void 0:o.height)||t.iframeClassName!==e.iframeClassName||t.title!==e.title}var sce={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},lce={videoId:It.string,id:It.string,className:It.string,iframeClassName:It.string,style:It.object,title:It.string,loading:It.oneOf(["lazy","eager"]),opts:It.objectOf(It.any),onReady:It.func,onError:It.func,onPlay:It.func,onPause:It.func,onEnd:It.func,onStateChange:It.func,onPlaybackRateChange:It.func,onPlaybackQualityChange:It.func},ey=class extends gt.Component{constructor(t){super(t),this.destroyPlayerPromise=void 0,this.onPlayerReady=e=>{var n,r;return(r=(n=this.props).onReady)==null?void 0:r.call(n,e)},this.onPlayerError=e=>{var n,r;return(r=(n=this.props).onError)==null?void 0:r.call(n,e)},this.onPlayerStateChange=e=>{var n,r,a,o,i,s,u,c;switch((r=(n=this.props).onStateChange)==null||r.call(n,e),e.data){case ey.PlayerState.ENDED:(o=(a=this.props).onEnd)==null||o.call(a,e);break;case ey.PlayerState.PLAYING:(s=(i=this.props).onPlay)==null||s.call(i,e);break;case ey.PlayerState.PAUSED:(c=(u=this.props).onPause)==null||c.call(u,e);break}},this.onPlayerPlaybackRateChange=e=>{var n,r;return(r=(n=this.props).onPlaybackRateChange)==null?void 0:r.call(n,e)},this.onPlayerPlaybackQualityChange=e=>{var n,r;return(r=(n=this.props).onPlaybackQualityChange)==null?void 0:r.call(n,e)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const e=ES(CS({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=Que(this.container,e),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(n=>{this.props.title&&n.setAttribute("title",this.props.title),this.props.loading&&n.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var e;(e=this.internalPlayer)==null||e.getIframe().then(n=>{this.props.id?n.setAttribute("id",this.props.id):n.removeAttribute("id"),this.props.iframeClassName?n.setAttribute("class",this.props.iframeClassName):n.removeAttribute("class"),this.props.opts&&this.props.opts.width?n.setAttribute("width",this.props.opts.width.toString()):n.removeAttribute("width"),this.props.opts&&this.props.opts.height?n.setAttribute("height",this.props.opts.height.toString()):n.removeAttribute("height"),this.props.title?n.setAttribute("title",this.props.title):n.setAttribute("title","YouTube video player"),this.props.loading?n.setAttribute("loading",this.props.loading):n.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var e,n,r,a;if(typeof this.props.videoId>"u"||this.props.videoId===null){(e=this.internalPlayer)==null||e.stopVideo();return}let o=!1;const i={videoId:this.props.videoId};if((n=this.props.opts)!=null&&n.playerVars&&(o=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(i.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(i.endSeconds=this.props.opts.playerVars.end)),o){(r=this.internalPlayer)==null||r.loadVideoById(i);return}(a=this.internalPlayer)==null||a.cueVideoById(i)},this.refContainer=e=>{this.container=e},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(t){return rce(this,null,function*(){ice(t,this.props)&&this.updatePlayer(),oce(t,this.props)&&(yield this.resetPlayer()),ace(t,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return gt.createElement("div",{className:this.props.className,style:this.props.style},gt.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},Zb=ey;Zb.propTypes=lce;Zb.defaultProps=sce;Zb.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var uce=Zb;const I0=t=>{const e=Math.floor(t/60),n=Math.floor(t%60);return`${e}:${n<10?"0":""}${n}`},cce=()=>{const[t,e]=O.useState([]),[n,r]=O.useState(0),[a,o]=O.useState(!1),[i,s]=O.useState(!0),[u,c]=O.useState(null),[f,h]=O.useState(""),[m,g]=O.useState([]),[y,b]=O.useState(!1),[x,S]=O.useState(!1),[R,_]=O.useState(!1),[T,A]=O.useState({}),[D,N]=O.useState(0),[M,P]=O.useState(0),[I,$]=O.useState(!1),[z,G]=O.useState([]),[V,B]=O.useState([]),[F,U]=O.useState(null),[W,Q]=O.useState(""),[q,le]=O.useState({}),[J,oe]=O.useState(!1),re=O.useRef(null),we=O.useRef(null),be=O.useRef(null);O.useEffect(()=>{document.title="Music"},[]);const Oe=fe=>{const $e=atob(fe.split(",")[1]),je=fe.split(",")[0].split(":")[1].split(";")[0],Ge=new ArrayBuffer($e.length),Fe=new Uint8Array(Ge);for(let Le=0;Le<$e.length;Le++)Fe[Le]=$e.charCodeAt(Le);return new Blob([Ge],{type:je})},pe=O.useCallback(()=>{var fe,$e,je,Ge,Fe;if(t.length){if(!x){S(!0),setTimeout(()=>o(!0),100);return}(fe=t[n])!=null&&fe.isYouTube?(a?(je=($e=we.current)==null?void 0:$e.internalPlayer)==null||je.pauseVideo():(Fe=(Ge=we.current)==null?void 0:Ge.internalPlayer)==null||Fe.playVideo(),o(Le=>!Le)):re.current&&(a?re.current.pause():re.current.play(),o(Le=>!Le))}},[t,n,a,x]),De=O.useCallback(()=>{r(fe=>(fe+1)%t.length),o(!0)},[t.length]),Ve=O.useCallback(()=>{r(fe=>fe===0?t.length-1:fe-1),o(!0)},[t.length]),Pe=O.useCallback(fe=>{r(fe),o(!0)},[]);O.useEffect(()=>(re.current=new Audio,()=>{re.current&&(re.current.pause(),re.current=null),clearInterval(be.current),z.forEach(fe=>{fe.offlineUrl&&URL.revokeObjectURL(fe.offlineUrl)})}),[]),O.useEffect(()=>{const fe=localStorage.getItem("customPlaylists");fe&&B(JSON.parse(fe));const $e=localStorage.getItem("offlineTracks");if($e)try{const Ge=JSON.parse($e).map(Fe=>({...Fe,offlineUrl:Fe.offlineData?URL.createObjectURL(Oe(Fe.offlineData)):null}));G(Ge.filter(Fe=>Fe.offlineUrl))}catch(je){console.error("Failed to parse offline tracks",je)}},[]),O.useEffect(()=>{localStorage.setItem("customPlaylists",JSON.stringify(V))},[V]),O.useEffect(()=>{localStorage.setItem("offlineTracks",JSON.stringify(z.map(fe=>({...fe,offlineUrl:void 0,offlineBlob:void 0}))))},[z]),O.useEffect(()=>{const fe=()=>{S(!0),document.removeEventListener("click",fe),document.removeEventListener("keydown",fe)};return document.addEventListener("click",fe),document.addEventListener("keydown",fe),()=>{document.removeEventListener("click",fe),document.removeEventListener("keydown",fe)}},[]),O.useEffect(()=>{const fe=$e=>{$e.code==="Space"?($e.preventDefault(),pe()):$e.code==="ArrowRight"?De():$e.code==="ArrowLeft"&&Ve()};return document.addEventListener("keydown",fe),()=>document.removeEventListener("keydown",fe)},[pe,De,Ve]),O.useEffect(()=>{(async()=>{try{const $e=await tt.get("https://edunova-back-rqxc.onrender.com/api/music/tracks"),je=Array.isArray($e.data)?$e.data.map(Fe=>{var Gt;const Le=Fe.id||(Fe.isYouTube?`yt_${(Gt=Fe.url.split("v=")[1])==null?void 0:Gt.split("&")[0]}`:`local_${Fe.url.split("/").pop()}`);return{...Fe,id:Le,url:Fe.url.startsWith("http")?Fe.url:`https://edunova-back-rqxc.onrender.com${Fe.url}`}}).filter(Fe=>Fe.isYouTube?!0:Fe.url&&!Fe.url.includes("undefined")):[];e(je);const Ge=await tt.get("https://edunova-back-rqxc.onrender.com/api/music/youtube/playlists");A(Ge.data)}catch($e){console.error("Failed to load tracks:",$e),c($e.message)}finally{s(!1)}})()},[]),O.useEffect(()=>{if(!re.current||!t.length||!x)return;const fe=t[n];if(!fe||fe.isYouTube)return;const $e=z.find(Gt=>Gt.id===fe.id);_(!0);const je=re.current,Ge=()=>{P(je.duration),_(!1)},Fe=()=>{_(!1),a&&je.play().catch(Gt=>{console.error("Play error:",Gt),c(`Playback error: ${Gt.message}`),o(!1)})},Le=Gt=>{console.error("Audio error:",Gt),_(!1),c("Failed to load audio file"),o(!1)};return $e?je.src=$e.offlineUrl:je.src=fe.url.startsWith("http")?fe.url:`https://edunova-back-rqxc.onrender.com${fe.url}`,je.load(),je.addEventListener("loadedmetadata",Ge),je.addEventListener("canplay",Fe),je.addEventListener("error",Le),je.addEventListener("ended",De),je.addEventListener("play",()=>o(!0)),je.addEventListener("pause",()=>o(!1)),()=>{je.pause(),je.removeEventListener("loadedmetadata",Ge),je.removeEventListener("canplay",Fe),je.removeEventListener("error",Le),je.removeEventListener("ended",De),je.removeEventListener("play",()=>o(!0)),je.removeEventListener("pause",()=>o(!1)),je.src=""}},[n,t,x,a,z]),O.useEffect(()=>{if(!t.length||!x)return;const fe=t[n];if(!fe||fe.isYouTube)return;const $e=()=>{!re.current||I||N(re.current.currentTime)};return be.current=setInterval($e,1e3),()=>clearInterval(be.current)},[n,t,x,I]),O.useEffect(()=>{if("mediaSession"in navigator&&t[n]){const fe=t[n];navigator.mediaSession.metadata=new MediaMetadata({title:fe.name||"Unknown Track",artist:"Unknown Artist",artwork:fe.thumbnail?[{src:fe.thumbnail,sizes:"96x96",type:"image/jpeg"}]:[]}),navigator.mediaSession.setActionHandler("play",pe),navigator.mediaSession.setActionHandler("pause",pe),navigator.mediaSession.setActionHandler("previoustrack",Ve),navigator.mediaSession.setActionHandler("nexttrack",De)}},[n,t]);const ze=async fe=>{var $e,je;try{le(Fe=>({...Fe,[fe.id]:{progress:0,status:"downloading"}}));let Ge;if(fe.isYouTube){Ge=await tt.post(`https://edunova-back-rqxc.onrender.com/api/music/youtube/save/${fe.id}`,{},{onDownloadProgress:Le=>{const Gt=Le.total?Math.round(Le.loaded*100/Le.total):0;le(an=>({...an,[fe.id]:{progress:Gt,status:"downloading"}}))},timeout:12e4});const Fe=await tt.get("https://edunova-back-rqxc.onrender.com/api/music/tracks");e(Fe.data)}else{const Fe=fe.url.startsWith("http")?fe.url:`https://edunova-back-rqxc.onrender.com${fe.url}`;Ge=await tt.get(Fe,{responseType:"blob",onDownloadProgress:Qn=>{const Qe=Qn.total?Math.round(Qn.loaded*100/Qn.total):0;le(Lt=>({...Lt,[fe.id]:{progress:Qe,status:"downloading"}}))},timeout:6e4});const Le=new Blob([Ge.data]),Gt=URL.createObjectURL(Le),an=new FileReader;an.onload=()=>{const Qn={...fe,offlineUrl:Gt,offlineData:an.result,isOffline:!0};G(Qe=>[...Qe.filter(Lt=>Lt.id!==fe.id),Qn])},an.readAsDataURL(Le)}le(Fe=>({...Fe,[fe.id]:{progress:100,status:"completed"}}))}catch(Ge){console.error("Download error:",Ge),c(((je=($e=Ge.response)==null?void 0:$e.data)==null?void 0:je.error)||Ge.message||"Download failed"),le(Fe=>({...Fe,[fe.id]:{progress:0,status:"error",error:Ge.message}}))}},Ce=fe=>{const $e=z.find(je=>je.id===fe);$e&&$e.offlineUrl&&URL.revokeObjectURL($e.offlineUrl),G(je=>je.filter(Ge=>Ge.id!==fe))},Ie=()=>{if(!W.trim())return;const fe={id:Date.now().toString(),name:W,tracks:[]};B($e=>[...$e,fe]),Q("")},Ue=(fe,$e)=>{B(je=>je.map(Ge=>Ge.id===fe?{...Ge,tracks:[...Ge.tracks,$e]}:Ge))},st=fe=>{e(fe.tracks),U(fe),r(0),o(!1)},mt=fe=>{var je,Ge;const $e=parseFloat(fe.target.value);N($e),(je=t[n])!=null&&je.isYouTube?(Ge=we.current)!=null&&Ge.internalPlayer&&we.current.internalPlayer.seekTo($e,!0):re.current&&(re.current.currentTime=$e)},Jt=()=>{$(!0)},Ht=()=>{$(!1)},Ut=async()=>{if(f.trim()){b(!0),c(null);try{const fe=await tt.get("https://edunova-back-rqxc.onrender.com/api/music/youtube/search",{params:{query:f},headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});g(fe.data)}catch(fe){console.error("Search error:",fe),c("Failed to search YouTube")}finally{b(!1)}}},yt=fe=>{e($e=>[...$e,fe]),g([]),h("")};if(i)return K("div",{className:`d-flex flex-column justify-content-center align-items-center ${J?"bg-dark text-light":""}`,style:{height:"calc(100vh - 120px)"},children:[E("div",{className:"spinner-grow text-primary",style:{width:"3rem",height:"3rem"},role:"status",children:E("span",{className:"visually-hidden",children:"Loading..."})}),E("p",{className:"mt-3",children:"Loading your music..."})]});const Vt=t[n]||{},qt=!R&&M>0;return K("div",{className:`music-player-container ${J?"dark-mode":""}`,children:[E(No,{variant:"outline-secondary",onClick:()=>oe(!J),className:"position-fixed top-0 end-0 m-3",style:{zIndex:1e3},children:J?E("i",{className:"bi bi-sun"}):E("i",{className:"bi bi-moon"})}),K("div",{className:"sidebar",children:[K("div",{className:"search-section",children:[K(E0.Group,{className:"mb-3",children:[E(E0.Label,{children:"Search YouTube Music"}),K("div",{className:"d-flex",children:[E(E0.Control,{id:"search-input",type:"text",placeholder:"Enter song name...",value:f,onChange:fe=>h(fe.target.value),onKeyDown:fe=>fe.key==="Enter"&&Ut(),className:J?"bg-dark text-light":""}),E(No,{variant:"primary",onClick:Ut,disabled:y,className:"ms-2",children:y?E(_S,{animation:"border",size:"sm"}):"Search"})]})]}),m.length>0&&E("div",{className:"search-results-container",children:E(tu,{children:m.map((fe,$e)=>K(tu.Item,{className:`d-flex justify-content-between align-items-center py-2 ${J?"bg-dark text-light":""}`,children:[K("div",{className:"d-flex align-items-center",children:[E("img",{src:fe.thumbnail,alt:fe.name,width:"50",height:"50",className:"me-3 rounded",style:{objectFit:"cover"}}),K("div",{children:[E("div",{className:"fw-bold",children:fe.name}),K("small",{className:"text-muted",children:["YouTube • ",fe.duration||"Unknown duration"]})]})]}),K(No,{size:"sm",variant:"outline-success",onClick:je=>{je.stopPropagation(),yt(fe)},children:[E("i",{className:"bi bi-plus"})," Add"]})]},$e))})})]}),K("div",{className:"custom-playlists",children:[E("h5",{children:"Custom Playlists"}),K("div",{className:"d-flex mb-3",children:[E(E0.Control,{type:"text",placeholder:"New playlist name",value:W,onChange:fe=>Q(fe.target.value),className:`me-2 ${J?"bg-dark text-light":""}`}),E(No,{variant:"success",onClick:Ie,children:"Create"})]}),V.length>0?E(tu,{children:V.map(fe=>K(tu.Item,{action:!0,active:(F==null?void 0:F.id)===fe.id,onClick:()=>st(fe),className:`d-flex justify-content-between align-items-center ${J?"bg-dark text-light":""}`,children:[fe.name,K("span",{className:"badge bg-secondary",children:[fe.tracks.length," tracks"]})]},fe.id))}):K("div",{className:"empty-state text-center py-3",children:[E("i",{className:"bi bi-music-note-list",style:{fontSize:"2rem",color:"#6c757d"}}),E("p",{className:"text-muted mt-2",children:"No playlists yet"})]})]}),K("div",{className:"offline-section",children:[E("h5",{children:"Offline Tracks"}),z.length===0?K("div",{className:"empty-state text-center py-3",children:[E("i",{className:"bi bi-download",style:{fontSize:"2rem",color:"#6c757d"}}),E("p",{className:"text-muted mt-2",children:"No offline tracks"})]}):E(tu,{children:z.map((fe,$e)=>E(tu.Item,{action:!0,onClick:()=>{const je=t.findIndex(Ge=>Ge.id===fe.id);je>=0&&Pe(je)},className:`track-item ${J?"bg-dark text-light":""}`,children:K("div",{className:"d-flex justify-content-between align-items-center",children:[E("span",{children:fe.name}),E(No,{size:"sm",variant:"danger",onClick:je=>{je.stopPropagation(),Ce(fe.id)},children:E("i",{className:"bi bi-trash"})})]})},$e))})]})]}),K("div",{className:"main-content",children:[K("div",{className:`now-playing ${J?"dark-mode":""}`,children:[K("div",{className:"d-flex align-items-center mb-3",children:[Vt.thumbnail&&E("img",{src:Vt.thumbnail,alt:Vt.name,width:"80",height:"80",className:"me-3 rounded",style:{objectFit:"cover"}}),K("div",{children:[K("h4",{className:"mb-0",children:[Vt.name||"No track selected",Vt.isYouTube&&E("span",{className:"badge bg-danger ms-2",children:"YouTube"}),z.some(fe=>fe.id===Vt.id)&&E("span",{className:"badge bg-success ms-2",children:"Offline"})]}),K("small",{className:"text-muted",children:[Vt.artist||"Unknown artist"," • ",I0(M)]})]})]}),R&&K("div",{className:"text-center my-2",children:[E(_S,{animation:"border"}),E("p",{children:"Loading track..."})]}),Vt.isYouTube?E("div",{className:"youtube-player-container",children:E(uce,{videoId:Vt.id,ref:we,opts:{width:"100%",height:"100%",playerVars:{autoplay:a?1:0}},onReady:fe=>{a&&fe.target.playVideo(),P(fe.target.getDuration())},onStateChange:fe=>{fe.data===0&&De()}})}):null,K("div",{className:"player-controls",children:[K("div",{className:"d-flex align-items-center mb-2",children:[E(No,{variant:"link",onClick:Ve,disabled:t.length===0,className:"control-button",children:E("i",{className:"bi bi-skip-start-fill"})}),E(No,{variant:"primary",onClick:pe,disabled:t.length===0,className:"play-pause-button",children:a?E("i",{className:"bi bi-pause-fill"}):E("i",{className:"bi bi-play-fill"})}),E(No,{variant:"link",onClick:De,disabled:t.length===0,className:"control-button",children:E("i",{className:"bi bi-skip-end-fill"})})]}),qt&&K("div",{className:"progress-container",children:[K("div",{className:"d-flex justify-content-between mb-1",children:[E("small",{className:"text-muted",children:I0(D)}),E("small",{className:"text-muted",children:I0(M)})]}),E("input",{type:"range",className:"progress-range",min:0,max:M,value:D,onChange:mt,onMouseDown:Jt,onMouseUp:Ht})]})]})]}),K("div",{className:"playlist-section",children:[K("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[E("h5",{children:"Current Playlist"}),K("small",{className:"text-muted",children:[t.length," tracks"]})]}),t.length===0?K("div",{className:"empty-state text-center py-5",children:[E("i",{className:"bi bi-music-note-list",style:{fontSize:"3rem",color:"#6c757d"}}),E("h5",{className:"mt-3",children:"No tracks found"}),E("p",{className:"text-muted",children:"Add some tracks to get started"}),E(No,{variant:"outline-primary",onClick:()=>document.getElementById("search-input").focus(),children:"Search for music"})]}):E(tu,{children:t.map((fe,$e)=>{var Le,Gt;const je=((Le=q[fe.id])==null?void 0:Le.status)==="downloading",Ge=((Gt=q[fe.id])==null?void 0:Gt.progress)||0,Fe=z.some(an=>an.id===fe.id);return K(tu.Item,{active:$e===n,action:!0,onClick:()=>Pe($e),className:`d-flex justify-content-between align-items-center py-3 ${J?"bg-dark text-light":""}`,style:{borderLeft:$e===n?"4px solid #0d6efd":"4px solid transparent"},children:[K("div",{className:"d-flex align-items-center",style:{flex:1},children:[fe.thumbnail&&E("img",{src:fe.thumbnail,alt:fe.name,width:"40",height:"40",className:"me-3 rounded",style:{objectFit:"cover"}}),K("div",{children:[E("div",{className:`fw-bold ${$e===n?"text-primary":""}`,children:fe.name||`Track ${$e+1}`}),K("small",{className:"text-muted",children:[fe.artist||"Unknown artist"," • ",fe.duration||I0(M)]})]})]}),K("div",{className:"d-flex align-items-center",children:[fe.isYouTube&&E("small",{className:"text-muted me-2",children:"YouTube"}),je?E("div",{className:"download-progress-container",children:E(aL,{now:Ge,label:`${Ge}%`})}):E(No,{size:"sm",variant:Fe?"success":"outline-primary",onClick:an=>{an.stopPropagation(),ze(fe)},disabled:je||Fe&&!fe.isYouTube,className:"me-2",children:Fe&&!fe.isYouTube?"Downloaded":"Download"}),V.length>0&&E(rE,{size:"sm",variant:"outline-secondary",title:"+ Playlist",onClick:an=>an.stopPropagation(),children:V.map(an=>E(VI.Item,{onClick:Qn=>{Qn.stopPropagation(),Ue(an.id,fe)},children:an.name},an.id))})]})]},$e)})})]})]})]})},dce=!1,fce="103.177.132.18",hce=()=>{const t=OS();return O.useEffect(()=>{(async()=>{try{const n=dce?fce:(await tt.get("https://api.ipify.org?format=json")).data.ip;(await tt.get("https://edunova-back-rqxc.onrender.com/api/ip/check-ip",{params:{ip:n}})).data.abuseConfidenceScore>50?(console.warn("🚫 Access blocked for suspicious IP:",n),document.body.innerHTML=`<h1 style="color:red; text-align:center; margin-top: 20vh;">
            🚫 Access Denied<br/><br/>Your IP (${n}) has been flagged as malicious.
          </h1>`):console.log("✅ IP passed security check:",n)}catch(n){console.error("❌ IP Check failed:",n)}})()},[t]),null},pce=({teacher:t,onClose:e})=>K("div",{className:"modal-overlay",children:[E("style",{children:`
    .modal-overlay {
      position: fixed;
      inset: 0;
      background-color: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 999;
    }

    .modal-content {
      background-color: #fff;
      border-radius: 16px;
      padding: 24px 32px;
      max-width: 400px;
      width: 90%;
      position: relative;
      box-shadow: 0 8px 24px rgba(0,0,0,0.2);
      font-family: sans-serif;
    }

    .close-button {
      position: absolute;
      top: 12px;
      right: 16px;
      background: none;
      border: none;
      font-size: 20px;
      color: #555;
      cursor: pointer;
    }

    .close-button:hover {
      color: #000;
    }

    .teacher-img1 {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      object-fit: cover;
      margin: 0 auto 16px auto;
      border: 3px solid #4f46e5;
    }

    .teacher-name {
      font-size: 20px;
      font-weight: bold;
      text-align: center;
      margin-bottom: 4px;
    }

    .teacher-email {
      text-align: center;
      color: #666;
      font-size: 13px;
      margin-bottom: 12px;
    }

    .teacher-detail {
      font-size: 14px;
      color: #333;
      margin-bottom: 6px;
    }

    .teacher-more {
      font-style: italic;
      font-size: 13px;
      color: #999;
      margin-top: 12px;
      text-align: center;
    }
  `}),K("div",{className:"modal-content",children:[E("button",{className:"close-button",onClick:e,children:"✕"}),E("img",{src:`https://edunova-back-rqxc.onrender.com/${t.photo}`,alt:t.firstName,className:"teacher-img1"}),K("div",{className:"teacher-name",children:[t.firstName," ",t.lastName]}),E("div",{className:"teacher-email",children:t.email}),K("div",{className:"teacher-detail",children:["Country: ",t.country]}),K("div",{className:"teacher-detail",children:["Age: ",t.age]}),E("div",{className:"teacher-more",children:"More info will appear here..."})]})]}),mce=()=>{const[t,e]=O.useState([]),[n,r]=O.useState(null);return O.useEffect(()=>{tt.get("https://edunova-back-rqxc.onrender.com/api/users").then(o=>{const i=o.data.users.filter(s=>s.role==="Teacher");e(i)})},[]),K("div",{className:"p-6 max-w-6xl mx-auto",children:[E("style",{dangerouslySetInnerHTML:{__html:`
  .teacher-grid {
    padding-top: 20px;
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
    gap: 90px;
    justify-items: center;
  }

  .teacher-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    width: 120px;
    height: 140px;
    background-color: white;
    border-radius: 12px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    transition: box-shadow 0.3s ease;
    cursor: pointer;
  }

  .teacher-card:hover {
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  }

  .teacher-img-wrapper {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    overflow: hidden;
    border: 2px solid #4f46e5;
    margin-bottom: 8px;
  }

  .teacher-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }

  .teacher-name {
    font-size: 14px;
    font-weight: 600;
    text-align: center;
  }
`}}),E("h2",{className:"text-3xl font-bold text-center mb-8",children:"Our Teachers"}),E("div",{className:"teacher-grid",style:{display:"flex",justifyContent:"center",paddingTop:"8rem"},children:t.map(o=>o.photo?K("div",{className:"teacher-card",onClick:()=>r(o),children:[E("div",{className:"teacher-img-wrapper",children:E("img",{src:`https://edunova-back-rqxc.onrender.com/${o.photo}`,alt:o.firstName,className:"teacher-img"})}),E("p",{className:"teacher-name",children:o.firstName})]},o._id):null)}),n&&E(pce,{teacher:n,onClose:()=>r(null)})]})};Bj.init();const gce=O.lazy(()=>kt(()=>import("./login-E2r_LJN3.js"),__vite__mapDeps([0,1,2,3])));O.lazy(()=>kt(()=>import("./registration-DeTL6WVh.js"),__vite__mapDeps([4,1])));const vce=O.lazy(()=>kt(()=>import("./home-Cdaxm1sC.js"),__vite__mapDeps([5,1,6,2,7]))),yce=O.lazy(()=>kt(()=>import("./ForgotPassword-BqZSshVO.js"),__vite__mapDeps([8,1,3,2]))),bce=O.lazy(()=>kt(()=>Promise.resolve().then(()=>qse),void 0)),xce=O.lazy(()=>kt(()=>import("./listModules-CMskDlGw.js"),__vite__mapDeps([9,1]))),wce=O.lazy(()=>kt(()=>import("./userconnectedupdate-Bouma_Cb.js"),__vite__mapDeps([10,1,11,12,13,14,15,16,17,18,19,20,21,22]))),Sce=O.lazy(()=>kt(()=>import("./Courses-B5_Sp0XZ.js"),__vite__mapDeps([23,1]))),_ce=O.lazy(()=>kt(()=>import("./usersBack-WT_SYicS.js"),__vite__mapDeps([24,1]))),MN=O.lazy(()=>kt(()=>import("./Contact-lqrTP6lm.js"),__vite__mapDeps([25,1,2,3]))),Cce=O.lazy(()=>kt(()=>import("./messga-C-ZzI0fq.js"),__vite__mapDeps([26,1]))),Ece=O.lazy(()=>kt(()=>import("./index-BcAbt9hz.js"),__vite__mapDeps([27,1,28,29,30,31,32,33,34,35,36]))),Tce=O.lazy(()=>kt(()=>import("./index-QyzUgkRo.js"),__vite__mapDeps([37,1,38,17,18,20,39,15,13,14,40,41,42,43,22,44,45,46]))),Rce=O.lazy(()=>kt(()=>import("./index-BY7nVXYT.js"),__vite__mapDeps([47,46,1,48,44,17,18,39,49,50,41,13,14,42]))),Ace=O.lazy(()=>kt(()=>import("./predict-De0WGVsb.js"),__vite__mapDeps([51,1,17,18,43]))),kce=O.lazy(()=>kt(()=>import("./index-KPv3jwJl.js"),__vite__mapDeps([52,1,46,38,17,18,20,39,15,13,14,40,41,42,43,22,44,53,19,54,21]))),Nce=O.lazy(()=>kt(()=>import("./badges-DlXQIRr4.js"),__vite__mapDeps([55,1,56]))),Oce=O.lazy(()=>kt(()=>import("./AboutUS-CI9zSt8w.js"),__vite__mapDeps([57,1,2,58]))),Dce=O.lazy(()=>kt(()=>import("./VideoRoom-BwwukROu.js"),__vite__mapDeps([59,1,11]))),PN=O.lazy(()=>kt(()=>import("./AddSupplementaryLesson-BCwiWRgH.js"),__vite__mapDeps([60,1]))),Mce=O.lazy(()=>kt(()=>import("./UpdateQuestion-DcBKtVyf.js"),__vite__mapDeps([61,1,19,20,49,50,17,18,22,62,63,16]))),Pce=O.lazy(()=>kt(()=>import("./new-CPz674lG.js"),__vite__mapDeps([64,1,19,20,49,50,16,17,18,22,62,63,65]))),Ice=O.lazy(()=>kt(()=>import("./index-BKY-iSq1.js"),__vite__mapDeps([66,46,1,67,30,68,31,32,33]))),Lce=O.lazy(()=>kt(()=>import("./index-C5qPwWNm.js"),__vite__mapDeps([69,70,1,46,53,14,22]))),Fce=O.lazy(()=>kt(()=>import("./index-CWc2SJnM.js"),__vite__mapDeps([71,46,1,67,30,68,31,35,33,34]))),Bce=O.lazy(()=>kt(()=>import("./index-BR1_WZFf.js"),__vite__mapDeps([72,46,1,67,30,33,34]))),zce=O.lazy(()=>kt(()=>import("./index-Clmk2dgZ.js"),__vite__mapDeps([73,46,1,44]))),$ce=O.lazy(()=>kt(()=>import("./index-CeiryiGx.js"),__vite__mapDeps([74,1,67,30,46]))),Uce=O.lazy(()=>kt(()=>import("./Sidebar-xRcucC67.js"),__vite__mapDeps([75,1,44,22,76]))),Vce=O.lazy(()=>kt(()=>import("./index-p-PhwEhz.js"),__vite__mapDeps([77,1,12,13,14,15,19,20,49,50,41,17,18,22]))),jce=O.lazy(()=>kt(()=>import("./performance-DGYdkwsY.js"),__vite__mapDeps([78,1,29,30,31,32,33,34,35,36,79]))),Wce=O.lazy(()=>kt(()=>import("./quizResult-hu02Hrj_.js"),__vite__mapDeps([80,1,16,49,29,30,31,32,33,34,35,79]))),Hce=O.lazy(()=>kt(()=>import("./BadgeDetail-BqWZc_Uu.js"),__vite__mapDeps([81,1]))),qce=O.lazy(()=>kt(()=>import("./LessonsDashboard-CSv0CQFa.js"),__vite__mapDeps([82,38,1,17,18,20,39,15,13,14,40,41,42,43,22,44,45,46]))),Gce=O.lazy(()=>kt(()=>import("./CreateLesson-BjskhHDf.js"),__vite__mapDeps([83,1,49,84,50,41,13,14,17,18,22,63,65]))),Kce=O.lazy(()=>kt(()=>import("./SelectGoogleLessons-DCT_qSH8.js"),__vite__mapDeps([85,1,22,41,13,14,40]))),Yce=O.lazy(()=>kt(()=>import("./CalendarPage-szyZLGH8.js"),__vite__mapDeps([86,1,28,87,29,30,31,32,33,34,35,79,6,88])));O.lazy(()=>kt(()=>import("./Topbar-CXLREcxc.js"),__vite__mapDeps([89,1,44,48])));const Xce=O.lazy(()=>kt(()=>import("./AddLesson-DbrnUXFY.js"),__vite__mapDeps([90,1]))),Qce=O.lazy(()=>kt(()=>import("./LessonDetails-wNBlViY3.js"),__vite__mapDeps([91,1,44,49,84,50,39,54,18,22,41,13,14]))),Zce=O.lazy(()=>kt(()=>import("./badgeForm-dCrJEuKg.js"),__vite__mapDeps([92,70,1,46,53,14,22,93]))),Jce=O.lazy(()=>kt(()=>import("./CoursesDetails-BMx5BsQM.js"),__vite__mapDeps([94,1,87]))),ede=O.lazy(()=>kt(()=>import("./ClassicWordGame-Bpci5EWr.js"),__vite__mapDeps([95,1,96]))),tde=O.lazy(()=>kt(()=>import("./quiz-Dk-yUxVK.js"),__vite__mapDeps([97,1]))),nde=O.lazy(()=>kt(()=>Promise.resolve().then(()=>Zse),void 0));function rde(){const[t,e]=Pj(),[n,r]=O.useState(!0),[a,o]=O.useState("");return E(Mj.Provider,{value:e,children:K(vz,{theme:t,children:[E(cU,{}),K(PF,{children:[E(hce,{}),E(ade,{isSidebar:n,setIsSidebar:r,searchQuery:a,setSearchQuery:o})]})]})})}function ade({isSidebar:t,setIsSidebar:e,searchQuery:n,setSearchQuery:r}){const a=OS();return O.useEffect(()=>{Fse(document.title)},[a]),K(O.Suspense,{fallback:E("div",{children:"Loading..."}),children:[E(Ose,{}),K(ET,{children:[E(lt,{path:"/",element:E(gce,{})}),E(lt,{path:"/registration",element:E(MN,{})}),E(lt,{path:"/forgot-password",element:E(yce,{})}),E(lt,{path:"/face",element:E(Nse,{})}),E(lt,{path:"/exam",element:E(Jse,{})}),K(lt,{element:E(oK,{}),children:[E(lt,{path:"/home",element:E(vce,{})}),E(lt,{path:"/forum",element:E(ale,{})}),E(lt,{path:"/forum/posts/:id",element:E(ile,{})}),E(lt,{path:"/changePassword",element:E(ele,{})}),E(lt,{path:"/addModule",element:E(bce,{})}),E(lt,{path:"/listModules",element:E(xce,{})}),E(lt,{path:"/update",element:E(wce,{})}),E(lt,{path:"/badges",element:E(Nce,{})}),E(lt,{path:"/badge/:id",element:E(Hce,{})}),E(lt,{path:"/contact",element:E(MN,{})}),E(lt,{path:"/calendar",element:E(Yce,{})}),E(lt,{path:"/videochat",element:E(Dce,{})}),E(lt,{path:"/add-supplementary-lesson/:id",element:E(PN,{})}),E(lt,{path:"/add-supplementary-lesson/:id",element:E(PN,{})}),E(lt,{path:"/moduleDetails/:type/:id",element:E(Jk,{})}),E(lt,{path:"/quizz",element:E(tde,{})}),E(lt,{path:"/quiz",element:E(nde,{})}),E(lt,{path:"/ClassicWordGame",element:E(ede,{})}),E(lt,{path:"/message",element:E(Cce,{})}),E(lt,{path:"/lesson",element:E(Sce,{})}),E(lt,{path:"/create-lesson/:id",element:E(Xce,{})}),E(lt,{path:"/lesson-details",element:E(Jce,{})}),E(lt,{path:"/dys",element:E(Qse,{})}),E(lt,{path:"/Trainers",element:E(mce,{})}),E(lt,{path:"/moduleDetails/:id",element:E(Jk,{})}),E(lt,{path:"/music-player",element:E(cce,{})}),E(lt,{path:"/About",element:E(Oce,{})})]}),E(lt,{path:"/dashboard/*",element:K("div",{className:"app",children:[E(Uce,{isSidebar:t,className:"sidebar"}),E("div",{className:"content",children:K(ET,{children:[E(lt,{path:"/",element:E(gr,{children:E(Ece,{})})}),E(lt,{path:"/update-question/:id",element:E(Mce,{})}),E(lt,{path:"/lessons",element:E(gr,{children:E(qce,{})})}),E(lt,{path:"create-lesson",element:E(gr,{children:E(Gce,{})})}),E(lt,{path:"lesson/:id",element:E(gr,{children:E(Qce,{})})}),E(lt,{path:"changePassword",element:E(gr,{children:E(tle,{})})}),E(lt,{path:"select-google-lessons",element:E(gr,{children:E(Kce,{})})}),E(lt,{path:"/badgeForm",element:E(gr,{children:E(Zce,{})})}),E(lt,{path:"/team",element:E(gr,{children:E(Tce,{searchQuery:n})})}),E(lt,{path:"/contacts",element:E(gr,{children:E(kce,{})})}),E(lt,{path:"contacts/new",element:E(Pce,{})}),E(lt,{path:"/invoices",element:E(gr,{children:E(Rce,{})})}),E(lt,{path:"/predict",element:E(Ace,{})}),E(lt,{path:"/performance",element:E(gr,{children:E(jce,{})})}),E(lt,{path:"/quizResult",element:E(gr,{children:E(Wce,{})})}),E(lt,{path:"/form",element:E(gr,{children:E(Lce,{})})}),E(lt,{path:"/Level",element:E(gr,{children:E(Vce,{})})}),E(lt,{path:"/bar",element:E(gr,{children:E(Ice,{})})}),E(lt,{path:"/pie",element:E(gr,{children:E(Bce,{})})}),E(lt,{path:"/line",element:E(gr,{children:E(Fce,{})})}),E(lt,{path:"/faq",element:E(gr,{children:E(zce,{})})}),E(lt,{path:"/geography",element:E(gr,{children:E($ce,{})})}),E(lt,{path:"/users",element:E(gr,{children:E(_ce,{})})}),E(lt,{path:"/listModulesBack",element:E(Yse,{})}),E(lt,{path:"/moduleDetailsBack/:id",element:E(Xse,{})})]})})]})})]})]})}const At=t=>typeof t=="string",$p=()=>{let t,e;const n=new Promise((r,a)=>{t=r,e=a});return n.resolve=t,n.reject=e,n},IN=t=>t==null?"":""+t,ode=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},ide=/###/g,LN=t=>t&&t.indexOf("###")>-1?t.replace(ide,"."):t,FN=t=>!t||At(t),am=(t,e,n)=>{const r=At(e)?e.split("."):e;let a=0;for(;a<r.length-1;){if(FN(t))return{};const o=LN(r[a]);!t[o]&&n&&(t[o]=new n),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={},++a}return FN(t)?{}:{obj:t,k:LN(r[a])}},BN=(t,e,n)=>{const{obj:r,k:a}=am(t,e,Object);if(r!==void 0||e.length===1){r[a]=n;return}let o=e[e.length-1],i=e.slice(0,e.length-1),s=am(t,i,Object);for(;s.obj===void 0&&i.length;)o=`${i[i.length-1]}.${o}`,i=i.slice(0,i.length-1),s=am(t,i,Object),s!=null&&s.obj&&typeof s.obj[`${s.k}.${o}`]<"u"&&(s.obj=void 0);s.obj[`${s.k}.${o}`]=n},sde=(t,e,n,r)=>{const{obj:a,k:o}=am(t,e,Object);a[o]=a[o]||[],a[o].push(n)},Ky=(t,e)=>{const{obj:n,k:r}=am(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},lde=(t,e,n)=>{const r=Ky(t,n);return r!==void 0?r:Ky(e,n)},oL=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?At(t[r])||t[r]instanceof String||At(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):oL(t[r],e[r],n):t[r]=e[r]);return t},Kd=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var ude={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const cde=t=>At(t)?t.replace(/[&<>"'\/]/g,e=>ude[e]):t;class dde{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const fde=[" ",",","?","!",";"],hde=new dde(20),pde=(t,e,n)=>{e=e||"",n=n||"";const r=fde.filter(i=>e.indexOf(i)<0&&n.indexOf(i)<0);if(r.length===0)return!0;const a=hde.getRegExp(`(${r.map(i=>i==="?"?"\\?":i).join("|")})`);let o=!a.test(t);if(!o){const i=t.indexOf(n);i>0&&!a.test(t.substring(0,i))&&(o=!0)}return o},TS=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let a=t;for(let o=0;o<r.length;){if(!a||typeof a!="object")return;let i,s="";for(let u=o;u<r.length;++u)if(u!==o&&(s+=n),s+=r[u],i=a[s],i!==void 0){if(["string","number","boolean"].indexOf(typeof i)>-1&&u<r.length-1)continue;o+=u-o+1;break}a=i}return a},Yy=t=>t==null?void 0:t.replace("_","-"),mde={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,r;(r=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||r.call(n,console,e)}};class Xy{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||mde,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,a){return a&&!this.debug?null:(At(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new Xy(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Xy(this.logger,e)}}var Xi=new Xy;class Jb{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const a=this.observers[r].get(n)||0;this.observers[r].set(n,a+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(i=>{let[s,u]=i;for(let c=0;c<u;c++)s(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(i=>{let[s,u]=i;for(let c=0;c<u;c++)s.apply(s,[e,...r])})}}class zN extends Jb{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r){var c,f;let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,i=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let s;e.indexOf(".")>-1?s=e.split("."):(s=[e,n],r&&(Array.isArray(r)?s.push(...r):At(r)&&o?s.push(...r.split(o)):s.push(r)));const u=Ky(this.data,s);return!u&&!n&&!r&&e.indexOf(".")>-1&&(e=s[0],n=s[1],r=s.slice(2).join(".")),u||!i||!At(r)?u:TS((f=(c=this.data)==null?void 0:c[e])==null?void 0:f[n],r,o)}addResource(e,n,r,a){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const i=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let s=[e,n];r&&(s=s.concat(i?r.split(i):r)),e.indexOf(".")>-1&&(s=e.split("."),a=n,n=s[1]),this.addNamespaces(n),BN(this.data,s,a),o.silent||this.emit("added",e,n,r,a)}addResources(e,n,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const o in r)(At(r[o])||Array.isArray(r[o]))&&this.addResource(e,n,o,r[o],{silent:!0});a.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,a,o){let i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},s=[e,n];e.indexOf(".")>-1&&(s=e.split("."),a=r,r=n,n=s[1]),this.addNamespaces(n);let u=Ky(this.data,s)||{};i.skipCopy||(r=JSON.parse(JSON.stringify(r))),a?oL(u,r,o):u={...u,...r},BN(this.data,s,u),i.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(a=>n[a]&&Object.keys(n[a]).length>0)}toJSON(){return this.data}}var iL={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,a){return t.forEach(o=>{var i;e=((i=this.processors[o])==null?void 0:i.process(e,n,r,a))??e}),e}};const $N={},UN=t=>!At(t)&&typeof t!="boolean"&&typeof t!="number";class Qy extends Jb{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),ode(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Xi.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){const r={...arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}};if(e==null)return!1;const a=this.resolve(e,r);return(a==null?void 0:a.res)!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const a=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const i=r&&e.indexOf(r)>-1,s=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!pde(e,r,a);if(i&&!s){const u=e.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:e,namespaces:At(o)?[o]:o};const c=e.split(r);(r!==a||r===a&&this.options.ns.indexOf(c[0])>-1)&&(o=c.shift()),e=c.join(a)}return{key:e,namespaces:At(o)?[o]:o}}translate(e,n,r){let a=typeof n=="object"?{...n}:n;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(a={...a}),a||(a={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const o=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,i=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:s,namespaces:u}=this.extractFromKey(e[e.length-1],a),c=u[u.length-1],f=a.lng||this.language,h=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((f==null?void 0:f.toLowerCase())==="cimode"){if(h){const z=a.nsSeparator||this.options.nsSeparator;return o?{res:`${c}${z}${s}`,usedKey:s,exactUsedKey:s,usedLng:f,usedNS:c,usedParams:this.getUsedParamsDetails(a)}:`${c}${z}${s}`}return o?{res:s,usedKey:s,exactUsedKey:s,usedLng:f,usedNS:c,usedParams:this.getUsedParamsDetails(a)}:s}const m=this.resolve(e,a);let g=m==null?void 0:m.res;const y=(m==null?void 0:m.usedKey)||s,b=(m==null?void 0:m.exactUsedKey)||s,x=["[object Number]","[object Function]","[object RegExp]"],S=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,R=!this.i18nFormat||this.i18nFormat.handleAsObject,_=a.count!==void 0&&!At(a.count),T=Qy.hasDefaultValue(a),A=_?this.pluralResolver.getSuffix(f,a.count,a):"",D=a.ordinal&&_?this.pluralResolver.getSuffix(f,a.count,{ordinal:!1}):"",N=_&&!a.ordinal&&a.count===0,M=N&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${A}`]||a[`defaultValue${D}`]||a.defaultValue;let P=g;R&&!g&&T&&(P=M);const I=UN(P),$=Object.prototype.toString.apply(P);if(R&&P&&I&&x.indexOf($)<0&&!(At(S)&&Array.isArray(P))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const z=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,P,{...a,ns:u}):`key '${s} (${this.language})' returned an object instead of string.`;return o?(m.res=z,m.usedParams=this.getUsedParamsDetails(a),m):z}if(i){const z=Array.isArray(P),G=z?[]:{},V=z?b:y;for(const B in P)if(Object.prototype.hasOwnProperty.call(P,B)){const F=`${V}${i}${B}`;T&&!g?G[B]=this.translate(F,{...a,defaultValue:UN(M)?M[B]:void 0,joinArrays:!1,ns:u}):G[B]=this.translate(F,{...a,joinArrays:!1,ns:u}),G[B]===F&&(G[B]=P[B])}g=G}}else if(R&&At(S)&&Array.isArray(g))g=g.join(S),g&&(g=this.extendTranslation(g,e,a,r));else{let z=!1,G=!1;!this.isValidLookup(g)&&T&&(z=!0,g=M),this.isValidLookup(g)||(G=!0,g=s);const B=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&G?void 0:g,F=T&&M!==g&&this.options.updateMissing;if(G||z||F){if(this.logger.log(F?"updateKey":"missingKey",f,c,s,F?M:g),i){const q=this.resolve(s,{...a,keySeparator:!1});q&&q.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let U=[];const W=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&W&&W[0])for(let q=0;q<W.length;q++)U.push(W[q]);else this.options.saveMissingTo==="all"?U=this.languageUtils.toResolveHierarchy(a.lng||this.language):U.push(a.lng||this.language);const Q=(q,le,J)=>{var re;const oe=T&&J!==g?J:B;this.options.missingKeyHandler?this.options.missingKeyHandler(q,c,le,oe,F,a):(re=this.backendConnector)!=null&&re.saveMissing&&this.backendConnector.saveMissing(q,c,le,oe,F,a),this.emit("missingKey",q,c,le,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&_?U.forEach(q=>{const le=this.pluralResolver.getSuffixes(q,a);N&&a[`defaultValue${this.options.pluralSeparator}zero`]&&le.indexOf(`${this.options.pluralSeparator}zero`)<0&&le.push(`${this.options.pluralSeparator}zero`),le.forEach(J=>{Q([q],s+J,a[`defaultValue${J}`]||M)})}):Q(U,s,M))}g=this.extendTranslation(g,e,a,m,r),G&&g===s&&this.options.appendNamespaceToMissingKey&&(g=`${c}:${s}`),(G||z)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${s}`:s,z?g:void 0,a))}return o?(m.res=g,m.usedParams=this.getUsedParamsDetails(a),m):g}extendTranslation(e,n,r,a,o){var c,f;var i=this;if((c=this.i18nFormat)!=null&&c.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const h=At(e)&&(((f=r==null?void 0:r.interpolation)==null?void 0:f.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let m;if(h){const y=e.match(this.interpolator.nestingRegexp);m=y&&y.length}let g=r.replace&&!At(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(g={...this.options.interpolation.defaultVariables,...g}),e=this.interpolator.interpolate(e,g,r.lng||this.language||a.usedLng,r),h){const y=e.match(this.interpolator.nestingRegexp),b=y&&y.length;m<b&&(r.nest=!1)}!r.lng&&a&&a.res&&(r.lng=this.language||a.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var y=arguments.length,b=new Array(y),x=0;x<y;x++)b[x]=arguments[x];return(o==null?void 0:o[0])===b[0]&&!r.context?(i.logger.warn(`It seems you are nesting recursively key: ${b[0]} in key: ${n[0]}`),null):i.translate(...b,n)},r)),r.interpolation&&this.interpolator.reset()}const s=r.postProcess||this.options.postProcess,u=At(s)?[s]:s;return e!=null&&(u!=null&&u.length)&&r.applyPostProcessor!==!1&&(e=iL.handle(u,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,a,o,i,s;return At(e)&&(e=[e]),e.forEach(u=>{if(this.isValidLookup(r))return;const c=this.extractFromKey(u,n),f=c.key;a=f;let h=c.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const m=n.count!==void 0&&!At(n.count),g=m&&!n.ordinal&&n.count===0,y=n.context!==void 0&&(At(n.context)||typeof n.context=="number")&&n.context!=="",b=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);h.forEach(x=>{var S,R;this.isValidLookup(r)||(s=x,!$N[`${b[0]}-${x}`]&&((S=this.utils)!=null&&S.hasLoadedNamespace)&&!((R=this.utils)!=null&&R.hasLoadedNamespace(s))&&($N[`${b[0]}-${x}`]=!0,this.logger.warn(`key "${a}" for languages "${b.join(", ")}" won't get resolved as namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),b.forEach(_=>{var D;if(this.isValidLookup(r))return;i=_;const T=[f];if((D=this.i18nFormat)!=null&&D.addLookupKeys)this.i18nFormat.addLookupKeys(T,f,_,x,n);else{let N;m&&(N=this.pluralResolver.getSuffix(_,n.count,n));const M=`${this.options.pluralSeparator}zero`,P=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(m&&(T.push(f+N),n.ordinal&&N.indexOf(P)===0&&T.push(f+N.replace(P,this.options.pluralSeparator)),g&&T.push(f+M)),y){const I=`${f}${this.options.contextSeparator}${n.context}`;T.push(I),m&&(T.push(I+N),n.ordinal&&N.indexOf(P)===0&&T.push(I+N.replace(P,this.options.pluralSeparator)),g&&T.push(I+M))}}let A;for(;A=T.pop();)this.isValidLookup(r)||(o=A,r=this.getResource(_,x,A,n))}))})}),{res:r,usedKey:a,exactUsedKey:o,usedLng:i,usedNS:s}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r){var o;let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(o=this.i18nFormat)!=null&&o.getResource?this.i18nFormat.getResource(e,n,r,a):this.resourceStore.getResource(e,n,r,a)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!At(e.replace);let a=r?e.replace:e;if(r&&typeof e.count<"u"&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!r){a={...a};for(const o of n)delete a[o]}return a}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class VN{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Xi.create("languageUtils")}getScriptPartFromCode(e){if(e=Yy(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Yy(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(At(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const a=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(a))&&(n=a)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const a=this.getScriptPartFromCode(r);if(this.isSupportedCode(a))return n=a;const o=this.getLanguagePartFromCode(r);if(this.isSupportedCode(o))return n=o;n=this.options.supportedLngs.find(i=>{if(i===o)return i;if(!(i.indexOf("-")<0&&o.indexOf("-")<0)&&(i.indexOf("-")>0&&o.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===o||i.indexOf(o)===0&&o.length>1))return i})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),At(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],e),a=[],o=i=>{i&&(this.isSupportedCode(i)?a.push(i):this.logger.warn(`rejecting language code not found in supportedLngs: ${i}`))};return At(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):At(e)&&o(this.formatLanguageCode(e)),r.forEach(i=>{a.indexOf(i)<0&&o(this.formatLanguageCode(i))}),a}}const jN={zero:0,one:1,two:2,few:3,many:4,other:5},WN={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class gde{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=Xi.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=Yy(e==="dev"?"en":e),a=n.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:r,type:a});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let i;try{i=new Intl.PluralRules(r,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),WN;if(!e.match(/-|_/))return WN;const u=this.languageUtils.getLanguagePartFromCode(e);i=this.getRule(u,n)}return this.pluralRulesCache[o]=i,i}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(a=>`${n}${a}`)}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((a,o)=>jN[a]-jN[o]).map(a=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=this.getRule(e,r);return a?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const HN=function(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=lde(t,e,n);return!o&&a&&At(n)&&(o=TS(t,n,r),o===void 0&&(o=TS(e,n,r))),o},tw=t=>t.replace(/\$/g,"$$$$");class vde{constructor(){var n;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Xi.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:a,prefix:o,prefixEscaped:i,suffix:s,suffixEscaped:u,formatSeparator:c,unescapeSuffix:f,unescapePrefix:h,nestingPrefix:m,nestingPrefixEscaped:g,nestingSuffix:y,nestingSuffixEscaped:b,nestingOptionsSeparator:x,maxReplaces:S,alwaysFormat:R}=e.interpolation;this.escape=n!==void 0?n:cde,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=o?Kd(o):i||"{{",this.suffix=s?Kd(s):u||"}}",this.formatSeparator=c||",",this.unescapePrefix=f?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":f||"",this.nestingPrefix=m?Kd(m):g||Kd("$t("),this.nestingSuffix=y?Kd(y):b||Kd(")"),this.nestingOptionsSeparator=x||",",this.maxReplaces=S||1e3,this.alwaysFormat=R!==void 0?R:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,r,a){var g;let o,i,s;const u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=y=>{if(y.indexOf(this.formatSeparator)<0){const R=HN(n,u,y,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(R,void 0,r,{...a,...n,interpolationkey:y}):R}const b=y.split(this.formatSeparator),x=b.shift().trim(),S=b.join(this.formatSeparator).trim();return this.format(HN(n,u,x,this.options.keySeparator,this.options.ignoreJSONStructure),S,r,{...a,...n,interpolationkey:x})};this.resetRegExp();const f=(a==null?void 0:a.missingInterpolationHandler)||this.options.missingInterpolationHandler,h=((g=a==null?void 0:a.interpolation)==null?void 0:g.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:y=>tw(y)},{regex:this.regexp,safeValue:y=>this.escapeValue?tw(this.escape(y)):tw(y)}].forEach(y=>{for(s=0;o=y.regex.exec(e);){const b=o[1].trim();if(i=c(b),i===void 0)if(typeof f=="function"){const S=f(e,o,a);i=At(S)?S:""}else if(a&&Object.prototype.hasOwnProperty.call(a,b))i="";else if(h){i=o[0];continue}else this.logger.warn(`missed to pass in variable ${b} for interpolating ${e}`),i="";else!At(i)&&!this.useRawValueToEscape&&(i=IN(i));const x=y.safeValue(i);if(e=e.replace(o[0],x),h?(y.regex.lastIndex+=i.length,y.regex.lastIndex-=o[0].length):y.regex.lastIndex=0,s++,s>=this.maxReplaces)break}}),e}nest(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,o,i;const s=(u,c)=>{const f=this.nestingOptionsSeparator;if(u.indexOf(f)<0)return u;const h=u.split(new RegExp(`${f}[ ]*{`));let m=`{${h[1]}`;u=h[0],m=this.interpolate(m,i);const g=m.match(/'/g),y=m.match(/"/g);(((g==null?void 0:g.length)??0)%2===0&&!y||y.length%2!==0)&&(m=m.replace(/'/g,'"'));try{i=JSON.parse(m),c&&(i={...c,...i})}catch(b){return this.logger.warn(`failed parsing options string in nesting for key ${u}`,b),`${u}${f}${m}`}return i.defaultValue&&i.defaultValue.indexOf(this.prefix)>-1&&delete i.defaultValue,u};for(;a=this.nestingRegexp.exec(e);){let u=[];i={...r},i=i.replace&&!At(i.replace)?i.replace:i,i.applyPostProcessor=!1,delete i.defaultValue;let c=!1;if(a[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(a[1])){const f=a[1].split(this.formatSeparator).map(h=>h.trim());a[1]=f.shift(),u=f,c=!0}if(o=n(s.call(this,a[1].trim(),i),i),o&&a[0]===e&&!At(o))return o;At(o)||(o=IN(o)),o||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${e}`),o=""),c&&(o=u.reduce((f,h)=>this.format(f,h,r.lng,{...r,interpolationkey:a[1].trim()}),o.trim())),e=e.replace(a[0],o),this.regexp.lastIndex=0}return e}}const yde=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const a=r[1].substring(0,r[1].length-1);e==="currency"&&a.indexOf(":")<0?n.currency||(n.currency=a.trim()):e==="relativetime"&&a.indexOf(":")<0?n.range||(n.range=a.trim()):a.split(";").forEach(i=>{if(i){const[s,...u]=i.split(":"),c=u.join(":").trim().replace(/^'+|'+$/g,""),f=s.trim();n[f]||(n[f]=c),c==="false"&&(n[f]=!1),c==="true"&&(n[f]=!0),isNaN(c)||(n[f]=parseInt(c,10))}})}return{formatName:e,formatOptions:n}},Yd=t=>{const e={};return(n,r,a)=>{let o=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(o={...o,[a.interpolationkey]:void 0});const i=r+JSON.stringify(o);let s=e[i];return s||(s=t(Yy(r),a),e[i]=s),s(n)}};class bde{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Xi.create("formatter"),this.options=e,this.formats={number:Yd((n,r)=>{const a=new Intl.NumberFormat(n,{...r});return o=>a.format(o)}),currency:Yd((n,r)=>{const a=new Intl.NumberFormat(n,{...r,style:"currency"});return o=>a.format(o)}),datetime:Yd((n,r)=>{const a=new Intl.DateTimeFormat(n,{...r});return o=>a.format(o)}),relativetime:Yd((n,r)=>{const a=new Intl.RelativeTimeFormat(n,{...r});return o=>a.format(o,r.range||"day")}),list:Yd((n,r)=>{const a=new Intl.ListFormat(n,{...r});return o=>a.format(o)})},this.init(e)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=n.interpolation.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=Yd(n)}format(e,n,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=n.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(s=>s.indexOf(")")>-1)){const s=o.findIndex(u=>u.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,s)].join(this.formatSeparator)}return o.reduce((s,u)=>{var h;const{formatName:c,formatOptions:f}=yde(u);if(this.formats[c]){let m=s;try{const g=((h=a==null?void 0:a.formatParams)==null?void 0:h[a.interpolationkey])||{},y=g.locale||g.lng||a.locale||a.lng||r;m=this.formats[c](s,y,{...f,...a,...g})}catch(g){this.logger.warn(g)}return m}else this.logger.warn(`there was no format function for ${c}`);return s},e)}}const xde=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class wde extends Jb{constructor(e,n,r){var o,i;let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=a,this.logger=Xi.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],(i=(o=this.backend)==null?void 0:o.init)==null||i.call(o,r,a.backend,a)}queueLoad(e,n,r,a){const o={},i={},s={},u={};return e.forEach(c=>{let f=!0;n.forEach(h=>{const m=`${c}|${h}`;!r.reload&&this.store.hasResourceBundle(c,h)?this.state[m]=2:this.state[m]<0||(this.state[m]===1?i[m]===void 0&&(i[m]=!0):(this.state[m]=1,f=!1,i[m]===void 0&&(i[m]=!0),o[m]===void 0&&(o[m]=!0),u[h]===void 0&&(u[h]=!0)))}),f||(s[c]=!0)}),(Object.keys(o).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(o),pending:Object.keys(i),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(u)}}loaded(e,n,r){const a=e.split("|"),o=a[0],i=a[1];n&&this.emit("failedLoading",o,i,n),!n&&r&&this.store.addResourceBundle(o,i,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const s={};this.queue.forEach(u=>{sde(u.loaded,[o],i),xde(u,e),n&&u.errors.push(n),u.pendingCount===0&&!u.done&&(Object.keys(u.loaded).forEach(c=>{s[c]||(s[c]={});const f=u.loaded[c];f.length&&f.forEach(h=>{s[c][h]===void 0&&(s[c][h]=!0)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(u=>!u.done)}read(e,n,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,i=arguments.length>5?arguments[5]:void 0;if(!e.length)return i(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:a,wait:o,callback:i});return}this.readingCalls++;const s=(c,f)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(c&&f&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,a+1,o*2,i)},o);return}i(c,f)},u=this.backend[r].bind(this.backend);if(u.length===2){try{const c=u(e,n);c&&typeof c.then=="function"?c.then(f=>s(null,f)).catch(s):s(null,c)}catch(c){s(c)}return}return u(e,n,s)}prepareLoading(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();At(e)&&(e=this.languageUtils.toResolveHierarchy(e)),At(n)&&(n=[n]);const o=this.queueLoad(e,n,r,a);if(!o.toLoad.length)return o.pending.length||a(),null;o.toLoad.forEach(i=>{this.loadOne(i)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),a=r[0],o=r[1];this.read(a,o,"read",void 0,void 0,(i,s)=>{i&&this.logger.warn(`${n}loading namespace ${o} for language ${a} failed`,i),!i&&s&&this.logger.log(`${n}loaded namespace ${o} for language ${a}`,s),this.loaded(e,i,s)})}saveMissing(e,n,r,a,o){var u,c,f,h,m;let i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if((c=(u=this.services)==null?void 0:u.utils)!=null&&c.hasLoadedNamespace&&!((h=(f=this.services)==null?void 0:f.utils)!=null&&h.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((m=this.backend)!=null&&m.create){const g={...i,isUpdate:o},y=this.backend.create.bind(this.backend);if(y.length<6)try{let b;y.length===5?b=y(e,n,r,a,g):b=y(e,n,r,a),b&&typeof b.then=="function"?b.then(x=>s(null,x)).catch(s):s(null,b)}catch(b){s(b)}else y(e,n,r,a,s,g)}!e||!e[0]||this.store.addResource(e[0],n,r,a)}}}const qN=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),At(t[1])&&(e.defaultValue=t[1]),At(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),GN=t=>{var e,n;return At(t.ns)&&(t.ns=[t.ns]),At(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),At(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},L0=()=>{},Sde=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class Dm extends Jb{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=GN(e),this.services={},this.logger=Xi,this.modules={external:[]},Sde(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),n.defaultNS==null&&n.ns&&(At(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const a=qN();this.options={...a,...this.options,...GN(n)},this.options.interpolation={...a.interpolation,...this.options.interpolation},n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const o=f=>f?typeof f=="function"?new f:f:null;if(!this.options.isClone){this.modules.logger?Xi.init(o(this.modules.logger),this.options):Xi.init(null,this.options);let f;this.modules.formatter?f=this.modules.formatter:f=bde;const h=new VN(this.options);this.store=new zN(this.options.resources,this.options);const m=this.services;m.logger=Xi,m.resourceStore=this.store,m.languageUtils=h,m.pluralResolver=new gde(h,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),f&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(m.formatter=o(f),m.formatter.init(m,this.options),this.options.interpolation.format=m.formatter.format.bind(m.formatter)),m.interpolator=new vde(this.options),m.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},m.backendConnector=new wde(o(this.modules.backend),m.resourceStore,m,this.options),m.backendConnector.on("*",function(g){for(var y=arguments.length,b=new Array(y>1?y-1:0),x=1;x<y;x++)b[x-1]=arguments[x];e.emit(g,...b)}),this.modules.languageDetector&&(m.languageDetector=o(this.modules.languageDetector),m.languageDetector.init&&m.languageDetector.init(m,this.options.detection,this.options)),this.modules.i18nFormat&&(m.i18nFormat=o(this.modules.i18nFormat),m.i18nFormat.init&&m.i18nFormat.init(this)),this.translator=new Qy(this.services,this.options),this.translator.on("*",function(g){for(var y=arguments.length,b=new Array(y>1?y-1:0),x=1;x<y;x++)b[x-1]=arguments[x];e.emit(g,...b)}),this.modules.external.forEach(g=>{g.init&&g.init(this)})}if(this.format=this.options.interpolation.format,r||(r=L0),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(f=>{this[f]=function(){return e.store[f](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(f=>{this[f]=function(){return e.store[f](...arguments),e}});const u=$p(),c=()=>{const f=(h,m)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),u.resolve(m),r(h,m)};if(this.languages&&!this.isInitialized)return f(null,this.t.bind(this));this.changeLanguage(this.options.lng,f)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),u}loadResources(e){var o,i;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:L0;const a=At(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((a==null?void 0:a.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const s=[],u=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(h=>{h!=="cimode"&&s.indexOf(h)<0&&s.push(h)})};a?u(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(f=>u(f)),(i=(o=this.options.preload)==null?void 0:o.forEach)==null||i.call(o,c=>u(c)),this.services.backendConnector.load(s,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(c)})}else r(null)}reloadResources(e,n,r){const a=$p();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=L0),this.services.backendConnector.reload(e,n,o=>{a.resolve(),r(o)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&iL.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){var r=this;this.isLanguageChangingTo=e;const a=$p();this.emit("languageChanging",e);const o=u=>{this.language=u,this.languages=this.services.languageUtils.toResolveHierarchy(u),this.resolvedLanguage=void 0,this.setResolvedLanguage(u)},i=(u,c)=>{c?this.isLanguageChangingTo===e&&(o(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,a.resolve(function(){return r.t(...arguments)}),n&&n(u,function(){return r.t(...arguments)})},s=u=>{var h,m;!e&&!u&&this.services.languageDetector&&(u=[]);const c=At(u)?u:u&&u[0],f=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(At(u)?[u]:u);f&&(this.language||o(f),this.translator.language||this.translator.changeLanguage(f),(m=(h=this.services.languageDetector)==null?void 0:h.cacheUserLanguage)==null||m.call(h,f)),this.loadResources(f,g=>{i(g,f)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?s(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e),a}getFixedT(e,n,r){var a=this;const o=function(i,s){let u;if(typeof s!="object"){for(var c=arguments.length,f=new Array(c>2?c-2:0),h=2;h<c;h++)f[h-2]=arguments[h];u=a.options.overloadTranslationOptionHandler([i,s].concat(f))}else u={...s};u.lng=u.lng||o.lng,u.lngs=u.lngs||o.lngs,u.ns=u.ns||o.ns,u.keyPrefix!==""&&(u.keyPrefix=u.keyPrefix||r||o.keyPrefix);const m=a.options.keySeparator||".";let g;return u.keyPrefix&&Array.isArray(i)?g=i.map(y=>`${u.keyPrefix}${m}${y}`):g=u.keyPrefix?`${u.keyPrefix}${m}${i}`:i,a.t(g,u)};return At(e)?o.lng=e:o.lngs=e,o.ns=n,o.keyPrefix=r,o}t(){var a;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(a=this.translator)==null?void 0:a.translate(...n)}exists(){var a;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(a=this.translator)==null?void 0:a.exists(...n)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const i=(s,u)=>{const c=this.services.backendConnector.state[`${s}|${u}`];return c===-1||c===0||c===2};if(n.precheck){const s=n.precheck(this,i);if(s!==void 0)return s}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||i(r,e)&&(!a||i(o,e)))}loadNamespaces(e,n){const r=$p();return this.options.ns?(At(e)&&(e=[e]),e.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=$p();At(e)&&(e=[e]);const a=this.options.preload||[],o=e.filter(i=>a.indexOf(i)<0&&this.services.languageUtils.isSupportedCode(i));return o.length?(this.options.preload=a.concat(o),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}dir(e){var a,o;if(e||(e=this.resolvedLanguage||(((a=this.languages)==null?void 0:a.length)>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((o=this.services)==null?void 0:o.languageUtils)||new VN(qN());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new Dm(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:L0;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const a={...this.options,...e,isClone:!0},o=new Dm(a);if((e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(s=>{o[s]=this[s]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r){const s=Object.keys(this.store.data).reduce((u,c)=>(u[c]={...this.store.data[c]},u[c]=Object.keys(u[c]).reduce((f,h)=>(f[h]={...u[c][h]},f),u[c]),u),{});o.store=new zN(s,a),o.services.resourceStore=o.store}return o.translator=new Qy(o.services,a),o.translator.on("*",function(s){for(var u=arguments.length,c=new Array(u>1?u-1:0),f=1;f<u;f++)c[f-1]=arguments[f];o.emit(s,...c)}),o.init(a,n),o.translator.options=a,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const na=Dm.createInstance();na.createInstance=Dm.createInstance;na.createInstance;na.dir;na.init;na.loadResources;na.reloadResources;na.use;na.changeLanguage;na.getFixedT;na.t;na.exists;na.setDefaultNamespace;na.hasLoadedNamespace;na.loadNamespaces;na.loadLanguages;const _de=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Cde={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},Ede=t=>Cde[t],Tde=t=>t.replace(_de,Ede);let RS={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Tde};const Rde=(t={})=>{RS={...RS,...t}},Ohe=()=>RS;let sL;const Ade=t=>{sL=t},Dhe=()=>sL,kde={type:"3rdParty",init(t){Rde(t.options.react),Ade(t)}},{slice:Nde,forEach:Ode}=[];function Dde(t){return Ode.call(Nde.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}function Mde(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(t))}const KN=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Pde=function(t,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},a=encodeURIComponent(e);let o=`${t}=${a}`;if(r.maxAge>0){const i=r.maxAge-0;if(Number.isNaN(i))throw new Error("maxAge should be a Number");o+=`; Max-Age=${Math.floor(i)}`}if(r.domain){if(!KN.test(r.domain))throw new TypeError("option domain is invalid");o+=`; Domain=${r.domain}`}if(r.path){if(!KN.test(r.path))throw new TypeError("option path is invalid");o+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(o+="; Partitioned"),o},YN={create(t,e,n,r){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+n*60*1e3)),r&&(a.domain=r),document.cookie=Pde(t,encodeURIComponent(e),a)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let a=n[r];for(;a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(e)===0)return a.substring(e.length,a.length)}return null},remove(t){this.create(t,"",-1)}};var Ide={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return YN.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:r,cookieDomain:a,cookieOptions:o}=e;n&&typeof document<"u"&&YN.create(n,t,r,a,o)}},Lde={name:"querystring",lookup(t){var r;let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:a}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(a=window.location.hash.substring(window.location.hash.indexOf("?")));const i=a.substring(1).split("&");for(let s=0;s<i.length;s++){const u=i[s].indexOf("=");u>0&&i[s].substring(0,u)===e&&(n=i[s].substring(u+1))}}return n}};let Xd=null;const XN=()=>{if(Xd!==null)return Xd;try{if(Xd=typeof window<"u"&&window.localStorage!==null,!Xd)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{Xd=!1}return Xd};var Fde={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&XN())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&XN()&&window.localStorage.setItem(n,t)}};let Qd=null;const QN=()=>{if(Qd!==null)return Qd;try{if(Qd=typeof window<"u"&&window.sessionStorage!==null,!Qd)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Qd=!1}return Qd};var Bde={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&QN())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&QN()&&window.sessionStorage.setItem(n,t)}},zde={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:a}=navigator;if(n)for(let o=0;o<n.length;o++)e.push(n[o]);r&&e.push(r),a&&e.push(a)}return e.length>0?e:void 0}},$de={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},Ude={name:"path",lookup(t){var a;let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(a=n[typeof e=="number"?e:0])==null?void 0:a.replace("/",""):void 0}},Vde={name:"subdomain",lookup(t){var a,o;let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,r=typeof window<"u"&&((o=(a=window.location)==null?void 0:a.hostname)==null?void 0:o.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[n]}};let lL=!1;try{document.cookie,lL=!0}catch{}const uL=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];lL||uL.splice(1,1);const jde=()=>({order:uL,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class cL{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=Dde(n,this.options||{},jde()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=a=>a.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(Ide),this.addDetector(Lde),this.addDetector(Fde),this.addDetector(Bde),this.addDetector(zde),this.addDetector($de),this.addDetector(Ude),this.addDetector(Vde)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(r=>{if(this.detectors[r]){let a=this.detectors[r].lookup(this.options);a&&typeof a=="string"&&(a=[a]),a&&(n=n.concat(a))}}),n=n.filter(r=>r!=null&&!Mde(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}cL.type="languageDetector";function AS(t){"@babel/helpers - typeof";return AS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AS(t)}function dL(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":AS(XMLHttpRequest))==="object"}function Wde(t){return!!t&&typeof t.then=="function"}function Hde(t){return Wde(t)?t:Promise.resolve(t)}function ZN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function JN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZN(Object(n),!0).forEach(function(r){qde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qde(t,e,n){return(e=Gde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gde(t){var e=Kde(t,"string");return $c(e)=="symbol"?e:e+""}function Kde(t,e){if($c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $c(t){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$c(t)}var Cu=typeof fetch=="function"?fetch:void 0;typeof global<"u"&&global.fetch?Cu=global.fetch:typeof window<"u"&&window.fetch&&(Cu=window.fetch);var Mm;dL()&&(typeof global<"u"&&global.XMLHttpRequest?Mm=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(Mm=window.XMLHttpRequest));var Zy;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?Zy=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(Zy=window.ActiveXObject));typeof Cu!="function"&&(Cu=void 0);if(!Cu&&!Mm&&!Zy)try{kt(()=>import("./browser-ponyfill-D-AoUxwx.js").then(t=>t.b),__vite__mapDeps([98,1])).then(function(t){Cu=t.default}).catch(function(){})}catch{}var kS=function(e,n){if(n&&$c(n)==="object"){var r="";for(var a in n)r+="&"+encodeURIComponent(a)+"="+encodeURIComponent(n[a]);if(!r)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+r.slice(1)}return e},eO=function(e,n,r,a){var o=function(u){if(!u.ok)return r(u.statusText||"Error",{status:u.status});u.text().then(function(c){r(null,{status:u.status,data:c})}).catch(r)};if(a){var i=a(e,n);if(i instanceof Promise){i.then(o).catch(r);return}}typeof fetch=="function"?fetch(e,n).then(o).catch(r):Cu(e,n).then(o).catch(r)},tO=!1,Yde=function(e,n,r,a){e.queryStringParams&&(n=kS(n,e.queryStringParams));var o=JN({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(o["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),r&&(o["Content-Type"]="application/json");var i=typeof e.requestOptions=="function"?e.requestOptions(r):e.requestOptions,s=JN({method:r?"POST":"GET",body:r?e.stringify(r):void 0,headers:o},tO?{}:i),u=typeof e.alternateFetch=="function"&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{eO(n,s,a,u)}catch(c){if(!i||Object.keys(i).length===0||!c.message||c.message.indexOf("not implemented")<0)return a(c);try{Object.keys(i).forEach(function(f){delete s[f]}),eO(n,s,a,u),tO=!0}catch(f){a(f)}}},Xde=function(e,n,r,a){r&&$c(r)==="object"&&(r=kS("",r).slice(1)),e.queryStringParams&&(n=kS(n,e.queryStringParams));try{var o=Mm?new Mm:new Zy("MSXML2.XMLHTTP.3.0");o.open(r?"POST":"GET",n,1),e.crossDomain||o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.withCredentials=!!e.withCredentials,r&&o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.overrideMimeType&&o.overrideMimeType("application/json");var i=e.customHeaders;if(i=typeof i=="function"?i():i,i)for(var s in i)o.setRequestHeader(s,i[s]);o.onreadystatechange=function(){o.readyState>3&&a(o.status>=400?o.statusText:null,{status:o.status,data:o.responseText})},o.send(r)}catch(u){console&&console.log(u)}},Qde=function(e,n,r,a){if(typeof r=="function"&&(a=r,r=void 0),a=a||function(){},Cu&&n.indexOf("file:")!==0)return Yde(e,n,r,a);if(dL()||typeof ActiveXObject=="function")return Xde(e,n,r,a);a(new Error("No fetch and no xhr implementation found!"))};function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}function nO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function nw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nO(Object(n),!0).forEach(function(r){fL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hL(r.key),r)}}function efe(t,e,n){return e&&Jde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fL(t,e,n){return(e=hL(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hL(t){var e=tfe(t,"string");return Hf(e)=="symbol"?e:e+""}function tfe(t,e){if(Hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nfe=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(n){return JSON.parse(n)},stringify:JSON.stringify,parsePayload:function(n,r,a){return fL({},r,a||"")},parseLoadPayload:function(n,r){},request:Qde,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},pL=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Zde(this,t),this.services=e,this.options=n,this.allOptions=r,this.type="backend",this.init(e,n,r)}return efe(t,[{key:"init",value:function(n){var r=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=n,this.options=nw(nw(nw({},nfe()),this.options||{}),a),this.allOptions=o,this.services&&this.options.reloadInterval){var i=setInterval(function(){return r.reload()},this.options.reloadInterval);Hf(i)==="object"&&typeof i.unref=="function"&&i.unref()}}},{key:"readMulti",value:function(n,r,a){this._readAny(n,n,r,r,a)}},{key:"read",value:function(n,r,a){this._readAny([n],n,[r],r,a)}},{key:"_readAny",value:function(n,r,a,o,i){var s=this,u=this.options.loadPath;typeof this.options.loadPath=="function"&&(u=this.options.loadPath(n,a)),u=Hde(u),u.then(function(c){if(!c)return i(null,{});var f=s.services.interpolator.interpolate(c,{lng:n.join("+"),ns:a.join("+")});s.loadUrl(f,i,r,o)})}},{key:"loadUrl",value:function(n,r,a,o){var i=this,s=typeof a=="string"?[a]:a,u=typeof o=="string"?[o]:o,c=this.options.parseLoadPayload(s,u);this.options.request(this.options,n,c,function(f,h){if(h&&(h.status>=500&&h.status<600||!h.status))return r("failed loading "+n+"; status code: "+h.status,!0);if(h&&h.status>=400&&h.status<500)return r("failed loading "+n+"; status code: "+h.status,!1);if(!h&&f&&f.message){var m=f.message.toLowerCase(),g=["failed","fetch","network","load"].find(function(x){return m.indexOf(x)>-1});if(g)return r("failed loading "+n+": "+f.message,!0)}if(f)return r(f,!1);var y,b;try{typeof h.data=="string"?y=i.options.parse(h.data,a,o):y=h.data}catch{b="failed parsing "+n+" to json"}if(b)return r(b,!1);r(null,y)})}},{key:"create",value:function(n,r,a,o,i){var s=this;if(this.options.addPath){typeof n=="string"&&(n=[n]);var u=this.options.parsePayload(r,a,o),c=0,f=[],h=[];n.forEach(function(m){var g=s.options.addPath;typeof s.options.addPath=="function"&&(g=s.options.addPath(m,r));var y=s.services.interpolator.interpolate(g,{lng:m,ns:r});s.options.request(s.options,y,u,function(b,x){c+=1,f.push(b),h.push(x),c===n.length&&typeof i=="function"&&i(f,h)})})}}},{key:"reload",value:function(){var n=this,r=this.services,a=r.backendConnector,o=r.languageUtils,i=r.logger,s=a.language;if(!(s&&s.toLowerCase()==="cimode")){var u=[],c=function(h){var m=o.toResolveHierarchy(h);m.forEach(function(g){u.indexOf(g)<0&&u.push(g)})};c(s),this.allOptions.preload&&this.allOptions.preload.forEach(function(f){return c(f)}),u.forEach(function(f){n.allOptions.ns.forEach(function(h){a.read(f,h,"read",null,null,function(m,g){m&&i.warn("loading namespace ".concat(h," for language ").concat(f," failed"),m),!m&&g&&i.log("loaded namespace ".concat(h," for language ").concat(f),g),a.loaded("".concat(f,"|").concat(h),m,g)})})})}}}])}();pL.type="backend";var ty={exports:{}},rfe=ty.exports,rO;function sE(){return rO||(rO=1,function(t,e){(function(n,r){t.exports=r()})(rfe,function(){var n=1e3,r=6e4,a=36e5,o="millisecond",i="second",s="minute",u="hour",c="day",f="week",h="month",m="quarter",g="year",y="date",b="Invalid Date",x=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,S=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,R={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(V){var B=["th","st","nd","rd"],F=V%100;return"["+V+(B[(F-20)%10]||B[F]||B[0])+"]"}},_=function(V,B,F){var U=String(V);return!U||U.length>=B?V:""+Array(B+1-U.length).join(F)+V},T={s:_,z:function(V){var B=-V.utcOffset(),F=Math.abs(B),U=Math.floor(F/60),W=F%60;return(B<=0?"+":"-")+_(U,2,"0")+":"+_(W,2,"0")},m:function V(B,F){if(B.date()<F.date())return-V(F,B);var U=12*(F.year()-B.year())+(F.month()-B.month()),W=B.clone().add(U,h),Q=F-W<0,q=B.clone().add(U+(Q?-1:1),h);return+(-(U+(F-W)/(Q?W-q:q-W))||0)},a:function(V){return V<0?Math.ceil(V)||0:Math.floor(V)},p:function(V){return{M:h,y:g,w:f,d:c,D:y,h:u,m:s,s:i,ms:o,Q:m}[V]||String(V||"").toLowerCase().replace(/s$/,"")},u:function(V){return V===void 0}},A="en",D={};D[A]=R;var N="$isDayjsObject",M=function(V){return V instanceof z||!(!V||!V[N])},P=function V(B,F,U){var W;if(!B)return A;if(typeof B=="string"){var Q=B.toLowerCase();D[Q]&&(W=Q),F&&(D[Q]=F,W=Q);var q=B.split("-");if(!W&&q.length>1)return V(q[0])}else{var le=B.name;D[le]=B,W=le}return!U&&W&&(A=W),W||!U&&A},I=function(V,B){if(M(V))return V.clone();var F=typeof B=="object"?B:{};return F.date=V,F.args=arguments,new z(F)},$=T;$.l=P,$.i=M,$.w=function(V,B){return I(V,{locale:B.$L,utc:B.$u,x:B.$x,$offset:B.$offset})};var z=function(){function V(F){this.$L=P(F.locale,null,!0),this.parse(F),this.$x=this.$x||F.x||{},this[N]=!0}var B=V.prototype;return B.parse=function(F){this.$d=function(U){var W=U.date,Q=U.utc;if(W===null)return new Date(NaN);if($.u(W))return new Date;if(W instanceof Date)return new Date(W);if(typeof W=="string"&&!/Z$/i.test(W)){var q=W.match(x);if(q){var le=q[2]-1||0,J=(q[7]||"0").substring(0,3);return Q?new Date(Date.UTC(q[1],le,q[3]||1,q[4]||0,q[5]||0,q[6]||0,J)):new Date(q[1],le,q[3]||1,q[4]||0,q[5]||0,q[6]||0,J)}}return new Date(W)}(F),this.init()},B.init=function(){var F=this.$d;this.$y=F.getFullYear(),this.$M=F.getMonth(),this.$D=F.getDate(),this.$W=F.getDay(),this.$H=F.getHours(),this.$m=F.getMinutes(),this.$s=F.getSeconds(),this.$ms=F.getMilliseconds()},B.$utils=function(){return $},B.isValid=function(){return this.$d.toString()!==b},B.isSame=function(F,U){var W=I(F);return this.startOf(U)<=W&&W<=this.endOf(U)},B.isAfter=function(F,U){return I(F)<this.startOf(U)},B.isBefore=function(F,U){return this.endOf(U)<I(F)},B.$g=function(F,U,W){return $.u(F)?this[U]:this.set(W,F)},B.unix=function(){return Math.floor(this.valueOf()/1e3)},B.valueOf=function(){return this.$d.getTime()},B.startOf=function(F,U){var W=this,Q=!!$.u(U)||U,q=$.p(F),le=function(De,Ve){var Pe=$.w(W.$u?Date.UTC(W.$y,Ve,De):new Date(W.$y,Ve,De),W);return Q?Pe:Pe.endOf(c)},J=function(De,Ve){return $.w(W.toDate()[De].apply(W.toDate("s"),(Q?[0,0,0,0]:[23,59,59,999]).slice(Ve)),W)},oe=this.$W,re=this.$M,we=this.$D,be="set"+(this.$u?"UTC":"");switch(q){case g:return Q?le(1,0):le(31,11);case h:return Q?le(1,re):le(0,re+1);case f:var Oe=this.$locale().weekStart||0,pe=(oe<Oe?oe+7:oe)-Oe;return le(Q?we-pe:we+(6-pe),re);case c:case y:return J(be+"Hours",0);case u:return J(be+"Minutes",1);case s:return J(be+"Seconds",2);case i:return J(be+"Milliseconds",3);default:return this.clone()}},B.endOf=function(F){return this.startOf(F,!1)},B.$set=function(F,U){var W,Q=$.p(F),q="set"+(this.$u?"UTC":""),le=(W={},W[c]=q+"Date",W[y]=q+"Date",W[h]=q+"Month",W[g]=q+"FullYear",W[u]=q+"Hours",W[s]=q+"Minutes",W[i]=q+"Seconds",W[o]=q+"Milliseconds",W)[Q],J=Q===c?this.$D+(U-this.$W):U;if(Q===h||Q===g){var oe=this.clone().set(y,1);oe.$d[le](J),oe.init(),this.$d=oe.set(y,Math.min(this.$D,oe.daysInMonth())).$d}else le&&this.$d[le](J);return this.init(),this},B.set=function(F,U){return this.clone().$set(F,U)},B.get=function(F){return this[$.p(F)]()},B.add=function(F,U){var W,Q=this;F=Number(F);var q=$.p(U),le=function(re){var we=I(Q);return $.w(we.date(we.date()+Math.round(re*F)),Q)};if(q===h)return this.set(h,this.$M+F);if(q===g)return this.set(g,this.$y+F);if(q===c)return le(1);if(q===f)return le(7);var J=(W={},W[s]=r,W[u]=a,W[i]=n,W)[q]||1,oe=this.$d.getTime()+F*J;return $.w(oe,this)},B.subtract=function(F,U){return this.add(-1*F,U)},B.format=function(F){var U=this,W=this.$locale();if(!this.isValid())return W.invalidDate||b;var Q=F||"YYYY-MM-DDTHH:mm:ssZ",q=$.z(this),le=this.$H,J=this.$m,oe=this.$M,re=W.weekdays,we=W.months,be=W.meridiem,Oe=function(Ve,Pe,ze,Ce){return Ve&&(Ve[Pe]||Ve(U,Q))||ze[Pe].slice(0,Ce)},pe=function(Ve){return $.s(le%12||12,Ve,"0")},De=be||function(Ve,Pe,ze){var Ce=Ve<12?"AM":"PM";return ze?Ce.toLowerCase():Ce};return Q.replace(S,function(Ve,Pe){return Pe||function(ze){switch(ze){case"YY":return String(U.$y).slice(-2);case"YYYY":return $.s(U.$y,4,"0");case"M":return oe+1;case"MM":return $.s(oe+1,2,"0");case"MMM":return Oe(W.monthsShort,oe,we,3);case"MMMM":return Oe(we,oe);case"D":return U.$D;case"DD":return $.s(U.$D,2,"0");case"d":return String(U.$W);case"dd":return Oe(W.weekdaysMin,U.$W,re,2);case"ddd":return Oe(W.weekdaysShort,U.$W,re,3);case"dddd":return re[U.$W];case"H":return String(le);case"HH":return $.s(le,2,"0");case"h":return pe(1);case"hh":return pe(2);case"a":return De(le,J,!0);case"A":return De(le,J,!1);case"m":return String(J);case"mm":return $.s(J,2,"0");case"s":return String(U.$s);case"ss":return $.s(U.$s,2,"0");case"SSS":return $.s(U.$ms,3,"0");case"Z":return q}return null}(Ve)||q.replace(":","")})},B.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},B.diff=function(F,U,W){var Q,q=this,le=$.p(U),J=I(F),oe=(J.utcOffset()-this.utcOffset())*r,re=this-J,we=function(){return $.m(q,J)};switch(le){case g:Q=we()/12;break;case h:Q=we();break;case m:Q=we()/3;break;case f:Q=(re-oe)/6048e5;break;case c:Q=(re-oe)/864e5;break;case u:Q=re/a;break;case s:Q=re/r;break;case i:Q=re/n;break;default:Q=re}return W?Q:$.a(Q)},B.daysInMonth=function(){return this.endOf(h).$D},B.$locale=function(){return D[this.$L]},B.locale=function(F,U){if(!F)return this.$L;var W=this.clone(),Q=P(F,U,!0);return Q&&(W.$L=Q),W},B.clone=function(){return $.w(this.$d,this)},B.toDate=function(){return new Date(this.valueOf())},B.toJSON=function(){return this.isValid()?this.toISOString():null},B.toISOString=function(){return this.$d.toISOString()},B.toString=function(){return this.$d.toUTCString()},V}(),G=z.prototype;return I.prototype=G,[["$ms",o],["$s",i],["$m",s],["$H",u],["$W",c],["$M",h],["$y",g],["$D",y]].forEach(function(V){G[V[1]]=function(B){return this.$g(B,V[0],V[1])}}),I.extend=function(V,B){return V.$i||(V(B,z,I),V.$i=!0),I},I.locale=P,I.isDayjs=M,I.unix=function(V){return I(1e3*V)},I.en=D[A],I.Ls=D,I.p={},I})}(ty)),ty.exports}var afe=sE();const om=$o(afe);var ny={exports:{}},ofe=ny.exports,aO;function ife(){return aO||(aO=1,function(t,e){(function(n,r){t.exports=r(sE())})(ofe,function(n){function r(i){return i&&typeof i=="object"&&"default"in i?i:{default:i}}var a=r(n),o={name:"fr",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(i){return""+i+(i===1?"er":"")}};return a.default.locale(o,null,!0),o})}(ny)),ny.exports}ife();var ry={exports:{}},sfe=ry.exports,oO;function lfe(){return oO||(oO=1,function(t,e){(function(n,r){t.exports=r(sE())})(sfe,function(n){function r(i){return i&&typeof i=="object"&&"default"in i?i:{default:i}}var a=r(n),o={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:function(i){return i+"º"}};return a.default.locale(o,null,!0),o})}(ry)),ry.exports}lfe();var ay={exports:{}},ufe=ay.exports,iO;function cfe(){return iO||(iO=1,function(t,e){(function(n,r){t.exports=r()})(ufe,function(){return function(n,r,a){n=n||{};var o=r.prototype,i={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function s(c,f,h,m){return o.fromToBase(c,f,h,m)}a.en.relativeTime=i,o.fromToBase=function(c,f,h,m,g){for(var y,b,x,S=h.$locale().relativeTime||i,R=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],_=R.length,T=0;T<_;T+=1){var A=R[T];A.d&&(y=m?a(c).diff(h,A.d,!0):h.diff(c,A.d,!0));var D=(n.rounding||Math.round)(Math.abs(y));if(x=y>0,D<=A.r||!A.r){D<=1&&T>0&&(A=R[T-1]);var N=S[A.l];g&&(D=g(""+D)),b=typeof N=="string"?N.replace("%d",D):N(D,f,A.l,x);break}}if(f)return b;var M=x?S.future:S.past;return typeof M=="function"?M(b):M.replace("%s",b)},o.to=function(c,f){return s(c,f,this,!0)},o.from=function(c,f){return s(c,f,this)};var u=function(c){return c.$u?a.utc():a()};o.toNow=function(c){return this.to(u(this),c)},o.fromNow=function(c){return this.from(u(this),c)}}})}(ay)),ay.exports}var dfe=cfe();const ffe=$o(dfe);om.extend(ffe);na.use(pL).use(cL).use(kde).init({fallbackLng:"en",supportedLngs:["en","fr","es"],debug:!1,ns:["common","calendar","notifications"],defaultNS:"common",backend:{loadPath:"/locales/{{lng}}/{{ns}}.json"},interpolation:{escapeValue:!1,format:(t,e,n)=>t instanceof Date?(om.locale(n||"en"),e==="relative"?om(t).fromNow():om(t).format(e)):t},detection:{order:["querystring","cookie","localStorage","navigator"],lookupQuerystring:"lang",lookupCookie:"i18next",caches:["localStorage","cookie"]},react:{useSuspense:!0}});function Mhe(t){return na.changeLanguage(t),om.locale(t),localStorage.setItem("i18nextLng",t),fetch("/api/user/locale",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({locale:t}),credentials:"include"}).catch(e=>{console.error("Failed to update server locale:",e)}),t}var e1=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},t1=typeof window>"u"||"Deno"in globalThis;function oi(){}function hfe(t,e){return typeof t=="function"?t(e):t}function pfe(t){return typeof t=="number"&&t>=0&&t!==1/0}function mfe(t,e){return Math.max(t+(e||0)-Date.now(),0)}function sO(t,e){return typeof t=="function"?t(e):t}function gfe(t,e){return typeof t=="function"?t(e):t}function lO(t,e){const{type:n="all",exact:r,fetchStatus:a,predicate:o,queryKey:i,stale:s}=t;if(i){if(r){if(e.queryHash!==lE(i,e.options))return!1}else if(!Im(e.queryKey,i))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof s=="boolean"&&e.isStale()!==s||a&&a!==e.state.fetchStatus||o&&!o(e))}function uO(t,e){const{exact:n,status:r,predicate:a,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(Pm(e.options.mutationKey)!==Pm(o))return!1}else if(!Im(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||a&&!a(e))}function lE(t,e){return((e==null?void 0:e.queryKeyHashFn)||Pm)(t)}function Pm(t){return JSON.stringify(t,(e,n)=>NS(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function Im(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Im(t[n],e[n])):!1}function mL(t,e){if(t===e)return t;const n=cO(t)&&cO(e);if(n||NS(t)&&NS(e)){const r=n?t:Object.keys(t),a=r.length,o=n?e:Object.keys(e),i=o.length,s=n?[]:{};let u=0;for(let c=0;c<i;c++){const f=n?c:o[c];(!n&&r.includes(f)||n)&&t[f]===void 0&&e[f]===void 0?(s[f]=void 0,u++):(s[f]=mL(t[f],e[f]),s[f]===t[f]&&t[f]!==void 0&&u++)}return a===i&&u===a?t:s}return e}function Phe(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function cO(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function NS(t){if(!dO(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!dO(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function dO(t){return Object.prototype.toString.call(t)==="[object Object]"}function vfe(t){return new Promise(e=>{setTimeout(e,t)})}function yfe(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?mL(t,e):e}function bfe(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function xfe(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var uE=Symbol();function gL(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===uE?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Ihe(t,e){return typeof t=="function"?t(...e):!!t}var _c,su,xf,pO,wfe=(pO=class extends e1{constructor(){super();ln(this,_c);ln(this,su);ln(this,xf);Ft(this,xf,e=>{if(!t1&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Ae(this,su)||this.setEventListener(Ae(this,xf))}onUnsubscribe(){var e;this.hasListeners()||((e=Ae(this,su))==null||e.call(this),Ft(this,su,void 0))}setEventListener(e){var n;Ft(this,xf,e),(n=Ae(this,su))==null||n.call(this),Ft(this,su,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Ae(this,_c)!==e&&(Ft(this,_c,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof Ae(this,_c)=="boolean"?Ae(this,_c):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},_c=new WeakMap,su=new WeakMap,xf=new WeakMap,pO),vL=new wfe,wf,lu,Sf,mO,Sfe=(mO=class extends e1{constructor(){super();ln(this,wf,!0);ln(this,lu);ln(this,Sf);Ft(this,Sf,e=>{if(!t1&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Ae(this,lu)||this.setEventListener(Ae(this,Sf))}onUnsubscribe(){var e;this.hasListeners()||((e=Ae(this,lu))==null||e.call(this),Ft(this,lu,void 0))}setEventListener(e){var n;Ft(this,Sf,e),(n=Ae(this,lu))==null||n.call(this),Ft(this,lu,e(this.setOnline.bind(this)))}setOnline(e){Ae(this,wf)!==e&&(Ft(this,wf,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Ae(this,wf)}},wf=new WeakMap,lu=new WeakMap,Sf=new WeakMap,mO),Jy=new Sfe;function _fe(){let t,e;const n=new Promise((a,o)=>{t=a,e=o});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),t(a)},n.reject=a=>{r({status:"rejected",reason:a}),e(a)},n}function Cfe(t){return Math.min(1e3*2**t,3e4)}function yL(t){return(t??"online")==="online"?Jy.isOnline():!0}var bL=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function rw(t){return t instanceof bL}function xL(t){let e=!1,n=0,r=!1,a;const o=_fe(),i=b=>{var x;r||(m(new bL(b)),(x=t.abort)==null||x.call(t))},s=()=>{e=!0},u=()=>{e=!1},c=()=>vL.isFocused()&&(t.networkMode==="always"||Jy.isOnline())&&t.canRun(),f=()=>yL(t.networkMode)&&t.canRun(),h=b=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,b),a==null||a(),o.resolve(b))},m=b=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,b),a==null||a(),o.reject(b))},g=()=>new Promise(b=>{var x;a=S=>{(r||c())&&b(S)},(x=t.onPause)==null||x.call(t)}).then(()=>{var b;a=void 0,r||(b=t.onContinue)==null||b.call(t)}),y=()=>{if(r)return;let b;const x=n===0?t.initialPromise:void 0;try{b=x??t.fn()}catch(S){b=Promise.reject(S)}Promise.resolve(b).then(h).catch(S=>{var D;if(r)return;const R=t.retry??(t1?0:3),_=t.retryDelay??Cfe,T=typeof _=="function"?_(n,S):_,A=R===!0||typeof R=="number"&&n<R||typeof R=="function"&&R(n,S);if(e||!A){m(S);return}n++,(D=t.onFail)==null||D.call(t,n,S),vfe(T).then(()=>c()?void 0:g()).then(()=>{e?m(S):y()})})};return{promise:o,cancel:i,continue:()=>(a==null||a(),o),cancelRetry:s,continueRetry:u,canStart:f,start:()=>(f()?y():g().then(y),o)}}var Efe=t=>setTimeout(t,0);function Tfe(){let t=[],e=0,n=s=>{s()},r=s=>{s()},a=Efe;const o=s=>{e?t.push(s):a(()=>{n(s)})},i=()=>{const s=t;t=[],s.length&&a(()=>{r(()=>{s.forEach(u=>{n(u)})})})};return{batch:s=>{let u;e++;try{u=s()}finally{e--,e||i()}return u},batchCalls:s=>(...u)=>{o(()=>{s(...u)})},schedule:o,setNotifyFunction:s=>{n=s},setBatchNotifyFunction:s=>{r=s},setScheduler:s=>{a=s}}}var Na=Tfe(),Cc,gO,wL=(gO=class{constructor(){ln(this,Cc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),pfe(this.gcTime)&&Ft(this,Cc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(t1?1/0:5*60*1e3))}clearGcTimeout(){Ae(this,Cc)&&(clearTimeout(Ae(this,Cc)),Ft(this,Cc,void 0))}},Cc=new WeakMap,gO),_f,Cf,Oo,Ec,fa,Lm,Tc,ii,Gs,vO,Rfe=(vO=class extends wL{constructor(e){super();ln(this,ii);ln(this,_f);ln(this,Cf);ln(this,Oo);ln(this,Ec);ln(this,fa);ln(this,Lm);ln(this,Tc);Ft(this,Tc,!1),Ft(this,Lm,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ft(this,Ec,e.client),Ft(this,Oo,Ae(this,Ec).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ft(this,_f,kfe(this.options)),this.state=e.state??Ae(this,_f),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Ae(this,fa))==null?void 0:e.promise}setOptions(e){this.options={...Ae(this,Lm),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Ae(this,Oo).remove(this)}setData(e,n){const r=yfe(this.state.data,e,this.options);return ca(this,ii,Gs).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){ca(this,ii,Gs).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,a;const n=(r=Ae(this,fa))==null?void 0:r.promise;return(a=Ae(this,fa))==null||a.cancel(e),n?n.then(oi).catch(oi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Ae(this,_f))}isActive(){return this.observers.some(e=>gfe(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===uE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!mfe(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=Ae(this,fa))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=Ae(this,fa))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Ae(this,Oo).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(Ae(this,fa)&&(Ae(this,Tc)?Ae(this,fa).cancel({revert:!0}):Ae(this,fa).cancelRetry()),this.scheduleGc()),Ae(this,Oo).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ca(this,ii,Gs).call(this,{type:"invalidate"})}fetch(e,n){var u,c,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Ae(this,fa))return Ae(this,fa).continueRetry(),Ae(this,fa).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Ft(this,Tc,!0),r.signal)})},o=()=>{const h=gL(this.options,n),m={client:Ae(this,Ec),queryKey:this.queryKey,meta:this.meta};return a(m),Ft(this,Tc,!1),this.options.persister?this.options.persister(h,m,this):h(m)},i={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:Ae(this,Ec),state:this.state,fetchFn:o};a(i),(u=this.options.behavior)==null||u.onFetch(i,this),Ft(this,Cf,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=i.fetchOptions)==null?void 0:c.meta))&&ca(this,ii,Gs).call(this,{type:"fetch",meta:(f=i.fetchOptions)==null?void 0:f.meta});const s=h=>{var m,g,y,b;rw(h)&&h.silent||ca(this,ii,Gs).call(this,{type:"error",error:h}),rw(h)||((g=(m=Ae(this,Oo).config).onError)==null||g.call(m,h,this),(b=(y=Ae(this,Oo).config).onSettled)==null||b.call(y,this.state.data,h,this)),this.scheduleGc()};return Ft(this,fa,xL({initialPromise:n==null?void 0:n.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var m,g,y,b;if(h===void 0){s(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(x){s(x);return}(g=(m=Ae(this,Oo).config).onSuccess)==null||g.call(m,h,this),(b=(y=Ae(this,Oo).config).onSettled)==null||b.call(y,h,this.state.error,this),this.scheduleGc()},onError:s,onFail:(h,m)=>{ca(this,ii,Gs).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{ca(this,ii,Gs).call(this,{type:"pause"})},onContinue:()=>{ca(this,ii,Gs).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),Ae(this,fa).start()}},_f=new WeakMap,Cf=new WeakMap,Oo=new WeakMap,Ec=new WeakMap,fa=new WeakMap,Lm=new WeakMap,Tc=new WeakMap,ii=new WeakSet,Gs=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Afe(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=e.error;return rw(a)&&a.revert&&Ae(this,Cf)?{...Ae(this,Cf),fetchStatus:"idle"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Na.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Ae(this,Oo).notify({query:this,type:"updated",action:e})})},vO);function Afe(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:yL(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function kfe(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ui,yO,Nfe=(yO=class extends e1{constructor(e={}){super();ln(this,Ui);this.config=e,Ft(this,Ui,new Map)}build(e,n,r){const a=n.queryKey,o=n.queryHash??lE(a,n);let i=this.get(o);return i||(i=new Rfe({client:e,queryKey:a,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(a)}),this.add(i)),i}add(e){Ae(this,Ui).has(e.queryHash)||(Ae(this,Ui).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=Ae(this,Ui).get(e.queryHash);n&&(e.destroy(),n===e&&Ae(this,Ui).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Na.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Ae(this,Ui).get(e)}getAll(){return[...Ae(this,Ui).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>lO(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>lO(e,r)):n}notify(e){Na.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Na.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Na.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ui=new WeakMap,yO),Vi,ka,Rc,ji,au,bO,Ofe=(bO=class extends wL{constructor(e){super();ln(this,ji);ln(this,Vi);ln(this,ka);ln(this,Rc);this.mutationId=e.mutationId,Ft(this,ka,e.mutationCache),Ft(this,Vi,[]),this.state=e.state||Dfe(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Ae(this,Vi).includes(e)||(Ae(this,Vi).push(e),this.clearGcTimeout(),Ae(this,ka).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ft(this,Vi,Ae(this,Vi).filter(n=>n!==e)),this.scheduleGc(),Ae(this,ka).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Ae(this,Vi).length||(this.state.status==="pending"?this.scheduleGc():Ae(this,ka).remove(this))}continue(){var e;return((e=Ae(this,Rc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,i,s,u,c,f,h,m,g,y,b,x,S,R,_,T,A,D,N,M;const n=()=>{ca(this,ji,au).call(this,{type:"continue"})};Ft(this,Rc,xL({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(P,I)=>{ca(this,ji,au).call(this,{type:"failed",failureCount:P,error:I})},onPause:()=>{ca(this,ji,au).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Ae(this,ka).canRun(this)}));const r=this.state.status==="pending",a=!Ae(this,Rc).canStart();try{if(r)n();else{ca(this,ji,au).call(this,{type:"pending",variables:e,isPaused:a}),await((i=(o=Ae(this,ka).config).onMutate)==null?void 0:i.call(o,e,this));const I=await((u=(s=this.options).onMutate)==null?void 0:u.call(s,e));I!==this.state.context&&ca(this,ji,au).call(this,{type:"pending",context:I,variables:e,isPaused:a})}const P=await Ae(this,Rc).start();return await((f=(c=Ae(this,ka).config).onSuccess)==null?void 0:f.call(c,P,e,this.state.context,this)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,P,e,this.state.context)),await((y=(g=Ae(this,ka).config).onSettled)==null?void 0:y.call(g,P,null,this.state.variables,this.state.context,this)),await((x=(b=this.options).onSettled)==null?void 0:x.call(b,P,null,e,this.state.context)),ca(this,ji,au).call(this,{type:"success",data:P}),P}catch(P){try{throw await((R=(S=Ae(this,ka).config).onError)==null?void 0:R.call(S,P,e,this.state.context,this)),await((T=(_=this.options).onError)==null?void 0:T.call(_,P,e,this.state.context)),await((D=(A=Ae(this,ka).config).onSettled)==null?void 0:D.call(A,void 0,P,this.state.variables,this.state.context,this)),await((M=(N=this.options).onSettled)==null?void 0:M.call(N,void 0,P,e,this.state.context)),P}finally{ca(this,ji,au).call(this,{type:"error",error:P})}}finally{Ae(this,ka).runNext(this)}}},Vi=new WeakMap,ka=new WeakMap,Rc=new WeakMap,ji=new WeakSet,au=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Na.batch(()=>{Ae(this,Vi).forEach(r=>{r.onMutationUpdate(e)}),Ae(this,ka).notify({mutation:this,type:"updated",action:e})})},bO);function Dfe(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ks,si,Fm,xO,Mfe=(xO=class extends e1{constructor(e={}){super();ln(this,Ks);ln(this,si);ln(this,Fm);this.config=e,Ft(this,Ks,new Set),Ft(this,si,new Map),Ft(this,Fm,0)}build(e,n,r){const a=new Ofe({mutationCache:this,mutationId:++Jv(this,Fm)._,options:e.defaultMutationOptions(n),state:r});return this.add(a),a}add(e){Ae(this,Ks).add(e);const n=F0(e);if(typeof n=="string"){const r=Ae(this,si).get(n);r?r.push(e):Ae(this,si).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Ae(this,Ks).delete(e)){const n=F0(e);if(typeof n=="string"){const r=Ae(this,si).get(n);if(r)if(r.length>1){const a=r.indexOf(e);a!==-1&&r.splice(a,1)}else r[0]===e&&Ae(this,si).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=F0(e);if(typeof n=="string"){const r=Ae(this,si).get(n),a=r==null?void 0:r.find(o=>o.state.status==="pending");return!a||a===e}else return!0}runNext(e){var r;const n=F0(e);if(typeof n=="string"){const a=(r=Ae(this,si).get(n))==null?void 0:r.find(o=>o!==e&&o.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Na.batch(()=>{Ae(this,Ks).forEach(e=>{this.notify({type:"removed",mutation:e})}),Ae(this,Ks).clear(),Ae(this,si).clear()})}getAll(){return Array.from(Ae(this,Ks))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>uO(n,r))}findAll(e={}){return this.getAll().filter(n=>uO(e,n))}notify(e){Na.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Na.batch(()=>Promise.all(e.map(n=>n.continue().catch(oi))))}},Ks=new WeakMap,si=new WeakMap,Fm=new WeakMap,xO);function F0(t){var e;return(e=t.options.scope)==null?void 0:e.id}function fO(t){return{onFetch:(e,n)=>{var f,h,m,g,y;const r=e.options,a=(m=(h=(f=e.fetchOptions)==null?void 0:f.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,o=((g=e.state.data)==null?void 0:g.pages)||[],i=((y=e.state.data)==null?void 0:y.pageParams)||[];let s={pages:[],pageParams:[]},u=0;const c=async()=>{let b=!1;const x=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?b=!0:e.signal.addEventListener("abort",()=>{b=!0}),e.signal)})},S=gL(e.options,e.fetchOptions),R=async(_,T,A)=>{if(b)return Promise.reject();if(T==null&&_.pages.length)return Promise.resolve(_);const D={client:e.client,queryKey:e.queryKey,pageParam:T,direction:A?"backward":"forward",meta:e.options.meta};x(D);const N=await S(D),{maxPages:M}=e.options,P=A?xfe:bfe;return{pages:P(_.pages,N,M),pageParams:P(_.pageParams,T,M)}};if(a&&o.length){const _=a==="backward",T=_?Pfe:hO,A={pages:o,pageParams:i},D=T(r,A);s=await R(A,D,_)}else{const _=t??o.length;do{const T=u===0?i[0]??r.initialPageParam:hO(r,s);if(u>0&&T==null)break;s=await R(s,T),u++}while(u<_)}return s};e.options.persister?e.fetchFn=()=>{var b,x;return(x=(b=e.options).persister)==null?void 0:x.call(b,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function hO(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Pfe(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var ar,uu,cu,Ef,Tf,du,Rf,Af,wO,Ife=(wO=class{constructor(t={}){ln(this,ar);ln(this,uu);ln(this,cu);ln(this,Ef);ln(this,Tf);ln(this,du);ln(this,Rf);ln(this,Af);Ft(this,ar,t.queryCache||new Nfe),Ft(this,uu,t.mutationCache||new Mfe),Ft(this,cu,t.defaultOptions||{}),Ft(this,Ef,new Map),Ft(this,Tf,new Map),Ft(this,du,0)}mount(){Jv(this,du)._++,Ae(this,du)===1&&(Ft(this,Rf,vL.subscribe(async t=>{t&&(await this.resumePausedMutations(),Ae(this,ar).onFocus())})),Ft(this,Af,Jy.subscribe(async t=>{t&&(await this.resumePausedMutations(),Ae(this,ar).onOnline())})))}unmount(){var t,e;Jv(this,du)._--,Ae(this,du)===0&&((t=Ae(this,Rf))==null||t.call(this),Ft(this,Rf,void 0),(e=Ae(this,Af))==null||e.call(this),Ft(this,Af,void 0))}isFetching(t){return Ae(this,ar).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Ae(this,uu).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Ae(this,ar).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=Ae(this,ar).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(sO(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return Ae(this,ar).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),a=Ae(this,ar).get(r.queryHash),o=a==null?void 0:a.state.data,i=hfe(e,o);if(i!==void 0)return Ae(this,ar).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(t,e,n){return Na.batch(()=>Ae(this,ar).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Ae(this,ar).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=Ae(this,ar);Na.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=Ae(this,ar);return Na.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Na.batch(()=>Ae(this,ar).findAll(t).map(a=>a.cancel(n)));return Promise.all(r).then(oi).catch(oi)}invalidateQueries(t,e={}){return Na.batch(()=>(Ae(this,ar).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Na.batch(()=>Ae(this,ar).findAll(t).filter(a=>!a.isDisabled()).map(a=>{let o=a.fetch(void 0,n);return n.throwOnError||(o=o.catch(oi)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(oi)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=Ae(this,ar).build(this,e);return n.isStaleByTime(sO(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(oi).catch(oi)}fetchInfiniteQuery(t){return t.behavior=fO(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(oi).catch(oi)}ensureInfiniteQueryData(t){return t.behavior=fO(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Jy.isOnline()?Ae(this,uu).resumePausedMutations():Promise.resolve()}getQueryCache(){return Ae(this,ar)}getMutationCache(){return Ae(this,uu)}getDefaultOptions(){return Ae(this,cu)}setDefaultOptions(t){Ft(this,cu,t)}setQueryDefaults(t,e){Ae(this,Ef).set(Pm(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Ae(this,Ef).values()],n={};return e.forEach(r=>{Im(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){Ae(this,Tf).set(Pm(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Ae(this,Tf).values()],n={};return e.forEach(r=>{Im(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Ae(this,cu).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=lE(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===uE&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Ae(this,cu).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Ae(this,ar).clear(),Ae(this,uu).clear()}},ar=new WeakMap,uu=new WeakMap,cu=new WeakMap,Ef=new WeakMap,Tf=new WeakMap,du=new WeakMap,Rf=new WeakMap,Af=new WeakMap,wO),SL=O.createContext(void 0),Lhe=t=>{const e=O.useContext(SL);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Lfe=({client:t,children:e})=>(O.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),E(SL.Provider,{value:t,children:e}));const Ffe=window.location.origin;async function Bfe(t){if(!t.ok){let e;try{const n=await t.json();e=n.error||JSON.stringify(n)}catch{e=await t.text()}throw new Error(`${t.status}: ${e||t.statusText}`)}return t}async function zfe(t,e={}){const{method:n="GET",body:r,headers:a={}}=e,o={...a};r!=null&&!o["Content-Type"]&&(o["Content-Type"]="application/json");const i=localStorage.getItem("token");console.log("My localStorage token:",i),i&&(o.Authorization=`Bearer ${i}`);const s=await fetch(Ffe+t,{method:n,headers:o,body:r!=null?JSON.stringify(r):void 0,credentials:"include"});await Bfe(s);const u=await s.text();return u?JSON.parse(u):{}}const $fe=({on401:t})=>async({queryKey:e})=>{try{return await zfe(e[0])}catch(n){throw n}},Ufe=new Ife({defaultOptions:{queries:{queryFn:$fe({on401:"throw"}),staleTime:1/0,retry:!1,refetchOnWindowFocus:!1},mutations:{retry:!1}}});XC.initialize("G-2ZXG67XCYF");XC.send("pageview");$F.createRoot(document.getElementById("root")).render(E(Lfe,{client:Ufe,children:K(UW,{children:[E(rde,{}),E(zW,{position:"top-right"})]})}));export{Wx as $,pI as A,ne as B,ly as C,hD as D,o3 as E,xhe as F,s7 as G,x7 as H,yu as I,mc as J,mo as K,dse as L,nD as M,Of as N,yn as O,En as P,ht as Q,Tn as R,A7 as S,cs as T,Df as U,pt as V,at as W,Nn as X,or as Y,dD as Z,dt as _,tt as a,Ff as a$,Fi as a0,iU as a1,qU as a2,pV as a3,DD as a4,Mz as a5,Qse as a6,r9 as a7,U$ as a8,Nj as a9,z2 as aA,zp as aB,qk as aC,QU as aD,ez as aE,JO as aF,Fz as aG,HS as aH,ED as aI,XC as aJ,GS as aK,Gfe as aL,Qs as aM,Kp as aN,Kfe as aO,cw as aP,Q8 as aQ,FO as aR,ou as aS,Vm as aT,qS as aU,Mc as aV,YS as aW,kf as aX,dw as aY,D$ as aZ,oc as a_,CD as aa,It as ab,Wfe as ac,zF as ad,uD as ae,Oj as af,DU as ag,Xf as ah,o_ as ai,Uc as aj,uy as ak,b$ as al,py as am,us as an,ZO as ao,DV as ap,W$ as aq,Y$ as ar,Rhe as as,ghe as at,q8 as au,Ahe as av,mhe as aw,She as ax,bhe as ay,yse as az,E as b,Ihe as b$,Xl as b0,Rp as b1,ab as b2,Kf as b3,i_ as b4,SU as b5,sz as b6,Zi as b7,bu as b8,c$ as b9,uR as bA,HW as bB,Km as bC,Yfe as bD,qD as bE,hm as bF,fy as bG,$H as bH,BH as bI,hy as bJ,HD as bK,VH as bL,e1 as bM,_fe as bN,gfe as bO,Phe as bP,sO as bQ,oi as bR,t1 as bS,pfe as bT,mfe as bU,vL as bV,Afe as bW,yfe as bX,Na as bY,Pm as bZ,Dfe as b_,P9 as ba,Z9 as bb,D9 as bc,X9 as bd,H9 as be,t$ as bf,A9 as bg,G9 as bh,f$ as bi,tD as bj,db as bk,Yf as bl,VO as bm,ja as bn,qfe as bo,$m as bp,GO as bq,n3 as br,U0 as bs,Hfe as bt,qO as bu,br as bv,is as bw,jD as bx,VD as by,_b as bz,whe as c,Lhe as c0,KW as c1,aq as c2,YW as c3,JW as c4,aH as c5,eH as c6,tq as c7,XW as c8,Mhe as c9,zfe as ca,Qj as cb,nW as cc,aW as cd,Ufe as ce,Dhe as cf,Ohe as cg,Mj as ch,TD as ci,G3 as cj,tK as ck,kse as d,rl as e,Soe as f,Nne as g,kn as h,_he as i,K as j,bse as k,yhe as l,Wk as m,Che as n,Ehe as o,The as p,vhe as q,gae as r,uoe as s,cD as t,kne as u,ea as v,jm as w,Pc as x,An as y,QO as z};
