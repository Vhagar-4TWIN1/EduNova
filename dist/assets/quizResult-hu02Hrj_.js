import{b as o}from"./vendor-gGFwV6Yc.js";import{b as e,a1 as b,j as a,$ as r,a as m}from"./index-CNYIw3Ap.js";import{G as l}from"./Grid-BM4MDois.js";import{C as s}from"./Card-BV5SPX1h.js";import{R as x,l as f,T as S}from"./generateCategoricalChart-B3CLpV3k.js";import{P as C,a as D}from"./PieChart-D-zdAzEW.js";import"./_baseAssignValue-6fn3uWxu.js";import"./utcTime-E6OBNq1n.js";import"./stack-iCCafO-2.js";import"./array-2GBN5xbU.js";import"./line-C3H7Dj0M.js";import"./area-Dv4ZxFMe.js";const w=()=>{const[d,u]=o.useState([]),[n,g]=o.useState(null),[v,c]=o.useState(!0);if(o.useEffect(()=>{(async()=>{try{const[i,y]=await Promise.all([m.get("https://edunova-back-rqxc.onrender.com/api/quiz/all-students-performance"),m.get("https://edunova-back-rqxc.onrender.com/api/quiz/global-stats")]);u(i.data),g(y.data),c(!1)}catch(i){console.error("Error fetching data",i),c(!1)}})()},[]),v)return e(b,{});const p=n.levelDistribution.map(t=>({name:t.level,value:t.count})),h=["#0088FE","#00C49F","#FFBB28","#FF8042"];return e("div",{style:{padding:"20px"},children:a(l,{container:!0,spacing:3,children:[e(l,{item:!0,xs:12,md:8,children:a(s,{children:[e(r,{variant:"h6",style:{padding:"16px"},children:"Student Performance"}),e("div",{style:{padding:"16px"},children:d.length===0?e(r,{variant:"body1",children:"No data available"}):e(l,{container:!0,spacing:2,children:d.map(t=>e(l,{item:!0,xs:12,sm:6,md:4,children:a(s,{style:{padding:"16px"},children:[e(r,{variant:"h6",children:t.name}),e(r,{variant:"body2",color:"textSecondary",children:t.email}),a(r,{variant:"body1",style:{marginTop:"8px"},children:["Score: ",t.averageScore," - Level: ",t.currentLevel]})]})},t._id))})})]})}),e(l,{item:!0,xs:12,md:4,children:a(s,{children:[e(r,{variant:"h6",style:{padding:"16px"},children:"Global Stats"}),a("div",{style:{padding:"16px"},children:[a(r,{variant:"body1",children:["Total Students: ",n.totalStudents]}),a(r,{variant:"body1",children:["Total Attempts: ",n.totalAttempts]}),a(r,{variant:"body1",children:["Global Average Score: ",n.globalAvgScore]}),e("div",{style:{marginTop:"16px",height:"300px"},children:e(x,{width:"100%",height:"100%",children:a(C,{children:[e(D,{data:p,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",label:!0,children:p.map((t,i)=>e(f,{fill:h[i%h.length]},`cell-${i}`))}),e(S,{})]})})})]})]})})]})})};export{w as default};
