import{r as a,b as s,j as t,a as G}from"./index-C3nL3Q8Y.js";const W=()=>{const[c,m]=a.useState(""),[l,g]=a.useState([]),[i,d]=a.useState(""),[r,p]=a.useState([]),[o,n]=a.useState(""),[u,N]=a.useState(!1),[v,w]=a.useState(!1);a.useEffect(()=>{if(o){w(!0);const e=setTimeout(()=>{w(!1)},300);return()=>clearTimeout(e)}},[o]);const f=async()=>{if(!c.trim()){n("Please enter a subject");return}N(!0);try{const e=await G.post("http://localhost:5000/generate_words",{subject:c});g(e.data.words.map(h=>h.toLowerCase())),p([]),d(""),n("")}catch(e){console.error("Error:",e),n("Error fetching words.")}finally{N(!1)}},y=()=>{if(!i.trim())return;const e=i.toLowerCase();l.includes(e)?r.includes(e)?n("You already guessed that word."):(p([...r,e]),n("Nice guess!")):n("Wrong guess!"),d("")},b=e=>{e.key==="Enter"&&(l.length>0?y():f())},x=()=>r.length/10*100;return s("div",{className:"word-game-container",children:t("div",{className:"word-game-card",children:[s("h1",{className:"word-game-title",children:"Educational Word Game"}),t("div",{className:"input-group",children:[s("input",{type:"text",value:c,onChange:e=>m(e.target.value),placeholder:"Enter a subject (e.g., biology, math...)",className:"text-input",onKeyPress:b,disabled:u||l.length>0}),l.length===0&&s("button",{onClick:f,className:"primary-button",disabled:u,children:u?"Loading...":"Generate Words"})]}),l.length>0&&t("div",{className:"game-section",children:[t("p",{className:"subject-label",children:["Guess the 10 words related to: ",s("span",{className:"highlight",children:c})]}),t("div",{className:"progress-container",children:[s("div",{className:"progress-bar",style:{width:`${x()}%`}}),t("span",{className:"progress-text",children:[r.length,"/10"]})]}),t("div",{className:"input-group",children:[s("input",{type:"text",value:i,onChange:e=>d(e.target.value),placeholder:"Type a word",className:"text-input",onKeyPress:b,autoFocus:!0}),s("button",{onClick:y,className:"primary-button",children:"Guess"})]}),s("div",{className:`message ${v?"animate":""} ${o.includes("Nice")?"success":o.includes("Wrong")?"error":""}`,children:o}),t("div",{className:"guessed-words-section",children:[s("h2",{className:"section-title",children:"Guessed Words:"}),r.length>0?s("ul",{className:"guessed-words-list",children:r.map((e,h)=>s("li",{className:"guessed-word",children:s("span",{className:"word-text",children:e})},h))}):s("p",{className:"empty-list",children:"No words guessed yet"})]}),r.length===10&&t("div",{className:"success-message",children:[s("p",{children:"Congratulations! You found all the words!"}),s("button",{onClick:()=>{g([]),m("")},className:"secondary-button",children:"New Game"})]})]})]})})};export{W as default};
