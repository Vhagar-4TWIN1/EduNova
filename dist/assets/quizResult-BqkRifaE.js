import{r as o,b as t,a5 as b,j as e,a3 as r,a as m}from"./index-C3nL3Q8Y.js";import{G as l}from"./Grid-4PTbkvA0.js";import{C as s}from"./Card-BM1iOIYZ.js";import{R as f,l as x,T as S}from"./generateCategoricalChart-CvR6AqMP.js";import{P as C,a as D}from"./PieChart-5wuZPdz3.js";import"./_baseAssignValue-yCO_M4x6.js";import"./utcTime-C32BygsA.js";import"./stack-CIUvCgG4.js";import"./array-2GBN5xbU.js";import"./line-2rKZl4bH.js";import"./area-BH-z56A1.js";const w=()=>{const[d,u]=o.useState([]),[n,g]=o.useState(null),[v,c]=o.useState(!0);if(o.useEffect(()=>{(async()=>{try{const[i,y]=await Promise.all([m.get("https://edunova-back-rqxc.onrender.com/api/quiz/all-students-performance"),m.get("https://edunova-back-rqxc.onrender.com/api/quiz/global-stats")]);u(i.data),g(y.data),c(!1)}catch(i){console.error("Error fetching data",i),c(!1)}})()},[]),v)return t(b,{});const p=n.levelDistribution.map(a=>({name:a.level,value:a.count})),h=["#0088FE","#00C49F","#FFBB28","#FF8042"];return t("div",{style:{padding:"20px"},children:e(l,{container:!0,spacing:3,children:[t(l,{item:!0,xs:12,md:8,children:e(s,{children:[t(r,{variant:"h6",style:{padding:"16px"},children:"Student Performance"}),t("div",{style:{padding:"16px"},children:d.length===0?t(r,{variant:"body1",children:"No data available"}):t(l,{container:!0,spacing:2,children:d.map(a=>t(l,{item:!0,xs:12,sm:6,md:4,children:e(s,{style:{padding:"16px"},children:[t(r,{variant:"h6",children:a.name}),t(r,{variant:"body2",color:"textSecondary",children:a.email}),e(r,{variant:"body1",style:{marginTop:"8px"},children:["Score: ",a.averageScore," - Level: ",a.currentLevel]})]})},a._id))})})]})}),t(l,{item:!0,xs:12,md:4,children:e(s,{children:[t(r,{variant:"h6",style:{padding:"16px"},children:"Global Stats"}),e("div",{style:{padding:"16px"},children:[e(r,{variant:"body1",children:["Total Students: ",n.totalStudents]}),e(r,{variant:"body1",children:["Total Attempts: ",n.totalAttempts]}),e(r,{variant:"body1",children:["Global Average Score: ",n.globalAvgScore]}),t("div",{style:{marginTop:"16px",height:"300px"},children:t(f,{width:"100%",height:"100%",children:e(C,{children:[t(D,{data:p,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",label:!0,children:p.map((a,i)=>t(x,{fill:h[i%h.length]},`cell-${i}`))}),t(S,{})]})})})]})]})})]})})};export{w as default};
