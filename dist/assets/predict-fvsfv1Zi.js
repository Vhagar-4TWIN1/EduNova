import{U as v,S as y,r as u,W as f,_ as T,E as p,b as a,Z as C,V as g,a0 as w,a1 as k,a as A,j as b,a4 as x,a3 as P,a8 as D,a9 as O}from"./index-C3nL3Q8Y.js";import{M as R}from"./MenuItem-NIEDGLUA.js";import{T as E,a as H,b as i}from"./TableCell-B1lZrvz4.js";import"./listItemTextClasses-B7Ux6p96.js";function j(e){return v("MuiTable",e)}y("MuiTable",["root","stickyHeader"]);const z=["className","component","padding","size","stickyHeader"],W=e=>{const{classes:t,stickyHeader:s}=e;return w({root:["root",s&&"stickyHeader"]},j,t)},F=C("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,s.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>p({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":p({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"})),_="table",I=u.forwardRef(function(t,s){const r=f({props:t,name:"MuiTable"}),{className:d,component:o=_,padding:n="normal",size:l="medium",stickyHeader:c=!1}=r,h=T(r,z),m=p({},r,{component:o,padding:n,size:l,stickyHeader:c}),M=W(m),L=u.useMemo(()=>({padding:n,size:l,stickyHeader:c}),[n,l,c]);return a(E.Provider,{value:L,children:a(F,p({as:o,role:o===_?null:"table",ref:s,className:g(M.root,d),ownerState:m},h))})});function V(e){return v("MuiTableBody",e)}y("MuiTableBody",["root"]);const X=["className","component"],Z=e=>{const{classes:t}=e;return w({root:["root"]},V,t)},q=C("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),G={variant:"body"},$="tbody",J=u.forwardRef(function(t,s){const r=f({props:t,name:"MuiTableBody"}),{className:d,component:o=$}=r,n=T(r,X),l=p({},r,{component:o}),c=Z(l);return a(H.Provider,{value:G,children:a(q,p({className:g(c.root,d),as:o,ref:s,role:o===$?null:"rowgroup",ownerState:l},n))})});function K(e){return v("MuiTableContainer",e)}y("MuiTableContainer",["root"]);const Q=["className","component"],Y=e=>{const{classes:t}=e;return w({root:["root"]},K,t)},ee=C("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),oe=u.forwardRef(function(t,s){const r=f({props:t,name:"MuiTableContainer"}),{className:d,component:o="div"}=r,n=T(r,Q),l=p({},r,{component:o}),c=Y(l);return a(ee,p({ref:s,as:o,className:g(c.root,d),ownerState:l},n))});function te(e){return v("MuiTableHead",e)}y("MuiTableHead",["root"]);const ae=["className","component"],se=e=>{const{classes:t}=e;return w({root:["root"]},te,t)},re=C("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),le={variant:"head"},U="thead",ne=u.forwardRef(function(t,s){const r=f({props:t,name:"MuiTableHead"}),{className:d,component:o=U}=r,n=T(r,ae),l=p({},r,{component:o}),c=se(l);return a(H.Provider,{value:le,children:a(re,p({as:o,className:g(c.root,d),ref:s,role:o===U?null:"rowgroup",ownerState:l},n))})});function ie(e){return v("MuiTableRow",e)}const N=y("MuiTableRow",["root","selected","hover","head","footer"]),ce=["className","component","hover","selected"],de=e=>{const{classes:t,selected:s,hover:r,head:d,footer:o}=e;return w({root:["root",s&&"selected",r&&"hover",d&&"head",o&&"footer"]},ie,t)},pe=C("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,s.head&&t.head,s.footer&&t.footer]}})(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${N.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${N.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:k.alpha(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:k.alpha(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}})),S="tr",B=u.forwardRef(function(t,s){const r=f({props:t,name:"MuiTableRow"}),{className:d,component:o=S,hover:n=!1,selected:l=!1}=r,c=T(r,ce),h=u.useContext(H),m=p({},r,{component:o,hover:n,selected:l,head:h&&h.variant==="head",footer:h&&h.variant==="footer"}),M=de(m);return a(pe,p({as:o,ref:s,className:g(M.root,d),role:o===S?null:"row",ownerState:m},c))}),ue={"游댮 High":"#ffebee","游리 Medium":"#fff8e1","游릭 Low":"#e8f5e9"},ye=()=>{const[e,t]=u.useState([]),[s,r]=u.useState("All");u.useEffect(()=>{A.get("http://localhost:5000/predict_all").then(o=>{const n=o.data.map(l=>{const c=l.dropout_probability<30?"游릭 Low":l.dropout_probability<70?"游리 Medium":"游댮 High";return{...l,risk:c}});t(n.sort((l,c)=>c.dropout_probability-l.dropout_probability))}).catch(o=>console.error(o))},[]);const d=s==="All"?e:e.filter(o=>o.risk===s);return b(x,{p:2,children:[a(P,{variant:"h5",gutterBottom:!0,children:"游늵 User Dropout Risk Dashboard"}),a(x,{mb:2,children:b(D,{value:s,onChange:o=>r(o.target.value),size:"small",children:[a(R,{value:"All",children:"All"}),a(R,{value:"游댮 High",children:"游댮 High"}),a(R,{value:"游리 Medium",children:"游리 Medium"}),a(R,{value:"游릭 Low",children:"游릭 Low"})]})}),a(oe,{component:O,children:b(I,{size:"small",children:[a(ne,{children:b(B,{children:[a(i,{children:a("strong",{children:"Email"})}),a(i,{children:"Last Activity"}),a(i,{children:"Actions"}),a(i,{children:"Duration"}),a(i,{children:"Logins"}),a(i,{children:"Lessons"}),a(i,{children:"Risk %"}),a(i,{children:"Level"})]})}),a(J,{children:d.map((o,n)=>b(B,{style:{backgroundColor:ue[o.risk]},children:[a(i,{children:o.email}),a(i,{children:new Date(o.last_activity).toLocaleDateString()}),a(i,{children:o.total_actions}),b(i,{children:[Math.round(o.total_duration/60)," min"]}),a(i,{children:o.nb_login}),a(i,{children:o.nb_lesson}),a(i,{children:b("strong",{children:[o.dropout_probability,"%"]})}),a(i,{children:o.risk})]},n))})]})})]})};export{ye as default};
