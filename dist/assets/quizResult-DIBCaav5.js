import{r as o,b as e,a5 as b,j as t,a3 as r,a as m}from"./index-B07QrE09.js";import{G as l}from"./Grid-Dh9q74HS.js";import{C as s}from"./Card-D2GAe7H9.js";import{R as x,l as f,T as S}from"./generateCategoricalChart-B0CFi4Po.js";import{P as C,a as D}from"./PieChart-QG4LfZoI.js";import"./_baseAssignValue-CO5KtFk2.js";import"./utcTime-BNE41mvX.js";import"./stack-CLXML5pD.js";import"./array-2GBN5xbU.js";import"./line-BLcIulnM.js";import"./area-BTfT7qdA.js";const k=()=>{const[d,u]=o.useState([]),[n,g]=o.useState(null),[v,c]=o.useState(!0);if(o.useEffect(()=>{(async()=>{try{const[i,y]=await Promise.all([m.get("https://edunova-back-rqxc.onrender.com/api/quiz/all-students-performance"),m.get("https://edunova-back-rqxc.onrender.com/api/quiz/global-stats")]);u(i.data),g(y.data),c(!1)}catch(i){console.error("Error fetching data",i),c(!1)}})()},[]),v)return e(b,{});const p=n.levelDistribution.map(a=>({name:a.level,value:a.count})),h=["#0088FE","#00C49F","#FFBB28","#FF8042"];return e("div",{style:{padding:"20px"},children:t(l,{container:!0,spacing:3,children:[e(l,{item:!0,xs:12,md:8,children:t(s,{children:[e(r,{variant:"h6",style:{padding:"16px"},children:"Student Performance"}),e("div",{style:{padding:"16px"},children:d.length===0?e(r,{variant:"body1",children:"No data available"}):e(l,{container:!0,spacing:2,children:d.map(a=>e(l,{item:!0,xs:12,sm:6,md:4,children:t(s,{style:{padding:"16px"},children:[e(r,{variant:"h6",children:a.name}),e(r,{variant:"body2",color:"textSecondary",children:a.email}),t(r,{variant:"body1",style:{marginTop:"8px"},children:["Score: ",a.averageScore," - Level: ",a.currentLevel]})]})},a._id))})})]})}),e(l,{item:!0,xs:12,md:4,children:t(s,{children:[e(r,{variant:"h6",style:{padding:"16px"},children:"Global Stats"}),t("div",{style:{padding:"16px"},children:[t(r,{variant:"body1",children:["Total Students: ",n.totalStudents]}),t(r,{variant:"body1",children:["Total Attempts: ",n.totalAttempts]}),t(r,{variant:"body1",children:["Global Average Score: ",n.globalAvgScore]}),e("div",{style:{marginTop:"16px",height:"300px"},children:e(x,{width:"100%",height:"100%",children:t(C,{children:[e(D,{data:p,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",label:!0,children:p.map((a,i)=>e(f,{fill:h[i%h.length]},`cell-${i}`))}),e(S,{})]})})})]})]})})]})})};export{k as default};
