import{b as u}from"./vendor-gGFwV6Yc.js";import{P as v,O as y,R as f,_ as T,B as p,b as a,V as C,Q as g,X as w,Y as $,a as A,j as b,a0 as k,$ as P,a4 as O,a5 as D}from"./index-CNYIw3Ap.js";import{M as R}from"./MenuItem-Cq1GJlgR.js";import{T as j,a as H,b as i}from"./TableCell-CgCyTPXP.js";import"./listItemTextClasses-DelaPf-g.js";function z(e){return v("MuiTable",e)}y("MuiTable",["root","stickyHeader"]);const E=["className","component","padding","size","stickyHeader"],X=e=>{const{classes:t,stickyHeader:s}=e;return w({root:["root",s&&"stickyHeader"]},z,t)},F=C("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,s.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>p({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":p({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"})),x="table",I=u.forwardRef(function(t,s){const r=f({props:t,name:"MuiTable"}),{className:d,component:o=x,padding:n="normal",size:l="medium",stickyHeader:c=!1}=r,h=T(r,E),m=p({},r,{component:o,padding:n,size:l,stickyHeader:c}),M=X(m),L=u.useMemo(()=>({padding:n,size:l,stickyHeader:c}),[n,l,c]);return a(j.Provider,{value:L,children:a(F,p({as:o,role:o===x?null:"table",ref:s,className:g(M.root,d),ownerState:m},h))})});function Q(e){return v("MuiTableBody",e)}y("MuiTableBody",["root"]);const V=["className","component"],W=e=>{const{classes:t}=e;return w({root:["root"]},Q,t)},Y=C("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),q={variant:"body"},_="tbody",G=u.forwardRef(function(t,s){const r=f({props:t,name:"MuiTableBody"}),{className:d,component:o=_}=r,n=T(r,V),l=p({},r,{component:o}),c=W(l);return a(H.Provider,{value:q,children:a(Y,p({className:g(c.root,d),as:o,ref:s,role:o===_?null:"rowgroup",ownerState:l},n))})});function J(e){return v("MuiTableContainer",e)}y("MuiTableContainer",["root"]);const K=["className","component"],Z=e=>{const{classes:t}=e;return w({root:["root"]},J,t)},ee=C("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),oe=u.forwardRef(function(t,s){const r=f({props:t,name:"MuiTableContainer"}),{className:d,component:o="div"}=r,n=T(r,K),l=p({},r,{component:o}),c=Z(l);return a(ee,p({ref:s,as:o,className:g(c.root,d),ownerState:l},n))});function te(e){return v("MuiTableHead",e)}y("MuiTableHead",["root"]);const ae=["className","component"],se=e=>{const{classes:t}=e;return w({root:["root"]},te,t)},re=C("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),le={variant:"head"},N="thead",ne=u.forwardRef(function(t,s){const r=f({props:t,name:"MuiTableHead"}),{className:d,component:o=N}=r,n=T(r,ae),l=p({},r,{component:o}),c=se(l);return a(H.Provider,{value:le,children:a(re,p({as:o,className:g(c.root,d),ref:s,role:o===N?null:"rowgroup",ownerState:l},n))})});function ie(e){return v("MuiTableRow",e)}const U=y("MuiTableRow",["root","selected","hover","head","footer"]),ce=["className","component","hover","selected"],de=e=>{const{classes:t,selected:s,hover:r,head:d,footer:o}=e;return w({root:["root",s&&"selected",r&&"hover",d&&"head",o&&"footer"]},ie,t)},pe=C("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,s.head&&t.head,s.footer&&t.footer]}})(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${U.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${U.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:$.alpha(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:$.alpha(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}})),S="tr",B=u.forwardRef(function(t,s){const r=f({props:t,name:"MuiTableRow"}),{className:d,component:o=S,hover:n=!1,selected:l=!1}=r,c=T(r,ce),h=u.useContext(H),m=p({},r,{component:o,hover:n,selected:l,head:h&&h.variant==="head",footer:h&&h.variant==="footer"}),M=de(m);return a(pe,p({as:o,ref:s,className:g(M.root,d),role:o===S?null:"row",ownerState:m},c))}),ue={"游댮 High":"#ffebee","游리 Medium":"#fff8e1","游릭 Low":"#e8f5e9"},fe=()=>{const[e,t]=u.useState([]),[s,r]=u.useState("All");u.useEffect(()=>{A.get("http://localhost:5000/predict_all").then(o=>{const n=o.data.map(l=>{const c=l.dropout_probability<30?"游릭 Low":l.dropout_probability<70?"游리 Medium":"游댮 High";return{...l,risk:c}});t(n.sort((l,c)=>c.dropout_probability-l.dropout_probability))}).catch(o=>console.error(o))},[]);const d=s==="All"?e:e.filter(o=>o.risk===s);return b(k,{p:2,children:[a(P,{variant:"h5",gutterBottom:!0,children:"游늵 User Dropout Risk Dashboard"}),a(k,{mb:2,children:b(O,{value:s,onChange:o=>r(o.target.value),size:"small",children:[a(R,{value:"All",children:"All"}),a(R,{value:"游댮 High",children:"游댮 High"}),a(R,{value:"游리 Medium",children:"游리 Medium"}),a(R,{value:"游릭 Low",children:"游릭 Low"})]})}),a(oe,{component:D,children:b(I,{size:"small",children:[a(ne,{children:b(B,{children:[a(i,{children:a("strong",{children:"Email"})}),a(i,{children:"Last Activity"}),a(i,{children:"Actions"}),a(i,{children:"Duration"}),a(i,{children:"Logins"}),a(i,{children:"Lessons"}),a(i,{children:"Risk %"}),a(i,{children:"Level"})]})}),a(G,{children:d.map((o,n)=>b(B,{style:{backgroundColor:ue[o.risk]},children:[a(i,{children:o.email}),a(i,{children:new Date(o.last_activity).toLocaleDateString()}),a(i,{children:o.total_actions}),b(i,{children:[Math.round(o.total_duration/60)," min"]}),a(i,{children:o.nb_login}),a(i,{children:o.nb_lesson}),a(i,{children:b("strong",{children:[o.dropout_probability,"%"]})}),a(i,{children:o.risk})]},n))})]})})]})};export{fe as default};
