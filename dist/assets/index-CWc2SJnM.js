import{H as mo}from"./header-Cs2ESUnw.js";import{b as v,f as go,g as po}from"./vendor-gGFwV6Yc.js";import{k as yo,l as vo,m as bo,u as xo,n as _o,o as wo,t as ko,p as So,q as Co,s as To,v as Ao,w as Mo,x as Po,y as Eo,A as $o,B as Io,C as Ro,D as Oo,E as Fo,G as jo,I as Wo,L as Vo,N as Bo,O as zo,P as Lo,R as qo,S as No,T as Ho,V as Yo,W as Do,X as Go,Y as Uo,Z as Xo,_ as Qo,$ as Ko,a0 as Jo,a1 as Zo,a2 as es,a3 as ts,a4 as ns,a5 as is,a6 as rs,a7 as os,a8 as ss,a9 as as,aa as ls,ab as us,ac as cs,ad as ds,ae as hs,af as fs,ag as ms,ah as gs,ai as ps,aj as ys,ak as vs,al as bs,am as xs,an as _s,ao as ws,ap as ks,aq as Ss,ar as Cs,as as Ts,at as As,au as Ms,av as Ps,aw as Es,ax as $s,ay as Is,az as Rs,aA as Os,aB as Fs,aC as js,aD as Ws,i as te,z as pe,M as ir,U as Ut,j as Vs,H as Ti,aF as Bs,aE as Nn,aR as zs,aO as rr,aS as Ls,aG as or,aT as sr,F as ar,aU as qs,aV as Ns,aI as lr,aK as Hs,aJ as Ys,aL as Ds,aP as Gs,aW as ur,aX as Us}from"./mockData-DYW9TWkq.js";import{B as cr,R as fn,C as Xs,A as an,w as Qs,x as Ks,D as Js}from"./_baseAssignValue-6fn3uWxu.js";import{ab as ze,j as ge,b as O,h as Xt,t as Zs,af as ea,a0 as Ai}from"./index-CNYIw3Ap.js";import{k as dr,p as hr,d as ta}from"./nivo-scales.es-pOPGDYUz.js";import{Y as na}from"./area-Dv4ZxFMe.js";import{m as ia}from"./line-C3H7Dj0M.js";import"./utcTime-E6OBNq1n.js";import"./array-2GBN5xbU.js";function mn(){return mn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},mn.apply(this,arguments)}function Mi(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ra(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(r,o){if(r){if(typeof r=="string")return Mi(r,o);var s=Object.prototype.toString.call(r).slice(8,-1);return s==="Object"&&r.constructor&&(s=r.constructor.name),s==="Map"||s==="Set"?Array.from(r):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Mi(r,o):void 0}}(e))||t){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var fr={nivo:["#e8c1a0","#f47560","#f1e15b","#e8a838","#61cdbb","#97e3d5"],category10:To,accent:Co,dark2:So,paired:ko,pastel1:wo,pastel2:_o,set1:xo,set2:bo,set3:vo,tableau10:yo},oa=Object.keys(fr),mr={brown_blueGreen:Fo,purpleRed_green:Oo,pink_yellowGreen:Ro,purple_orange:Io,red_blue:$o,red_grey:Eo,red_yellow_blue:Po,red_yellow_green:Mo,spectral:Ao},sa=Object.keys(mr),aa={brown_blueGreen:ls,purpleRed_green:as,pink_yellowGreen:ss,purple_orange:os,red_blue:rs,red_grey:is,red_yellow_blue:ns,red_yellow_green:ts,spectral:es},gr={blues:Zo,greens:Jo,greys:Ko,oranges:Qo,purples:Xo,reds:Uo,blue_green:Go,blue_purple:Do,green_blue:Yo,orange_red:Ho,purple_blue_green:No,purple_blue:qo,purple_red:Lo,red_purple:zo,yellow_green_blue:Bo,yellow_green:Vo,yellow_orange_brown:Wo,yellow_orange_red:jo},la=Object.keys(gr),ua={blues:Fs,greens:Os,greys:Rs,oranges:Is,purples:$s,reds:Es,turbo:Ps,viridis:Ms,inferno:As,magma:Ts,plasma:Cs,cividis:Ss,warm:ks,cool:ws,cubehelixDefault:_s,blue_green:xs,blue_purple:bs,green_blue:vs,orange_red:ys,purple_blue_green:ps,purple_blue:gs,purple_red:ms,red_purple:fs,yellow_green_blue:hs,yellow_green:ds,yellow_orange_brown:cs,yellow_orange_red:us},Rn=mn({},fr,mr,gr),ca=function(e){return oa.includes(e)},da=function(e){return sa.includes(e)},ha=function(e){return la.includes(e)},fa={rainbow:Ws,sinebow:js};mn({},aa,ua,fa);var ma=function(e,t){if(typeof e=="function")return e;if(cr(e)){if(function(l){return l.theme!==void 0}(e)){if(t===void 0)throw new Error("Unable to use color from theme as no theme was provided");var n=fn(t,e.theme);if(n===void 0)throw new Error("Color from theme is undefined at path: '"+e.theme+"'");return function(){return n}}if(function(l){return l.from!==void 0}(e)){var i=function(l){return fn(l,e.from)};if(Array.isArray(e.modifiers)){for(var r,o=[],s=function(){var l=r.value,u=l[0],h=l[1];if(u==="brighter")o.push(function(c){return c.brighter(h)});else if(u==="darker")o.push(function(c){return c.darker(h)});else{if(u!=="opacity")throw new Error("Invalid color modifier: '"+u+"', must be one of: 'brighter', 'darker', 'opacity'");o.push(function(c){return c.opacity=h,c})}},a=ra(e.modifiers);!(r=a()).done;)s();return o.length===0?i:function(l){return o.reduce(function(u,h){return h(u)},Xs(i(l))).toString()}}return i}throw new Error("Invalid color spec, you should either specify 'theme' or 'from' when using a config object")}return function(){return e}},gn=function(e,t){return v.useMemo(function(){return ma(e,t)},[e,t])};ze.oneOfType([ze.string,ze.func,ze.shape({theme:ze.string.isRequired}),ze.shape({from:ze.string.isRequired,modifiers:ze.arrayOf(ze.array)})]);var ga=function(e,t){if(typeof e=="function")return e;var n=function(c){return fn(c,t)};if(Array.isArray(e)){var i=an(e),r=function(c){return i(n(c))};return r.scale=i,r}if(cr(e)){if(function(c){return c.datum!==void 0}(e))return function(c){return fn(c,e.datum)};if(function(c){return c.scheme!==void 0}(e)){if(ca(e.scheme)){var o=an(Rn[e.scheme]),s=function(c){return o(n(c))};return s.scale=o,s}if(da(e.scheme)){if(e.size!==void 0&&(e.size<3||e.size>11))throw new Error("Invalid size '"+e.size+"' for diverging color scheme '"+e.scheme+"', must be between 3~11");var a=an(Rn[e.scheme][e.size||11]),l=function(c){return a(n(c))};return l.scale=a,l}if(ha(e.scheme)){if(e.size!==void 0&&(e.size<3||e.size>9))throw new Error("Invalid size '"+e.size+"' for sequential color scheme '"+e.scheme+"', must be between 3~9");var u=an(Rn[e.scheme][e.size||9]),h=function(c){return u(n(c))};return h.scale=u,h}}throw new Error("Invalid colors, when using an object, you should either pass a 'datum' or a 'scheme' property")}return function(){return e}},pa=function(e,t){return v.useMemo(function(){return ga(e,t)},[e,t])},ya=Object.defineProperty,va=(e,t)=>{for(var n in t)ya(e,n,{get:t[n],enumerable:!0})},Te={};va(Te,{assign:()=>xa,colors:()=>Qe,createStringInterpolator:()=>oi,skipAnimation:()=>yr,to:()=>pr,willAdvance:()=>si});function Hn(){}var ba=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),T={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function qe(e,t){if(T.arr(e)){if(!T.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var N=(e,t)=>e.forEach(t);function Re(e,t,n){if(T.arr(e)){for(let i=0;i<e.length;i++)t.call(n,e[i],`${i}`);return}for(const i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i)}var le=e=>T.und(e)?[]:T.arr(e)?e:[e];function Ft(e,t){if(e.size){const n=Array.from(e);e.clear(),N(n,t)}}var Ot=(e,...t)=>Ft(e,n=>n(...t)),ri=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),oi,pr,Qe=null,yr=!1,si=Hn,xa=e=>{e.to&&(pr=e.to),e.now&&(te.now=e.now),e.colors!==void 0&&(Qe=e.colors),e.skipAnimation!=null&&(yr=e.skipAnimation),e.createStringInterpolator&&(oi=e.createStringInterpolator),e.requestAnimationFrame&&te.use(e.requestAnimationFrame),e.batchedUpdates&&(te.batchedUpdates=e.batchedUpdates),e.willAdvance&&(si=e.willAdvance),e.frameLoop&&(te.frameLoop=e.frameLoop)},jt=new Set,we=[],On=[],pn=0,_n={get idle(){return!jt.size&&!we.length},start(e){pn>e.priority?(jt.add(e),te.onStart(_a)):(vr(e),te(Yn))},advance:Yn,sort(e){if(pn)te.onFrame(()=>_n.sort(e));else{const t=we.indexOf(e);~t&&(we.splice(t,1),br(e))}},clear(){we=[],jt.clear()}};function _a(){jt.forEach(vr),jt.clear(),te(Yn)}function vr(e){we.includes(e)||br(e)}function br(e){we.splice(wa(we,t=>t.priority>e.priority),0,e)}function Yn(e){const t=On;for(let n=0;n<we.length;n++){const i=we[n];pn=i.priority,i.idle||(si(i),i.advance(e),i.idle||t.push(i))}return pn=0,On=we,On.length=0,we=t,we.length>0}function wa(e,t){const n=e.findIndex(t);return n<0?e.length:n}var ka={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Ce="[-+]?\\d*\\.?\\d+",yn=Ce+"%";function wn(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var Sa=new RegExp("rgb"+wn(Ce,Ce,Ce)),Ca=new RegExp("rgba"+wn(Ce,Ce,Ce,Ce)),Ta=new RegExp("hsl"+wn(Ce,yn,yn)),Aa=new RegExp("hsla"+wn(Ce,yn,yn,Ce)),Ma=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Pa=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Ea=/^#([0-9a-fA-F]{6})$/,$a=/^#([0-9a-fA-F]{8})$/;function Ia(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=Ea.exec(e))?parseInt(t[1]+"ff",16)>>>0:Qe&&Qe[e]!==void 0?Qe[e]:(t=Sa.exec(e))?(pt(t[1])<<24|pt(t[2])<<16|pt(t[3])<<8|255)>>>0:(t=Ca.exec(e))?(pt(t[1])<<24|pt(t[2])<<16|pt(t[3])<<8|$i(t[4]))>>>0:(t=Ma.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=$a.exec(e))?parseInt(t[1],16)>>>0:(t=Pa.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=Ta.exec(e))?(Pi(Ei(t[1]),ln(t[2]),ln(t[3]))|255)>>>0:(t=Aa.exec(e))?(Pi(Ei(t[1]),ln(t[2]),ln(t[3]))|$i(t[4]))>>>0:null}function Fn(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Pi(e,t,n){const i=n<.5?n*(1+t):n+t-n*t,r=2*n-i,o=Fn(r,i,e+1/3),s=Fn(r,i,e),a=Fn(r,i,e-1/3);return Math.round(o*255)<<24|Math.round(s*255)<<16|Math.round(a*255)<<8}function pt(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function Ei(e){return(parseFloat(e)%360+360)%360/360}function $i(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function ln(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function Ii(e){let t=Ia(e);if(t===null)return e;t=t||0;const n=(t&4278190080)>>>24,i=(t&16711680)>>>16,r=(t&65280)>>>8,o=(t&255)/255;return`rgba(${n}, ${i}, ${r}, ${o})`}var Bt=(e,t,n)=>{if(T.fun(e))return e;if(T.arr(e))return Bt({range:e,output:t,extrapolate:n});if(T.str(e.output[0]))return oi(e);const i=e,r=i.output,o=i.range||[0,1],s=i.extrapolateLeft||i.extrapolate||"extend",a=i.extrapolateRight||i.extrapolate||"extend",l=i.easing||(u=>u);return u=>{const h=Oa(u,o);return Ra(u,o[h],o[h+1],r[h],r[h+1],l,s,a,i.map)}};function Ra(e,t,n,i,r,o,s,a,l){let u=l?l(e):e;if(u<t){if(s==="identity")return u;s==="clamp"&&(u=t)}if(u>n){if(a==="identity")return u;a==="clamp"&&(u=n)}return i===r?i:t===n?e<=t?i:r:(t===-1/0?u=-u:n===1/0?u=u-t:u=(u-t)/(n-t),u=o(u),i===-1/0?u=-u:r===1/0?u=u+i:u=u*(r-i)+i,u)}function Oa(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}var Fa={linear:e=>e},zt=Symbol.for("FluidValue.get"),_t=Symbol.for("FluidValue.observers"),_e=e=>!!(e&&e[zt]),de=e=>e&&e[zt]?e[zt]():e,Ri=e=>e[_t]||null;function ja(e,t){e.eventObserved?e.eventObserved(t):e(t)}function Lt(e,t){const n=e[_t];n&&n.forEach(i=>{ja(i,t)})}var xr=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");Wa(this,e)}},Wa=(e,t)=>_r(e,zt,t);function wt(e,t){if(e[zt]){let n=e[_t];n||_r(e,_t,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function qt(e,t){const n=e[_t];if(n&&n.has(t)){const i=n.size-1;i?n.delete(t):e[_t]=null,e.observerRemoved&&e.observerRemoved(i,t)}}var _r=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),dn=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Va=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Oi=new RegExp(`(${dn.source})(%|[a-z]+)`,"i"),Ba=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,kn=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,wr=e=>{const[t,n]=za(e);if(!t||ri())return e;const i=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(i)return i.trim();if(n&&n.startsWith("--")){const r=window.getComputedStyle(document.documentElement).getPropertyValue(n);return r||e}else{if(n&&kn.test(n))return wr(n);if(n)return n}return e},za=e=>{const t=kn.exec(e);if(!t)return[,];const[,n,i]=t;return[n,i]},jn,La=(e,t,n,i,r)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(i)}, ${r})`,kr=e=>{jn||(jn=Qe?new RegExp(`(${Object.keys(Qe).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(o=>de(o).replace(kn,wr).replace(Va,Ii).replace(jn,Ii)),n=t.map(o=>o.match(dn).map(Number)),r=n[0].map((o,s)=>n.map(a=>{if(!(s in a))throw Error('The arity of each "output" value must be equal');return a[s]})).map(o=>Bt({...e,output:o}));return o=>{var l;const s=!Oi.test(t[0])&&((l=t.find(u=>Oi.test(u)))==null?void 0:l.replace(dn,""));let a=0;return t[0].replace(dn,()=>`${r[a++](o)}${s||""}`).replace(Ba,La)}},ai="react-spring: ",Sr=e=>{const t=e;let n=!1;if(typeof t!="function")throw new TypeError(`${ai}once requires a function parameter`);return(...i)=>{n||(t(...i),n=!0)}},qa=Sr(console.warn);function Na(){qa(`${ai}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var Ha=Sr(console.warn);function Ya(){Ha(`${ai}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function Sn(e){return T.str(e)&&(e[0]=="#"||/\d/.test(e)||!ri()&&kn.test(e)||e in(Qe||{}))}var at=ri()?v.useEffect:v.useLayoutEffect,Da=()=>{const e=v.useRef(!1);return at(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function li(){const e=v.useState()[1],t=Da();return()=>{t.current&&e(Math.random())}}function Ga(e,t){const[n]=v.useState(()=>({inputs:t,result:e()})),i=v.useRef(),r=i.current;let o=r;return o?t&&o.inputs&&Ua(t,o.inputs)||(o={inputs:t,result:e()}):o=n,v.useEffect(()=>{i.current=o,r==n&&(n.inputs=n.result=void 0)},[o]),o.result}function Ua(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var ui=e=>v.useEffect(e,Xa),Xa=[];function Dn(e){const t=v.useRef();return v.useEffect(()=>{t.current=e}),t.current}var Nt=Symbol.for("Animated:node"),Qa=e=>!!e&&e[Nt]===e,$e=e=>e&&e[Nt],ci=(e,t)=>ba(e,Nt,t),Cn=e=>e&&e[Nt]&&e[Nt].getPayload(),Cr=class{constructor(){ci(this,this)}getPayload(){return this.payload||[]}},Qt=class extends Cr{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,T.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new Qt(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return T.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,T.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},Ht=class extends Qt{constructor(e){super(0),this._string=null,this._toString=Bt({output:[e,e]})}static create(e){return new Ht(e)}getValue(){const e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(T.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=Bt({output:[this.getValue(),e]})),this._value=0,super.reset()}},vn={dependencies:null},Tn=class extends Cr{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return Re(this.source,(n,i)=>{Qa(n)?t[i]=n.getValue(e):_e(n)?t[i]=de(n):e||(t[i]=n)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&N(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return Re(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){vn.dependencies&&_e(e)&&vn.dependencies.add(e);const t=Cn(e);t&&N(t,n=>this.add(n))}},Tr=class extends Tn{constructor(e){super(e)}static create(e){return new Tr(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((n,i)=>n.setValue(e[i])).some(Boolean):(super.setValue(e.map(Ka)),!0)}};function Ka(e){return(Sn(e)?Ht:Qt).create(e)}function Gn(e){const t=$e(e);return t?t.constructor:T.arr(e)?Tr:Sn(e)?Ht:Qt}var Fi=(e,t)=>{const n=!T.fun(e)||e.prototype&&e.prototype.isReactComponent;return v.forwardRef((i,r)=>{const o=v.useRef(null),s=n&&v.useCallback(g=>{o.current=el(r,g)},[r]),[a,l]=Za(i,t),u=li(),h=()=>{const g=o.current;if(n&&!g)return;(g?t.applyAnimatedValues(g,a.getValue(!0)):!1)===!1&&u()},c=new Ja(h,l),d=v.useRef();at(()=>(d.current=c,N(l,g=>wt(g,c)),()=>{d.current&&(N(d.current.deps,g=>qt(g,d.current)),te.cancel(d.current.update))})),v.useEffect(h,[]),ui(()=>()=>{const g=d.current;N(g.deps,m=>qt(m,g))});const f=t.getComponentProps(a.getValue());return v.createElement(e,{...f,ref:s})})},Ja=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&te.write(this.update)}};function Za(e,t){const n=new Set;return vn.dependencies=n,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new Tn(e),vn.dependencies=null,[e,n]}function el(e,t){return e&&(T.fun(e)?e(t):e.current=t),t}var ji=Symbol.for("AnimatedComponent"),tl=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:n=r=>new Tn(r),getComponentProps:i=r=>r}={})=>{const r={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:i},o=s=>{const a=Wi(s)||"Anonymous";return T.str(s)?s=o[s]||(o[s]=Fi(s,r)):s=s[ji]||(s[ji]=Fi(s,r)),s.displayName=`Animated(${a})`,s};return Re(e,(s,a)=>{T.arr(e)&&(a=Wi(s)),o[a]=o(s)}),{animated:o}},Wi=e=>T.str(e)?e:e&&T.str(e.displayName)?e.displayName:T.fun(e)&&e.name||null;function he(e,...t){return T.fun(e)?e(...t):e}var Wt=(e,t)=>e===!0||!!(t&&e&&(T.fun(e)?e(t):le(e).includes(t))),Ar=(e,t)=>T.obj(e)?t&&e[t]:e,Mr=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,nl=e=>e,An=(e,t=nl)=>{let n=il;e.default&&e.default!==!0&&(e=e.default,n=Object.keys(e));const i={};for(const r of n){const o=t(e[r],r);T.und(o)||(i[r]=o)}return i},il=["config","onProps","onStart","onChange","onPause","onResume","onRest"],rl={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function ol(e){const t={};let n=0;if(Re(e,(i,r)=>{rl[r]||(t[r]=i,n++)}),n)return t}function di(e){const t=ol(e);if(t){const n={to:t};return Re(e,(i,r)=>r in t||(n[r]=i)),n}return{...e}}function Yt(e){return e=de(e),T.arr(e)?e.map(Yt):Sn(e)?Te.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function Pr(e){for(const t in e)return!0;return!1}function Un(e){return T.fun(e)||T.arr(e)&&T.obj(e[0])}function Xn(e,t){var n;(n=e.ref)==null||n.delete(e),t==null||t.delete(e)}function Er(e,t){var n;t&&e.ref!==t&&((n=e.ref)==null||n.delete(e),t.add(e),e.ref=t)}var sl={default:{tension:170,friction:26}},Qn={...sl.default,mass:1,damping:1,easing:Fa.linear,clamp:!1},al=class{constructor(){this.velocity=0,Object.assign(this,Qn)}};function ll(e,t,n){n&&(n={...n},Vi(n,t),t={...n,...t}),Vi(e,t),Object.assign(e,t);for(const s in Qn)e[s]==null&&(e[s]=Qn[s]);let{frequency:i,damping:r}=e;const{mass:o}=e;return T.und(i)||(i<.01&&(i=.01),r<0&&(r=0),e.tension=Math.pow(2*Math.PI/i,2)*o,e.friction=4*Math.PI*r*o/i),e}function Vi(e,t){if(!T.und(t.decay))e.duration=void 0;else{const n=!T.und(t.tension)||!T.und(t.friction);(n||!T.und(t.frequency)||!T.und(t.damping)||!T.und(t.mass))&&(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}}var Bi=[],ul=class{constructor(){this.changed=!1,this.values=Bi,this.toValues=null,this.fromValues=Bi,this.config=new al,this.immediate=!1}};function $r(e,{key:t,props:n,defaultProps:i,state:r,actions:o}){return new Promise((s,a)=>{let l,u,h=Wt(n.cancel??(i==null?void 0:i.cancel),t);if(h)f();else{T.und(n.pause)||(r.paused=Wt(n.pause,t));let g=i==null?void 0:i.pause;g!==!0&&(g=r.paused||Wt(g,t)),l=he(n.delay||0,t),g?(r.resumeQueue.add(d),o.pause()):(o.resume(),d())}function c(){r.resumeQueue.add(d),r.timeouts.delete(u),u.cancel(),l=u.time-te.now()}function d(){l>0&&!Te.skipAnimation?(r.delayed=!0,u=te.setTimeout(f,l),r.pauseQueue.add(c),r.timeouts.add(u)):f()}function f(){r.delayed&&(r.delayed=!1),r.pauseQueue.delete(c),r.timeouts.delete(u),e<=(r.cancelId||0)&&(h=!0);try{o.start({...n,callId:e,cancel:h},s)}catch(g){a(g)}}})}var hi=(e,t)=>t.length==1?t[0]:t.some(n=>n.cancelled)?xt(e.get()):t.every(n=>n.noop)?Ir(e.get()):Se(e.get(),t.every(n=>n.finished)),Ir=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),Se=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),xt=e=>({value:e,cancelled:!0,finished:!1});function Rr(e,t,n,i){const{callId:r,parentId:o,onRest:s}=t,{asyncTo:a,promise:l}=n;return!o&&e===a&&!t.reset?l:n.promise=(async()=>{n.asyncId=r,n.asyncTo=e;const u=An(t,(y,p)=>p==="onRest"?void 0:y);let h,c;const d=new Promise((y,p)=>(h=y,c=p)),f=y=>{const p=r<=(n.cancelId||0)&&xt(i)||r!==n.asyncId&&Se(i,!1);if(p)throw y.result=p,c(y),y},g=(y,p)=>{const b=new zi,_=new Li;return(async()=>{if(Te.skipAnimation)throw Dt(n),_.result=Se(i,!1),c(_),_;f(b);const C=T.obj(y)?{...y}:{...p,to:y};C.parentId=r,Re(u,(R,F)=>{T.und(C[F])&&(C[F]=R)});const A=await i.start(C);return f(b),n.paused&&await new Promise(R=>{n.resumeQueue.add(R)}),A})()};let m;if(Te.skipAnimation)return Dt(n),Se(i,!1);try{let y;T.arr(e)?y=(async p=>{for(const b of p)await g(b)})(e):y=Promise.resolve(e(g,i.stop.bind(i))),await Promise.all([y.then(h),d]),m=Se(i.get(),!0,!1)}catch(y){if(y instanceof zi)m=y.result;else if(y instanceof Li)m=y.result;else throw y}finally{r==n.asyncId&&(n.asyncId=o,n.asyncTo=o?a:void 0,n.promise=o?l:void 0)}return T.fun(s)&&te.batchedUpdates(()=>{s(m,i,i.item)}),m})()}function Dt(e,t){Ft(e.timeouts,n=>n.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var zi=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},Li=class extends Error{constructor(){super("SkipAnimationSignal")}},Kn=e=>e instanceof fi,cl=1,fi=class extends xr{constructor(){super(...arguments),this.id=cl++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=$e(this);return e&&e.getValue()}to(...e){return Te.to(this,e)}interpolate(...e){return Na(),Te.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){Lt(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||_n.sort(this),Lt(this,{type:"priority",parent:this,priority:e})}},ct=Symbol.for("SpringPhase"),Or=1,Fr=2,jr=4,Wn=e=>(e[ct]&Or)>0,Xe=e=>(e[ct]&Fr)>0,Et=e=>(e[ct]&jr)>0,qi=(e,t)=>t?e[ct]|=Fr|Or:e[ct]&=-3,Ni=(e,t)=>t?e[ct]|=jr:e[ct]&=-5,dl=class extends fi{constructor(e,t){if(super(),this.animation=new ul,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!T.und(e)||!T.und(t)){const n=T.obj(e)?{...e}:{...t,from:e};T.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(Xe(this)||this._state.asyncTo)||Et(this)}get goal(){return de(this.animation.to)}get velocity(){const e=$e(this);return e instanceof Qt?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return Wn(this)}get isAnimating(){return Xe(this)}get isPaused(){return Et(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1;const i=this.animation;let{toValues:r}=i;const{config:o}=i,s=Cn(i.to);!s&&_e(i.to)&&(r=le(de(i.to))),i.values.forEach((u,h)=>{if(u.done)return;const c=u.constructor==Ht?1:s?s[h].lastPosition:r[h];let d=i.immediate,f=c;if(!d){if(f=u.lastPosition,o.tension<=0){u.done=!0;return}let g=u.elapsedTime+=e;const m=i.fromValues[h],y=u.v0!=null?u.v0:u.v0=T.arr(o.velocity)?o.velocity[h]:o.velocity;let p;const b=o.precision||(m==c?.005:Math.min(1,Math.abs(c-m)*.001));if(T.und(o.duration))if(o.decay){const _=o.decay===!0?.998:o.decay,C=Math.exp(-(1-_)*g);f=m+y/(1-_)*(1-C),d=Math.abs(u.lastPosition-f)<=b,p=y*C}else{p=u.lastVelocity==null?y:u.lastVelocity;const _=o.restVelocity||b/10,C=o.clamp?0:o.bounce,A=!T.und(C),R=m==c?u.v0>0:m<c;let F,E=!1;const x=1,w=Math.ceil(e/x);for(let S=0;S<w&&(F=Math.abs(p)>_,!(!F&&(d=Math.abs(c-f)<=b,d)));++S){A&&(E=f==c||f>c==R,E&&(p=-p*C,f=c));const $=-o.tension*1e-6*(f-c),P=-o.friction*.001*p,k=($+P)/o.mass;p=p+k*x,f=f+p*x}}else{let _=1;o.duration>0&&(this._memoizedDuration!==o.duration&&(this._memoizedDuration=o.duration,u.durationProgress>0&&(u.elapsedTime=o.duration*u.durationProgress,g=u.elapsedTime+=e)),_=(o.progress||0)+g/this._memoizedDuration,_=_>1?1:_<0?0:_,u.durationProgress=_),f=m+o.easing(_)*(c-m),p=(f-u.lastPosition)/e,d=_==1}u.lastVelocity=p,Number.isNaN(f)&&(console.warn("Got NaN while animating:",this),d=!0)}s&&!s[h].done&&(d=!1),d?u.done=!0:t=!1,u.setValue(f,o.round)&&(n=!0)});const a=$e(this),l=a.getValue();if(t){const u=de(i.to);(l!==u||n)&&!o.decay?(a.setValue(u),this._onChange(u)):n&&o.decay&&this._onChange(l),this._stop()}else n&&this._onChange(l)}set(e){return te.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Xe(this)){const{to:e,config:t}=this.animation;te.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return T.und(e)?(n=this.queue||[],this.queue=[]):n=[T.obj(e)?e:{...t,to:e}],Promise.all(n.map(i=>this._update(i))).then(i=>hi(this,i))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),Dt(this._state,e&&this._lastCallId),te.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:n,from:i}=e;n=T.obj(n)?n[t]:n,(n==null||Un(n))&&(n=void 0),i=T.obj(i)?i[t]:i,i==null&&(i=void 0);const r={to:n,from:i};return Wn(this)||(e.reverse&&([n,i]=[i,n]),i=de(i),T.und(i)?$e(this)||this._set(n):this._set(i)),r}_update({...e},t){const{key:n,defaultProps:i}=this;e.default&&Object.assign(i,An(e,(s,a)=>/^on/.test(a)?Ar(s,n):s)),Yi(this,e,"onProps"),It(this,"onProps",e,this);const r=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const o=this._state;return $r(++this._lastCallId,{key:n,props:e,defaultProps:i,state:o,actions:{pause:()=>{Et(this)||(Ni(this,!0),Ot(o.pauseQueue),It(this,"onPause",Se(this,$t(this,this.animation.to)),this))},resume:()=>{Et(this)&&(Ni(this,!1),Xe(this)&&this._resume(),Ot(o.resumeQueue),It(this,"onResume",Se(this,$t(this,this.animation.to)),this))},start:this._merge.bind(this,r)}}).then(s=>{if(e.loop&&s.finished&&!(t&&s.noop)){const a=Wr(e);if(a)return this._update(a,!0)}return s})}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(xt(this));const i=!T.und(e.to),r=!T.und(e.from);if(i||r)if(t.callId>this._lastToId)this._lastToId=t.callId;else return n(xt(this));const{key:o,defaultProps:s,animation:a}=this,{to:l,from:u}=a;let{to:h=l,from:c=u}=e;r&&!i&&(!t.default||T.und(h))&&(h=c),t.reverse&&([h,c]=[c,h]);const d=!qe(c,u);d&&(a.from=c),c=de(c);const f=!qe(h,l);f&&this._focus(h);const g=Un(t.to),{config:m}=a,{decay:y,velocity:p}=m;(i||r)&&(m.velocity=0),t.config&&!g&&ll(m,he(t.config,o),t.config!==s.config?he(s.config,o):void 0);let b=$e(this);if(!b||T.und(h))return n(Se(this,!0));const _=T.und(t.reset)?r&&!t.default:!T.und(c)&&Wt(t.reset,o),C=_?c:this.get(),A=Yt(h),R=T.num(A)||T.arr(A)||Sn(A),F=!g&&(!R||Wt(s.immediate||t.immediate,o));if(f){const S=Gn(h);if(S!==b.constructor)if(F)b=this._set(A);else throw Error(`Cannot animate between ${b.constructor.name} and ${S.name}, as the "to" prop suggests`)}const E=b.constructor;let x=_e(h),w=!1;if(!x){const S=_||!Wn(this)&&d;(f||S)&&(w=qe(Yt(C),A),x=!w),(!qe(a.immediate,F)&&!F||!qe(m.decay,y)||!qe(m.velocity,p))&&(x=!0)}if(w&&Xe(this)&&(a.changed&&!_?x=!0:x||this._stop(l)),!g&&((x||_e(l))&&(a.values=b.getPayload(),a.toValues=_e(h)?null:E==Ht?[1]:le(A)),a.immediate!=F&&(a.immediate=F,!F&&!_&&this._set(l)),x)){const{onRest:S}=a;N(fl,P=>Yi(this,t,P));const $=Se(this,$t(this,l));Ot(this._pendingCalls,$),this._pendingCalls.add(n),a.changed&&te.batchedUpdates(()=>{var P;a.changed=!_,S==null||S($,this),_?he(s.onRest,$):(P=a.onStart)==null||P.call(a,$,this)})}_&&this._set(C),g?n(Rr(t.to,t,this._state,this)):x?this._start():Xe(this)&&!f?this._pendingCalls.add(n):n(Ir(C))}_focus(e){const t=this.animation;e!==t.to&&(Ri(this)&&this._detach(),t.to=e,Ri(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;_e(t)&&(wt(t,this),Kn(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;_e(e)&&qt(e,this)}_set(e,t=!0){const n=de(e);if(!T.und(n)){const i=$e(this);if(!i||!qe(n,i.getValue())){const r=Gn(n);!i||i.constructor!=r?ci(this,r.create(n)):i.setValue(n),i&&te.batchedUpdates(()=>{this._onChange(n,t)})}}return $e(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,It(this,"onStart",Se(this,$t(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),he(this.animation.onChange,e,this)),he(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;$e(this).reset(de(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),Xe(this)||(qi(this,!0),Et(this)||this._resume())}_resume(){Te.skipAnimation?this.finish():_n.start(this)}_stop(e,t){if(Xe(this)){qi(this,!1);const n=this.animation;N(n.values,r=>{r.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),Lt(this,{type:"idle",parent:this});const i=t?xt(this.get()):Se(this.get(),$t(this,e??n.to));Ot(this._pendingCalls,i),n.changed&&(n.changed=!1,It(this,"onRest",i,this))}}};function $t(e,t){const n=Yt(t),i=Yt(e.get());return qe(i,n)}function Wr(e,t=e.loop,n=e.to){const i=he(t);if(i){const r=i!==!0&&di(i),o=(r||e).reverse,s=!r||r.reset;return Gt({...e,loop:t,default:!1,pause:void 0,to:!o||Un(n)?n:void 0,from:s?e.from:void 0,reset:s,...r})}}function Gt(e){const{to:t,from:n}=e=di(e),i=new Set;return T.obj(t)&&Hi(t,i),T.obj(n)&&Hi(n,i),e.keys=i.size?Array.from(i):null,e}function hl(e){const t=Gt(e);return T.und(t.default)&&(t.default=An(t)),t}function Hi(e,t){Re(e,(n,i)=>n!=null&&t.add(i))}var fl=["onStart","onRest","onChange","onPause","onResume"];function Yi(e,t,n){e.animation[n]=t[n]!==Mr(t,n)?Ar(t[n],e.key):void 0}function It(e,t,...n){var i,r,o,s;(r=(i=e.animation)[t])==null||r.call(i,...n),(s=(o=e.defaultProps)[t])==null||s.call(o,...n)}var ml=["onStart","onChange","onRest"],gl=1,Vr=class{constructor(e,t){this.id=gl++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((t,n)=>e[n]=t.get()),e}set(e){for(const t in e){const n=e[t];T.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(Gt(e)),this}start(e){let{queue:t}=this;return e?t=le(e).map(Gt):this.queue=[],this._flush?this._flush(this,t):(Nr(this,t),Jn(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const n=this.springs;N(le(t),i=>n[i].stop(!!e))}else Dt(this._state,this._lastAsyncId),this.each(n=>n.stop(!!e));return this}pause(e){if(T.und(e))this.start({pause:!0});else{const t=this.springs;N(le(e),n=>t[n].pause())}return this}resume(e){if(T.und(e))this.start({pause:!1});else{const t=this.springs;N(le(e),n=>t[n].resume())}return this}each(e){Re(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:n}=this._events,i=this._active.size>0,r=this._changed.size>0;(i&&!this._started||r&&!this._started)&&(this._started=!0,Ft(e,([a,l])=>{l.value=this.get(),a(l,this,this._item)}));const o=!i&&this._started,s=r||o&&n.size?this.get():null;r&&t.size&&Ft(t,([a,l])=>{l.value=s,a(l,this,this._item)}),o&&(this._started=!1,Ft(n,([a,l])=>{l.value=s,a(l,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;te.onFrame(this._onFrame)}};function Jn(e,t){return Promise.all(t.map(n=>Br(e,n))).then(n=>hi(e,n))}async function Br(e,t,n){const{keys:i,to:r,from:o,loop:s,onRest:a,onResolve:l}=t,u=T.obj(t.default)&&t.default;s&&(t.loop=!1),r===!1&&(t.to=null),o===!1&&(t.from=null);const h=T.arr(r)||T.fun(r)?r:void 0;h?(t.to=void 0,t.onRest=void 0,u&&(u.onRest=void 0)):N(ml,m=>{const y=t[m];if(T.fun(y)){const p=e._events[m];t[m]=({finished:b,cancelled:_})=>{const C=p.get(y);C?(b||(C.finished=!1),_&&(C.cancelled=!0)):p.set(y,{value:null,finished:b||!1,cancelled:_||!1})},u&&(u[m]=t[m])}});const c=e._state;t.pause===!c.paused?(c.paused=t.pause,Ot(t.pause?c.pauseQueue:c.resumeQueue)):c.paused&&(t.pause=!0);const d=(i||Object.keys(e.springs)).map(m=>e.springs[m].start(t)),f=t.cancel===!0||Mr(t,"cancel")===!0;(h||f&&c.asyncId)&&d.push($r(++e._lastAsyncId,{props:t,state:c,actions:{pause:Hn,resume:Hn,start(m,y){f?(Dt(c,e._lastAsyncId),y(xt(e))):(m.onRest=a,y(Rr(h,m,c,e)))}}})),c.paused&&await new Promise(m=>{c.resumeQueue.add(m)});const g=hi(e,await Promise.all(d));if(s&&g.finished&&!(n&&g.noop)){const m=Wr(t,s,r);if(m)return Nr(e,[m]),Br(e,m,!0)}return l&&te.batchedUpdates(()=>l(g,e,e.item)),g}function Zn(e,t){const n={...e.springs};return t&&N(le(t),i=>{T.und(i.keys)&&(i=Gt(i)),T.obj(i.to)||(i={...i,to:void 0}),qr(n,i,r=>Lr(r))}),zr(e,n),n}function zr(e,t){Re(t,(n,i)=>{e.springs[i]||(e.springs[i]=n,wt(n,e))})}function Lr(e,t){const n=new dl;return n.key=e,t&&wt(n,t),n}function qr(e,t,n){t.keys&&N(t.keys,i=>{(e[i]||(e[i]=n(i)))._prepareNode(t)})}function Nr(e,t){N(t,n=>{qr(e.springs,n,i=>Lr(i,e))})}var Kt=({children:e,...t})=>{const n=v.useContext(bn),i=t.pause||!!n.pause,r=t.immediate||!!n.immediate;t=Ga(()=>({pause:i,immediate:r}),[i,r]);const{Provider:o}=bn;return v.createElement(o,{value:t},e)},bn=pl(Kt,{});Kt.Provider=bn.Provider;Kt.Consumer=bn.Consumer;function pl(e,t){return Object.assign(e,v.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}var Hr=()=>{const e=[],t=function(i){Ya();const r=[];return N(e,(o,s)=>{if(T.und(i))r.push(o.start());else{const a=n(i,o,s);a&&r.push(o.start(a))}}),r};t.current=e,t.add=function(i){e.includes(i)||e.push(i)},t.delete=function(i){const r=e.indexOf(i);~r&&e.splice(r,1)},t.pause=function(){return N(e,i=>i.pause(...arguments)),this},t.resume=function(){return N(e,i=>i.resume(...arguments)),this},t.set=function(i){N(e,(r,o)=>{const s=T.fun(i)?i(o,r):i;s&&r.set(s)})},t.start=function(i){const r=[];return N(e,(o,s)=>{if(T.und(i))r.push(o.start());else{const a=this._getProps(i,o,s);a&&r.push(o.start(a))}}),r},t.stop=function(){return N(e,i=>i.stop(...arguments)),this},t.update=function(i){return N(e,(r,o)=>r.update(this._getProps(i,r,o))),this};const n=function(i,r,o){return T.fun(i)?i(o,r):i};return t._getProps=n,t};function yl(e,t,n){const i=T.fun(t)&&t;i&&!n&&(n=[]);const r=v.useMemo(()=>i||arguments.length==3?Hr():void 0,[]),o=v.useRef(0),s=li(),a=v.useMemo(()=>({ctrls:[],queue:[],flush(p,b){const _=Zn(p,b);return o.current>0&&!a.queue.length&&!Object.keys(_).some(A=>!p.springs[A])?Jn(p,b):new Promise(A=>{zr(p,_),a.queue.push(()=>{A(Jn(p,b))}),s()})}}),[]),l=v.useRef([...a.ctrls]),u=[],h=Dn(e)||0;v.useMemo(()=>{N(l.current.slice(e,h),p=>{Xn(p,r),p.stop(!0)}),l.current.length=e,c(h,e)},[e]),v.useMemo(()=>{c(0,Math.min(h,e))},n);function c(p,b){for(let _=p;_<b;_++){const C=l.current[_]||(l.current[_]=new Vr(null,a.flush)),A=i?i(_,C):t[_];A&&(u[_]=hl(A))}}const d=l.current.map((p,b)=>Zn(p,u[b])),f=v.useContext(Kt),g=Dn(f),m=f!==g&&Pr(f);at(()=>{o.current++,a.ctrls=l.current;const{queue:p}=a;p.length&&(a.queue=[],N(p,b=>b())),N(l.current,(b,_)=>{r==null||r.add(b),m&&b.start({default:f});const C=u[_];C&&(Er(b,C.ref),b.ref?b.queue.push(C):b.start(C))})}),ui(()=>()=>{N(a.ctrls,p=>p.stop(!0))});const y=d.map(p=>({...p}));return r?[y,r]:y}function Mn(e,t){const n=T.fun(e),[[i],r]=yl(1,n?e:[e],n?[]:t);return n||arguments.length==2?[i,r]:i}function Yr(e,t,n){const i=T.fun(t)&&t,{reset:r,sort:o,trail:s=0,expires:a=!0,exitBeforeEnter:l=!1,onDestroyed:u,ref:h,config:c}=i?i():t,d=v.useMemo(()=>i||arguments.length==3?Hr():void 0,[]),f=le(e),g=[],m=v.useRef(null),y=r?null:m.current;at(()=>{m.current=g}),ui(()=>(N(g,k=>{d==null||d.add(k.ctrl),k.ctrl.ref=d}),()=>{N(m.current,k=>{k.expired&&clearTimeout(k.expirationId),Xn(k.ctrl,d),k.ctrl.stop(!0)})}));const p=bl(f,i?i():t,y),b=r&&m.current||[];at(()=>N(b,({ctrl:k,item:M,key:I})=>{Xn(k,d),he(u,M,I)}));const _=[];if(y&&N(y,(k,M)=>{k.expired?(clearTimeout(k.expirationId),b.push(k)):(M=_[M]=p.indexOf(k.key),~M&&(g[M]=k))}),N(f,(k,M)=>{g[M]||(g[M]={key:p[M],item:k,phase:"mount",ctrl:new Vr},g[M].ctrl.item=k)}),_.length){let k=-1;const{leave:M}=i?i():t;N(_,(I,B)=>{const z=y[B];~I?(k=g.indexOf(z),g[k]={...z,item:f[I]}):M&&g.splice(++k,0,z)})}T.fun(o)&&g.sort((k,M)=>o(k.item,M.item));let C=-s;const A=li(),R=An(t),F=new Map,E=v.useRef(new Map),x=v.useRef(!1);N(g,(k,M)=>{const I=k.key,B=k.phase,z=i?i():t;let j,q;const D=he(z.delay||0,I);if(B=="mount")j=z.enter,q="enter";else{const X=p.indexOf(I)<0;if(B!="leave")if(X)j=z.leave,q="leave";else if(j=z.update)q="update";else return;else if(!X)j=z.enter,q="enter";else return}if(j=he(j,k.item,M),j=T.obj(j)?di(j):{to:j},!j.config){const X=c||R.config;j.config=he(X,k.item,M,q)}C+=s;const U={...R,delay:D+C,ref:h,immediate:z.immediate,reset:!1,...j};if(q=="enter"&&T.und(U.from)){const X=i?i():t,Y=T.und(X.initial)||y?X.from:X.initial;U.from=he(Y,k.item,M)}const{onResolve:ee}=U;U.onResolve=X=>{he(ee,X);const Y=m.current,Q=Y.find(W=>W.key===I);if(Q&&!(X.cancelled&&Q.phase!="update")&&Q.ctrl.idle){const W=Y.every(V=>V.ctrl.idle);if(Q.phase=="leave"){const V=he(a,Q.item);if(V!==!1){const L=V===!0?0:V;if(Q.expired=!0,!W&&L>0){L<=2147483647&&(Q.expirationId=setTimeout(A,L));return}}}W&&Y.some(V=>V.expired)&&(E.current.delete(Q),l&&(x.current=!0),A())}};const K=Zn(k.ctrl,U);q==="leave"&&l?E.current.set(k,{phase:q,springs:K,payload:U}):F.set(k,{phase:q,springs:K,payload:U})});const w=v.useContext(Kt),S=Dn(w),$=w!==S&&Pr(w);at(()=>{$&&N(g,k=>{k.ctrl.start({default:w})})},[w]),N(F,(k,M)=>{if(E.current.size){const I=g.findIndex(B=>B.key===M.key);g.splice(I,1)}}),at(()=>{N(E.current.size?E.current:F,({phase:k,payload:M},I)=>{const{ctrl:B}=I;I.phase=k,d==null||d.add(B),$&&k=="enter"&&B.start({default:w}),M&&(Er(B,M.ref),(B.ref||d)&&!x.current?B.update(M):(B.start(M),x.current&&(x.current=!1)))})},r?void 0:n);const P=k=>v.createElement(v.Fragment,null,g.map((M,I)=>{const{springs:B}=F.get(M)||M.ctrl,z=k({...B},M.item,M,I);return z&&z.type?v.createElement(z.type,{...z.props,key:T.str(M.key)||T.num(M.key)?M.key:M.ctrl.id,ref:z.ref}):z}));return d?[P,d]:P}var vl=1;function bl(e,{key:t,keys:n=t},i){if(n===null){const r=new Set;return e.map(o=>{const s=i&&i.find(a=>a.item===o&&a.phase!=="leave"&&!r.has(a));return s?(r.add(s),s.key):vl++})}return T.und(n)?e:T.fun(n)?e.map(n):le(n)}var xl=class extends fi{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=Bt(...t);const n=this._get(),i=Gn(n);ci(this,i.create(n))}advance(e){const t=this._get(),n=this.get();qe(t,n)||($e(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&Di(this._active)&&Vn(this)}_get(){const e=T.arr(this.source)?this.source.map(de):le(de(this.source));return this.calc(...e)}_start(){this.idle&&!Di(this._active)&&(this.idle=!1,N(Cn(this),e=>{e.done=!1}),Te.skipAnimation?(te.batchedUpdates(()=>this.advance()),Vn(this)):_n.start(this))}_attach(){let e=1;N(le(this.source),t=>{_e(t)&&wt(t,this),Kn(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){N(le(this.source),e=>{_e(e)&&qt(e,this)}),this._active.clear(),Vn(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=le(this.source).reduce((t,n)=>Math.max(t,(Kn(n)?n.priority:0)+1),0))}};function _l(e){return e.idle!==!1}function Di(e){return!e.size||Array.from(e).every(_l)}function Vn(e){e.idle||(e.idle=!0,N(Cn(e),t=>{t.done=!0}),Lt(e,{type:"idle",parent:e}))}Te.assign({createStringInterpolator:kr,to:(e,t)=>new xl(e,t)});var Dr=/^--/;function wl(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!Dr.test(e)&&!(Vt.hasOwnProperty(e)&&Vt[e])?t+"px":(""+t).trim()}var Gi={};function kl(e,t){if(!e.nodeType||!e.setAttribute)return!1;const n=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{className:i,style:r,children:o,scrollTop:s,scrollLeft:a,viewBox:l,...u}=t,h=Object.values(u),c=Object.keys(u).map(d=>n||e.hasAttribute(d)?d:Gi[d]||(Gi[d]=d.replace(/([A-Z])/g,f=>"-"+f.toLowerCase())));o!==void 0&&(e.textContent=o);for(const d in r)if(r.hasOwnProperty(d)){const f=wl(d,r[d]);Dr.test(d)?e.style.setProperty(d,f):e.style[d]=f}c.forEach((d,f)=>{e.setAttribute(d,h[f])}),i!==void 0&&(e.className=i),s!==void 0&&(e.scrollTop=s),a!==void 0&&(e.scrollLeft=a),l!==void 0&&e.setAttribute("viewBox",l)}var Vt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sl=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),Cl=["Webkit","Ms","Moz","O"];Vt=Object.keys(Vt).reduce((e,t)=>(Cl.forEach(n=>e[Sl(n,t)]=e[t]),e),Vt);var Tl=/^(matrix|translate|scale|rotate|skew)/,Al=/^(translate)/,Ml=/^(rotate|skew)/,Bn=(e,t)=>T.num(e)&&e!==0?e+t:e,hn=(e,t)=>T.arr(e)?e.every(n=>hn(n,t)):T.num(e)?e===t:parseFloat(e)===t,Pl=class extends Tn{constructor({x:e,y:t,z:n,...i}){const r=[],o=[];(e||t||n)&&(r.push([e||0,t||0,n||0]),o.push(s=>[`translate3d(${s.map(a=>Bn(a,"px")).join(",")})`,hn(s,0)])),Re(i,(s,a)=>{if(a==="transform")r.push([s||""]),o.push(l=>[l,l===""]);else if(Tl.test(a)){if(delete i[a],T.und(s))return;const l=Al.test(a)?"px":Ml.test(a)?"deg":"";r.push(le(s)),o.push(a==="rotate3d"?([u,h,c,d])=>[`rotate3d(${u},${h},${c},${Bn(d,l)})`,hn(d,0)]:u=>[`${a}(${u.map(h=>Bn(h,l)).join(",")})`,hn(u,a.startsWith("scale")?1:0)])}}),r.length&&(i.transform=new El(r,o)),super(i)}},El=class extends xr{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return N(this.inputs,(n,i)=>{const r=de(n[0]),[o,s]=this.transforms[i](T.arr(r)?r:n.map(de));e+=" "+o,t=t&&s}),t?"none":e}observerAdded(e){e==1&&N(this.inputs,t=>N(t,n=>_e(n)&&wt(n,this)))}observerRemoved(e){e==0&&N(this.inputs,t=>N(t,n=>_e(n)&&qt(n,this)))}eventObserved(e){e.type=="change"&&(this._value=null),Lt(this,e)}},$l=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];Te.assign({batchedUpdates:go.unstable_batchedUpdates,createStringInterpolator:kr,colors:ka});var Il=tl($l,{applyAnimatedValues:kl,createAnimatedStyle:e=>new Pl(e),getComponentProps:({scrollTop:e,scrollLeft:t,...n})=>n}),Ie=Il.animated;function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ke.apply(this,arguments)}var Gr=function(e){var t,n=e.axis,i=e.scale,r=e.ticksPosition,o=e.tickValues,s=e.tickSize,a=e.tickPadding,l=e.tickRotation,u=e.truncateTickAt,h=e.engine,c=h===void 0?"svg":h,d=dr(i,o),f=Vs[c],g="bandwidth"in i?hr(i):i,m={lineX:0,lineY:0},y={textX:0,textY:0},p=typeof document=="object"&&document.dir==="rtl",b=f.align.center,_=f.baseline.center;return n==="x"?(t=function(C){var A;return{x:(A=g(C))!=null?A:0,y:0}},m.lineY=s*(r==="after"?1:-1),y.textY=(s+a)*(r==="after"?1:-1),_=r==="after"?f.baseline.top:f.baseline.bottom,l===0?b=f.align.center:r==="after"&&l<0||r==="before"&&l>0?(b=f.align[p?"left":"right"],_=f.baseline.center):(r==="after"&&l>0||r==="before"&&l<0)&&(b=f.align[p?"right":"left"],_=f.baseline.center)):(t=function(C){var A;return{x:0,y:(A=g(C))!=null?A:0}},m.lineX=s*(r==="after"?1:-1),y.textX=(s+a)*(r==="after"?1:-1),b=r==="after"?f.align.left:f.align.right),{ticks:d.map(function(C){var A=typeof C=="string"?function(R){var F=String(R).length;return u&&u>0&&F>u?""+String(R).slice(0,u).concat("..."):""+R}(C):C;return ke({key:C instanceof Date?""+C.valueOf():""+C,value:A},t(C),m,y)}),textAlign:b,textBaseline:_}},Ur=function(e,t){if(e===void 0||typeof e=="function")return e;if(t.type==="time"){var n=Qs(e);return function(i){return n(i instanceof Date?i:new Date(i))}}return Ks(e)},ei=function(e){var t,n=e.width,i=e.height,r=e.scale,o=e.axis,s=e.values,a=(t=s,(Array.isArray(t)?s:void 0)||dr(r,s)),l="bandwidth"in r?hr(r):r,u=o==="x"?a.map(function(h){var c,d;return{key:h instanceof Date?""+h.valueOf():""+h,x1:(c=l(h))!=null?c:0,x2:(d=l(h))!=null?d:0,y1:0,y2:i}}):a.map(function(h){var c,d;return{key:h instanceof Date?""+h.valueOf():""+h,x1:0,x2:n,y1:(c=l(h))!=null?c:0,y2:(d=l(h))!=null?d:0}});return u},Rl=v.memo(function(e){var t,n=e.value,i=e.format,r=e.lineX,o=e.lineY,s=e.onClick,a=e.textBaseline,l=e.textAnchor,u=e.animatedProps,h=pe(),c=h.axis.ticks.line,d=h.axis.ticks.text,f=(t=i==null?void 0:i(n))!=null?t:n,g=v.useMemo(function(){var m={opacity:u.opacity};return s?{style:ke({},m,{cursor:"pointer"}),onClick:function(y){return s(y,f)}}:{style:m}},[u.opacity,s,f]);return ge(Ie.g,ke({transform:u.transform},g,{children:[O("line",{x1:0,x2:r,y1:0,y2:o,style:c}),d.outlineWidth>0&&O(Ie.text,{dominantBaseline:a,textAnchor:l,transform:u.textTransform,style:d,strokeWidth:2*d.outlineWidth,stroke:d.outlineColor,strokeLinejoin:"round",children:""+f}),O(Ie.text,{dominantBaseline:a,textAnchor:l,transform:u.textTransform,style:ir(d),children:""+f})]}))}),Ol=function(e){var t=e.axis,n=e.scale,i=e.x,r=i===void 0?0:i,o=e.y,s=o===void 0?0:o,a=e.length,l=e.ticksPosition,u=e.tickValues,h=e.tickSize,c=h===void 0?5:h,d=e.tickPadding,f=d===void 0?5:d,g=e.tickRotation,m=g===void 0?0:g,y=e.format,p=e.renderTick,b=p===void 0?Rl:p,_=e.truncateTickAt,C=e.legend,A=e.legendPosition,R=A===void 0?"end":A,F=e.legendOffset,E=F===void 0?0:F,x=e.onClick,w=e.ariaHidden,S=pe(),$=S.axis.legend.text,P=v.useMemo(function(){return Ur(y,n)},[y,n]),k=Gr({axis:t,scale:n,ticksPosition:l,tickValues:u,tickSize:c,tickPadding:f,tickRotation:m,truncateTickAt:_}),M=k.ticks,I=k.textAlign,B=k.textBaseline,z=null;if(C!==void 0){var j,q=0,D=0,U=0;t==="y"?(U=-90,q=E,R==="start"?(j="start",D=a):R==="middle"?(j="middle",D=a/2):R==="end"&&(j="end")):(D=E,R==="start"?j="start":R==="middle"?(j="middle",q=a/2):R==="end"&&(j="end",q=a)),z=ge(Xt,{children:[$.outlineWidth>0&&O("text",{transform:"translate("+q+", "+D+") rotate("+U+")",textAnchor:j,style:ke({dominantBaseline:"central"},$),strokeWidth:2*$.outlineWidth,stroke:$.outlineColor,strokeLinejoin:"round",children:C}),O("text",{transform:"translate("+q+", "+D+") rotate("+U+")",textAnchor:j,style:ke({dominantBaseline:"central"},$),children:C})]})}var ee=Ut(),K=ee.animate,X=ee.config,Y=Mn({transform:"translate("+r+","+s+")",lineX2:t==="x"?a:0,lineY2:t==="x"?0:a,config:X,immediate:!K}),Q=v.useCallback(function(L){return{opacity:1,transform:"translate("+L.x+","+L.y+")",textTransform:"translate("+L.textX+","+L.textY+") rotate("+m+")"}},[m]),W=v.useCallback(function(L){return{opacity:0,transform:"translate("+L.x+","+L.y+")",textTransform:"translate("+L.textX+","+L.textY+") rotate("+m+")"}},[m]),V=Yr(M,{keys:function(L){return L.key},initial:Q,from:W,enter:Q,update:Q,leave:{opacity:0},config:X,immediate:!K});return ge(Ie.g,{transform:Y.transform,"aria-hidden":w,children:[V(function(L,G,J,ne){return v.createElement(b,ke({tickIndex:ne,format:P,rotate:m,textBaseline:B,textAnchor:I,truncateTickAt:_,animatedProps:L},G,x?{onClick:x}:{}))}),O(Ie.line,{style:S.axis.domain.line,x1:0,x2:Y.lineX2,y1:0,y2:Y.lineY2}),z]})},Fl=v.memo(Ol),Xr=["top","right","bottom","left"],jl=v.memo(function(e){var t=e.xScale,n=e.yScale,i=e.width,r=e.height,o={top:e.top,right:e.right,bottom:e.bottom,left:e.left};return O(Xt,{children:Xr.map(function(s){var a=o[s];if(!a)return null;var l=s==="top"||s==="bottom";return O(Fl,ke({},a,{axis:l?"x":"y",x:s==="right"?i:0,y:s==="bottom"?r:0,scale:l?t:n,length:l?i:r,ticksPosition:s==="top"||s==="left"?"before":"after",truncateTickAt:a.truncateTickAt}),s)})})}),Wl=v.memo(function(e){var t=e.animatedProps,n=pe();return O(Ie.line,ke({},t,n.grid.line))}),Ui=v.memo(function(e){var t=e.lines,n=Ut(),i=n.animate,r=n.config,o=Yr(t,{keys:function(s){return s.key},initial:function(s){return{opacity:1,x1:s.x1,x2:s.x2,y1:s.y1,y2:s.y2}},from:function(s){return{opacity:0,x1:s.x1,x2:s.x2,y1:s.y1,y2:s.y2}},enter:function(s){return{opacity:1,x1:s.x1,x2:s.x2,y1:s.y1,y2:s.y2}},update:function(s){return{opacity:1,x1:s.x1,x2:s.x2,y1:s.y1,y2:s.y2}},leave:{opacity:0},config:r,immediate:!i});return O("g",{children:o(function(s,a){return v.createElement(Wl,ke({},a,{key:a.key,animatedProps:s}))})})}),Vl=v.memo(function(e){var t=e.width,n=e.height,i=e.xScale,r=e.yScale,o=e.xValues,s=e.yValues,a=v.useMemo(function(){return!!i&&ei({width:t,height:n,scale:i,axis:"x",values:o})},[i,o,t,n]),l=v.useMemo(function(){return!!r&&ei({width:t,height:n,scale:r,axis:"y",values:s})},[n,t,r,s]);return ge(Xt,{children:[a&&O(Ui,{lines:a}),l&&O(Ui,{lines:l})]})}),Bl=function(e,t){var n,i=t.axis,r=t.scale,o=t.x,s=o===void 0?0:o,a=t.y,l=a===void 0?0:a,u=t.length,h=t.ticksPosition,c=t.tickValues,d=t.tickSize,f=d===void 0?5:d,g=t.tickPadding,m=g===void 0?5:g,y=t.tickRotation,p=y===void 0?0:y,b=t.format,_=t.legend,C=t.legendPosition,A=C===void 0?"end":C,R=t.legendOffset,F=R===void 0?0:R,E=t.theme,x=Gr({axis:i,scale:r,ticksPosition:h,tickValues:c,tickSize:f,tickPadding:m,tickRotation:p,engine:"canvas"}),w=x.ticks,S=x.textAlign,$=x.textBaseline;e.save(),e.translate(s,l),e.textAlign=S,e.textBaseline=$;var P=E.axis.ticks.text;e.font=(P.fontWeight?P.fontWeight+" ":"")+P.fontSize+"px "+P.fontFamily,((n=E.axis.domain.line.strokeWidth)!=null?n:0)>0&&(e.lineWidth=Number(E.axis.domain.line.strokeWidth),e.lineCap="square",E.axis.domain.line.stroke&&(e.strokeStyle=E.axis.domain.line.stroke),e.beginPath(),e.moveTo(0,0),e.lineTo(i==="x"?u:0,i==="x"?0:u),e.stroke());var k=typeof b=="function"?b:function(j){return""+j};if(w.forEach(function(j){var q;((q=E.axis.ticks.line.strokeWidth)!=null?q:0)>0&&(e.lineWidth=Number(E.axis.ticks.line.strokeWidth),e.lineCap="square",E.axis.ticks.line.stroke&&(e.strokeStyle=E.axis.ticks.line.stroke),e.beginPath(),e.moveTo(j.x,j.y),e.lineTo(j.x+j.lineX,j.y+j.lineY),e.stroke());var D=k(j.value);e.save(),e.translate(j.x+j.textX,j.y+j.textY),e.rotate(Ti(p)),P.outlineWidth>0&&(e.strokeStyle=P.outlineColor,e.lineWidth=2*P.outlineWidth,e.lineJoin="round",e.strokeText(""+D,0,0)),E.axis.ticks.text.fill&&(e.fillStyle=P.fill),e.fillText(""+D,0,0),e.restore()}),_!==void 0){var M=0,I=0,B=0,z="center";i==="y"?(B=-90,M=F,A==="start"?(z="start",I=u):A==="middle"?(z="center",I=u/2):A==="end"&&(z="end")):(I=F,A==="start"?z="start":A==="middle"?(z="center",M=u/2):A==="end"&&(z="end",M=u)),e.translate(M,I),e.rotate(Ti(B)),e.font=(E.axis.legend.text.fontWeight?E.axis.legend.text.fontWeight+" ":"")+E.axis.legend.text.fontSize+"px "+E.axis.legend.text.fontFamily,E.axis.legend.text.fill&&(e.fillStyle=E.axis.legend.text.fill),e.textAlign=z,e.textBaseline="middle",e.fillText(_,0,0)}e.restore()},zl=function(e,t){var n=t.xScale,i=t.yScale,r=t.width,o=t.height,s=t.top,a=t.right,l=t.bottom,u=t.left,h=t.theme,c={top:s,right:a,bottom:l,left:u};Xr.forEach(function(d){var f=c[d];if(!f)return null;var g=d==="top"||d==="bottom",m=d==="top"||d==="left"?"before":"after",y=g?n:i,p=Ur(f.format,y);Bl(e,ke({},f,{axis:g?"x":"y",x:d==="right"?r:0,y:d==="bottom"?o:0,scale:y,format:p,length:g?r:o,ticksPosition:m,theme:h}))})},Xi=function(e,t){var n=t.width,i=t.height,r=t.scale,o=t.axis,s=t.values;ei({width:n,height:i,scale:r,axis:o,values:s}).forEach(function(a){e.beginPath(),e.moveTo(a.x1,a.y1),e.lineTo(a.x2,a.y2),e.stroke()})},Ll=function(e){var t=e.x,n=e.y,i=e.size,r=e.fill,o=e.opacity,s=o===void 0?1:o,a=e.borderWidth,l=a===void 0?0:a,u=e.borderColor;return O("circle",{r:i/2,cx:t+i/2,cy:n+i/2,fill:r,opacity:s,strokeWidth:l,stroke:u===void 0?"transparent":u,style:{pointerEvents:"none"}})},ql=function(e){var t=e.x,n=e.y,i=e.size,r=e.fill,o=e.opacity,s=o===void 0?1:o,a=e.borderWidth,l=a===void 0?0:a,u=e.borderColor;return O("g",{transform:"translate("+t+","+n+")",children:O("path",{d:`
                    M`+i/2+` 0
                    L`+.8*i+" "+i/2+`
                    L`+i/2+" "+i+`
                    L`+.2*i+" "+i/2+`
                    L`+i/2+` 0
                `,fill:r,opacity:s,strokeWidth:l,stroke:u===void 0?"transparent":u,style:{pointerEvents:"none"}})})},Nl=function(e){var t=e.x,n=e.y,i=e.size,r=e.fill,o=e.opacity,s=o===void 0?1:o,a=e.borderWidth,l=a===void 0?0:a,u=e.borderColor;return O("rect",{x:t,y:n,fill:r,opacity:s,strokeWidth:l,stroke:u===void 0?"transparent":u,width:i,height:i,style:{pointerEvents:"none"}})},Hl=function(e){var t=e.x,n=e.y,i=e.size,r=e.fill,o=e.opacity,s=o===void 0?1:o,a=e.borderWidth,l=a===void 0?0:a,u=e.borderColor;return O("g",{transform:"translate("+t+","+n+")",children:O("path",{d:`
                M`+i/2+` 0
                L`+i+" "+i+`
                L0 `+i+`
                L`+i/2+` 0
            `,fill:r,opacity:s,strokeWidth:l,stroke:u===void 0?"transparent":u,style:{pointerEvents:"none"}})})};function lt(){return lt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},lt.apply(this,arguments)}var Yl={top:0,right:0,bottom:0,left:0},mi=function(e){var t,n=e.direction,i=e.itemsSpacing,r=e.padding,o=e.itemCount,s=e.itemWidth,a=e.itemHeight;if(typeof r!="number"&&(typeof(t=r)!="object"||Array.isArray(t)||t===null))throw new Error("Invalid property padding, must be one of: number, object");var l=typeof r=="number"?{top:r,right:r,bottom:r,left:r}:lt({},Yl,r),u=l.left+l.right,h=l.top+l.bottom,c=s+u,d=a+h,f=(o-1)*i;return n==="row"?c=s*o+f+u:n==="column"&&(d=a*o+f+h),{width:c,height:d,padding:l}},Qr=function(e){var t=e.anchor,n=e.translateX,i=e.translateY,r=e.containerWidth,o=e.containerHeight,s=e.width,a=e.height,l=n,u=i;switch(t){case"top":l+=(r-s)/2;break;case"top-right":l+=r-s;break;case"right":l+=r-s,u+=(o-a)/2;break;case"bottom-right":l+=r-s,u+=o-a;break;case"bottom":l+=(r-s)/2,u+=o-a;break;case"bottom-left":u+=o-a;break;case"left":u+=(o-a)/2;break;case"center":l+=(r-s)/2,u+=(o-a)/2}return{x:l,y:u}},Kr=function(e){var t,n,i,r,o,s,a=e.direction,l=e.justify,u=e.symbolSize,h=e.symbolSpacing,c=e.width,d=e.height;switch(a){case"left-to-right":t=0,n=(d-u)/2,r=d/2,s="central",l?(i=c,o="end"):(i=u+h,o="start");break;case"right-to-left":t=c-u,n=(d-u)/2,r=d/2,s="central",l?(i=0,o="start"):(i=c-u-h,o="end");break;case"top-to-bottom":t=(c-u)/2,n=0,i=c/2,o="middle",l?(r=d,s="alphabetic"):(r=u+h,s="text-before-edge");break;case"bottom-to-top":t=(c-u)/2,n=d-u,i=c/2,o="middle",l?(r=0,s="text-before-edge"):(r=d-u-h,s="alphabetic")}return{symbolX:t,symbolY:n,labelX:i,labelY:r,labelAnchor:o,labelAlignment:s}},Dl={circle:Ll,diamond:ql,square:Nl,triangle:Hl},Gl=function(e){var t,n,i,r,o,s,a,l,u,h,c,d=e.x,f=e.y,g=e.width,m=e.height,y=e.data,p=e.direction,b=p===void 0?"left-to-right":p,_=e.justify,C=_!==void 0&&_,A=e.textColor,R=e.background,F=R===void 0?"transparent":R,E=e.opacity,x=E===void 0?1:E,w=e.symbolShape,S=w===void 0?"square":w,$=e.symbolSize,P=$===void 0?16:$,k=e.symbolSpacing,M=k===void 0?8:k,I=e.symbolBorderWidth,B=I===void 0?0:I,z=e.symbolBorderColor,j=z===void 0?"transparent":z,q=e.onClick,D=e.onMouseEnter,U=e.onMouseLeave,ee=e.toggleSerie,K=e.effects,X=v.useState({}),Y=X[0],Q=X[1],W=pe(),V=v.useCallback(function(fe){if(K){var Ae=K.filter(function(be){return be.on==="hover"}).reduce(function(be,He){return lt({},be,He.style)},{});Q(Ae)}D==null||D(y,fe)},[D,y,K]),L=v.useCallback(function(fe){if(K){var Ae=K.filter(function(be){return be.on!=="hover"}).reduce(function(be,He){return lt({},be,He.style)},{});Q(Ae)}U==null||U(y,fe)},[U,y,K]),G=Kr({direction:b,justify:C,symbolSize:(t=Y.symbolSize)!=null?t:P,symbolSpacing:M,width:g,height:m}),J=G.symbolX,ne=G.symbolY,se=G.labelX,ce=G.labelY,re=G.labelAnchor,ye=G.labelAlignment,ve=[q,D,U,ee].some(function(fe){return fe!==void 0}),Ke=typeof S=="function"?S:Dl[S];return ge("g",{transform:"translate("+d+","+f+")",style:{opacity:(n=Y.itemOpacity)!=null?n:x},children:[O("rect",{width:g,height:m,fill:(i=Y.itemBackground)!=null?i:F,style:{cursor:ve?"pointer":"auto"},onClick:function(fe){q==null||q(y,fe),ee==null||ee(y.id)},onMouseEnter:V,onMouseLeave:L}),v.createElement(Ke,lt({id:y.id,x:J,y:ne,size:(r=Y.symbolSize)!=null?r:P,fill:(o=(s=y.fill)!=null?s:y.color)!=null?o:"black",borderWidth:(a=Y.symbolBorderWidth)!=null?a:B,borderColor:(l=Y.symbolBorderColor)!=null?l:j},y.hidden?W.legends.hidden.symbol:void 0)),O("text",{textAnchor:re,style:lt({},ir(W.legends.text),{fill:(u=(h=(c=Y.itemTextColor)!=null?c:A)!=null?h:W.legends.text.fill)!=null?u:"black",dominantBaseline:ye,pointerEvents:"none",userSelect:"none"},y.hidden?W.legends.hidden.text:void 0),x:se,y:ce,children:y.label})]})},Ul=function(e){var t=e.data,n=e.x,i=e.y,r=e.direction,o=e.padding,s=o===void 0?0:o,a=e.justify,l=e.effects,u=e.itemWidth,h=e.itemHeight,c=e.itemDirection,d=c===void 0?"left-to-right":c,f=e.itemsSpacing,g=f===void 0?0:f,m=e.itemTextColor,y=e.itemBackground,p=y===void 0?"transparent":y,b=e.itemOpacity,_=b===void 0?1:b,C=e.symbolShape,A=e.symbolSize,R=e.symbolSpacing,F=e.symbolBorderWidth,E=e.symbolBorderColor,x=e.onClick,w=e.onMouseEnter,S=e.onMouseLeave,$=e.toggleSerie,P=mi({itemCount:t.length,itemWidth:u,itemHeight:h,itemsSpacing:g,direction:r,padding:s}).padding,k=r==="row"?u+g:0,M=r==="column"?h+g:0;return O("g",{transform:"translate("+n+","+i+")",children:t.map(function(I,B){return O(Gl,{data:I,x:B*k+P.left,y:B*M+P.top,width:u,height:h,direction:d,justify:a,effects:l,textColor:m,background:p,opacity:_,symbolShape:C,symbolSize:A,symbolSpacing:R,symbolBorderWidth:F,symbolBorderColor:E,onClick:x,onMouseEnter:w,onMouseLeave:S,toggleSerie:$},B)})})},Xl=function(e){var t=e.data,n=e.containerWidth,i=e.containerHeight,r=e.translateX,o=r===void 0?0:r,s=e.translateY,a=s===void 0?0:s,l=e.anchor,u=e.direction,h=e.padding,c=h===void 0?0:h,d=e.justify,f=e.itemsSpacing,g=f===void 0?0:f,m=e.itemWidth,y=e.itemHeight,p=e.itemDirection,b=e.itemTextColor,_=e.itemBackground,C=e.itemOpacity,A=e.symbolShape,R=e.symbolSize,F=e.symbolSpacing,E=e.symbolBorderWidth,x=e.symbolBorderColor,w=e.onClick,S=e.onMouseEnter,$=e.onMouseLeave,P=e.toggleSerie,k=e.effects,M=mi({itemCount:t.length,itemsSpacing:g,itemWidth:m,itemHeight:y,direction:u,padding:c}),I=M.width,B=M.height,z=Qr({anchor:l,translateX:o,translateY:a,containerWidth:n,containerHeight:i,width:I,height:B}),j=z.x,q=z.y;return O(Ul,{data:t,x:j,y:q,direction:u,padding:c,justify:d,effects:k,itemsSpacing:g,itemWidth:m,itemHeight:y,itemDirection:p,itemTextColor:b,itemBackground:_,itemOpacity:C,symbolShape:A,symbolSize:R,symbolSpacing:F,symbolBorderWidth:E,symbolBorderColor:x,onClick:w,onMouseEnter:S,onMouseLeave:$,toggleSerie:typeof P=="boolean"?void 0:P})},Ql={start:"left",middle:"center",end:"right"},Kl=function(e,t){var n=t.data,i=t.containerWidth,r=t.containerHeight,o=t.translateX,s=o===void 0?0:o,a=t.translateY,l=a===void 0?0:a,u=t.anchor,h=t.direction,c=t.padding,d=c===void 0?0:c,f=t.justify,g=f!==void 0&&f,m=t.itemsSpacing,y=m===void 0?0:m,p=t.itemWidth,b=t.itemHeight,_=t.itemDirection,C=_===void 0?"left-to-right":_,A=t.itemTextColor,R=t.symbolSize,F=R===void 0?16:R,E=t.symbolSpacing,x=E===void 0?8:E,w=t.theme,S=mi({itemCount:n.length,itemWidth:p,itemHeight:b,itemsSpacing:y,direction:h,padding:d}),$=S.width,P=S.height,k=S.padding,M=Qr({anchor:u,translateX:s,translateY:l,containerWidth:i,containerHeight:r,width:$,height:P}),I=M.x,B=M.y,z=h==="row"?p+y:0,j=h==="column"?b+y:0;e.save(),e.translate(I,B),e.font=w.legends.text.fontSize+"px "+(w.legends.text.fontFamily||"sans-serif"),n.forEach(function(q,D){var U,ee,K=D*z+k.left,X=D*j+k.top,Y=Kr({direction:C,justify:g,symbolSize:F,symbolSpacing:x,width:p,height:b}),Q=Y.symbolX,W=Y.symbolY,V=Y.labelX,L=Y.labelY,G=Y.labelAnchor,J=Y.labelAlignment;e.fillStyle=(U=q.color)!=null?U:"black",e.fillRect(K+Q,X+W,F,F),e.textAlign=Ql[G],J==="central"&&(e.textBaseline="middle"),e.fillStyle=(ee=A??w.legends.text.fill)!=null?ee:"black",e.fillText(String(q.label),K+V,X+L)}),e.restore()};function dt(){return dt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},dt.apply(this,arguments)}var Jl={pointerEvents:"none",position:"absolute",zIndex:10,top:0,left:0},Qi=function(e,t){return"translate("+e+"px, "+t+"px)"},Zl=v.memo(function(e){var t,n=e.position,i=e.anchor,r=e.children,o=pe(),s=Ut(),a=s.animate,l=s.config,u=Bs(),h=u[0],c=u[1],d=v.useRef(!1),f=void 0,g=!1,m=c.width>0&&c.height>0,y=Math.round(n[0]),p=Math.round(n[1]);m&&(i==="top"?(y-=c.width/2,p-=c.height+14):i==="right"?(y+=14,p-=c.height/2):i==="bottom"?(y-=c.width/2,p+=14):i==="left"?(y-=c.width+14,p-=c.height/2):i==="center"&&(y-=c.width/2,p-=c.height/2),f={transform:Qi(y,p)},d.current||(g=!0),d.current=[y,p]);var b=Mn({to:f,config:l,immediate:!a||g}),_=dt({},Jl,o.tooltip.wrapper,{transform:(t=b.transform)!=null?t:Qi(y,p),opacity:b.transform?1:0});return O(Ie.div,{ref:h,style:_,children:r})});Zl.displayName="TooltipWrapper";var Jr=v.memo(function(e){var t=e.size,n=t===void 0?12:t,i=e.color,r=e.style;return O("span",{style:dt({display:"block",width:n,height:n,background:i},r===void 0?{}:r)})}),eu=v.memo(function(e){var t,n=e.id,i=e.value,r=e.format,o=e.enableChip,s=o!==void 0&&o,a=e.color,l=e.renderContent,u=pe(),h=Nn(r);if(typeof l=="function")t=l();else{var c=i;h!==void 0&&c!==void 0&&(c=h(c)),t=ge("div",{style:u.tooltip.basic,children:[s&&O(Jr,{color:a,style:u.tooltip.chip}),c!==void 0?ge("span",{children:[n,": ",O("strong",{children:""+c})]}):n]})}return O("div",{style:u.tooltip.container,children:t})}),tu={width:"100%",borderCollapse:"collapse"},Zr=v.memo(function(e){var t,n=e.title,i=e.rows,r=i===void 0?[]:i,o=e.renderContent,s=pe();return r.length?(t=typeof o=="function"?o():ge("div",{children:[n&&n,O("table",{style:dt({},tu,s.tooltip.table),children:O("tbody",{children:r.map(function(a,l){return O("tr",{children:a.map(function(u,h){return O("td",{style:s.tooltip.tableCell,children:u},h)})},l)})})})]}),O("div",{style:s.tooltip.container,children:t})):null});Zr.displayName="TableTooltip";var ti=v.memo(function(e){var t=e.x0,n=e.x1,i=e.y0,r=e.y1,o=pe(),s=Ut(),a=s.animate,l=s.config,u=v.useMemo(function(){return dt({},o.crosshair.line,{pointerEvents:"none"})},[o.crosshair.line]),h=Mn({x1:t,x2:n,y1:i,y2:r,config:l,immediate:!a});return O(Ie.line,dt({},h,{fill:"none",style:u}))});ti.displayName="CrosshairLine";var ni=v.memo(function(e){var t,n,i=e.width,r=e.height,o=e.type,s=e.x,a=e.y;return o==="cross"?(t={x0:s,x1:s,y0:0,y1:r},n={x0:0,x1:i,y0:a,y1:a}):o==="top-left"?(t={x0:s,x1:s,y0:0,y1:a},n={x0:0,x1:s,y0:a,y1:a}):o==="top"?t={x0:s,x1:s,y0:0,y1:a}:o==="top-right"?(t={x0:s,x1:s,y0:0,y1:a},n={x0:s,x1:i,y0:a,y1:a}):o==="right"?n={x0:s,x1:i,y0:a,y1:a}:o==="bottom-right"?(t={x0:s,x1:s,y0:a,y1:r},n={x0:s,x1:i,y0:a,y1:a}):o==="bottom"?t={x0:s,x1:s,y0:a,y1:r}:o==="bottom-left"?(t={x0:s,x1:s,y0:a,y1:r},n={x0:0,x1:s,y0:a,y1:a}):o==="left"?n={x0:0,x1:s,y0:a,y1:a}:o==="x"?t={x0:s,x1:s,y0:0,y1:r}:o==="y"&&(n={x0:0,x1:i,y0:a,y1:a}),ge(Xt,{children:[t&&O(ti,{x0:t.x0,x1:t.x1,y0:t.y0,y1:t.y1}),n&&O(ti,{x0:n.x0,x1:n.x1,y0:n.y0,y1:n.y1})]})});ni.displayName="Crosshair";var nu=v.createContext({showTooltipAt:function(){},showTooltipFromEvent:function(){},hideTooltip:function(){}}),iu={isVisible:!1,position:[null,null],content:null,anchor:null};v.createContext(iu);var Pn=function(){var e=v.useContext(nu);if(e===void 0)throw new Error("useTooltip must be used within a TooltipProvider");return e},zn,Ki;function ru(){if(Ki)return zn;Ki=1;var e=Js(),t=0;function n(i){var r=++t;return e(i)+r}return zn=n,zn}var ou=ru();const su=po(ou),Ne=11102230246251565e-32,oe=134217729,au=(3+8*Ne)*Ne;function Ln(e,t,n,i,r){let o,s,a,l,u=t[0],h=i[0],c=0,d=0;h>u==h>-u?(o=u,u=t[++c]):(o=h,h=i[++d]);let f=0;if(c<e&&d<n)for(h>u==h>-u?(s=u+o,a=o-(s-u),u=t[++c]):(s=h+o,a=o-(s-h),h=i[++d]),o=s,a!==0&&(r[f++]=a);c<e&&d<n;)h>u==h>-u?(s=o+u,l=s-o,a=o-(s-l)+(u-l),u=t[++c]):(s=o+h,l=s-o,a=o-(s-l)+(h-l),h=i[++d]),o=s,a!==0&&(r[f++]=a);for(;c<e;)s=o+u,l=s-o,a=o-(s-l)+(u-l),u=t[++c],o=s,a!==0&&(r[f++]=a);for(;d<n;)s=o+h,l=s-o,a=o-(s-l)+(h-l),h=i[++d],o=s,a!==0&&(r[f++]=a);return(o!==0||f===0)&&(r[f++]=o),f}function lu(e,t){let n=t[0];for(let i=1;i<e;i++)n+=t[i];return n}function Jt(e){return new Float64Array(e)}const uu=(3+16*Ne)*Ne,cu=(2+12*Ne)*Ne,du=(9+64*Ne)*Ne*Ne,yt=Jt(4),Ji=Jt(8),Zi=Jt(12),er=Jt(16),ae=Jt(4);function hu(e,t,n,i,r,o,s){let a,l,u,h,c,d,f,g,m,y,p,b,_,C,A,R,F,E;const x=e-r,w=n-r,S=t-o,$=i-o;C=x*$,d=oe*x,f=d-(d-x),g=x-f,d=oe*$,m=d-(d-$),y=$-m,A=g*y-(C-f*m-g*m-f*y),R=S*w,d=oe*S,f=d-(d-S),g=S-f,d=oe*w,m=d-(d-w),y=w-m,F=g*y-(R-f*m-g*m-f*y),p=A-F,c=A-p,yt[0]=A-(p+c)+(c-F),b=C+p,c=b-C,_=C-(b-c)+(p-c),p=_-R,c=_-p,yt[1]=_-(p+c)+(c-R),E=b+p,c=E-b,yt[2]=b-(E-c)+(p-c),yt[3]=E;let P=lu(4,yt),k=cu*s;if(P>=k||-P>=k||(c=e-x,a=e-(x+c)+(c-r),c=n-w,u=n-(w+c)+(c-r),c=t-S,l=t-(S+c)+(c-o),c=i-$,h=i-($+c)+(c-o),a===0&&l===0&&u===0&&h===0)||(k=du*s+au*Math.abs(P),P+=x*h+$*a-(S*u+w*l),P>=k||-P>=k))return P;C=a*$,d=oe*a,f=d-(d-a),g=a-f,d=oe*$,m=d-(d-$),y=$-m,A=g*y-(C-f*m-g*m-f*y),R=l*w,d=oe*l,f=d-(d-l),g=l-f,d=oe*w,m=d-(d-w),y=w-m,F=g*y-(R-f*m-g*m-f*y),p=A-F,c=A-p,ae[0]=A-(p+c)+(c-F),b=C+p,c=b-C,_=C-(b-c)+(p-c),p=_-R,c=_-p,ae[1]=_-(p+c)+(c-R),E=b+p,c=E-b,ae[2]=b-(E-c)+(p-c),ae[3]=E;const M=Ln(4,yt,4,ae,Ji);C=x*h,d=oe*x,f=d-(d-x),g=x-f,d=oe*h,m=d-(d-h),y=h-m,A=g*y-(C-f*m-g*m-f*y),R=S*u,d=oe*S,f=d-(d-S),g=S-f,d=oe*u,m=d-(d-u),y=u-m,F=g*y-(R-f*m-g*m-f*y),p=A-F,c=A-p,ae[0]=A-(p+c)+(c-F),b=C+p,c=b-C,_=C-(b-c)+(p-c),p=_-R,c=_-p,ae[1]=_-(p+c)+(c-R),E=b+p,c=E-b,ae[2]=b-(E-c)+(p-c),ae[3]=E;const I=Ln(M,Ji,4,ae,Zi);C=a*h,d=oe*a,f=d-(d-a),g=a-f,d=oe*h,m=d-(d-h),y=h-m,A=g*y-(C-f*m-g*m-f*y),R=l*u,d=oe*l,f=d-(d-l),g=l-f,d=oe*u,m=d-(d-u),y=u-m,F=g*y-(R-f*m-g*m-f*y),p=A-F,c=A-p,ae[0]=A-(p+c)+(c-F),b=C+p,c=b-C,_=C-(b-c)+(p-c),p=_-R,c=_-p,ae[1]=_-(p+c)+(c-R),E=b+p,c=E-b,ae[2]=b-(E-c)+(p-c),ae[3]=E;const B=Ln(I,Zi,4,ae,er);return er[B-1]}function un(e,t,n,i,r,o){const s=(t-o)*(n-r),a=(e-r)*(i-o),l=s-a,u=Math.abs(s+a);return Math.abs(l)>=uu*u?l:-hu(e,t,n,i,r,o,u)}const tr=Math.pow(2,-52),cn=new Uint32Array(512);class xn{static from(t,n=yu,i=vu){const r=t.length,o=new Float64Array(r*2);for(let s=0;s<r;s++){const a=t[s];o[2*s]=n(a),o[2*s+1]=i(a)}return new xn(o)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const i=Math.max(2*n-5,0);this._triangles=new Uint32Array(i*3),this._halfedges=new Int32Array(i*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:i,_hullTri:r,_hullHash:o}=this,s=t.length>>1;let a=1/0,l=1/0,u=-1/0,h=-1/0;for(let x=0;x<s;x++){const w=t[2*x],S=t[2*x+1];w<a&&(a=w),S<l&&(l=S),w>u&&(u=w),S>h&&(h=S),this._ids[x]=x}const c=(a+u)/2,d=(l+h)/2;let f,g,m;for(let x=0,w=1/0;x<s;x++){const S=qn(c,d,t[2*x],t[2*x+1]);S<w&&(f=x,w=S)}const y=t[2*f],p=t[2*f+1];for(let x=0,w=1/0;x<s;x++){if(x===f)continue;const S=qn(y,p,t[2*x],t[2*x+1]);S<w&&S>0&&(g=x,w=S)}let b=t[2*g],_=t[2*g+1],C=1/0;for(let x=0;x<s;x++){if(x===f||x===g)continue;const w=gu(y,p,b,_,t[2*x],t[2*x+1]);w<C&&(m=x,C=w)}let A=t[2*m],R=t[2*m+1];if(C===1/0){for(let S=0;S<s;S++)this._dists[S]=t[2*S]-t[0]||t[2*S+1]-t[1];bt(this._ids,this._dists,0,s-1);const x=new Uint32Array(s);let w=0;for(let S=0,$=-1/0;S<s;S++){const P=this._ids[S],k=this._dists[P];k>$&&(x[w++]=P,$=k)}this.hull=x.subarray(0,w),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(un(y,p,b,_,A,R)<0){const x=g,w=b,S=_;g=m,b=A,_=R,m=x,A=w,R=S}const F=pu(y,p,b,_,A,R);this._cx=F.x,this._cy=F.y;for(let x=0;x<s;x++)this._dists[x]=qn(t[2*x],t[2*x+1],F.x,F.y);bt(this._ids,this._dists,0,s-1),this._hullStart=f;let E=3;i[f]=n[m]=g,i[g]=n[f]=m,i[m]=n[g]=f,r[f]=0,r[g]=1,r[m]=2,o.fill(-1),o[this._hashKey(y,p)]=f,o[this._hashKey(b,_)]=g,o[this._hashKey(A,R)]=m,this.trianglesLen=0,this._addTriangle(f,g,m,-1,-1,-1);for(let x=0,w,S;x<this._ids.length;x++){const $=this._ids[x],P=t[2*$],k=t[2*$+1];if(x>0&&Math.abs(P-w)<=tr&&Math.abs(k-S)<=tr||(w=P,S=k,$===f||$===g||$===m))continue;let M=0;for(let q=0,D=this._hashKey(P,k);q<this._hashSize&&(M=o[(D+q)%this._hashSize],!(M!==-1&&M!==i[M]));q++);M=n[M];let I=M,B;for(;B=i[I],un(P,k,t[2*I],t[2*I+1],t[2*B],t[2*B+1])>=0;)if(I=B,I===M){I=-1;break}if(I===-1)continue;let z=this._addTriangle(I,$,i[I],-1,-1,r[I]);r[$]=this._legalize(z+2),r[I]=z,E++;let j=i[I];for(;B=i[j],un(P,k,t[2*j],t[2*j+1],t[2*B],t[2*B+1])<0;)z=this._addTriangle(j,$,B,r[$],-1,r[j]),r[$]=this._legalize(z+2),i[j]=j,E--,j=B;if(I===M)for(;B=n[I],un(P,k,t[2*B],t[2*B+1],t[2*I],t[2*I+1])<0;)z=this._addTriangle(B,$,I,-1,r[I],r[B]),this._legalize(z+2),r[B]=z,i[I]=I,E--,I=B;this._hullStart=n[$]=I,i[I]=n[j]=$,i[$]=j,o[this._hashKey(P,k)]=$,o[this._hashKey(t[2*I],t[2*I+1])]=I}this.hull=new Uint32Array(E);for(let x=0,w=this._hullStart;x<E;x++)this.hull[x]=w,w=i[w];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(fu(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:i,coords:r}=this;let o=0,s=0;for(;;){const a=i[t],l=t-t%3;if(s=l+(t+2)%3,a===-1){if(o===0)break;t=cn[--o];continue}const u=a-a%3,h=l+(t+1)%3,c=u+(a+2)%3,d=n[s],f=n[t],g=n[h],m=n[c];if(mu(r[2*d],r[2*d+1],r[2*f],r[2*f+1],r[2*g],r[2*g+1],r[2*m],r[2*m+1])){n[t]=m,n[a]=d;const p=i[c];if(p===-1){let _=this._hullStart;do{if(this._hullTri[_]===c){this._hullTri[_]=t;break}_=this._hullPrev[_]}while(_!==this._hullStart)}this._link(t,p),this._link(a,i[s]),this._link(s,c);const b=u+(a+1)%3;o<cn.length&&(cn[o++]=b)}else{if(o===0)break;t=cn[--o]}}return s}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,i,r,o,s){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=n,this._triangles[a+2]=i,this._link(a,r),this._link(a+1,o),this._link(a+2,s),this.trianglesLen+=3,a}}function fu(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function qn(e,t,n,i){const r=e-n,o=t-i;return r*r+o*o}function mu(e,t,n,i,r,o,s,a){const l=e-s,u=t-a,h=n-s,c=i-a,d=r-s,f=o-a,g=l*l+u*u,m=h*h+c*c,y=d*d+f*f;return l*(c*y-m*f)-u*(h*y-m*d)+g*(h*f-c*d)<0}function gu(e,t,n,i,r,o){const s=n-e,a=i-t,l=r-e,u=o-t,h=s*s+a*a,c=l*l+u*u,d=.5/(s*u-a*l),f=(u*h-a*c)*d,g=(s*c-l*h)*d;return f*f+g*g}function pu(e,t,n,i,r,o){const s=n-e,a=i-t,l=r-e,u=o-t,h=s*s+a*a,c=l*l+u*u,d=.5/(s*u-a*l),f=e+(u*h-a*c)*d,g=t+(s*c-l*h)*d;return{x:f,y:g}}function bt(e,t,n,i){if(i-n<=20)for(let r=n+1;r<=i;r++){const o=e[r],s=t[o];let a=r-1;for(;a>=n&&t[e[a]]>s;)e[a+1]=e[a--];e[a+1]=o}else{const r=n+i>>1;let o=n+1,s=i;Rt(e,r,o),t[e[n]]>t[e[i]]&&Rt(e,n,i),t[e[o]]>t[e[i]]&&Rt(e,o,i),t[e[n]]>t[e[o]]&&Rt(e,n,o);const a=e[o],l=t[a];for(;;){do o++;while(t[e[o]]<l);do s--;while(t[e[s]]>l);if(s<o)break;Rt(e,o,s)}e[n+1]=e[s],e[s]=a,i-o+1>=s-n?(bt(e,t,o,i),bt(e,t,n,s-1)):(bt(e,t,n,s-1),bt(e,t,o,i))}}function Rt(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}function yu(e){return e[0]}function vu(e){return e[1]}const nr=1e-6;class ut{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,i){t=+t,n=+n,i=+i;const r=t+i,o=n;if(i<0)throw new Error("negative radius");this._x1===null?this._+=`M${r},${o}`:(Math.abs(this._x1-r)>nr||Math.abs(this._y1-o)>nr)&&(this._+="L"+r+","+o),i&&(this._+=`A${i},${i},0,1,1,${t-i},${n}A${i},${i},0,1,1,${this._x1=r},${this._y1=o}`)}rect(t,n,i,r){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+i}v${+r}h${-i}Z`}value(){return this._||null}}class ii{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}class bu{constructor(t,[n,i,r,o]=[0,0,960,500]){if(!((r=+r)>=(n=+n))||!((o=+o)>=(i=+i)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=r,this.xmin=n,this.ymax=o,this.ymin=i,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:i},vectors:r}=this;let o,s;const a=this.circumcenters=this._circumcenters.subarray(0,i.length/3*2);for(let m=0,y=0,p=i.length,b,_;m<p;m+=3,y+=2){const C=i[m]*2,A=i[m+1]*2,R=i[m+2]*2,F=t[C],E=t[C+1],x=t[A],w=t[A+1],S=t[R],$=t[R+1],P=x-F,k=w-E,M=S-F,I=$-E,B=(P*I-k*M)*2;if(Math.abs(B)<1e-9){if(o===void 0){o=s=0;for(const j of n)o+=t[j*2],s+=t[j*2+1];o/=n.length,s/=n.length}const z=1e9*Math.sign((o-F)*I-(s-E)*M);b=(F+S)/2-z*I,_=(E+$)/2+z*M}else{const z=1/B,j=P*P+k*k,q=M*M+I*I;b=F+(I*j-k*q)*z,_=E+(P*q-M*j)*z}a[y]=b,a[y+1]=_}let l=n[n.length-1],u,h=l*4,c,d=t[2*l],f,g=t[2*l+1];r.fill(0);for(let m=0;m<n.length;++m)l=n[m],u=h,c=d,f=g,h=l*4,d=t[2*l],g=t[2*l+1],r[u+2]=r[h]=f-g,r[u+3]=r[h+1]=d-c}render(t){const n=t==null?t=new ut:void 0,{delaunay:{halfedges:i,inedges:r,hull:o},circumcenters:s,vectors:a}=this;if(o.length<=1)return null;for(let h=0,c=i.length;h<c;++h){const d=i[h];if(d<h)continue;const f=Math.floor(h/3)*2,g=Math.floor(d/3)*2,m=s[f],y=s[f+1],p=s[g],b=s[g+1];this._renderSegment(m,y,p,b,t)}let l,u=o[o.length-1];for(let h=0;h<o.length;++h){l=u,u=o[h];const c=Math.floor(r[u]/3)*2,d=s[c],f=s[c+1],g=l*4,m=this._project(d,f,a[g+2],a[g+3]);m&&this._renderSegment(d,f,m[0],m[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new ut:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const i=n==null?n=new ut:void 0,r=this._clip(t);if(r===null||!r.length)return;n.moveTo(r[0],r[1]);let o=r.length;for(;r[0]===r[o-2]&&r[1]===r[o-1]&&o>1;)o-=2;for(let s=2;s<o;s+=2)(r[s]!==r[s-2]||r[s+1]!==r[s-1])&&n.lineTo(r[s],r[s+1]);return n.closePath(),i&&i.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,i=t.length/2;n<i;++n){const r=this.cellPolygon(n);r&&(r.index=n,yield r)}}cellPolygon(t){const n=new ii;return this.renderCell(t,n),n.value()}_renderSegment(t,n,i,r,o){let s;const a=this._regioncode(t,n),l=this._regioncode(i,r);a===0&&l===0?(o.moveTo(t,n),o.lineTo(i,r)):(s=this._clipSegment(t,n,i,r,a,l))&&(o.moveTo(s[0],s[1]),o.lineTo(s[2],s[3]))}contains(t,n,i){return n=+n,n!==n||(i=+i,i!==i)?!1:this.delaunay._step(t,n,i)===t}*neighbors(t){const n=this._clip(t);if(n)for(const i of this.delaunay.neighbors(t)){const r=this._clip(i);if(r){e:for(let o=0,s=n.length;o<s;o+=2)for(let a=0,l=r.length;a<l;a+=2)if(n[o]===r[a]&&n[o+1]===r[a+1]&&n[(o+2)%s]===r[(a+l-2)%l]&&n[(o+3)%s]===r[(a+l-1)%l]){yield i;break e}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:i,halfedges:r,triangles:o}}=this,s=i[t];if(s===-1)return null;const a=[];let l=s;do{const u=Math.floor(l/3);if(a.push(n[u*2],n[u*2+1]),l=l%3===2?l-2:l+1,o[l]!==t)break;l=r[l]}while(l!==s&&l!==-1);return a}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:i}=this,r=t*4;return this._simplify(i[r]||i[r+1]?this._clipInfinite(t,n,i[r],i[r+1],i[r+2],i[r+3]):this._clipFinite(t,n))}_clipFinite(t,n){const i=n.length;let r=null,o,s,a=n[i-2],l=n[i-1],u,h=this._regioncode(a,l),c,d=0;for(let f=0;f<i;f+=2)if(o=a,s=l,a=n[f],l=n[f+1],u=h,h=this._regioncode(a,l),u===0&&h===0)c=d,d=0,r?r.push(a,l):r=[a,l];else{let g,m,y,p,b;if(u===0){if((g=this._clipSegment(o,s,a,l,u,h))===null)continue;[m,y,p,b]=g}else{if((g=this._clipSegment(a,l,o,s,h,u))===null)continue;[p,b,m,y]=g,c=d,d=this._edgecode(m,y),c&&d&&this._edge(t,c,d,r,r.length),r?r.push(m,y):r=[m,y]}c=d,d=this._edgecode(p,b),c&&d&&this._edge(t,c,d,r,r.length),r?r.push(p,b):r=[p,b]}if(r)c=d,d=this._edgecode(r[0],r[1]),c&&d&&this._edge(t,c,d,r,r.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return r}_clipSegment(t,n,i,r,o,s){const a=o<s;for(a&&([t,n,i,r,o,s]=[i,r,t,n,s,o]);;){if(o===0&&s===0)return a?[i,r,t,n]:[t,n,i,r];if(o&s)return null;let l,u,h=o||s;h&8?(l=t+(i-t)*(this.ymax-n)/(r-n),u=this.ymax):h&4?(l=t+(i-t)*(this.ymin-n)/(r-n),u=this.ymin):h&2?(u=n+(r-n)*(this.xmax-t)/(i-t),l=this.xmax):(u=n+(r-n)*(this.xmin-t)/(i-t),l=this.xmin),o?(t=l,n=u,o=this._regioncode(t,n)):(i=l,r=u,s=this._regioncode(i,r))}}_clipInfinite(t,n,i,r,o,s){let a=Array.from(n),l;if((l=this._project(a[0],a[1],i,r))&&a.unshift(l[0],l[1]),(l=this._project(a[a.length-2],a[a.length-1],o,s))&&a.push(l[0],l[1]),a=this._clipFinite(t,a))for(let u=0,h=a.length,c,d=this._edgecode(a[h-2],a[h-1]);u<h;u+=2)c=d,d=this._edgecode(a[u],a[u+1]),c&&d&&(u=this._edge(t,c,d,a,u),h=a.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(t,n,i,r,o){for(;n!==i;){let s,a;switch(n){case 5:n=4;continue;case 4:n=6,s=this.xmax,a=this.ymin;break;case 6:n=2;continue;case 2:n=10,s=this.xmax,a=this.ymax;break;case 10:n=8;continue;case 8:n=9,s=this.xmin,a=this.ymax;break;case 9:n=1;continue;case 1:n=5,s=this.xmin,a=this.ymin;break}(r[o]!==s||r[o+1]!==a)&&this.contains(t,s,a)&&(r.splice(o,0,s,a),o+=2)}return o}_project(t,n,i,r){let o=1/0,s,a,l;if(r<0){if(n<=this.ymin)return null;(s=(this.ymin-n)/r)<o&&(l=this.ymin,a=t+(o=s)*i)}else if(r>0){if(n>=this.ymax)return null;(s=(this.ymax-n)/r)<o&&(l=this.ymax,a=t+(o=s)*i)}if(i>0){if(t>=this.xmax)return null;(s=(this.xmax-t)/i)<o&&(a=this.xmax,l=n+(o=s)*r)}else if(i<0){if(t<=this.xmin)return null;(s=(this.xmin-t)/i)<o&&(a=this.xmin,l=n+(o=s)*r)}return[a,l]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let n=0;n<t.length;n+=2){const i=(n+2)%t.length,r=(n+4)%t.length;(t[n]===t[i]&&t[i]===t[r]||t[n+1]===t[i+1]&&t[i+1]===t[r+1])&&(t.splice(i,2),n-=2)}t.length||(t=null)}return t}}const xu=2*Math.PI,vt=Math.pow;function _u(e){return e[0]}function wu(e){return e[1]}function ku(e){const{triangles:t,coords:n}=e;for(let i=0;i<t.length;i+=3){const r=2*t[i],o=2*t[i+1],s=2*t[i+2];if((n[s]-n[r])*(n[o+1]-n[r+1])-(n[o]-n[r])*(n[s+1]-n[r+1])>1e-10)return!1}return!0}function Su(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class gi{static from(t,n=_u,i=wu,r){return new gi("length"in t?Cu(t,n,i,r):Float64Array.from(Tu(t,n,i,r)))}constructor(t){this._delaunator=new xn(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&ku(t)){this.collinear=Int32Array.from({length:n.length/2},(d,f)=>f).sort((d,f)=>n[2*d]-n[2*f]||n[2*d+1]-n[2*f+1]);const l=this.collinear[0],u=this.collinear[this.collinear.length-1],h=[n[2*l],n[2*l+1],n[2*u],n[2*u+1]],c=1e-8*Math.hypot(h[3]-h[1],h[2]-h[0]);for(let d=0,f=n.length/2;d<f;++d){const g=Su(n[2*d],n[2*d+1],c);n[2*d]=g[0],n[2*d+1]=g[1]}this._delaunator=new xn(n)}else delete this.collinear;const i=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,s=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let l=0,u=i.length;l<u;++l){const h=o[l%3===2?l-2:l+1];(i[l]===-1||s[h]===-1)&&(s[h]=l)}for(let l=0,u=r.length;l<u;++l)a[r[l]]=l;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],s[r[0]]=1,r.length===2&&(s[r[1]]=0,this.triangles[1]=r[1],this.triangles[2]=r[1]))}voronoi(t){return new bu(this,t)}*neighbors(t){const{inedges:n,hull:i,_hullIndex:r,halfedges:o,triangles:s,collinear:a}=this;if(a){const c=a.indexOf(t);c>0&&(yield a[c-1]),c<a.length-1&&(yield a[c+1]);return}const l=n[t];if(l===-1)return;let u=l,h=-1;do{if(yield h=s[u],u=u%3===2?u-2:u+1,s[u]!==t)return;if(u=o[u],u===-1){const c=i[(r[t]+1)%i.length];c!==h&&(yield c);return}}while(u!==l)}find(t,n,i=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const r=i;let o;for(;(o=this._step(i,t,n))>=0&&o!==i&&o!==r;)i=o;return o}_step(t,n,i){const{inedges:r,hull:o,_hullIndex:s,halfedges:a,triangles:l,points:u}=this;if(r[t]===-1||!u.length)return(t+1)%(u.length>>1);let h=t,c=vt(n-u[t*2],2)+vt(i-u[t*2+1],2);const d=r[t];let f=d;do{let g=l[f];const m=vt(n-u[g*2],2)+vt(i-u[g*2+1],2);if(m<c&&(c=m,h=g),f=f%3===2?f-2:f+1,l[f]!==t)break;if(f=a[f],f===-1){if(f=o[(s[t]+1)%o.length],f!==g&&vt(n-u[f*2],2)+vt(i-u[f*2+1],2)<c)return f;break}}while(f!==d);return h}render(t){const n=t==null?t=new ut:void 0,{points:i,halfedges:r,triangles:o}=this;for(let s=0,a=r.length;s<a;++s){const l=r[s];if(l<s)continue;const u=o[s]*2,h=o[l]*2;t.moveTo(i[u],i[u+1]),t.lineTo(i[h],i[h+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){n===void 0&&(!t||typeof t.moveTo!="function")&&(n=t,t=null),n=n==null?2:+n;const i=t==null?t=new ut:void 0,{points:r}=this;for(let o=0,s=r.length;o<s;o+=2){const a=r[o],l=r[o+1];t.moveTo(a+n,l),t.arc(a,l,n,0,xu)}return i&&i.value()}renderHull(t){const n=t==null?t=new ut:void 0,{hull:i,points:r}=this,o=i[0]*2,s=i.length;t.moveTo(r[o],r[o+1]);for(let a=1;a<s;++a){const l=2*i[a];t.lineTo(r[l],r[l+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new ii;return this.renderHull(t),t.value()}renderTriangle(t,n){const i=n==null?n=new ut:void 0,{points:r,triangles:o}=this,s=o[t*=3]*2,a=o[t+1]*2,l=o[t+2]*2;return n.moveTo(r[s],r[s+1]),n.lineTo(r[a],r[a+1]),n.lineTo(r[l],r[l+1]),n.closePath(),i&&i.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,i=t.length/3;n<i;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new ii;return this.renderTriangle(t,n),n.value()}}function Cu(e,t,n,i){const r=e.length,o=new Float64Array(r*2);for(let s=0;s<r;++s){const a=e[s];o[s*2]=t.call(i,a,s,e),o[s*2+1]=n.call(i,a,s,e)}return o}function*Tu(e,t,n,i){let r=0;for(const o of e)yield t.call(i,o,r,e),yield n.call(i,o,r,e),++r}var pi=function(e){return[e.x,e.y]},Zt=zs,eo="cursor",to="top",Au=function(e){var t=e.points,n=e.getNodePosition,i=n===void 0?pi:n,r=e.margin,o=r===void 0?Zt:r;return t.map(function(s){var a=i(s),l=a[0],u=a[1];return[l+o.left,u+o.top]})},Mu=function(e){var t=e.points,n=e.width,i=e.height,r=e.margin,o=r===void 0?Zt:r,s=e.debug,a=gi.from(t),l=s?a.voronoi([0,0,o.left+n+o.right,o.top+i+o.bottom]):void 0;return{points:t,delaunay:a,voronoi:l}},no=function(e){var t=e.points,n=e.getNodePosition,i=n===void 0?pi:n,r=e.width,o=e.height,s=e.margin,a=s===void 0?Zt:s,l=e.debug;return v.useMemo(function(){return Mu({points:Au({points:t,margin:a,getNodePosition:i}),width:r,height:o,margin:a,debug:l})},[t,r,o,a,l])},Pu=function(e){var t=e.elementRef,n=e.nodes,i=e.getNodePosition,r=i===void 0?pi:i,o=e.delaunay,s=e.setCurrent,a=e.margin,l=a===void 0?Zt:a,u=e.detectionRadius,h=u===void 0?1/0:u,c=e.isInteractive,d=c===void 0||c,f=e.onMouseEnter,g=e.onMouseMove,m=e.onMouseLeave,y=e.onClick,p=e.onTouchStart,b=e.onTouchMove,_=e.onTouchEnd,C=e.enableTouchCrosshair,A=C!==void 0&&C,R=e.tooltip,F=e.tooltipPosition,E=F===void 0?eo:F,x=e.tooltipAnchor,w=x===void 0?to:x,S=v.useState(null),$=S[0],P=S[1],k=v.useRef(null);v.useEffect(function(){k.current=$},[k,$]);var M=v.useCallback(function(W){if(!t.current)return null;var V=rr(t.current,W),L=V[0],G=V[1],J=o.find(L,G),ne=J!==void 0?n[J]:null;if(ne&&h!==1/0){var se=r(ne),ce=se[0],re=se[1];Ls(L,G,ce+l.left,re+l.top)>h&&(J=null,ne=null)}return J===null||ne===null?null:[J,ne]},[t,o,n,r,l,h]),I=Pn(),B=I.showTooltipAt,z=I.showTooltipFromEvent,j=I.hideTooltip,q=v.useMemo(function(){if(R)return E==="cursor"?function(W,V){z(R(W),V,w)}:function(W){var V=r(W),L=V[0],G=V[1];B(R(W),[L+l.left,G+l.top],w)}},[B,z,R,E,w,r,l]),D=v.useCallback(function(W){var V=M(W);if(P(V),s==null||s(V?V[1]:null),V){var L=V[1];q==null||q(L,W),f==null||f(V[1],W)}},[M,P,s,q,f]),U=v.useCallback(function(W){var V=M(W);if(P(V),V){var L=V[0],G=V[1];if(s==null||s(G),q==null||q(G,W),k.current){var J=k.current,ne=J[0],se=J[1];L!==ne?m==null||m(se,W):g==null||g(G,W)}else f==null||f(G,W)}else s==null||s(null),j==null||j(),k.current&&(m==null||m(k.current[1],W))},[M,P,k,f,g,m,q,j]),ee=v.useCallback(function(W){P(null),s==null||s(null),j(),m&&k.current&&m(k.current[1],W)},[P,s,k,j,m]),K=v.useCallback(function(W){var V=M(W);P(V),V&&(y==null||y(V[1],W))},[M,P,y]),X=v.useCallback(function(W){var V=M(W);A&&(P(V),s==null||s(V?V[1]:null)),V&&(p==null||p(V[1],W))},[M,P,s,A,p]),Y=v.useCallback(function(W){var V=M(W);A&&(P(V),s==null||s(V?V[1]:null)),V&&(b==null||b(V[1],W))},[M,P,s,A,b]),Q=v.useCallback(function(W){A&&(P(null),s==null||s(null)),_&&k.current&&_(k.current[1],W)},[A,P,s,_,k]);return{current:$,handleMouseEnter:d?D:void 0,handleMouseMove:d?U:void 0,handleMouseLeave:d?ee:void 0,handleClick:d?K:void 0,handleTouchStart:d?X:void 0,handleTouchMove:d?Y:void 0,handleTouchEnd:d?Q:void 0}},Eu=function(e){var t=e.nodes,n=e.width,i=e.height,r=e.margin,o=r===void 0?Zt:r,s=e.getNodePosition,a=e.setCurrent,l=e.onMouseEnter,u=e.onMouseMove,h=e.onMouseLeave,c=e.onClick,d=e.onTouchStart,f=e.onTouchMove,g=e.onTouchEnd,m=e.enableTouchCrosshair,y=m!==void 0&&m,p=e.detectionRadius,b=p===void 0?1/0:p,_=e.tooltip,C=e.tooltipPosition,A=C===void 0?eo:C,R=e.tooltipAnchor,F=R===void 0?to:R,E=e.debug,x=v.useRef(null),w=no({points:t,getNodePosition:s,width:n,height:i,margin:o,debug:E}),S=w.delaunay,$=w.voronoi,P=Pu({elementRef:x,nodes:t,delaunay:S,margin:o,detectionRadius:b,setCurrent:a,onMouseEnter:l,onMouseMove:u,onMouseLeave:h,onClick:c,onTouchStart:d,onTouchMove:f,onTouchEnd:g,enableTouchCrosshair:y,tooltip:_,tooltipPosition:A,tooltipAnchor:F}),k=P.current,M=P.handleMouseEnter,I=P.handleMouseMove,B=P.handleMouseLeave,z=P.handleClick,j=P.handleTouchStart,q=P.handleTouchMove,D=P.handleTouchEnd,U=v.useMemo(function(){if(E&&$)return $.render()},[E,$]);return ge("g",{ref:x,transform:"translate("+-o.left+","+-o.top+")",children:[E&&$&&ge(Xt,{children:[O("path",{d:U,stroke:"red",strokeWidth:1,opacity:.75}),b<1/0&&O("path",{stroke:"red",strokeWidth:.35,fill:"none",d:S.renderPoints(void 0,b)}),k&&O("path",{fill:"pink",opacity:.35,d:$.renderCell(k[0])})]}),O("rect",{"data-ref":"mesh-interceptor",width:o.left+n+o.right,height:o.top+i+o.bottom,fill:"red",opacity:0,style:{cursor:"auto"},onMouseEnter:M,onMouseMove:I,onMouseLeave:B,onTouchStart:j,onTouchMove:q,onTouchEnd:D,onClick:z})]})},$u=function(e,t){e.save(),e.globalAlpha=.75,e.beginPath(),t.render(e),e.strokeStyle="red",e.lineWidth=1,e.stroke(),e.restore()},Iu=function(e,t,n){e.save(),e.globalAlpha=.35,e.beginPath(),t.renderCell(n,e),e.fillStyle="pink",e.fill(),e.restore()};function ue(){return ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ue.apply(this,arguments)}var yi=v.memo(function(e){var t=e.point;return O(eu,{id:ge("span",{children:["x: ",O("strong",{children:t.data.xFormatted}),", y:"," ",O("strong",{children:t.data.yFormatted})]}),enableChip:!0,color:t.serieColor})}),io=v.memo(function(e){var t=e.slice,n=e.axis,i=pe(),r=n==="x"?"y":"x";return O(Zr,{rows:t.points.map(function(o){return[O(Jr,{color:o.serieColor,style:i.tooltip.chip},"chip"),o.serieId,O("span",{style:i.tooltip.tableCellValue,children:o.data[r+"Formatted"]},"value")]})})}),ro={curve:"linear",xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto"},layers:["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"],axisBottom:{},axisLeft:{},enableGridX:!0,enableGridY:!0,enablePoints:!0,pointSize:6,pointColor:{from:"color"},pointBorderWidth:0,pointBorderColor:{theme:"background"},enablePointLabel:!1,pointLabel:"yFormatted",colors:{scheme:"nivo"},enableArea:!1,areaBaselineValue:0,areaOpacity:.2,areaBlendMode:"normal",lineWidth:2,legends:[],isInteractive:!0,tooltip:yi,enableSlices:!1,debugSlices:!1,sliceTooltip:io,debugMesh:!1,enableCrosshair:!0,crosshairType:"bottom-left"},Le=ue({},ro,{enablePointLabel:!1,useMesh:!1,enableTouchCrosshair:!1,animate:!0,motionConfig:"gentle",defs:[],fill:[],role:"img",initialHiddenIds:[]});ue({},ro,{pixelRatio:typeof window<"u"&&window.devicePixelRatio||1});var Ru=function(e){var t=e.curve;return v.useMemo(function(){return ia().defined(function(n){return n.x!==null&&n.y!==null}).x(function(n){return n.x}).y(function(n){return n.y}).curve(ur(t))},[t])},Ou=function(e){var t=e.curve,n=e.yScale,i=e.areaBaselineValue;return v.useMemo(function(){return na().defined(function(r){return r.x!==null&&r.y!==null}).x(function(r){return r.x}).y1(function(r){return r.y}).curve(ur(t)).y0(n(i))},[t,n,i])},Fu=function(e){var t=e.componentId,n=e.enableSlices,i=e.points,r=e.width,o=e.height;return v.useMemo(function(){if(n===!1)return[];if(n==="x"){var s=new Map;return i.forEach(function(l){l.data.x!==null&&l.data.y!==null&&(s.has(l.x)?s.get(l.x).push(l):s.set(l.x,[l]))}),Array.from(s.entries()).sort(function(l,u){return l[0]-u[0]}).map(function(l,u,h){var c,d,f=l[0],g=l[1],m=h[u-1],y=h[u+1];return c=m?f-(f-m[0])/2:f,d=y?f-c+(y[0]-f)/2:r-c,{id:"slice:"+t+":"+f,x0:c,x:f,y0:0,y:0,width:d,height:o,points:g.reverse()}})}if(n==="y"){var a=new Map;return i.forEach(function(l){l.data.x!==null&&l.data.y!==null&&(a.has(l.y)?a.get(l.y).push(l):a.set(l.y,[l]))}),Array.from(a.entries()).sort(function(l,u){return l[0]-u[0]}).map(function(l,u,h){var c,d,f=l[0],g=l[1],m=h[u-1],y=h[u+1];return c=m?f-(f-m[0])/2:f,d=y?f-c+(y[0]-f)/2:o-c,{id:f,x0:0,x:0,y0:c,y:f,width:r,height:d,points:g.reverse()}})}},[t,n,o,i,r])},ju="line",oo=function(e){var t=e.data,n=e.xScale,i=n===void 0?Le.xScale:n,r=e.xFormat,o=e.yScale,s=o===void 0?Le.yScale:o,a=e.yFormat,l=e.width,u=e.height,h=e.colors,c=h===void 0?Le.colors:h,d=e.curve,f=d===void 0?Le.curve:d,g=e.areaBaselineValue,m=g===void 0?Le.areaBaselineValue:g,y=e.pointColor,p=y===void 0?Le.pointColor:y,b=e.pointBorderColor,_=b===void 0?Le.pointBorderColor:b,C=e.enableSlices,A=C===void 0?Le.enableSlicesTooltip:C,R=e.initialHiddenIds,F=R===void 0?Le.initialHiddenIds:R,E=v.useState(su(ju))[0],x=Nn(r),w=Nn(a),S=pa(c,"id"),$=pe(),P=gn(p,$),k=gn(_,$),M=v.useState(F??[]),I=M[0],B=M[1],z=v.useMemo(function(){return ta(t.filter(function(W){return I.indexOf(W.id)===-1}),i,s,l,u)},[t,I,i,s,l,u]),j=z.xScale,q=z.yScale,D=z.series,U=v.useMemo(function(){var W=t.map(function(L){return{id:L.id,label:L.id,color:S(L)}}),V=W.map(function(L){return ue({},D.find(function(G){return G.id===L.id}),{color:L.color})}).filter(function(L){return!!L.id});return{legendData:W.map(function(L){return ue({},L,{hidden:!V.find(function(G){return G.id===L.id})})}).reverse(),series:V}},[t,D,S]),ee=U.legendData,K=U.series,X=v.useCallback(function(W){B(function(V){return V.indexOf(W)>-1?V.filter(function(L){return L!==W}):[].concat(V,[W])})},[]),Y=function(W){var V=W.series,L=W.getPointColor,G=W.getPointBorderColor,J=W.formatX,ne=W.formatY;return v.useMemo(function(){return V.reduce(function(se,ce){return[].concat(se,ce.data.filter(function(re){return re.position.x!==null&&re.position.y!==null}).map(function(re,ye){var ve={id:ce.id+"."+ye,index:se.length+ye,serieId:ce.id,serieColor:ce.color,x:re.position.x,y:re.position.y};return ve.color=L(ce),ve.borderColor=G(ve),ve.data=ue({},re.data,{xFormatted:J(re.data.x),yFormatted:ne(re.data.y)}),ve}))},[])},[V,L,G,J,ne])}({series:K,getPointColor:P,getPointBorderColor:k,formatX:x,formatY:w}),Q=Fu({componentId:E,enableSlices:A,points:Y,width:l,height:u});return{legendData:ee,toggleSerie:X,lineGenerator:Ru({curve:f}),areaGenerator:Ou({curve:f,yScale:q,areaBaselineValue:m}),getColor:S,series:K,xScale:j,yScale:q,slices:Q,points:Y}},Wu=function(e){var t=e.areaBlendMode,n=e.areaOpacity,i=e.color,r=e.fill,o=e.path,s=Ut(),a=s.animate,l=s.config,u=ar(o),h=Mn({color:i,config:l,immediate:!a});return O(Ie.path,{d:u,fill:r||h.color,fillOpacity:n,strokeWidth:0,style:{mixBlendMode:t}})},Vu=v.memo(function(e){var t=e.areaGenerator,n=e.areaOpacity,i=e.areaBlendMode,r=e.lines.slice(0).reverse();return O("g",{children:r.map(function(o){return O(Wu,ue({path:t(o.data.map(function(s){return s.position}))},ue({areaOpacity:n,areaBlendMode:i},o)),o.id)})})}),Bu=v.memo(function(e){var t=e.lineGenerator,n=e.points,i=e.color,r=e.thickness,o=v.useMemo(function(){return t(n)},[t,n]),s=ar(o);return O(Ie.path,{d:s,fill:"none",strokeWidth:r,stroke:i})}),zu=v.memo(function(e){var t=e.lines,n=e.lineGenerator,i=e.lineWidth;return t.slice(0).reverse().map(function(r){var o=r.id,s=r.data,a=r.color;return O(Bu,{id:o,points:s.map(function(l){return l.position}),lineGenerator:n,color:a,thickness:i},o)})}),Lu=v.memo(function(e){var t=e.slice,n=e.slices,i=e.axis,r=e.debug,o=e.tooltip,s=e.isCurrent,a=e.setCurrent,l=e.onMouseEnter,u=e.onMouseMove,h=e.onMouseLeave,c=e.onClick,d=e.onTouchStart,f=e.onTouchMove,g=e.onTouchEnd,m=Pn(),y=m.showTooltipFromEvent,p=m.hideTooltip,b=v.useCallback(function(x){y(v.createElement(o,{slice:t,axis:i}),x,"right"),a(t),l&&l(t,x)},[y,o,t,i,a,l]),_=v.useCallback(function(x){y(v.createElement(o,{slice:t,axis:i}),x,"right"),u&&u(t,x)},[y,o,t,i,u]),C=v.useCallback(function(x){p(),a(null),h&&h(t,x)},[p,a,h,t]),A=v.useCallback(function(x){c&&c(t,x)},[t,c]),R=v.useCallback(function(x){y(v.createElement(o,{slice:t,axis:i}),x,"right"),a(t),d&&d(t,x)},[i,d,a,y,t,o]),F=v.useCallback(function(x){var w=x.touches[0],S=document.elementFromPoint(w.clientX,w.clientY),$=S==null?void 0:S.getAttribute("data-ref");if($){var P=n.find(function(k){return k.id===$});P&&(y(v.createElement(o,{slice:P,axis:i}),x,"right"),a(P))}f&&f(t,x)},[i,f,a,y,t,n,o]),E=v.useCallback(function(x){p(),a(null),g&&g(t,x)},[p,a,g,t]);return O("rect",{x:t.x0,y:t.y0,width:t.width,height:t.height,stroke:"red",strokeWidth:r?1:0,strokeOpacity:.75,fill:"red",fillOpacity:s&&r?.35:0,onMouseEnter:b,onMouseMove:_,onMouseLeave:C,onClick:A,onTouchStart:R,onTouchMove:F,onTouchEnd:E,"data-ref":t.id})}),qu=v.memo(function(e){var t=e.slices,n=e.axis,i=e.debug,r=e.height,o=e.tooltip,s=e.current,a=e.setCurrent,l=e.onMouseEnter,u=e.onMouseMove,h=e.onMouseLeave,c=e.onClick,d=e.onTouchStart,f=e.onTouchMove,g=e.onTouchEnd;return t.map(function(m){return O(Lu,{slice:m,slices:t,axis:n,debug:i,height:r,tooltip:o,setCurrent:a,isCurrent:s!==null&&s.id===m.id,onMouseEnter:l,onMouseMove:u,onMouseLeave:h,onClick:c,onTouchStart:d,onTouchMove:f,onTouchEnd:g},m.id)})}),Nu=v.memo(function(e){var t=e.points,n=e.symbol,i=e.size,r=e.borderWidth,o=e.enableLabel,s=e.label,a=e.labelYOffset,l=pe(),u=qs(s),h=t.slice(0).reverse().map(function(c){return{id:c.id,x:c.x,y:c.y,datum:c.data,fill:c.color,stroke:c.borderColor,label:o?u(c):null}});return O("g",{children:h.map(function(c){return O(Ns,{x:c.x,y:c.y,datum:c.datum,symbol:n,size:i,color:c.fill,borderWidth:r,borderColor:c.stroke,label:c.label,labelYOffset:a,theme:l},c.id)})})}),Hu=v.memo(function(e){var t=e.points,n=e.width,i=e.height,r=e.margin,o=e.setCurrent,s=e.onMouseEnter,a=e.onMouseMove,l=e.onMouseLeave,u=e.onClick,h=e.onTouchStart,c=e.onTouchMove,d=e.onTouchEnd,f=e.tooltip,g=e.debug,m=e.enableTouchCrosshair,y=Pn(),p=y.showTooltipAt,b=y.hideTooltip,_=v.useCallback(function(w,S){p(v.createElement(f,{point:w}),[w.x+r.left,w.y+r.top],"top"),s&&s(w,S)},[p,f,s,r]),C=v.useCallback(function(w,S){p(v.createElement(f,{point:w}),[w.x+r.left,w.y+r.top],"top"),a&&a(w,S)},[p,f,r.left,r.top,a]),A=v.useCallback(function(w,S){b(),l&&l(w,S)},[b,l]),R=v.useCallback(function(w,S){u&&u(w,S)},[u]),F=v.useCallback(function(w,S){p(v.createElement(f,{point:w}),[w.x+r.left,w.y+r.top],"top"),h&&h(w,S)},[r.left,r.top,h,p,f]),E=v.useCallback(function(w,S){p(v.createElement(f,{point:w}),[w.x+r.left,w.y+r.top],"top"),c&&c(w,S)},[r.left,r.top,c,p,f]),x=v.useCallback(function(w,S){b(),d&&d(w,S)},[d,b]);return O(Eu,{nodes:t,width:n,height:i,setCurrent:o,onMouseEnter:_,onMouseMove:C,onMouseLeave:A,onClick:R,onTouchStart:F,onTouchMove:E,onTouchEnd:x,enableTouchCrosshair:m,debug:g})}),Yu=sr(function(e){var t=e.data,n=e.xScale,i=n===void 0?{type:"point"}:n,r=e.xFormat,o=e.yScale,s=o===void 0?{type:"linear",min:0,max:"auto"}:o,a=e.yFormat,l=e.layers,u=l===void 0?["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"]:l,h=e.curve,c=h===void 0?"linear":h,d=e.areaBaselineValue,f=d===void 0?0:d,g=e.colors,m=g===void 0?{scheme:"nivo"}:g,y=e.margin,p=e.width,b=e.height,_=e.axisTop,C=e.axisRight,A=e.axisBottom,R=A===void 0?{}:A,F=e.axisLeft,E=F===void 0?{}:F,x=e.enableGridX,w=x===void 0||x,S=e.enableGridY,$=S===void 0||S,P=e.gridXValues,k=e.gridYValues,M=e.lineWidth,I=M===void 0?2:M,B=e.enableArea,z=B!==void 0&&B,j=e.areaOpacity,q=j===void 0?.2:j,D=e.areaBlendMode,U=D===void 0?"normal":D,ee=e.enablePoints,K=ee===void 0||ee,X=e.pointSymbol,Y=e.pointSize,Q=Y===void 0?6:Y,W=e.pointColor,V=W===void 0?{from:"color"}:W,L=e.pointBorderWidth,G=L===void 0?0:L,J=e.pointBorderColor,ne=J===void 0?{theme:"background"}:J,se=e.enablePointLabel,ce=se!==void 0&&se,re=e.pointLabel,ye=re===void 0?"data.yFormatted":re,ve=e.pointLabelYOffset,Ke=e.defs,fe=Ke===void 0?[]:Ke,Ae=e.fill,be=Ae===void 0?[]:Ae,He=e.markers,kt=e.legends,Je=kt===void 0?[]:kt,Me=e.isInteractive,me=Me===void 0||Me,xe=e.useMesh,Ze=xe!==void 0&&xe,Ye=e.debugMesh,Oe=Ye!==void 0&&Ye,St=e.onMouseEnter,Fe=e.onMouseMove,De=e.onMouseLeave,je=e.onClick,et=e.onTouchStart,ht=e.onTouchMove,Pe=e.onTouchEnd,tt=e.tooltip,ft=tt===void 0?yi:tt,Ge=e.enableSlices,Ue=Ge!==void 0&&Ge,Ct=e.debugSlices,en=Ct!==void 0&&Ct,nt=e.sliceTooltip,tn=nt===void 0?io:nt,Tt=e.enableCrosshair,mt=Tt===void 0||Tt,At=e.crosshairType,En=At===void 0?"bottom-left":At,nn=e.enableTouchCrosshair,H=nn!==void 0&&nn,Z=e.role,We=Z===void 0?"img":Z,it=e.initialHiddenIds,ie=it===void 0?[]:it,rt=lr(p,b,y),vi=rt.margin,Ve=rt.innerWidth,Ee=rt.innerHeight,so=rt.outerWidth,ao=rt.outerHeight,Be=oo({data:t,xScale:i,xFormat:r,yScale:s,yFormat:a,width:Ve,height:Ee,colors:m,curve:c,areaBaselineValue:f,pointColor:V,pointBorderColor:ne,enableSlices:Ue,initialHiddenIds:ie}),lo=Be.legendData,uo=Be.toggleSerie,bi=Be.lineGenerator,xi=Be.areaGenerator,rn=Be.series,on=Be.xScale,sn=Be.yScale,_i=Be.slices,$n=Be.points,gt=pe(),co=gn(V,gt),ho=gn(ne,gt),wi=v.useState(null),Mt=wi[0],ki=wi[1],Si=v.useState(null),Pt=Si[0],Ci=Si[1],ot={grid:O(Vl,{theme:gt,width:Ve,height:Ee,xScale:w?on:null,yScale:$?sn:null,xValues:P,yValues:k},"grid"),markers:O(Hs,{markers:He,width:Ve,height:Ee,xScale:on,yScale:sn,theme:gt},"markers"),axes:O(jl,{xScale:on,yScale:sn,width:Ve,height:Ee,theme:gt,top:_,right:C,bottom:R,left:E},"axes"),areas:null,lines:O(zu,{lines:rn,lineGenerator:bi,lineWidth:I},"lines"),slices:null,points:null,crosshair:null,mesh:null,legends:Je.map(function(st,In){return O(Xl,ue({},st,{containerWidth:Ve,containerHeight:Ee,data:st.data||lo,theme:gt,toggleSerie:st.toggleSerie?uo:void 0}),"legend."+In)})},fo=Ys(fe,rn,be);return z&&(ot.areas=O(Vu,{areaGenerator:xi,areaOpacity:q,areaBlendMode:U,lines:rn},"areas")),me&&Ue!==!1&&(ot.slices=O(qu,{slices:_i,axis:Ue,debug:en,height:Ee,tooltip:tn,current:Pt,setCurrent:Ci,onMouseEnter:St,onMouseMove:Fe,onMouseLeave:De,onClick:je,onTouchStart:et,onTouchMove:ht,onTouchEnd:Pe},"slices")),K&&(ot.points=O(Nu,{points:$n,symbol:X,size:Q,color:co,borderWidth:G,borderColor:ho,enableLabel:ce,label:ye,labelYOffset:ve},"points")),me&&mt&&(Mt!==null&&(ot.crosshair=O(ni,{width:Ve,height:Ee,x:Mt.x,y:Mt.y,type:En},"crosshair")),Pt!==null&&(ot.crosshair=O(ni,{width:Ve,height:Ee,x:Pt.x,y:Pt.y,type:Ue},"crosshair"))),me&&Ze&&Ue===!1&&(ot.mesh=O(Hu,{points:$n,width:Ve,height:Ee,margin:vi,current:Mt,setCurrent:ki,onMouseEnter:St,onMouseMove:Fe,onMouseLeave:De,onClick:je,onTouchStart:et,onTouchMove:ht,onTouchEnd:Pe,tooltip:ft,enableTouchCrosshair:H,debug:Oe},"mesh")),O(Ds,{defs:fo,width:so,height:ao,margin:vi,role:We,children:u.map(function(st,In){return typeof st=="function"?O(v.Fragment,{children:st(ue({},e,{innerWidth:Ve,innerHeight:Ee,series:rn,slices:_i,points:$n,xScale:on,yScale:sn,lineGenerator:bi,areaGenerator:xi,currentPoint:Mt,setCurrentPoint:ki,currentSlice:Pt,setCurrentSlice:Ci}))},In):ot[st]})})}),Du=function(e){return O(or,{children:function(t){var n=t.width,i=t.height;return O(Yu,ue({width:n,height:i},e))}})},Gu=sr(function(e){var t=v.useRef(null),n=e.width,i=e.height,r=e.margin,o=e.pixelRatio,s=o===void 0?typeof window<"u"&&window.devicePixelRatio||1:o,a=e.data,l=e.xScale,u=l===void 0?{type:"point"}:l,h=e.xFormat,c=e.yScale,d=c===void 0?{type:"linear",min:0,max:"auto"}:c,f=e.yFormat,g=e.curve,m=g===void 0?"linear":g,y=e.layers,p=y===void 0?["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"]:y,b=e.colors,_=b===void 0?{scheme:"nivo"}:b,C=e.lineWidth,A=C===void 0?2:C,R=e.enableArea,F=R!==void 0&&R,E=e.areaBaselineValue,x=E===void 0?0:E,w=e.areaOpacity,S=w===void 0?.2:w,$=e.enablePoints,P=$===void 0||$,k=e.pointSize,M=k===void 0?6:k,I=e.pointColor,B=I===void 0?{from:"color"}:I,z=e.pointBorderWidth,j=z===void 0?0:z,q=e.pointBorderColor,D=q===void 0?{theme:"background"}:q,U=e.enableGridX,ee=U===void 0||U,K=e.gridXValues,X=e.enableGridY,Y=X===void 0||X,Q=e.gridYValues,W=e.axisTop,V=e.axisRight,L=e.axisBottom,G=L===void 0?{}:L,J=e.axisLeft,ne=J===void 0?{}:J,se=e.legends,ce=se===void 0?[]:se,re=e.isInteractive,ye=re===void 0||re,ve=e.debugMesh,Ke=ve!==void 0&&ve,fe=e.onMouseLeave,Ae=e.onClick,be=e.tooltip,He=be===void 0?yi:be,kt=e.canvasRef,Je=lr(n,i,r),Me=Je.margin,me=Je.innerWidth,xe=Je.innerHeight,Ze=Je.outerWidth,Ye=Je.outerHeight,Oe=pe(),St=v.useState(null),Fe=St[0],De=St[1],je=oo({data:a,xScale:u,xFormat:h,yScale:d,yFormat:f,width:me,height:xe,colors:_,curve:m,areaBaselineValue:x,pointColor:B,pointBorderColor:D}),et=je.lineGenerator,ht=je.areaGenerator,Pe=je.series,tt=je.xScale,ft=je.yScale,Ge=je.points,Ue=no({points:Ge,width:me,height:xe,debug:Ke}),Ct=Ue.delaunay,en=Ue.voronoi;v.useEffect(function(){kt&&(kt.current=t.current),t.current.width=Ze*s,t.current.height=Ye*s;var H=t.current.getContext("2d");H.scale(s,s),H.fillStyle=Oe.background,H.fillRect(0,0,Ze,Ye),H.translate(Me.left,Me.top),p.forEach(function(Z){if(typeof Z=="function"&&Z({ctx:H,innerWidth:me,innerHeight:xe,series:Pe,points:Ge,xScale:tt,yScale:ft,lineWidth:A,lineGenerator:et,areaGenerator:ht,currentPoint:Fe,setCurrentPoint:De}),Z==="grid"&&Oe.grid.line.strokeWidth>0&&(H.lineWidth=Oe.grid.line.strokeWidth,H.strokeStyle=Oe.grid.line.stroke,ee&&Xi(H,{width:me,height:xe,scale:tt,axis:"x",values:K}),Y&&Xi(H,{width:me,height:xe,scale:ft,axis:"y",values:Q})),Z==="axes"&&zl(H,{xScale:tt,yScale:ft,width:me,height:xe,top:W,right:V,bottom:G,left:ne,theme:Oe}),Z==="areas"&&F===!0){H.save(),H.globalAlpha=S,ht.context(H);for(var We=Pe.length-1;We>=0;We--)H.fillStyle=Pe[We].color,H.beginPath(),ht(Pe[We].data.map(function(ie){return ie.position})),H.fill();H.restore()}if(Z==="lines"&&(et.context(H),Pe.forEach(function(ie){H.strokeStyle=ie.color,H.lineWidth=A,H.beginPath(),et(ie.data.map(function(rt){return rt.position})),H.stroke()})),Z==="points"&&P===!0&&M>0&&Ge.forEach(function(ie){H.fillStyle=ie.color,H.beginPath(),H.arc(ie.x,ie.y,M/2,0,2*Math.PI),H.fill(),j>0&&(H.strokeStyle=ie.borderColor,H.lineWidth=j,H.stroke())}),Z==="mesh"&&Ke===!0&&($u(H,en),Fe&&Iu(H,en,Fe.index)),Z==="legends"){var it=Pe.map(function(ie){return{id:ie.id,label:ie.id,color:ie.color}}).reverse();ce.forEach(function(ie){Kl(H,ue({},ie,{data:ie.data||it,containerWidth:me,containerHeight:xe,theme:Oe}))})}})},[t,Ze,Ye,p,Oe,et,Pe,tt,ft,ee,K,Y,Q,W,V,G,ne,ce,Ge,P,M,Fe]);var nt=v.useCallback(function(H){var Z=rr(t.current,H),We=Z[0],it=Z[1];if(!Gs(Me.left,Me.top,me,xe,We,it))return null;var ie=Ct.find(We-Me.left,it-Me.top);return Ge[ie]},[t,Me,me,xe,Ct]),tn=Pn(),Tt=tn.showTooltipFromEvent,mt=tn.hideTooltip,At=v.useCallback(function(H){var Z=nt(H);De(Z),Z?Tt(v.createElement(He,{point:Z}),H):mt()},[nt,De,Tt,mt,He]),En=v.useCallback(function(H){mt(),De(null),Fe&&fe&&fe(Fe,H)},[mt,De,fe]),nn=v.useCallback(function(H){if(Ae){var Z=nt(H);Z&&Ae(Z,H)}},[nt,Ae]);return O("canvas",{ref:t,width:Ze*s,height:Ye*s,style:{width:Ze,height:Ye,cursor:ye?"auto":"normal"},onMouseEnter:ye?At:void 0,onMouseMove:ye?At:void 0,onMouseLeave:ye?En:void 0,onClick:ye?nn:void 0})}),Uu=v.forwardRef(function(e,t){return O(Gu,ue({},e,{canvasRef:t}))});v.forwardRef(function(e,t){return O(or,{children:function(n){var i=n.width,r=n.height;return O(Uu,ue({width:i,height:r},e,{ref:t}))}})});const Xu=({isCustomLineColors:e=!1,isDashboard:t=!1})=>{const n=Zs(),i=ea(n.palette.mode);return O(Du,{data:Us,theme:{axis:{domain:{line:{stroke:i.grey[100]}},legend:{text:{fill:i.grey[100]}},ticks:{line:{stroke:i.grey[100],strokeWidth:1},text:{fill:i.grey[100]}}},legends:{text:{fill:i.grey[100]}},tooltip:{container:{color:i.primary[500]}}},colors:t?{datum:"color"}:{scheme:"nivo"},margin:{top:50,right:110,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",min:"auto",max:"auto",stacked:!0,reverse:!1},yFormat:" >-.2f",curve:"catmullRom",axisTop:null,axisRight:null,axisBottom:{orient:"bottom",tickSize:0,tickPadding:5,tickRotation:0,legend:t?void 0:"transportation",legendOffset:36,legendPosition:"middle"},axisLeft:{orient:"left",tickValues:5,tickSize:3,tickPadding:5,tickRotation:0,legend:t?void 0:"count",legendOffset:-40,legendPosition:"middle"},enableGridX:!1,enableGridY:!1,pointSize:8,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabelYOffset:-12,useMesh:!0,legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]})},sc=()=>ge(Ai,{m:"20px",children:[O(mo,{title:"Line Chart",subtitle:"Simple Line Chart"}),O(Ai,{height:"75vh",children:O(Xu,{})})]});export{sc as default};
